var iD=Object.defineProperty,sD=Object.defineProperties,oD=Object.getOwnPropertyDescriptors,ob=Object.getOwnPropertySymbols,aD=Object.prototype.hasOwnProperty,lD=Object.prototype.propertyIsEnumerable,ab=(tn,Oe,U)=>Oe in tn?iD(tn,Oe,{enumerable:!0,configurable:!0,writable:!0,value:U}):tn[Oe]=U,lb=(tn,Oe)=>{for(var U in Oe||(Oe={}))aD.call(Oe,U)&&ab(tn,U,Oe[U]);if(ob)for(var U of ob(Oe))lD.call(Oe,U)&&ab(tn,U,Oe[U]);return tn},cb=(tn,Oe)=>sD(tn,oD(Oe));(self.webpackChunkTP_Final_Clinica=self.webpackChunkTP_Final_Clinica||[]).push([[179],{7128:(tn,Oe,U)=>{"use strict";U.d(Oe,{nm:()=>Yn});var a=U(5813),be=(U(5e3),U(3692),U(5867),U(5861)),ke=U(9681),Me=U(4859),ue=U(2090),$e=U(1877);const ce=new Map,pe={activated:!1,tokenObservers:[]},Re={initialized:!1,enabled:!1};function Ze(ze){return ce.get(ze)||pe}function Qe(ze,Ve){ce.set(ze,Ve)}function mt(){return Re}class ut{constructor(Ve,Ke,At,Ht,on){if(this.operation=Ve,this.retryPolicy=Ke,this.getWaitDuration=At,this.lowerBound=Ht,this.upperBound=on,this.pending=null,this.nextErrorWaitInterval=Ht,Ht>on)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ve){var Ke=this;return(0,be.Z)(function*(){Ke.stop();try{Ke.pending=new ue.BH,yield function lt(ze){return new Promise(Ve=>{setTimeout(Ve,ze)})}(Ke.getNextRun(Ve)),Ke.pending.resolve(),yield Ke.pending.promise,Ke.pending=new ue.BH,yield Ke.operation(),Ke.pending.resolve(),yield Ke.pending.promise,Ke.process(!0).catch(()=>{})}catch(At){Ke.retryPolicy(At)?Ke.process(!1).catch(()=>{}):Ke.stop()}})()}getNextRun(Ve){if(Ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ke}}}const We=new ue.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ht(ze){if(!Ze(ze).activated)throw We.create("use-before-activation",{appName:ze.name})}function je(ze,Ve){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,be.Z)(function*({url:ze,body:Ve},Ke){var At,Ht;const on={"Content-Type":"application/json"},Xn=Ke.getImmediate({optional:!0});if(Xn){const Ti=yield Xn.getHeartbeatsHeader();Ti&&(on["X-Firebase-Client"]=Ti)}const Ur={method:"POST",body:JSON.stringify(Ve),headers:on};let yr,fr;try{yr=yield fetch(ze,Ur)}catch(Ti){throw We.create("fetch-network-error",{originalErrorMessage:null===(At=Ti)||void 0===At?void 0:At.message})}if(200!==yr.status)throw We.create("fetch-status-error",{httpStatus:yr.status});try{fr=yield yr.json()}catch(Ti){throw We.create("fetch-parse-error",{originalErrorMessage:null===(Ht=Ti)||void 0===Ht?void 0:Ht.message})}const fi=fr.ttl.match(/^([\d.]+)(s)$/);if(!fi||!fi[2]||isNaN(Number(fi[1])))throw We.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${fr.ttl}`});const us=1e3*Number(fi[1]),Hi=Date.now();return{token:fr.token,expireTimeMillis:Hi+us,issuedAtTimeMillis:Hi}})).apply(this,arguments)}function Vt(ze,Ve){const{projectId:Ke,appId:At,apiKey:Ht}=ze.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ke}/apps/${At}:exchangeDebugToken?key=${Ht}`,body:{debug_token:Ve}}}const Ot="firebase-app-check-store";let an=null;function St(){return an||(an=new Promise((ze,Ve)=>{var Ke;try{const At=indexedDB.open("firebase-app-check-database",1);At.onsuccess=Ht=>{ze(Ht.target.result)},At.onerror=Ht=>{var on;Ve(We.create("storage-open",{originalErrorMessage:null===(on=Ht.target.error)||void 0===on?void 0:on.message}))},At.onupgradeneeded=Ht=>{0===Ht.oldVersion&&Ht.target.result.createObjectStore(Ot,{keyPath:"compositeKey"})}}catch(At){Ve(We.create("storage-open",{originalErrorMessage:null===(Ke=At)||void 0===Ke?void 0:Ke.message}))}}),an)}function dr(){return(dr=(0,be.Z)(function*(ze,Ve){const At=(yield St()).transaction(Ot,"readwrite"),on=At.objectStore(Ot).put({compositeKey:ze,value:Ve});return new Promise((Xn,Ur)=>{on.onsuccess=yr=>{Xn()},At.onerror=yr=>{var fr;Ur(We.create("storage-set",{originalErrorMessage:null===(fr=yr.target.error)||void 0===fr?void 0:fr.message}))}})})).apply(this,arguments)}const Qn=new $e.Yd("@firebase/app-check");function Kt(ze,Ve){return(0,ue.hl)()?function ct(ze,Ve){return function Jn(ze,Ve){return dr.apply(this,arguments)}(function Dn(ze){return`${ze.options.appId}-${ze.name}`}(ze),Ve)}(ze,Ve).catch(Ke=>{Qn.warn(`Failed to write token to IndexedDB. Error: ${Ke}`)}):Promise.resolve()}function Bt(){return mt().enabled}function Vn(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,be.Z)(function*(){const ze=mt();if(ze.enabled&&ze.token)return ze.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rr={error:"UNKNOWN_ERROR"};function ur(ze){return ue.US.encodeString(JSON.stringify(ze),!1)}function Ir(ze){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,be.Z)(function*(ze,Ve=!1){const Ke=ze.app;ht(Ke);const At=Ze(Ke);let on,Ht=At.token;if(Ht&&!xr(Ht)&&(Qe(Ke,Object.assign(Object.assign({},At),{token:void 0})),Ht=void 0),!Ht){const yr=yield At.cachedTokenPromise;yr&&(xr(yr)?Ht=yr:yield Kt(Ke,void 0))}if(!Ve&&Ht&&xr(Ht))return{token:Ht.token};let Ur,Xn=!1;if(Bt()){At.exchangeTokenPromise||(At.exchangeTokenPromise=je(Vt(Ke,yield Vn()),ze.heartbeatServiceProvider).finally(()=>{At.exchangeTokenPromise=void 0}),Xn=!0);const yr=yield At.exchangeTokenPromise;return yield Kt(Ke,yr),Qe(Ke,Object.assign(Object.assign({},At),{token:yr})),{token:yr.token}}try{At.exchangeTokenPromise||(At.exchangeTokenPromise=At.provider.getToken().finally(()=>{At.exchangeTokenPromise=void 0}),Xn=!0),Ht=yield At.exchangeTokenPromise}catch(yr){"appCheck/throttled"===yr.code?Qn.warn(yr.message):Qn.error(yr),on=yr}return Ht?on?Ur=xr(Ht)?{token:Ht.token,internalError:on}:hr(on):(Ur={token:Ht.token},Qe(Ke,Object.assign(Object.assign({},At),{token:Ht})),yield Kt(Ke,Ht)):Ur=hr(on),Xn&&gr(Ke,Ur),Ur})).apply(this,arguments)}function ln(ze,Ve){const Ke=Ze(ze),At=Ke.tokenObservers.filter(Ht=>Ht.next!==Ve);0===At.length&&Ke.tokenRefresher&&Ke.tokenRefresher.isRunning()&&Ke.tokenRefresher.stop(),Qe(ze,Object.assign(Object.assign({},Ke),{tokenObservers:At}))}function ni(ze){const{app:Ve}=ze,Ke=Ze(Ve);let At=Ke.tokenRefresher;At||(At=function Pr(ze){const{app:Ve}=ze;return new ut((0,be.Z)(function*(){let At;if(At=Ze(Ve).token?yield Ir(ze,!0):yield Ir(ze),At.error)throw At.error;if(At.internalError)throw At.internalError}),()=>!0,()=>{const Ke=Ze(Ve);if(Ke.token){let At=Ke.token.issuedAtTimeMillis+.5*(Ke.token.expireTimeMillis-Ke.token.issuedAtTimeMillis)+3e5;return At=Math.min(At,Ke.token.expireTimeMillis-3e5),Math.max(0,At-Date.now())}return 0},3e4,96e4)}(ze),Qe(Ve,Object.assign(Object.assign({},Ke),{tokenRefresher:At}))),!At.isRunning()&&Ke.isTokenAutoRefreshEnabled&&At.start()}function gr(ze,Ve){const Ke=Ze(ze).tokenObservers;for(const At of Ke)try{"EXTERNAL"===At.type&&null!=Ve.error?At.error(Ve.error):At.next(Ve)}catch(Ht){}}function xr(ze){return ze.expireTimeMillis-Date.now()>0}function hr(ze){return{token:ur(rr),error:ze}}class Fr{constructor(Ve,Ke){this.app=Ve,this.heartbeatServiceProvider=Ke}_delete(){const{tokenObservers:Ve}=Ze(this.app);for(const Ke of Ve)ln(this.app,Ke.next);return Promise.resolve()}}const qn="app-check-internal";!function mr(){(0,ke._registerComponent)(new Me.wA("app-check",ze=>function Fn(ze,Ve){return new Fr(ze,Ve)}(ze.getProvider("app").getImmediate(),ze.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ze,Ve,Ke)=>{ze.getProvider(qn).initialize()})),(0,ke._registerComponent)(new Me.wA(qn,ze=>function Or(ze){return{getToken:Ve=>Ir(ze,Ve),addTokenListener:Ve=>function Ft(ze,Ve,Ke,At){const{app:Ht}=ze,on=Ze(Ht),Xn={next:Ke,error:At,type:Ve};if(Qe(Ht,Object.assign(Object.assign({},on),{tokenObservers:[...on.tokenObservers,Xn]})),on.token&&xr(on.token)){const Ur=on.token;Promise.resolve().then(()=>{Ke({token:Ur.token}),ni(ze)}).catch(()=>{})}on.cachedTokenPromise.then(()=>ni(ze))}(ze,"INTERNAL",Ve),removeTokenListener:Ve=>ln(ze.app,Ve)}}(ze.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ke.registerVersion)("@firebase/app-check","0.5.15")}();class Yn{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(tn,Oe,U)=>{"use strict";U.d(Oe,{Ot:()=>Ie,ZF:()=>nt,hX:()=>Ze,z6:()=>be});var a=U(5867),b=U(5e3),K=U(5813);class Ie{constructor(ut){return ut}}class be{constructor(){return(0,a.C6)()}}const ue=new b.OlP("angularfire2._apps"),$e={provide:Ie,useFactory:function Me(Je){return Je&&1===Je.length?Je[0]:new Ie((0,a.Mq)())},deps:[[new b.FiY,ue]]},ce={provide:be,deps:[[new b.FiY,ue]]};function pe(Je){return(ut,lt)=>{const Pt=ut.runOutsideAngular(()=>Je(lt));return new Ie(Pt)}}let Re=(()=>{class Je{constructor(lt){(0,a.KN)("angularfire",K.q4.full,"core"),(0,a.KN)("angularfire",K.q4.full,"app"),(0,a.KN)("angular",b.q4F.full,lt.toString())}}return Je.\u0275fac=function(lt){return new(lt||Je)(b.LFG(b.Lbi))},Je.\u0275mod=b.oAB({type:Je}),Je.\u0275inj=b.cJS({providers:[$e,ce]}),Je})();function Ze(Je,...ut){return{ngModule:Re,providers:[{provide:ue,useFactory:pe(Je),multi:!0,deps:[b.R0b,b.zs3,K.HU,...ut]}]}}const nt=(0,K.u3)(a.ZF,!0)},7667:(tn,Oe,U)=>{"use strict";U.d(Oe,{dh:()=>Ze,v0:()=>Vt,AR:()=>Je});var a=U(5813),b=U(5e3),K=U(3692),Ie=U(5867),be=U(7128),ke=U(7573);U(2090),U(9681),U(1877),U(4859);class Re{constructor(Dt){return Dt}}class Ze{constructor(){return(0,a.vb)("auth")}}const mt=new b.OlP("angularfire2.auth-instances");function nt($t){return(Dt,Xt)=>{const cn=Dt.runOutsideAngular(()=>$t(Xt));return new Re(cn)}}const rt={provide:Ze,deps:[[new b.FiY,mt]]},pt={provide:Re,useFactory:function Et($t,Dt){const Xt=(0,a.JM)("auth",$t,Dt);return Xt&&new Re(Xt)},deps:[[new b.FiY,mt],K.Ot]};let xt=(()=>{class $t{constructor(){(0,Ie.KN)("angularfire",a.q4.full,"auth")}}return $t.\u0275fac=function(Xt){return new(Xt||$t)},$t.\u0275mod=b.oAB({type:$t}),$t.\u0275inj=b.cJS({providers:[pt,rt]}),$t})();function Je($t,...Dt){return{ngModule:xt,providers:[{provide:mt,useFactory:nt($t),multi:!0,deps:[b.R0b,b.zs3,a.HU,K.z6,[new b.FiY,be.nm],...Dt]}]}}const Vt=(0,a.u3)(ke.n,!0)},1205:(tn,Oe,U)=>{"use strict";U.d(Oe,{zQ:()=>et,rT:()=>Ne,f7:()=>je,L6:()=>st,_Q:()=>ht,lh:()=>qe,Qv:()=>We,nw:()=>Xe});var a=U(5e3),b=U(7579),K=U(9646),Ie=U(8306),be=U(8996),ke=U(6451),Me=U(6063);class ue extends b.x{constructor(pn=1/0,sn=1/0,Ot=Me.l){super(),this._bufferSize=pn,this._windowTime=sn,this._timestampProvider=Ot,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=sn===1/0,this._bufferSize=Math.max(1,pn),this._windowTime=Math.max(1,sn)}next(pn){const{isStopped:sn,_buffer:Ot,_infiniteTimeWindow:gn,_timestampProvider:an,_windowTime:St}=this;sn||(Ot.push(pn),!gn&&Ot.push(an.now()+St)),this._trimBuffer(),super.next(pn)}_subscribe(pn){this._throwIfClosed(),this._trimBuffer();const sn=this._innerSubscribe(pn),{_infiniteTimeWindow:Ot,_buffer:gn}=this,an=gn.slice();for(let St=0;St<an.length&&!pn.closed;St+=Ot?1:2)pn.next(an[St]);return this._checkFinalizedStatuses(pn),sn}_trimBuffer(){const{_bufferSize:pn,_timestampProvider:sn,_buffer:Ot,_infiniteTimeWindow:gn}=this,an=(gn?1:2)*pn;if(pn<1/0&&an<Ot.length&&Ot.splice(0,Ot.length-an),!gn){const St=sn.now();let nn=0;for(let ct=1;ct<Ot.length&&Ot[ct]<=St;ct+=2)nn=ct;nn&&Ot.splice(0,nn+1)}}}var $e=U(3099);function ce(Vt,pn,sn){let Ot,gn=!1;return Vt&&"object"==typeof Vt?({bufferSize:Ot=1/0,windowTime:pn=1/0,refCount:gn=!1,scheduler:sn}=Vt):Ot=null!=Vt?Vt:1/0,(0,$e.B)({connector:()=>new ue(Ot,pn,sn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:gn})}var pe=U(3900),Re=U(576);function Ze(Vt,pn){return(0,Re.m)(pn)?(0,pe.w)(()=>Vt,pn):(0,pe.w)(()=>Vt)}var Qe=U(5363),mt=U(4004),Et=U(590),nt=U(9468),rt=U(9300),pt=U(5813),xt=U(2011),Je=U(9808),ut=U(7128);U(127);const We=new a.OlP("angularfire2.auth.use-emulator"),st=new a.OlP("angularfire2.auth.settings"),ht=new a.OlP("angularfire2.auth.tenant-id"),Ne=new a.OlP("angularfire2.auth.langugage-code"),qe=new a.OlP("angularfire2.auth.use-device-language"),je=new a.OlP("angularfire.auth.persistence"),Xe=(Vt,pn,sn,Ot,gn,an,St,nn)=>(0,xt.cc)(`${Vt.name}.auth`,"AngularFireAuth",Vt.name,()=>{const ct=pn.runOutsideAngular(()=>Vt.auth());if(sn&&ct.useEmulator(...sn),Ot&&(ct.tenantId=Ot),ct.languageCode=gn,an&&ct.useDeviceLanguage(),St)for(const[wt,mn]of Object.entries(St))ct.settings[wt]=mn;return nn&&ct.setPersistence(nn),ct},[sn,Ot,gn,an,St,nn]);let et=(()=>{class Vt{constructor(sn,Ot,gn,an,St,nn,ct,wt,mn,Jn,dr,or){const Cr=new b.x,Dn=(0,K.of)(void 0).pipe((0,Qe.Q)(St.outsideAngular),(0,pe.w)(()=>an.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,5881)))),(0,mt.U)(()=>(0,xt.on)(sn,an,Ot)),(0,mt.U)(Qn=>Xe(Qn,an,nn,wt,mn,Jn,ct,dr)),ce({bufferSize:1,refCount:!1}));if((0,Je.PM)(gn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{Dn.pipe((0,Et.P)()).subscribe();const nr=Dn.pipe((0,pe.w)(Cn=>Cn.getRedirectResult().then(Nn=>Nn,()=>null)),pt.iC,ce({bufferSize:1,refCount:!1})),Er=Dn.pipe((0,pe.w)(Cn=>new Ie.y(Nn=>({unsubscribe:an.runOutsideAngular(()=>Cn.onAuthStateChanged(Bt=>Nn.next(Bt),Bt=>Nn.error(Bt),()=>Nn.complete()))})))),Kt=Dn.pipe((0,pe.w)(Cn=>new Ie.y(Nn=>({unsubscribe:an.runOutsideAngular(()=>Cn.onIdTokenChanged(Bt=>Nn.next(Bt),Bt=>Nn.error(Bt),()=>Nn.complete()))}))));this.authState=nr.pipe(Ze(Er),(0,nt.R)(St.outsideAngular),(0,Qe.Q)(St.insideAngular)),this.user=nr.pipe(Ze(Kt),(0,nt.R)(St.outsideAngular),(0,Qe.Q)(St.insideAngular)),this.idToken=this.user.pipe((0,pe.w)(Cn=>Cn?(0,be.D)(Cn.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,pe.w)(Cn=>Cn?(0,be.D)(Cn.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,ke.T)(nr,Cr,this.authState.pipe((0,rt.h)(Cn=>!Cn))).pipe((0,mt.U)(Cn=>(null==Cn?void 0:Cn.user)?Cn:null),(0,nt.R)(St.outsideAngular),(0,Qe.Q)(St.insideAngular))}return(0,xt.pX)(this,Dn,an,{spy:{apply:(Qn,nr,Er)=>{(Qn.startsWith("signIn")||Qn.startsWith("createUser"))&&Er.then(Kt=>Cr.next(Kt))}}})}}return Vt.\u0275fac=function(sn){return new(sn||Vt)(a.LFG(xt.Dh),a.LFG(xt.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(pt.HU),a.LFG(We,8),a.LFG(st,8),a.LFG(ht,8),a.LFG(Ne,8),a.LFG(qe,8),a.LFG(je,8),a.LFG(ut.nm,8))},Vt.\u0275prov=a.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"any"}),Vt})()},2011:(tn,Oe,U)=>{"use strict";U.d(Oe,{Dh:()=>ue,GT:()=>ke,cc:()=>Qe,hO:()=>Ze,on:()=>ce,pX:()=>be,xv:()=>$e});var a=U(5e3),b=U(127),K=U(5813);tn=U.hmd(tn);const Ie=["ngOnDestroy"],be=(rt,pt,xt,Je={})=>new Proxy(rt,{get:(ut,lt)=>xt.runOutsideAngular(()=>{var Pt;if(rt[lt])return(null===(Pt=null==Je?void 0:Je.spy)||void 0===Pt?void 0:Pt.get)&&Je.spy.get(lt,rt[lt]),rt[lt];if(Ie.indexOf(lt)>-1)return()=>{};const We=pt.toPromise().then(st=>{const ht=st&&st[lt];return"function"==typeof ht?ht.bind(st):ht&&ht.then?ht.then(Ne=>xt.run(()=>Ne)):xt.run(()=>ht)});return new Proxy(()=>{},{get:(st,ht)=>We[ht],apply:(st,ht,Ne)=>We.then(qe=>{var je;const Xe=qe&&qe(...Ne);return(null===(je=null==Je?void 0:Je.spy)||void 0===je?void 0:je.apply)&&Je.spy.apply(lt,Ne,Xe),Xe})})})}),ke=(rt,pt)=>{pt.forEach(xt=>{Object.getOwnPropertyNames(xt.prototype||xt).forEach(Je=>{Object.defineProperty(rt.prototype,Je,Object.getOwnPropertyDescriptor(xt.prototype||xt,Je))})})};class Me{constructor(pt){return pt}}const ue=new a.OlP("angularfire2.app.options"),$e=new a.OlP("angularfire2.app.name");function ce(rt,pt,xt){const ut="object"==typeof xt&&xt||{};ut.name=ut.name||"string"==typeof xt&&xt||"[DEFAULT]";const Pt=b.Z.apps.filter(We=>We&&We.name===ut.name)[0]||pt.runOutsideAngular(()=>b.Z.initializeApp(rt,ut));try{JSON.stringify(rt)!==JSON.stringify(Pt.options)&&pe("error",`${Pt.name} Firebase App already initialized with different options${tn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return new Me(Pt)}const pe=(rt,...pt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[rt](...pt)},Re={provide:Me,useFactory:ce,deps:[ue,a.R0b,[new a.FiY,$e]]};let Ze=(()=>{class rt{constructor(xt){b.Z.registerVersion("angularfire",K.q4.full,"core"),b.Z.registerVersion("angularfire",K.q4.full,"app-compat"),b.Z.registerVersion("angular",a.q4F.full,xt.toString())}static initializeApp(xt,Je){return{ngModule:rt,providers:[{provide:ue,useValue:xt},{provide:$e,useValue:Je}]}}}return rt.\u0275fac=function(xt){return new(xt||rt)(a.LFG(a.Lbi))},rt.\u0275mod=a.oAB({type:rt}),rt.\u0275inj=a.cJS({providers:[Re]}),rt})();function Qe(rt,pt,xt,Je,ut){const[,lt,Pt]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===rt)||[];if(lt)return function mt(rt,pt){try{return rt.toString()===pt.toString()}catch(xt){return rt===pt}}(ut,Pt)||(nt("error",`${pt} was already initialized on the ${xt} Firebase App with different settings.${Et?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:ut,was:Pt})),lt;{const We=Je();return globalThis.\u0275AngularfireInstanceCache.push([rt,We,ut]),We}}const Et=!!tn.hot,nt=(rt,...pt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[rt](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6027:(tn,Oe,U)=>{"use strict";U.d(Oe,{gg:()=>Ne,ET:()=>Cr,hJ:()=>Er,BS:()=>wt,JU:()=>Ar,ad:()=>Fr,Cm:()=>gn});var a=U(5813),b=U(5e3),K=U(7667),Ie=U(3692),be=U(5867),ke=U(7128),Me=U(5525),ue=U(8306),$e=U(4004),ce={includeMetadataChanges:!1};function ht(Mt,Wt){return void 0===Wt&&(Wt={}),function Pt(Mt){return function pe(Mt,Wt){return void 0===Wt&&(Wt=ce),new ue.y(function(wn){return{unsubscribe:(0,Me.cf)(Mt,Wt,{next:wn.next.bind(wn),error:wn.error.bind(wn),complete:wn.complete.bind(wn)})}})}(Mt,{includeMetadataChanges:!0}).pipe((0,$e.U)(function(Wt){return Wt.docs}))}(Mt).pipe((0,$e.U)(function(wn){return wn.map(function(qn){return function Qe(Mt,Wt){void 0===Wt&&(Wt={});var wn=Mt.data();return!Mt.exists()||"object"!=typeof wn||null===wn||Wt.idField&&(wn[Wt.idField]=Mt.id),wn}(qn,Wt)})}))}class Ne{constructor(Wt){return Wt}}const qe="firestore",et=new b.OlP("angularfire2.firestore-instances");function Vt(Mt){return(Wt,wn)=>{const qn=Wt.runOutsideAngular(()=>Mt(wn));return new Ne(qn)}}const pn={provide:class je{constructor(){return(0,a.vb)(qe)}},deps:[[new b.FiY,et]]},sn={provide:Ne,useFactory:function Nt(Mt,Wt){const wn=(0,a.JM)(qe,Mt,Wt);return wn&&new Ne(wn)},deps:[[new b.FiY,et],Ie.Ot]};let Ot=(()=>{class Mt{constructor(){(0,be.KN)("angularfire",a.q4.full,"fst")}}return Mt.\u0275fac=function(wn){return new(wn||Mt)},Mt.\u0275mod=b.oAB({type:Mt}),Mt.\u0275inj=b.cJS({providers:[sn,pn]}),Mt})();function gn(Mt,...Wt){return{ngModule:Ot,providers:[{provide:et,useFactory:Vt(Mt),multi:!0,deps:[b.R0b,b.zs3,a.HU,Ie.z6,[new b.FiY,K.dh],[new b.FiY,ke.nm],...Wt]}]}}const wt=(0,a.u3)(ht,!0),Cr=(0,a.u3)(Me.ET,!0),Er=(0,a.u3)(Me.hJ,!0),Ar=(0,a.u3)(Me.JU,!0),Fr=(0,a.u3)(Me.ad,!0)},5813:(tn,Oe,U)=>{"use strict";U.d(Oe,{q4:()=>wc,iC:()=>Ls,fc:()=>Cc,HU:()=>sa,vb:()=>Ia,JM:()=>Dc,u3:()=>Ec});var a=U(5e3),b=U(5867),K=U(5861),Ie=U(9681),be=U(2090),ke=U(4859),Me=U(1877),ue=U(8766);const $e="@firebase/installations",ce="0.5.15",Re=`w:${ce}`,Ze="FIS_v2",pt=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(L){return L instanceof be.ZR&&L.code.includes("request-failed")}function Je({projectId:L}){return`https://firebaseinstallations.googleapis.com/v1/projects/${L}/installations`}function ut(L){return{token:L.token,requestStatus:2,expiresIn:qe(L.expiresIn),creationTime:Date.now()}}function lt(L,$){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,K.Z)(function*(L,$){const Ee=(yield $.json()).error;return pt.create("request-failed",{requestName:L,serverCode:Ee.code,serverMessage:Ee.message,serverStatus:Ee.status})})).apply(this,arguments)}function We({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function st(L,{refreshToken:$}){const ie=We(L);return ie.append("Authorization",function je(L){return`${Ze} ${L}`}($)),ie}function ht(L){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,K.Z)(function*(L){const $=yield L();return $.status>=500&&$.status<600?L():$})).apply(this,arguments)}function qe(L){return Number(L.replace("s","000"))}function Xe(L,$){return et.apply(this,arguments)}function et(){return(et=(0,K.Z)(function*({appConfig:L,heartbeatServiceProvider:$},{fid:ie}){const Ee=Je(L),Ye=We(L),yt=$.getImmediate({optional:!0});if(yt){const jn=yield yt.getHeartbeatsHeader();jn&&Ye.append("x-firebase-client",jn)}const Sn={method:"POST",headers:Ye,body:JSON.stringify({fid:ie,authVersion:Ze,appId:L.appId,sdkVersion:Re})},zn=yield ht(()=>fetch(Ee,Sn));if(zn.ok){const jn=yield zn.json();return{fid:jn.fid||ie,registrationStatus:2,refreshToken:jn.refreshToken,authToken:ut(jn.authToken)}}throw yield lt("Create Installation",zn)})).apply(this,arguments)}function Nt(L){return new Promise($=>{setTimeout($,L)})}const pn=/^[cdef][\w-]{21}$/;function Ot(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const ie=function gn(L){return function Vt(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return pn.test(ie)?ie:""}catch(L){return""}}function an(L){return`${L.appName}!${L.appId}`}const St=new Map;function nn(L,$){const ie=an(L);mn(ie,$),function Jn(L,$){const ie=function or(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=L=>{mn(L.data.key,L.data.fid)}),dr}();ie&&ie.postMessage({key:L,fid:$}),function Cr(){0===St.size&&dr&&(dr.close(),dr=null)}()}(ie,$)}function mn(L,$){const ie=St.get(L);if(ie)for(const Ee of ie)Ee($)}let dr=null;const nr="firebase-installations-store";let Er=null;function Kt(){return Er||(Er=(0,ue.X3)("firebase-installations-database",1,{upgrade:(L,$)=>{0===$&&L.createObjectStore(nr)}})),Er}function Cn(L,$){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,K.Z)(function*(L,$){const ie=an(L),Ye=(yield Kt()).transaction(nr,"readwrite"),yt=Ye.objectStore(nr),Jt=yield yt.get(ie);return yield yt.put($,ie),yield Ye.done,(!Jt||Jt.fid!==$.fid)&&nn(L,$.fid),$})).apply(this,arguments)}function Bt(L){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,K.Z)(function*(L){const $=an(L),Ee=(yield Kt()).transaction(nr,"readwrite");yield Ee.objectStore(nr).delete($),yield Ee.done})).apply(this,arguments)}function Ar(L,$){return zr.apply(this,arguments)}function zr(){return(zr=(0,K.Z)(function*(L,$){const ie=an(L),Ye=(yield Kt()).transaction(nr,"readwrite"),yt=Ye.objectStore(nr),Jt=yield yt.get(ie),Sn=$(Jt);return void 0===Sn?yield yt.delete(ie):yield yt.put(Sn,ie),yield Ye.done,Sn&&(!Jt||Jt.fid!==Sn.fid)&&nn(L,Sn.fid),Sn})).apply(this,arguments)}function rr(L){return ur.apply(this,arguments)}function ur(){return(ur=(0,K.Z)(function*(L){let $;const ie=yield Ar(L.appConfig,Ee=>{const Ye=Ir(Ee),yt=Pn(L,Ye);return $=yt.registrationPromise,yt.installationEntry});return""===ie.fid?{installationEntry:yield $}:{installationEntry:ie,registrationPromise:$}})).apply(this,arguments)}function Ir(L){return xr(L||{fid:Ot(),registrationStatus:0})}function Pn(L,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(pt.create("app-offline"))};const ie={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},Ee=function Ft(L,$){return ln.apply(this,arguments)}(L,ie);return{installationEntry:ie,registrationPromise:Ee}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:ni(L)}:{installationEntry:$}}function ln(){return(ln=(0,K.Z)(function*(L,$){try{const ie=yield Xe(L,$);return Cn(L.appConfig,ie)}catch(ie){throw xt(ie)&&409===ie.customData.serverCode?yield Bt(L.appConfig):yield Cn(L.appConfig,{fid:$.fid,registrationStatus:0}),ie}})).apply(this,arguments)}function ni(L){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,K.Z)(function*(L){let $=yield gr(L.appConfig);for(;1===$.registrationStatus;)yield Nt(100),$=yield gr(L.appConfig);if(0===$.registrationStatus){const{installationEntry:ie,registrationPromise:Ee}=yield rr(L);return Ee||ie}return $})).apply(this,arguments)}function gr(L){return Ar(L,$=>{if(!$)throw pt.create("installation-not-found");return xr($)})}function xr(L){return function hr(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function Fr(L,$){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,K.Z)(function*({appConfig:L,heartbeatServiceProvider:$},ie){const Ee=Or(L,ie),Ye=st(L,ie),yt=$.getImmediate({optional:!0});if(yt){const jn=yield yt.getHeartbeatsHeader();jn&&Ye.append("x-firebase-client",jn)}const Sn={method:"POST",headers:Ye,body:JSON.stringify({installation:{sdkVersion:Re,appId:L.appId}})},zn=yield ht(()=>fetch(Ee,Sn));if(zn.ok)return ut(yield zn.json());throw yield lt("Generate Auth Token",zn)})).apply(this,arguments)}function Or(L,{fid:$}){return`${Je(L)}/${$}/authTokens:generate`}function lr(L){return hi.apply(this,arguments)}function hi(){return(hi=(0,K.Z)(function*(L,$=!1){let ie;const Ee=yield Ar(L.appConfig,yt=>{if(!ir(yt))throw pt.create("not-registered");const Jt=yt.authToken;if(!$&&ye(Jt))return yt;if(1===Jt.requestStatus)return ie=$t(L,$),yt;{if(!navigator.onLine)throw pt.create("app-offline");const Sn=Fe(yt);return ie=cn(L,Sn),Sn}});return ie?yield ie:Ee.authToken})).apply(this,arguments)}function $t(L,$){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,K.Z)(function*(L,$){let ie=yield Xt(L.appConfig);for(;1===ie.authToken.requestStatus;)yield Nt(100),ie=yield Xt(L.appConfig);const Ee=ie.authToken;return 0===Ee.requestStatus?lr(L,$):Ee})).apply(this,arguments)}function Xt(L){return Ar(L,$=>{if(!ir($))throw pt.create("not-registered");return function ge(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function cn(L,$){return dn.apply(this,arguments)}function dn(){return(dn=(0,K.Z)(function*(L,$){try{const ie=yield Fr(L,$),Ee=Object.assign(Object.assign({},$),{authToken:ie});return yield Cn(L.appConfig,Ee),ie}catch(ie){if(!xt(ie)||401!==ie.customData.serverCode&&404!==ie.customData.serverCode){const Ee=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield Cn(L.appConfig,Ee)}else yield Bt(L.appConfig);throw ie}})).apply(this,arguments)}function ir(L){return void 0!==L&&2===L.registrationStatus}function ye(L){return 2===L.requestStatus&&!function we(L){const $=Date.now();return $<L.creationTime||L.creationTime+L.expiresIn<$+36e5}(L)}function Fe(L){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:$})}function fe(){return(fe=(0,K.Z)(function*(L){const $=L,{installationEntry:ie,registrationPromise:Ee}=yield rr($);return Ee?Ee.catch(console.error):lr($).catch(console.error),ie.fid})).apply(this,arguments)}function Rt(){return(Rt=(0,K.Z)(function*(L,$=!1){const ie=L;return yield un(ie),(yield lr(ie,$)).token})).apply(this,arguments)}function un(L){return rn.apply(this,arguments)}function rn(){return(rn=(0,K.Z)(function*(L){const{registrationPromise:$}=yield rr(L);$&&(yield $)})).apply(this,arguments)}function mr(L){return pt.create("missing-app-config-values",{valueName:L})}const Vr="installations",Yn=L=>{const $=L.getProvider("app").getImmediate(),ie=function qn(L){if(!L||!L.options)throw mr("App Configuration");if(!L.name)throw mr("App Name");const $=["projectId","apiKey","appId"];for(const ie of $)if(!L.options[ie])throw mr(ie);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}($);return{app:$,appConfig:ie,heartbeatServiceProvider:(0,Ie._getProvider)($,"heartbeat"),_delete:()=>Promise.resolve()}},_r=L=>{const $=L.getProvider("app").getImmediate(),ie=(0,Ie._getProvider)($,Vr).getImmediate();return{getId:()=>function oe(L){return fe.apply(this,arguments)}(ie),getToken:Ye=>function tt(L){return Rt.apply(this,arguments)}(ie,Ye)}};(function ri(){(0,Ie._registerComponent)(new ke.wA(Vr,Yn,"PUBLIC")),(0,Ie._registerComponent)(new ke.wA("installations-internal",_r,"PRIVATE"))})(),(0,Ie.registerVersion)($e,ce),(0,Ie.registerVersion)($e,ce,"esm2017");const gi="@firebase/remote-config",Sr=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hi{constructor($,ie,Ee,Ye){this.client=$,this.storage=ie,this.storageCache=Ee,this.logger=Ye}isCachedDataFresh($,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ee=Date.now()-ie,Ye=Ee<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${Ye}.`),Ye}fetch($){var ie=this;return(0,K.Z)(function*(){const[Ee,Ye]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(Ye&&ie.isCachedDataFresh($.cacheMaxAgeMillis,Ee))return Ye;$.eTag=Ye&&Ye.eTag;const yt=yield ie.client.fetch($),Jt=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===yt.status&&Jt.push(ie.storage.setLastSuccessfulFetchResponse(yt)),yield Promise.all(Jt),yt})()}}function Ti(L=navigator){return L.languages&&L.languages[0]||L.language}class oi{constructor($,ie,Ee,Ye,yt,Jt){this.firebaseInstallations=$,this.sdkVersion=ie,this.namespace=Ee,this.projectId=Ye,this.apiKey=yt,this.appId=Jt}fetch($){var ie=this;return(0,K.Z)(function*(){var Ee,Ye,yt;const[Jt,Sn]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),jn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,Lr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},Dr={sdk_version:ie.sdkVersion,app_instance_id:Jt,app_instance_id_token:Sn,app_id:ie.appId,language_code:Ti()},As={method:"POST",headers:Lr,body:JSON.stringify(Dr)},Bo=fetch(jn,As),Ta=new Promise((Ao,Vo)=>{$.signal.addEventListener(()=>{const ga=new Error("The operation was aborted.");ga.name="AbortError",Vo(ga)})});let ka;try{yield Promise.race([Bo,Ta]),ka=yield Bo}catch(Ao){let Vo="fetch-client-network";throw"AbortError"===(null===(Ee=Ao)||void 0===Ee?void 0:Ee.name)&&(Vo="fetch-timeout"),Sr.create(Vo,{originalErrorMessage:null===(Ye=Ao)||void 0===Ye?void 0:Ye.message})}let pa=ka.status;const oa=ka.headers.get("ETag")||void 0;let Fa,cl;if(200===ka.status){let Ao;try{Ao=yield ka.json()}catch(Vo){throw Sr.create("fetch-client-parse",{originalErrorMessage:null===(yt=Vo)||void 0===yt?void 0:yt.message})}Fa=Ao.entries,cl=Ao.state}if("INSTANCE_STATE_UNSPECIFIED"===cl?pa=500:"NO_CHANGE"===cl?pa=304:("NO_TEMPLATE"===cl||"EMPTY_CONFIG"===cl)&&(Fa={}),304!==pa&&200!==pa)throw Sr.create("fetch-status",{httpStatus:pa});return{status:pa,eTag:oa,config:Fa}})()}}class Vi{constructor($,ie){this.client=$,this.storage=ie}fetch($){var ie=this;return(0,K.Z)(function*(){const Ee=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch($,Ee)})()}attemptFetch($,{throttleEndTimeMillis:ie,backoffCount:Ee}){var Ye=this;return(0,K.Z)(function*(){yield function Vs(L,$){return new Promise((ie,Ee)=>{const Ye=Math.max($-Date.now(),0),yt=setTimeout(ie,Ye);L.addEventListener(()=>{clearTimeout(yt),Ee(Sr.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,ie);try{const yt=yield Ye.client.fetch($);return yield Ye.storage.deleteThrottleMetadata(),yt}catch(yt){if(!function Ro(L){if(!(L instanceof be.ZR&&L.customData))return!1;const $=Number(L.customData.httpStatus);return 429===$||500===$||503===$||504===$}(yt))throw yt;const Jt={throttleEndTimeMillis:Date.now()+(0,be.$s)(Ee),backoffCount:Ee+1};return yield Ye.storage.setThrottleMetadata(Jt),Ye.attemptFetch($,Jt)}})()}}class Do{constructor($,ie,Ee,Ye,yt){this.app=$,this._client=ie,this._storageCache=Ee,this._storage=Ye,this._logger=yt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ps(L,$){var ie;const Ee=L.target.error||void 0;return Sr.create($,{originalErrorMessage:Ee&&(null===(ie=Ee)||void 0===ie?void 0:ie.message)})}const $i="app_namespace_store";class Qs{constructor($,ie,Ee,Ye=function zo(){return new Promise((L,$)=>{var ie;try{const Ee=indexedDB.open("firebase_remote_config",1);Ee.onerror=Ye=>{$(ps(Ye,"storage-open"))},Ee.onsuccess=Ye=>{L(Ye.target.result)},Ee.onupgradeneeded=Ye=>{0===Ye.oldVersion&&Ye.target.result.createObjectStore($i,{keyPath:"compositeKey"})}}catch(Ee){$(Sr.create("storage-open",{originalErrorMessage:null===(ie=Ee)||void 0===ie?void 0:ie.message}))}})}()){this.appId=$,this.appName=ie,this.namespace=Ee,this.openDbPromise=Ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var ie=this;return(0,K.Z)(function*(){const Ee=yield ie.openDbPromise;return new Promise((Ye,yt)=>{var Jt;const zn=Ee.transaction([$i],"readonly").objectStore($i),jn=ie.createCompositeKey($);try{const Lr=zn.get(jn);Lr.onerror=Dr=>{yt(ps(Dr,"storage-get"))},Lr.onsuccess=Dr=>{const As=Dr.target.result;Ye(As?As.value:void 0)}}catch(Lr){yt(Sr.create("storage-get",{originalErrorMessage:null===(Jt=Lr)||void 0===Jt?void 0:Jt.message}))}})})()}set($,ie){var Ee=this;return(0,K.Z)(function*(){const Ye=yield Ee.openDbPromise;return new Promise((yt,Jt)=>{var Sn;const jn=Ye.transaction([$i],"readwrite").objectStore($i),Lr=Ee.createCompositeKey($);try{const Dr=jn.put({compositeKey:Lr,value:ie});Dr.onerror=As=>{Jt(ps(As,"storage-set"))},Dr.onsuccess=()=>{yt()}}catch(Dr){Jt(Sr.create("storage-set",{originalErrorMessage:null===(Sn=Dr)||void 0===Sn?void 0:Sn.message}))}})})()}delete($){var ie=this;return(0,K.Z)(function*(){const Ee=yield ie.openDbPromise;return new Promise((Ye,yt)=>{var Jt;const zn=Ee.transaction([$i],"readwrite").objectStore($i),jn=ie.createCompositeKey($);try{const Lr=zn.delete(jn);Lr.onerror=Dr=>{yt(ps(Dr,"storage-delete"))},Lr.onsuccess=()=>{Ye()}}catch(Lr){yt(Sr.create("storage-delete",{originalErrorMessage:null===(Jt=Lr)||void 0===Jt?void 0:Jt.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Ts{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,K.Z)(function*(){const ie=$.storage.getLastFetchStatus(),Ee=$.storage.getLastSuccessfulFetchTimestampMillis(),Ye=$.storage.getActiveConfig(),yt=yield ie;yt&&($.lastFetchStatus=yt);const Jt=yield Ee;Jt&&($.lastSuccessfulFetchTimestampMillis=Jt);const Sn=yield Ye;Sn&&($.activeConfig=Sn)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function ds(){return bi.apply(this,arguments)}function bi(){return(bi=(0,K.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch(L){return!1}})).apply(this,arguments)}!function Po(){(0,Ie._registerComponent)(new ke.wA("remote-config",function L($,{instanceIdentifier:ie}){const Ee=$.getProvider("app").getImmediate(),Ye=$.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Sr.create("registration-window");if(!(0,be.hl)())throw Sr.create("indexed-db-unavailable");const{projectId:yt,apiKey:Jt,appId:Sn}=Ee.options;if(!yt)throw Sr.create("registration-project-id");if(!Jt)throw Sr.create("registration-api-key");if(!Sn)throw Sr.create("registration-app-id");const zn=new Qs(Sn,Ee.name,ie=ie||"firebase"),jn=new Ts(zn),Lr=new Me.Yd(gi);Lr.logLevel=Me.in.ERROR;const Dr=new oi(Ye,Ie.SDK_VERSION,ie,yt,Jt,Sn),As=new Vi(Dr,zn),Bo=new Hi(As,zn,jn,Lr),Ta=new Do(Ee,Bo,jn,zn,Lr);return function Ke(L){const $=(0,be.m9)(L);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(Ta),Ta},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(gi,"0.3.14"),(0,Ie.registerVersion)(gi,"0.3.14","esm2017")}();const gs="/firebase-messaging-sw.js",wi="/firebase-cloud-messaging-push-scope",$r="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ms="google.c.a.c_id",zs="google.c.a.c_l",Xs="google.c.a.ts",is="google.c.a.e";var Wi=(()=>{return(L=Wi||(Wi={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",Wi;var L})();function ss(L){const $=new Uint8Array(L);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _s(L){const ie=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ee=atob(ie),Ye=new Uint8Array(Ee.length);for(let yt=0;yt<Ee.length;++yt)Ye[yt]=Ee.charCodeAt(yt);return Ye}const ai="fcm_token_details_db",Q="fcm_token_object_Store";function De(L){return xe.apply(this,arguments)}function xe(){return xe=(0,K.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(yt=>yt.name).includes(ai))return null;let $=null;return(yield(0,ue.X3)(ai,5,{upgrade:(Ee=(0,K.Z)(function*(Ye,yt,Jt,Sn){var zn;if(yt<2||!Ye.objectStoreNames.contains(Q))return;const jn=Sn.objectStore(Q),Lr=yield jn.index("fcmSenderId").get(L);if(yield jn.clear(),Lr)if(2===yt){const Dr=Lr;if(!Dr.auth||!Dr.p256dh||!Dr.endpoint)return;$={token:Dr.fcmToken,createTime:null!==(zn=Dr.createTime)&&void 0!==zn?zn:Date.now(),subscriptionOptions:{auth:Dr.auth,p256dh:Dr.p256dh,endpoint:Dr.endpoint,swScope:Dr.swScope,vapidKey:"string"==typeof Dr.vapidKey?Dr.vapidKey:ss(Dr.vapidKey)}}}else if(3===yt){const Dr=Lr;$={token:Dr.fcmToken,createTime:Dr.createTime,subscriptionOptions:{auth:ss(Dr.auth),p256dh:ss(Dr.p256dh),endpoint:Dr.endpoint,swScope:Dr.swScope,vapidKey:ss(Dr.vapidKey)}}}else if(4===yt){const Dr=Lr;$={token:Dr.fcmToken,createTime:Dr.createTime,subscriptionOptions:{auth:ss(Dr.auth),p256dh:ss(Dr.p256dh),endpoint:Dr.endpoint,swScope:Dr.swScope,vapidKey:ss(Dr.vapidKey)}}}}),function(yt,Jt,Sn,zn){return Ee.apply(this,arguments)})})).close(),yield(0,ue.Lj)(ai),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),Ue($)?$:null;var Ee}),xe.apply(this,arguments)}function Ue(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:$}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}const yn="firebase-messaging-store";let Tn=null;function En(){return Tn||(Tn=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(L,$)=>{0===$&&L.createObjectStore(yn)}})),Tn}function R(L){return te.apply(this,arguments)}function te(){return(te=(0,K.Z)(function*(L){const $=vt(L),Ee=yield(yield En()).transaction(yn).objectStore(yn).get($);if(Ee)return Ee;{const Ye=yield De(L.appConfig.senderId);if(Ye)return yield j(L,Ye),Ye}})).apply(this,arguments)}function j(L,$){return ae.apply(this,arguments)}function ae(){return(ae=(0,K.Z)(function*(L,$){const ie=vt(L),Ye=(yield En()).transaction(yn,"readwrite");return yield Ye.objectStore(yn).put($,ie),yield Ye.done,$})).apply(this,arguments)}function Se(L){return dt.apply(this,arguments)}function dt(){return(dt=(0,K.Z)(function*(L){const $=vt(L),Ee=(yield En()).transaction(yn,"readwrite");yield Ee.objectStore(yn).delete($),yield Ee.done})).apply(this,arguments)}function vt({appConfig:L}){return L.appId}const Ln=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tr(L,$){return On.apply(this,arguments)}function On(){return(On=(0,K.Z)(function*(L,$){var ie;const Ee=yield os(L),Ye=ci($),yt={method:"POST",headers:Ee,body:JSON.stringify(Ye)};let Jt;try{Jt=yield(yield fetch(Fi(L.appConfig),yt)).json()}catch(Sn){throw Ln.create("token-subscribe-failed",{errorInfo:null===(ie=Sn)||void 0===ie?void 0:ie.toString()})}if(Jt.error)throw Ln.create("token-subscribe-failed",{errorInfo:Jt.error.message});if(!Jt.token)throw Ln.create("token-subscribe-no-token");return Jt.token})).apply(this,arguments)}function pr(L,$){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,K.Z)(function*(L,$){var ie;const Ee=yield os(L),Ye=ci($.subscriptionOptions),yt={method:"PATCH",headers:Ee,body:JSON.stringify(Ye)};let Jt;try{Jt=yield(yield fetch(`${Fi(L.appConfig)}/${$.token}`,yt)).json()}catch(Sn){throw Ln.create("token-update-failed",{errorInfo:null===(ie=Sn)||void 0===ie?void 0:ie.toString()})}if(Jt.error)throw Ln.create("token-update-failed",{errorInfo:Jt.error.message});if(!Jt.token)throw Ln.create("token-update-no-token");return Jt.token})).apply(this,arguments)}function Gr(L,$){return kr.apply(this,arguments)}function kr(){return(kr=(0,K.Z)(function*(L,$){var ie;const Ye={method:"DELETE",headers:yield os(L)};try{const Jt=yield(yield fetch(`${Fi(L.appConfig)}/${$}`,Ye)).json();if(Jt.error)throw Ln.create("token-unsubscribe-failed",{errorInfo:Jt.error.message})}catch(yt){throw Ln.create("token-unsubscribe-failed",{errorInfo:null===(ie=yt)||void 0===ie?void 0:ie.toString()})}})).apply(this,arguments)}function Fi({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function os(L){return fn.apply(this,arguments)}function fn(){return(fn=(0,K.Z)(function*({appConfig:L,installations:$}){const ie=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function ci({p256dh:L,auth:$,endpoint:ie,vapidKey:Ee}){const Ye={web:{endpoint:ie,auth:$,p256dh:L}};return Ee!==$r&&(Ye.web.applicationPubKey=Ee),Ye}const Ui=6048e5;function Co(L){return ks.apply(this,arguments)}function ks(){return(ks=(0,K.Z)(function*(L){const $=yield jr(L.swRegistration,L.vapidKey),ie={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:$.endpoint,auth:ss($.getKey("auth")),p256dh:ss($.getKey("p256dh"))},Ee=yield R(L.firebaseDependencies);if(Ee){if(Qi(Ee.subscriptionOptions,ie))return Date.now()>=Ee.createTime+Ui?F(L,{token:Ee.token,createTime:Date.now(),subscriptionOptions:ie}):Ee.token;try{yield Gr(L.firebaseDependencies,Ee.token)}catch(Ye){console.warn(Ye)}return Te(L.firebaseDependencies,ie)}return Te(L.firebaseDependencies,ie)})).apply(this,arguments)}function G(L){return B.apply(this,arguments)}function B(){return(B=(0,K.Z)(function*(L){const $=yield R(L.firebaseDependencies);$&&(yield Gr(L.firebaseDependencies,$.token),yield Se(L.firebaseDependencies));const ie=yield L.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()})).apply(this,arguments)}function F(L,$){return se.apply(this,arguments)}function se(){return(se=(0,K.Z)(function*(L,$){try{const ie=yield pr(L.firebaseDependencies,$),Ee=Object.assign(Object.assign({},$),{token:ie,createTime:Date.now()});return yield j(L.firebaseDependencies,Ee),ie}catch(ie){throw yield G(L),ie}})).apply(this,arguments)}function Te(L,$){return kt.apply(this,arguments)}function kt(){return(kt=(0,K.Z)(function*(L,$){const Ee={token:yield tr(L,$),createTime:Date.now(),subscriptionOptions:$};return yield j(L,Ee),Ee.token})).apply(this,arguments)}function jr(L,$){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,K.Z)(function*(L,$){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_s($)})})).apply(this,arguments)}function Qi(L,$){return $.vapidKey===L.vapidKey&&$.endpoint===L.endpoint&&$.auth===L.auth&&$.p256dh===L.p256dh}function zi(L){const $={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function as(L,$){if(!$.notification)return;L.notification={};const ie=$.notification.title;ie&&(L.notification.title=ie);const Ee=$.notification.body;Ee&&(L.notification.body=Ee);const Ye=$.notification.image;Ye&&(L.notification.image=Ye)}($,L),function io(L,$){!$.data||(L.data=$.data)}($,L),function ys(L,$){var ie,Ee,Ye,yt,Jt;if(!$.fcmOptions&&!(null===(ie=$.notification)||void 0===ie?void 0:ie.click_action))return;L.fcmOptions={};const Sn=null!==(Ye=null===(Ee=$.fcmOptions)||void 0===Ee?void 0:Ee.link)&&void 0!==Ye?Ye:null===(yt=$.notification)||void 0===yt?void 0:yt.click_action;Sn&&(L.fcmOptions.link=Sn);const zn=null===(Jt=$.fcmOptions)||void 0===Jt?void 0:Jt.analytics_label;zn&&(L.fcmOptions.analyticsLabel=zn)}($,L),$}function Oa(L){return"object"==typeof L&&!!L&&ms in L}function so(L,$){const ie=[];for(let Ee=0;Ee<L.length;Ee++)ie.push(L.charAt(Ee)),Ee<$.length&&ie.push($.charAt(Ee));return ie.join("")}function ko(L){return Ln.create("missing-app-config-values",{valueName:L})}so("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),so("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ni{constructor($,ie,Ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ye=function ya(L){if(!L||!L.options)throw ko("App Configuration Object");if(!L.name)throw ko("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=L;for(const Ee of $)if(!ie[Ee])throw ko(Ee);return{appName:L.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:Ye,installations:ie,analyticsProvider:Ee}}_delete(){return Promise.resolve()}}function Os(L){return oo.apply(this,arguments)}function oo(){return(oo=(0,K.Z)(function*(L){var $;try{L.swRegistration=yield navigator.serviceWorker.register(gs,{scope:wi}),L.swRegistration.update().catch(()=>{})}catch(ie){throw Ln.create("failed-service-worker-registration",{browserErrorMessage:null===($=ie)||void 0===$?void 0:$.message})}})).apply(this,arguments)}function ao(L,$){return vs.apply(this,arguments)}function vs(){return(vs=(0,K.Z)(function*(L,$){if(!$&&!L.swRegistration&&(yield Os(L)),$||!L.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");L.swRegistration=$}})).apply(this,arguments)}function va(L,$){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,K.Z)(function*(L,$){$?L.vapidKey=$:L.vapidKey||(L.vapidKey=$r)})).apply(this,arguments)}function lo(){return(lo=(0,K.Z)(function*(L,$){if(!navigator)throw Ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ln.create("permission-blocked");return yield va(L,null==$?void 0:$.vapidKey),yield ao(L,null==$?void 0:$.serviceWorkerRegistration),Co(L)})).apply(this,arguments)}function co(L,$,ie){return uo.apply(this,arguments)}function uo(){return(uo=(0,K.Z)(function*(L,$,ie){const Ee=ca($);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(Ee,{message_id:ie[ms],message_name:ie[zs],message_time:ie[Xs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ca(L){switch(L){case Wi.NOTIFICATION_CLICKED:return"notification_open";case Wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Eo(){return(Eo=(0,K.Z)(function*(L,$){const ie=$.data;if(!ie.isFirebaseMessaging)return;L.onMessageHandler&&ie.messageType===Wi.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(zi(ie)):L.onMessageHandler.next(zi(ie)));const Ee=ie.data;Oa(Ee)&&"1"===Ee[is]&&(yield co(L,ie.messageType,Ee))})).apply(this,arguments)}const ho="@firebase/messaging",Io=L=>{const $=new Ni(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function na(L,$){return Eo.apply(this,arguments)}($,ie)),$},ua=L=>{const $=L.getProvider("messaging").getImmediate();return{getToken:Ee=>function qo(L,$){return lo.apply(this,arguments)}($,Ee)}};function mi(){return eo.apply(this,arguments)}function eo(){return(eo=(0,K.Z)(function*(){try{yield(0,be.eu)()}catch(L){return!1}return"undefined"!=typeof window&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qs(){(0,Ie._registerComponent)(new ke.wA("messaging",Io,"PUBLIC")),(0,Ie._registerComponent)(new ke.wA("messaging-internal",ua,"PRIVATE")),(0,Ie.registerVersion)(ho,"0.9.19"),(0,Ie.registerVersion)(ho,"0.9.19","esm2017")}();const ji="analytics",Yo="firebase_id",Rs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yt="https://www.googletagmanager.com/gtag/js",Rr=new Me.Yd("@firebase/analytics");function po(L){return Promise.all(L.map($=>$.catch(ie=>ie)))}function Ra(L,$){const ie=document.createElement("script");ie.src=`${Yt}?l=${L}&id=${$}`,ie.async=!0,document.head.appendChild(ie)}function Un(L,$,ie,Ee,Ye,yt){return go.apply(this,arguments)}function go(){return(go=(0,K.Z)(function*(L,$,ie,Ee,Ye,yt){const Jt=Ee[Ye];try{if(Jt)yield $[Jt];else{const zn=(yield po(ie)).find(jn=>jn.measurementId===Ye);zn&&(yield $[zn.appId])}}catch(Sn){Rr.error(Sn)}L("config",Ye,yt)})).apply(this,arguments)}function _n(L,$,ie,Ee,Ye){return ft.apply(this,arguments)}function ft(){return(ft=(0,K.Z)(function*(L,$,ie,Ee,Ye){try{let yt=[];if(Ye&&Ye.send_to){let Jt=Ye.send_to;Array.isArray(Jt)||(Jt=[Jt]);const Sn=yield po(ie);for(const zn of Jt){const jn=Sn.find(Dr=>Dr.measurementId===zn),Lr=jn&&$[jn.appId];if(!Lr){yt=[];break}yt.push(Lr)}}0===yt.length&&(yt=Object.values($)),yield Promise.all(yt),L("event",Ee,Ye||{})}catch(yt){Rr.error(yt)}})).apply(this,arguments)}function P(L){const $=window.document.getElementsByTagName("script");for(const ie of Object.values($))if(ie.src&&ie.src.includes(Yt)&&ie.src.includes(L))return ie;return null}const le=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),q=new class T{constructor($={},ie=1e3){this.throttleMetadata=$,this.intervalMillis=ie}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,ie){this.throttleMetadata[$]=ie}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function me(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function _t(L){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,K.Z)(function*(L){var $;const{appId:ie,apiKey:Ee}=L,Ye={method:"GET",headers:me(Ee)},yt=Rs.replace("{app-id}",ie),Jt=yield fetch(yt,Ye);if(200!==Jt.status&&304!==Jt.status){let Sn="";try{const zn=yield Jt.json();(null===($=zn.error)||void 0===$?void 0:$.message)&&(Sn=zn.error.message)}catch(zn){}throw le.create("config-fetch-failed",{httpStatus:Jt.status,responseMessage:Sn})}return Jt.json()})).apply(this,arguments)}function _i(L){return An.apply(this,arguments)}function An(){return(An=(0,K.Z)(function*(L,$=q,ie){const{appId:Ee,apiKey:Ye,measurementId:yt}=L.options;if(!Ee)throw le.create("no-app-id");if(!Ye){if(yt)return{measurementId:yt,appId:Ee};throw le.create("no-api-key")}const Jt=$.getThrottleMetadata(Ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Sn=new I;return setTimeout((0,K.Z)(function*(){Sn.abort()}),void 0!==ie?ie:6e4),Xr({appId:Ee,apiKey:Ye,measurementId:yt},Jt,Sn,$)})).apply(this,arguments)}function Xr(L,$,ie){return Si.apply(this,arguments)}function Si(){return(Si=(0,K.Z)(function*(L,{throttleEndTimeMillis:$,backoffCount:ie},Ee,Ye=q){var yt,Jt;const{appId:Sn,measurementId:zn}=L;try{yield Oi(Ee,$)}catch(jn){if(zn)return Rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zn} provided in the "measurementId" field in the local Firebase config. [${null===(yt=jn)||void 0===yt?void 0:yt.message}]`),{appId:Sn,measurementId:zn};throw jn}try{const jn=yield _t(L);return Ye.deleteThrottleMetadata(Sn),jn}catch(jn){const Lr=jn;if(!A(Lr)){if(Ye.deleteThrottleMetadata(Sn),zn)return Rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zn} provided in the "measurementId" field in the local Firebase config. [${null==Lr?void 0:Lr.message}]`),{appId:Sn,measurementId:zn};throw jn}const Dr=503===Number(null===(Jt=null==Lr?void 0:Lr.customData)||void 0===Jt?void 0:Jt.httpStatus)?(0,be.$s)(ie,Ye.intervalMillis,30):(0,be.$s)(ie,Ye.intervalMillis),As={throttleEndTimeMillis:Date.now()+Dr,backoffCount:ie+1};return Ye.setThrottleMetadata(Sn,As),Rr.debug(`Calling attemptFetch again in ${Dr} millis`),Xr(L,As,Ee,Ye)}})).apply(this,arguments)}function Oi(L,$){return new Promise((ie,Ee)=>{const Ye=Math.max($-Date.now(),0),yt=setTimeout(ie,Ye);L.addEventListener(()=>{clearTimeout(yt),Ee(le.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}function A(L){if(!(L instanceof be.ZR&&L.customData))return!1;const $=Number(L.customData.httpStatus);return 429===$||500===$||503===$||504===$}class I{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let D,ii;function W(){return(W=(0,K.Z)(function*(L,$,ie,Ee,Ye){if(Ye&&Ye.global)L("event",ie,Ee);else{const yt=yield $;L("event",ie,Object.assign(Object.assign({},Ee),{send_to:yt}))}})).apply(this,arguments)}function mo(L){ii=L}function bs(L){D=L}function ba(){return to.apply(this,arguments)}function to(){return(to=(0,K.Z)(function*(){var L;if(!(0,be.hl)())return Rr.warn(le.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch($){return Rr.warn(le.create("indexeddb-unavailable",{errorInfo:null===(L=$)||void 0===L?void 0:L.toString()}).message),!1}return!0})).apply(this,arguments)}function Fo(){return(Fo=(0,K.Z)(function*(L,$,ie,Ee,Ye,yt,Jt){var Sn;const zn=_i(L);zn.then(Bo=>{ie[Bo.measurementId]=Bo.appId,L.options.measurementId&&Bo.measurementId!==L.options.measurementId&&Rr.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${Bo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bo=>Rr.error(Bo)),$.push(zn);const jn=ba().then(Bo=>{if(Bo)return Ee.getId()}),[Lr,Dr]=yield Promise.all([zn,jn]);P(yt)||Ra(yt,Lr.measurementId),ii&&(Ye("consent","default",ii),mo(void 0)),Ye("js",new Date);const As=null!==(Sn=null==Jt?void 0:Jt.config)&&void 0!==Sn?Sn:{};return As.origin="firebase",As.update=!0,null!=Dr&&(As[Yo]=Dr),Ye("config",Lr.measurementId,As),D&&(Ye("set",D),bs(void 0)),Lr.measurementId})).apply(this,arguments)}class El{constructor($){this.app=$}_delete(){return delete ot[this.app.options.appId],Promise.resolve()}}let ot={},wa=[];const _o={};let yo,js,Wa="dataLayer",Jo=!1;function Jl(L,$,ie){!function Da(){const L=[];if((0,be.ru)()&&L.push("This is a browser extension environment."),(0,be.zI)()||L.push("Cookies are not available."),L.length>0){const $=L.map((Ee,Ye)=>`(${Ye+1}) ${Ee}`).join(" "),ie=le.create("invalid-analytics-context",{errorInfo:$});Rr.warn(ie.message)}}();const Ee=L.options.appId;if(!Ee)throw le.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw le.create("no-api-key");Rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ot[Ee])throw le.create("already-exists",{id:Ee});if(!Jo){!function In(L){let $=[];Array.isArray(window[L])?$=window[L]:window[L]=$}(Wa);const{wrappedGtag:yt,gtagCore:Jt}=function Z(L,$,ie,Ee,Ye){let yt=function(...Jt){window[Ee].push(arguments)};return window[Ye]&&"function"==typeof window[Ye]&&(yt=window[Ye]),window[Ye]=function zt(L,$,ie,Ee){function yt(){return(yt=(0,K.Z)(function*(Jt,Sn,zn){try{"event"===Jt?yield _n(L,$,ie,Sn,zn):"config"===Jt?yield Un(L,$,ie,Ee,Sn,zn):"consent"===Jt?L("consent","update",zn):L("set",Sn)}catch(jn){Rr.error(jn)}})).apply(this,arguments)}return function Ye(Jt,Sn,zn){return yt.apply(this,arguments)}}(yt,L,$,ie),{gtagCore:yt,wrappedGtag:window[Ye]}}(ot,wa,_o,Wa,"gtag");js=yt,yo=Jt,Jo=!0}return ot[Ee]=function ws(L,$,ie,Ee,Ye,yt,Jt){return Fo.apply(this,arguments)}(L,wa,_o,$,yo,Wa,ie),new El(L)}function qc(){return za.apply(this,arguments)}function za(){return(za=(0,K.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch(L){return!1}})).apply(this,arguments)}const yi="@firebase/analytics";!function Di(){(0,Ie._registerComponent)(new ke.wA(ji,($,{options:ie})=>Jl($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),ie),"PUBLIC")),(0,Ie._registerComponent)(new ke.wA("analytics-internal",function L($){try{const ie=$.getProvider(ji).getImmediate();return{logEvent:(Ee,Ye,yt)=>function Ca(L,$,ie,Ee){L=(0,be.m9)(L),function H(L,$,ie,Ee,Ye){return W.apply(this,arguments)}(js,ot[L.app.options.appId],$,ie,Ee).catch(Ye=>Rr.error(Ye))}(ie,Ee,Ye,yt)}}catch(ie){throw le.create("interop-component-reg-failed",{reason:ie})}},"PRIVATE")),(0,Ie.registerVersion)(yi,"0.8.3"),(0,Ie.registerVersion)(yi,"0.8.3","esm2017")}();var Kc=U(4408),Jr=U(7565);const Tl=new class Hs extends Jr.v{}(class To extends Kc.o{constructor($,ie){super($,ie),this.scheduler=$,this.work=ie}schedule($,ie=0){return ie>0?super.schedule($,ie):(this.delay=ie,this.state=$,this.scheduler.flush(this),this)}execute($,ie){return ie>0||this.closed?super.execute($,ie):this._execute($,ie)}requestAsyncId($,ie,Ee=0){return null!=Ee&&Ee>0||null==Ee&&this.delay>0?super.requestAsyncId($,ie,Ee):($.flush(this),0)}});var Ea=U(4986),ra=U(8306),ia=U(8505),So=U(5363),Sl=U(9468);const wc=new a.GfV("7.4.1"),Qo="__angularfire_symbol__analyticsIsSupportedValue",$s="__angularfire_symbol__analyticsIsSupported",Xo="__angularfire_symbol__remoteConfigIsSupportedValue",Ki="__angularfire_symbol__remoteConfigIsSupported",Za="__angularfire_symbol__messagingIsSupportedValue",fa="__angularfire_symbol__messagingIsSupported";function Dc(L,$,ie){if($){if(1===$.length)return $[0];const yt=$.filter(Jt=>Jt.app===ie);if(1===yt.length)return yt[0]}return ie.container.getProvider(L).getImmediate({optional:!0})}globalThis[$s]||(globalThis[$s]=qc().then(L=>globalThis[Qo]=L).catch(()=>globalThis[Qo]=!1)),globalThis[fa]||(globalThis[fa]=mi().then(L=>globalThis[Za]=L).catch(()=>globalThis[Za]=!1)),globalThis[Ki]||(globalThis[Ki]=ds().then(L=>globalThis[Xo]=L).catch(()=>globalThis[Xo]=!1));const Ia=(L,$)=>{const ie=$?[$]:(0,b.C6)(),Ee=[];return ie.forEach(Ye=>{Ye.container.getProvider(L).instances.forEach(Jt=>{Ee.includes(Jt)||Ee.push(Jt)})}),Ee};function Pa(){}class ml{constructor($,ie=Tl){this.zone=$,this.delegate=ie}now(){return this.delegate.now()}schedule($,ie,Ee){const Ye=this.zone;return this.delegate.schedule(function(Jt){Ye.runGuarded(()=>{$.apply(this,[Jt])})},ie,Ee)}}class xl{constructor($){this.zone=$,this.task=null}call($,ie){const Ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)),ie.pipe((0,ia.b)({next:Ee,complete:Ee,error:Ee})).subscribe($).add(Ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sa=(()=>{class L{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new ml(Zone.current)),this.insideAngular=ie.run(()=>new ml(Zone.current,Ea.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(ie){return new(ie||L)(a.LFG(a.R0b))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function ea(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function ec(L){return ea().ngZone.runOutsideAngular(()=>L())}function Ka(L){return ea().ngZone.run(()=>L())}function Cc(L){return L.pipe((0,So.Q)(ea().outsideAngular))}function Ls(L){return ea(),function Jc(L){return function(ie){return(ie=ie.lift(new xl(L.ngZone))).pipe((0,Sl.R)(L.outsideAngular),(0,So.Q)(L.insideAngular))}}(ea())(L)}const Ei=(L,$)=>function(){const Ee=arguments;return $&&setTimeout(()=>{"scheduled"===$.state&&$.invoke()},10),Ka(()=>L.apply(void 0,Ee))},Ec=(L,$)=>function(){let ie;const Ee=arguments;for(let yt=0;yt<arguments.length;yt++)"function"==typeof Ee[yt]&&($&&(ie||(ie=Ka(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)))),Ee[yt]=Ei(Ee[yt],ie));const Ye=ec(()=>L.apply(this,Ee));if(!$){if(Ye instanceof ra.y){const yt=ea();return Ye.pipe((0,Sl.R)(yt.outsideAngular),(0,So.Q)(yt.insideAngular))}return Ka(()=>Ye)}return Ye instanceof ra.y?Ye.pipe(Ls):Ye instanceof Promise?Ka(()=>new Promise((yt,Jt)=>Ye.then(Sn=>Ka(()=>yt(Sn)),Sn=>Ka(()=>Jt(Sn))))):"function"==typeof Ye&&ie?function(){return setTimeout(()=>{ie&&"scheduled"===ie.state&&ie.invoke()},10),Ye.apply(this,arguments)}:Ka(()=>Ye)}},7573:(tn,Oe,U)=>{"use strict";U.d(Oe,{$:()=>Fi,A:()=>pe,B:()=>Qe,G:()=>_r,H:()=>Gn,J:()=>Vi,L:()=>ye,M:()=>bi,N:()=>hs,P:()=>Ea,Q:()=>ms,R:()=>vo,T:()=>zs,U:()=>$r,V:()=>Wi,W:()=>ss,X:()=>De,Y:()=>vn,Z:()=>tr,_:()=>pr,a:()=>C,a0:()=>Co,a1:()=>G,a2:()=>F,a3:()=>Te,a4:()=>jr,a5:()=>Qi,a6:()=>as,a7:()=>io,a8:()=>Oa,a9:()=>so,aA:()=>As,aB:()=>Sn,aC:()=>Ka,aD:()=>ec,aE:()=>Lt,aI:()=>me,aL:()=>is,aa:()=>Os,ab:()=>ao,ac:()=>va,af:()=>co,ag:()=>ca,ah:()=>na,ak:()=>yn,al:()=>ha,an:()=>Yt,ao:()=>go,ap:()=>br,aq:()=>ht,ar:()=>hn,as:()=>un,at:()=>xt,au:()=>_l,av:()=>pa,aw:()=>Je,ax:()=>We,ay:()=>qe,az:()=>we,b:()=>le,c:()=>Ki,d:()=>Al,e:()=>fa,f:()=>Ls,g:()=>ie,h:()=>Ec,i:()=>to,j:()=>yt,k:()=>_d,l:()=>gl,m:()=>Ih,n:()=>iu,o:()=>ue,r:()=>Kc,s:()=>Ql,u:()=>Tl});var a=U(5861),b=U(2090),K=U(9681),Ie=U(1877),be=U(655),ke=U(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},pe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},mt=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Et=new b.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new Ie.Yd("@firebase/auth");function pt(E,...g){rt.logLevel<=Ie.in.ERROR&&rt.error(`Auth (${K.SDK_VERSION}): ${E}`,...g)}function xt(E,...g){throw Pt(E,...g)}function Je(E,...g){return Pt(E,...g)}function ut(E,g,_){const x=Object.assign(Object.assign({},mt()),{[g]:_});return new b.LL("auth","Firebase",x).create(g,{appName:E.name})}function lt(E,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&xt(E,"argument-error"),ut(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pt(E,...g){if("string"!=typeof E){const _=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=E.name),E._errorFactory.create(_,...x)}return Et.create(E,...g)}function We(E,g,..._){if(!E)throw Pt(g,..._)}function st(E){const g="INTERNAL ASSERTION FAILED: "+E;throw pt(g),new Error(g)}function ht(E,g){E||st(g)}const Ne=new Map;function qe(E){ht(E instanceof Function,"Expected a class definition");let g=Ne.get(E);return g?(ht(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,Ne.set(E,g),g)}function et(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Nt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ot{constructor(g,_){this.shortDelay=g,this.longDelay=_,ht(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,b.uI)()||(0,b.b$)()}get(){return function pn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,b.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gn(E,g){ht(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class an{static initialize(g,_,x){this.fetchImpl=g,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new Ot(3e4,6e4);function ct(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function wt(E,g,_,x){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(E,g,_,x,ne={}){return Jn(E,ne,(0,a.Z)(function*(){let de={},it={};x&&("GET"===g?it=x:de={body:JSON.stringify(x)});const Gt=(0,b.xO)(Object.assign({key:E.config.apiKey},it)).slice(1),kn=yield E._getAdditionalHeaders();return kn["Content-Type"]="application/json",E.languageCode&&(kn["X-Firebase-Locale"]=E.languageCode),an.fetch()(Dn(E,E.config.apiHost,_,Gt),Object.assign({method:g,headers:kn,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function Jn(E,g,_){return dr.apply(this,arguments)}function dr(){return(dr=(0,a.Z)(function*(E,g,_){E._canInitEmulator=!1;const x=Object.assign(Object.assign({},St),g);try{const ne=new Qn(E),de=yield Promise.race([_(),ne.promise]);ne.clearNetworkTimeout();const it=yield de.json();if("needConfirmation"in it)throw nr(E,"account-exists-with-different-credential",it);if(de.ok&&!("errorMessage"in it))return it;{const Gt=de.ok?it.errorMessage:it.error.message,[kn,Rn]=Gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kn)throw nr(E,"credential-already-in-use",it);if("EMAIL_EXISTS"===kn)throw nr(E,"email-already-in-use",it);if("USER_DISABLED"===kn)throw nr(E,"user-disabled",it);const xn=x[kn]||kn.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw ut(E,xn,Rn);xt(E,xn)}}catch(ne){if(ne instanceof b.ZR)throw ne;xt(E,"network-request-failed")}})).apply(this,arguments)}function or(E,g,_,x){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,a.Z)(function*(E,g,_,x,ne={}){const de=yield wt(E,g,_,x,ne);return"mfaPendingCredential"in de&&xt(E,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Dn(E,g,_,x){const ne=`${g}${_}?${x}`;return E.config.emulator?gn(E.config,ne):`${E.config.apiScheme}://${ne}`}class Qn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(Je(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nr(E,g,_){const x={appName:E.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const ne=Je(E,g,x);return ne.customData._tokenResponse=_,ne}function Kt(){return(Kt=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Cn(E,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Bt(E,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ar(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function ur(){return(ur=(0,a.Z)(function*(E,g=!1){const _=(0,b.m9)(E),x=yield _.getIdToken(g),ne=Pn(x);We(ne&&ne.exp&&ne.auth_time&&ne.iat,_.auth,"internal-error");const de="object"==typeof ne.firebase?ne.firebase:void 0,it=null==de?void 0:de.sign_in_provider;return{claims:ne,token:x,authTime:Ar(Ir(ne.auth_time)),issuedAtTime:Ar(Ir(ne.iat)),expirationTime:Ar(Ir(ne.exp)),signInProvider:it||null,signInSecondFactor:(null==de?void 0:de.sign_in_second_factor)||null}})).apply(this,arguments)}function Ir(E){return 1e3*Number(E)}function Pn(E){var g;const[_,x,ne]=E.split(".");if(void 0===_||void 0===x||void 0===ne)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const de=(0,b.tV)(x);return de?JSON.parse(de):(pt("Failed to decode base64 JWT payload"),null)}catch(de){return pt("Caught error parsing JWT payload as JSON",null===(g=de)||void 0===g?void 0:g.toString()),null}}function ln(E,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(E,g,_=!1){if(_)return g;try{return yield g}catch(x){throw x instanceof b.ZR&&Pr(x)&&E.auth.currentUser===E&&(yield E.auth.signOut()),x}})).apply(this,arguments)}function Pr({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class gr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const ne=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),x)}iteration(){var g=this;return(0,a.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null===(_=x)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class xr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hr(E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*(E){var g;const _=E.auth,x=yield E.getIdToken(),ne=yield ln(E,Bt(_,{idToken:x}));We(null==ne?void 0:ne.users.length,_,"internal-error");const de=ne.users[0];E._notifyReloadListener(de);const it=(null===(g=de.providerUserInfo)||void 0===g?void 0:g.length)?hi(de.providerUserInfo):[],Gt=lr(E.providerData,it),xn=!!E.isAnonymous&&!(E.email&&de.passwordHash||(null==Gt?void 0:Gt.length)),es={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:Gt,metadata:new xr(de.createdAt,de.lastLoginAt),isAnonymous:xn};Object.assign(E,es)})).apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(E){const g=(0,b.m9)(E);yield hr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function lr(E,g){return[...E.filter(x=>!g.some(ne=>ne.providerId===x.providerId)),...g]}function hi(E){return E.map(g=>{var{providerId:_}=g,x=(0,be._T)(g,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function Dt(){return(Dt=(0,a.Z)(function*(E,g){const _=yield Jn(E,{},(0,a.Z)(function*(){const x=(0,b.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:ne,apiKey:de}=E.config,it=Dn(E,ne,"/v1/token",`key=${de}`),Gt=yield E._getAdditionalHeaders();return Gt["Content-Type"]="application/x-www-form-urlencoded",an.fetch()(it,{method:"POST",headers:Gt,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){We(g.idToken,"internal-error"),We(void 0!==g.idToken,"internal-error"),We(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Ft(E){const g=Pn(E);return We(g,"internal-error"),We(void 0!==g.exp,"internal-error"),We(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var x=this;return(0,a.Z)(function*(){return We(!x.accessToken||x.refreshToken,g,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var x=this;return(0,a.Z)(function*(){const{accessToken:ne,refreshToken:de,expiresIn:it}=yield function $t(E,g){return Dt.apply(this,arguments)}(g,_);x.updateTokensAndExpiration(ne,de,Number(it))})()}updateTokensAndExpiration(g,_,x){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,_){const{refreshToken:x,accessToken:ne,expirationTime:de}=_,it=new Xt;return x&&(We("string"==typeof x,"internal-error",{appName:g}),it.refreshToken=x),ne&&(We("string"==typeof ne,"internal-error",{appName:g}),it.accessToken=ne),de&&(We("number"==typeof de,"internal-error",{appName:g}),it.expirationTime=de),it}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Xt,this.toJSON())}_performRefresh(){return st("not implemented")}}function cn(E,g){We("string"==typeof E||void 0===E,"internal-error",{appName:g})}class dn{constructor(g){var{uid:_,auth:x,stsTokenManager:ne}=g,de=(0,be._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new xr(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,a.Z)(function*(){const x=yield ln(_,_.stsTokenManager.getToken(_.auth,g));return We(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(g){return function rr(E){return ur.apply(this,arguments)}(this,g)}reload(){return function Fn(E){return Or.apply(this,arguments)}(this)}_assign(g){this!==g&&(We(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new dn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var x=this;return(0,a.Z)(function*(){let ne=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),ne=!0),_&&(yield hr(x)),yield x.auth._persistUserIfCurrent(x),ne&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,a.Z)(function*(){const _=yield g.getIdToken();return yield ln(g,function Er(E,g){return Kt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var x,ne,de,it,Gt,kn,Rn,xn;const es=null!==(x=_.displayName)&&void 0!==x?x:void 0,Sa=null!==(ne=_.email)&&void 0!==ne?ne:void 0,xo=null!==(de=_.phoneNumber)&&void 0!==de?de:void 0,xc=null!==(it=_.photoURL)&&void 0!==it?it:void 0,Uo=null!==(Gt=_.tenantId)&&void 0!==Gt?Gt:void 0,Nc=null!==(kn=_._redirectEventId)&&void 0!==kn?kn:void 0,Aa=null!==(Rn=_.createdAt)&&void 0!==Rn?Rn:void 0,Ba=null!==(xn=_.lastLoginAt)&&void 0!==xn?xn:void 0,{uid:Ks,emailVerified:Rl,isAnonymous:Ya,providerData:Pl,stsTokenManager:ts}=_;We(Ks&&ts,g,"internal-error");const Wr=Xt.fromJSON(this.name,ts);We("string"==typeof Ks,g,"internal-error"),cn(es,g.name),cn(Sa,g.name),We("boolean"==typeof Rl,g,"internal-error"),We("boolean"==typeof Ya,g,"internal-error"),cn(xo,g.name),cn(xc,g.name),cn(Uo,g.name),cn(Nc,g.name),cn(Aa,g.name),cn(Ba,g.name);const ku=new dn({uid:Ks,auth:g,email:Sa,emailVerified:Rl,displayName:es,isAnonymous:Ya,photoURL:xc,phoneNumber:xo,tenantId:Uo,stsTokenManager:Wr,createdAt:Aa,lastLoginAt:Ba});return Pl&&Array.isArray(Pl)&&(ku.providerData=Pl.map(ic=>Object.assign({},ic))),Nc&&(ku._redirectEventId=Nc),ku}static _fromIdTokenResponse(g,_,x=!1){return(0,a.Z)(function*(){const ne=new Xt;ne.updateFromServerResponse(_);const de=new dn({uid:_.localId,auth:g,stsTokenManager:ne,isAnonymous:x});return yield hr(de),de})()}}const ye=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,x){var ne=this;return(0,a.Z)(function*(){ne.storage[_]=x})()}_get(_){var x=this;return(0,a.Z)(function*(){const ne=x.storage[_];return void 0===ne?null:ne})()}_remove(_){var x=this;return(0,a.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return E.type="NONE",E})();function we(E,g,_){return`firebase:${E}:${g}:${_}`}class Fe{constructor(g,_,x){this.persistence=g,this.auth=_,this.userKey=x;const{config:ne,name:de}=this.auth;this.fullUserKey=we(this.userKey,ne.apiKey,de),this.fullPersistenceKey=we("persistence",ne.apiKey,de),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?dn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,a.Z)(function*(){if(_.persistence===g)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,x="authUser"){return(0,a.Z)(function*(){if(!_.length)return new Fe(qe(ye),g,x);const ne=(yield Promise.all(_.map(function(){var Rn=(0,a.Z)(function*(xn){if(yield xn._isAvailable())return xn});return function(xn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let de=ne[0]||qe(ye);const it=we(x,g.config.apiKey,g.name);let Gt=null;for(const Rn of _)try{const xn=yield Rn._get(it);if(xn){const es=dn._fromJSON(g,xn);Rn!==de&&(Gt=es),de=Rn;break}}catch(xn){}const kn=ne.filter(Rn=>Rn._shouldAllowMigration);return de._shouldAllowMigration&&kn.length?(de=kn[0],Gt&&(yield de._set(it,Gt.toJSON())),yield Promise.all(_.map(function(){var Rn=(0,a.Z)(function*(xn){if(xn!==de)try{yield xn._remove(it)}catch(es){}});return function(xn){return Rn.apply(this,arguments)}}())),new Fe(de,g,x)):new Fe(de,g,x)})()}}function ge(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Rt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(oe(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(rn(g))return"Blackberry";if(Zn(g))return"Webos";if(fe(g))return"Safari";if((g.includes("chrome/")||tt(g))&&!g.includes("edge/"))return"Chrome";if(un(g))return"Android";{const x=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function oe(E=(0,b.z$)()){return/firefox\//i.test(E)}function fe(E=(0,b.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function tt(E=(0,b.z$)()){return/crios\//i.test(E)}function Rt(E=(0,b.z$)()){return/iemobile/i.test(E)}function un(E=(0,b.z$)()){return/android/i.test(E)}function rn(E=(0,b.z$)()){return/blackberry/i.test(E)}function Zn(E=(0,b.z$)()){return/webos/i.test(E)}function hn(E=(0,b.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function br(E=(0,b.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Wt(E=(0,b.z$)()){return hn(E)||un(E)||Zn(E)||rn(E)||/windows phone/i.test(E)||Rt(E)}function qn(E,g=[]){let _;switch(E){case"Browser":_=ge((0,b.z$)());break;case"Worker":_=`${ge((0,b.z$)())}-${E}`;break;default:_=E}const x=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${K.SDK_VERSION}/${x}`}class mr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const x=de=>new Promise((it,Gt)=>{try{it(g(de))}catch(kn){Gt(kn)}});x.onAbort=_,this.queue.push(x);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,a.Z)(function*(){var x;if(_.auth.currentUser===g)return;const ne=[];try{for(const de of _.queue)yield de(g),de.onAbort&&ne.push(de.onAbort)}catch(de){ne.reverse();for(const it of ne)try{it()}catch(Gt){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(x=de)||void 0===x?void 0:x.message})}})()}}class Vr{constructor(g,_,x){this.app=g,this.heartbeatServiceProvider=_,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yn(this),this.idTokenSubscription=new Yn(this),this.beforeStateQueue=new mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(g,_){var x=this;return _&&(this._popupRedirectResolver=qe(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var ne,de;if(!x._deleted&&(x.persistenceManager=yield Fe.create(x,g),!x._deleted)){if(null===(ne=x._popupRedirectResolver)||void 0===ne?void 0:ne._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch(it){}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(de=x.currentUser)||void 0===de?void 0:de.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,a.Z)(function*(){var x;const ne=yield _.assertedPersistence.getCurrentUser();let de=ne,it=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Gt=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,kn=null==de?void 0:de._redirectEventId,Rn=yield _.tryRedirectSignIn(g);(!Gt||Gt===kn)&&(null==Rn?void 0:Rn.user)&&(de=Rn.user,it=!0)}if(!de)return _.directlySetCurrentUser(null);if(!de._redirectEventId){if(it)try{yield _.beforeStateQueue.runMiddleware(de)}catch(Gt){de=ne,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Gt))}return de?_.reloadAndSetCurrentUserOrClear(de):_.directlySetCurrentUser(null)}return We(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===de._redirectEventId?_.directlySetCurrentUser(de):_.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(g){var _=this;return(0,a.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(ne){yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,a.Z)(function*(){var x;try{yield hr(g)}catch(ne){if("auth/network-request-failed"!==(null===(x=ne)||void 0===x?void 0:x.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function sn(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,a.Z)(function*(){const x=g?(0,b.m9)(g):null;return x&&We(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(g,_=!1){var x=this;return(0,a.Z)(function*(){if(!x._deleted)return g&&We(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,a.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(qe(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new b.LL("auth","Firebase",g())}onAuthStateChanged(g,_,x){return this.registerStateListener(this.authStateSubscription,g,_,x)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,x){return this.registerStateListener(this.idTokenSubscription,g,_,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var x=this;return(0,a.Z)(function*(){const ne=yield x.getOrInitRedirectPersistenceManager(_);return null===g?ne.removeCurrentUser():ne.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const x=g&&qe(g)||_._popupRedirectResolver;We(x,_,"argument-error"),_.redirectPersistenceManager=yield Fe.create(_,[qe(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,a.Z)(function*(){var x,ne;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===g?_._currentUser:(null===(ne=_.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,a.Z)(function*(){if(g===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,x,ne){if(this._deleted)return()=>{};const de="function"==typeof _?_:_.next.bind(_),it=this._isInitialized?Promise.resolve():this._initializationPromise;return We(it,this,"internal-error"),it.then(()=>de(this.currentUser)),"function"==typeof _?g.addObserver(_,x,ne):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=qn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var _;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const ne=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return ne&&(x["X-Firebase-Client"]=ne),x})()}}function Lt(E){return(0,b.m9)(E)}class Yn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,b.ne)(_=>this.observer=_)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _r(E,g,_){const x=Lt(E);We(x._canInitEmulator,x,"emulator-config-failed"),We(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const ne=!!(null==_?void 0:_.disableWarnings),de=ri(g),{host:it,port:Gt}=function gi(E){const g=ri(E),_=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(x);if(ne){const de=ne[1];return{host:de,port:si(x.substr(de.length+1))}}{const[de,it]=x.split(":");return{host:de,port:si(it)}}}(g);x.config.emulator={url:`${de}//${it}${null===Gt?"":`:${Gt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:it,port:Gt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function Ai(){function E(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function ri(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function si(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class Gn{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return st("not implemented")}_getIdTokenResponse(g){return st("not implemented")}_linkToIdToken(g,_){return st("not implemented")}_getReauthenticationResolver(g){return st("not implemented")}}function Ii(E,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:resetPassword",ct(E,g))})).apply(this,arguments)}function Wn(E,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function cs(E,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:update",ct(E,g))})).apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(E,g){return or(E,"POST","/v1/accounts:signInWithPassword",ct(E,g))})).apply(this,arguments)}function Pi(E,g){return ze.apply(this,arguments)}function ze(){return(ze=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:sendOobCode",ct(E,g))})).apply(this,arguments)}function Ve(E,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(E,g){return Pi(E,g)})).apply(this,arguments)}function At(E,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(E,g){return Pi(E,g)})).apply(this,arguments)}function on(E,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.Z)(function*(E,g){return Pi(E,g)})).apply(this,arguments)}function Ur(E,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(E,g){return Pi(E,g)})).apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(E,g){return or(E,"POST","/v1/accounts:signInWithEmailLink",ct(E,g))})).apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(E,g){return or(E,"POST","/v1/accounts:signInWithEmailLink",ct(E,g))})).apply(this,arguments)}class Ti extends Gn{constructor(g,_,x,ne=null){super("password",x),this._email=g,this._password=_,this._tenantId=ne}static _fromEmailAndPassword(g,_){return new Ti(g,_,"password")}static _fromEmailAndCode(g,_,x=null){return new Ti(g,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return function Qr(E,g){return Kr.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function fr(E,g){return fi.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:xt(g,"internal-error")}})()}_linkToIdToken(g,_){var x=this;return(0,a.Z)(function*(){switch(x.signInMethod){case"password":return Wn(g,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function us(E,g){return Hi.apply(this,arguments)}(g,{idToken:_,email:x._email,oobCode:x._password});default:xt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function oi(E,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(E,g){return or(E,"POST","/v1/accounts:signInWithIdp",ct(E,g))})).apply(this,arguments)}class Vi extends Gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Vi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):xt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:ne}=_,de=(0,be._T)(_,["providerId","signInMethod"]);if(!x||!ne)return null;const it=new Vi(x,ne);return it.idToken=de.idToken||void 0,it.accessToken=de.accessToken||void 0,it.secret=de.secret,it.nonce=de.nonce,it.pendingToken=de.pendingToken||null,it}_getIdTokenResponse(g){return oi(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,oi(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,oi(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,b.xO)(_)}return g}}function Us(E,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:sendVerificationCode",ct(E,g))})).apply(this,arguments)}function ps(){return(ps=(0,a.Z)(function*(E,g){return or(E,"POST","/v1/accounts:signInWithPhoneNumber",ct(E,g))})).apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(E,g){const _=yield or(E,"POST","/v1/accounts:signInWithPhoneNumber",ct(E,g));if(_.temporaryProof)throw nr(E,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ws={USER_NOT_FOUND:"user-not-found"};function Qs(){return(Qs=(0,a.Z)(function*(E,g){return or(E,"POST","/v1/accounts:signInWithPhoneNumber",ct(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ws)})).apply(this,arguments)}class Ts extends Gn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Ts({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Ts({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Do(E,g){return ps.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function $i(E,g){return Is.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function zo(E,g){return Qs.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:x,verificationCode:ne}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:x,code:ne}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:x,phoneNumber:ne,temporaryProof:de}=g;return x||_||ne||de?new Ts({verificationId:_,verificationCode:x,phoneNumber:ne,temporaryProof:de}):null}}class ki{constructor(g){var _,x,ne,de,it,Gt;const kn=(0,b.zd)((0,b.pd)(g)),Rn=null!==(_=kn.apiKey)&&void 0!==_?_:null,xn=null!==(x=kn.oobCode)&&void 0!==x?x:null,es=function Po(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=kn.mode)&&void 0!==ne?ne:null);We(Rn&&xn&&es,"argument-error"),this.apiKey=Rn,this.operation=es,this.code=xn,this.continueUrl=null!==(de=kn.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(it=kn.languageCode)&&void 0!==it?it:null,this.tenantId=null!==(Gt=kn.tenantId)&&void 0!==Gt?Gt:null}static parseLink(g){const _=function Zo(E){const g=(0,b.zd)((0,b.pd)(E)).link,_=g?(0,b.zd)((0,b.pd)(g)).deep_link_id:null,x=(0,b.zd)((0,b.pd)(E)).deep_link_id;return(x?(0,b.zd)((0,b.pd)(x)).link:null)||x||_||g||E}(g);try{return new ki(_)}catch(x){return null}}}let bi=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(_,x){return Ti._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const ne=ki.parseLink(x);return We(ne,"argument-error"),Ti._fromEmailAndCode(_,ne.code,ne.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class gs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class wi extends gs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class $r extends wi{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return We("providerId"in _&&"signInMethod"in _,"argument-error"),Vi._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return We(g.idToken||g.accessToken,"argument-error"),Vi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return $r.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return $r.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:ne,pendingToken:de,nonce:it,providerId:Gt}=g;if(!x&&!ne&&!_&&!de||!Gt)return null;try{return new $r(Gt)._credential({idToken:_,accessToken:x,nonce:it,pendingToken:de})}catch(kn){return null}}}let hs=(()=>{class E extends wi{constructor(){super("facebook.com")}static credential(_){return Vi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(x){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ms=(()=>{class E extends wi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return Vi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:ne}=_;if(!x&&!ne)return null;try{return E.credential(x,ne)}catch(de){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),zs=(()=>{class E extends wi{constructor(){super("github.com")}static credential(_){return Vi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(x){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class is extends Gn{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return oi(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,oi(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,oi(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:ne,pendingToken:de}=_;return x&&ne&&de&&x===ne?new is(x,de):null}static _create(g,_){return new is(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wi extends gs{constructor(g){We(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Wi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Wi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=is.fromJSON(g);return We(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:x}=g;if(!_||!x)return null;try{return is._create(x,_)}catch(ne){return null}}}let ss=(()=>{class E extends wi{constructor(){super("twitter.com")}static credential(_,x){return Vi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:ne}=_;if(!x||!ne)return null;try{return E.credential(x,ne)}catch(de){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function _s(E,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(E,g){return or(E,"POST","/v1/accounts:signUp",ct(E,g))})).apply(this,arguments)}class ee{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,x,ne=!1){return(0,a.Z)(function*(){const de=yield dn._fromIdTokenResponse(g,x,ne),it=Q(x);return new ee({user:de,providerId:it,_tokenResponse:x,operationType:_})})()}static _forOperation(g,_,x){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const ne=Q(x);return new ee({user:g,providerId:ne,_tokenResponse:x,operationType:_})})()}}function Q(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function De(E){return xe.apply(this,arguments)}function xe(){return(xe=(0,a.Z)(function*(E){var g;const _=Lt(E);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new ee({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield _s(_,{returnSecureToken:!0}),ne=yield ee._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Ue extends b.ZR{constructor(g,_,x,ne){var de;super(_.code,_.message),this.operationType=x,this.user=ne,Object.setPrototypeOf(this,Ue.prototype),this.customData={appName:g.name,tenantId:null!==(de=g.tenantId)&&void 0!==de?de:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,_,x,ne){return new Ue(g,_,x,ne)}}function Ct(E,g,_,x){return("reauthenticate"===g?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?Ue._fromErrorAndOperation(E,de,g,x):de})}function Qt(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function yn(E,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(E,g){const _=(0,b.m9)(E);yield te(!0,_,g);const{providerUserInfo:x}=yield Cn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),ne=Qt(x||[]);return _.providerData=_.providerData.filter(de=>ne.has(de.providerId)),ne.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function En(E,g){return R.apply(this,arguments)}function R(){return(R=(0,a.Z)(function*(E,g,_=!1){const x=yield ln(E,g._linkToIdToken(E.auth,yield E.getIdToken()),_);return ee._forOperation(E,"link",x)})).apply(this,arguments)}function te(E,g,_){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(function*(E,g,_){yield hr(g);const ne=!1===E?"provider-already-linked":"no-such-provider";We(Qt(g.providerData).has(_)===E,g.auth,ne)})).apply(this,arguments)}function ae(E,g){return Se.apply(this,arguments)}function Se(){return(Se=(0,a.Z)(function*(E,g,_=!1){var x;const{auth:ne}=E,de="reauthenticate";try{const it=yield ln(E,Ct(ne,de,g,E),_);We(it.idToken,ne,"internal-error");const Gt=Pn(it.idToken);We(Gt,ne,"internal-error");const{sub:kn}=Gt;return We(E.uid===kn,ne,"user-mismatch"),ee._forOperation(E,de,it)}catch(it){throw"auth/user-not-found"===(null===(x=it)||void 0===x?void 0:x.code)&&xt(ne,"user-mismatch"),it}})).apply(this,arguments)}function dt(E,g){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(E,g,_=!1){const x="signIn",ne=yield Ct(E,x,g),de=yield ee._fromIdTokenResponse(E,x,ne);return _||(yield E._updateCurrentUser(de.user)),de})).apply(this,arguments)}function vn(E,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(E,g){return dt(Lt(E),g)})).apply(this,arguments)}function tr(E,g){return On.apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(E,g){const _=(0,b.m9)(E);return yield te(!1,_,g.providerId),En(_,g)})).apply(this,arguments)}function pr(E,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,a.Z)(function*(E,g){return ae((0,b.m9)(E),g)})).apply(this,arguments)}function Gr(E,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(E,g){return or(E,"POST","/v1/accounts:signInWithCustomToken",ct(E,g))})).apply(this,arguments)}function Fi(E,g){return os.apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(E,g){const _=Lt(E),x=yield Gr(_,{token:g,returnSecureToken:!0}),ne=yield ee._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class fn{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?ci._fromServerResponse(g,_):xt(g,"internal-error")}}class ci extends fn{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new ci(_)}}function Ui(E,g,_){var x;We((null===(x=_.url)||void 0===x?void 0:x.length)>0,E,"invalid-continue-uri"),We(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(We(_.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(We(_.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Co(E,g,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E),ne={requestType:"PASSWORD_RESET",email:g};_&&Ui(x,ne,_),yield At(x,ne)})).apply(this,arguments)}function G(E,g,_){return B.apply(this,arguments)}function B(){return(B=(0,a.Z)(function*(E,g,_){yield Ii((0,b.m9)(E),{oobCode:g,newPassword:_})})).apply(this,arguments)}function F(E,g){return se.apply(this,arguments)}function se(){return(se=(0,a.Z)(function*(E,g){yield cs((0,b.m9)(E),{oobCode:g})})).apply(this,arguments)}function Te(E,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,a.Z)(function*(E,g){const _=(0,b.m9)(E),x=yield Ii(_,{oobCode:g}),ne=x.requestType;switch(We(ne,_,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":We(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":We(x.mfaInfo,_,"internal-error");default:We(x.email,_,"internal-error")}let de=null;return x.mfaInfo&&(de=fn._fromServerResponse(Lt(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:de},operation:ne}})).apply(this,arguments)}function jr(E,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(E,g){const{data:_}=yield Te((0,b.m9)(E),g);return _.email})).apply(this,arguments)}function Qi(E,g,_){return zi.apply(this,arguments)}function zi(){return(zi=(0,a.Z)(function*(E,g,_){const x=Lt(E),ne=yield _s(x,{returnSecureToken:!0,email:g,password:_}),de=yield ee._fromIdTokenResponse(x,"signIn",ne);return yield x._updateCurrentUser(de.user),de})).apply(this,arguments)}function as(E,g,_){return vn((0,b.m9)(E),bi.credential(g,_))}function io(E,g,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E),ne={requestType:"EMAIL_SIGNIN",email:g};We(_.handleCodeInApp,x,"argument-error"),_&&Ui(x,ne,_),yield on(x,ne)})).apply(this,arguments)}function Oa(E,g){const _=ki.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function so(E,g,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E),ne=bi.credentialWithLink(g,_||et());return We(ne._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),vn(x,ne)})).apply(this,arguments)}function ko(E,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:createAuthUri",ct(E,g))})).apply(this,arguments)}function Os(E,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(E,g){const x={identifier:g,continueUri:Nt()?et():"http://localhost"},{signinMethods:ne}=yield ko((0,b.m9)(E),x);return ne||[]})).apply(this,arguments)}function ao(E,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(E,g){const _=(0,b.m9)(E),ne={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&Ui(_.auth,ne,g);const{email:de}=yield Ve(_.auth,ne);de!==E.email&&(yield E.reload())})).apply(this,arguments)}function va(E,g,_){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};_&&Ui(x.auth,de,_);const{email:it}=yield Ur(x.auth,de);it!==E.email&&(yield E.reload())})).apply(this,arguments)}function qo(E,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(E,g){return wt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function co(E,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(E,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const x=(0,b.m9)(E),de={idToken:yield x.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},it=yield ln(x,qo(x.auth,de));x.displayName=it.displayName||null,x.photoURL=it.photoUrl||null;const Gt=x.providerData.find(({providerId:kn})=>"password"===kn);Gt&&(Gt.displayName=x.displayName,Gt.photoURL=x.photoURL),yield x._updateTokensIfNecessary(it)})).apply(this,arguments)}function ca(E,g){return Eo((0,b.m9)(E),g,null)}function na(E,g){return Eo((0,b.m9)(E),null,g)}function Eo(E,g,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,a.Z)(function*(E,g,_){const{auth:x}=E,de={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(de.email=g),_&&(de.password=_);const it=yield ln(E,Wn(x,de));yield E._updateTokensIfNecessary(it,!0)})).apply(this,arguments)}class Io{constructor(g,_,x={}){this.isNewUser=g,this.providerId=_,this.profile=x}}class ua extends Io{constructor(g,_,x,ne){super(g,_,x),this.username=ne}}class qs extends Io{constructor(g,_){super(g,"facebook.com",_)}}class mi extends ua{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class eo extends Io{constructor(g,_){super(g,"google.com",_)}}class da extends ua{constructor(g,_,x){super(g,"twitter.com",_,x)}}function ha(E){const{user:g,_tokenResponse:_}=E;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Xi(E){var g,_;if(!E)return null;const{providerId:x}=E,ne=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},de=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!x&&(null==E?void 0:E.idToken)){const it=null===(_=null===(g=Pn(E.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(it)return new Io(de,"anonymous"!==it&&"custom"!==it?it:null)}if(!x)return null;switch(x){case"facebook.com":return new qs(de,ne);case"github.com":return new mi(de,ne);case"google.com":return new eo(de,ne);case"twitter.com":return new da(de,ne,E.screenName||null);case"custom":case"anonymous":return new Io(de,null);default:return new Io(de,x,ne)}}(_)}class Ss{constructor(g,_,x){this.type=g,this.credential=_,this.auth=x}static _fromIdtoken(g,_){return new Ss("enroll",g,_)}static _fromMfaPendingCredential(g){return new Ss("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,x;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ss._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(x=g.multiFactorSession)||void 0===x?void 0:x.idToken)return Ss._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Rs{constructor(g,_,x){this.session=g,this.hints=_,this.signInResolver=x}static _fromError(g,_){const x=Lt(g),ne=_.customData._serverResponse,de=(ne.mfaInfo||[]).map(Gt=>fn._fromServerResponse(x,Gt));We(ne.mfaPendingCredential,x,"internal-error");const it=Ss._fromMfaPendingCredential(ne.mfaPendingCredential);return new Rs(it,de,function(){var Gt=(0,a.Z)(function*(kn){const Rn=yield kn._process(x,it);delete ne.mfaInfo,delete ne.mfaPendingCredential;const xn=Object.assign(Object.assign({},ne),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(_.operationType){case"signIn":const es=yield ee._fromIdTokenResponse(x,_.operationType,xn);return yield x._updateCurrentUser(es.user),es;case"reauthenticate":return We(_.user,x,"internal-error"),ee._forOperation(_.user,_.operationType,xn);default:xt(x,"internal-error")}});return function(kn){return Gt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,a.Z)(function*(){return _.signInResolver(g)})()}}function Yt(E,g){var _;const x=(0,b.m9)(E),ne=g;return We(g.customData.operationType,x,"argument-error"),We(null===(_=ne.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),Rs._fromError(x,ne)}function Rr(E,g){return wt(E,"POST","/v2/accounts/mfaEnrollment:start",ct(E,g))}class In{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>fn._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new In(g)}getSession(){var g=this;return(0,a.Z)(function*(){return Ss._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var x=this;return(0,a.Z)(function*(){const ne=g,de=yield x.getSession(),it=yield ln(x.user,ne._process(x.user.auth,de,_));return yield x.user._updateTokensIfNecessary(it),x.user.reload()})()}unenroll(g){var _=this;return(0,a.Z)(function*(){var x;const ne="string"==typeof g?g:g.uid,de=yield _.user.getIdToken(),it=yield ln(_.user,function Ra(E,g){return wt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(E,g))}(_.user.auth,{idToken:de,mfaEnrollmentId:ne}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Gt})=>Gt!==ne),yield _.user._updateTokensIfNecessary(it);try{yield _.user.reload()}catch(Gt){if("auth/user-token-expired"!==(null===(x=Gt)||void 0===x?void 0:x.code))throw Gt}})()}}const Un=new WeakMap;function go(E){const g=(0,b.m9)(E);return Un.has(g)||Un.set(g,In._fromUser(g)),Un.get(g)}const _n="__sak";class ft{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(_n,"1"),this.storage.removeItem(_n),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const le=(()=>{class E extends ft{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zt(){const E=(0,b.z$)();return fe(E)||hn(E)}()&&function wn(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=Wt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const ne=this.storage.getItem(x),de=this.localCache[x];ne!==de&&_(x,de,ne)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((Gt,kn,Rn)=>{this.notifyListeners(Gt,Rn)});const ne=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Gt=this.storage.getItem(ne);if(_.newValue!==Gt)null!==_.newValue?this.storage.setItem(ne,_.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===_.newValue&&!x)return}const de=()=>{const Gt=this.storage.getItem(ne);!x&&this.localCache[ne]===Gt||this.notifyListeners(ne,Gt)},it=this.storage.getItem(ne);!function Mt(){return(0,b.w1)()&&10===document.documentMode}()||it===_.newValue||_.newValue===_.oldValue?de():setTimeout(de,10)}notifyListeners(_,x){this.localCache[_]=x;const ne=this.listeners[_];if(ne)for(const de of Array.from(ne))de(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var ne=()=>super._set,de=this;return(0,a.Z)(function*(){yield ne().call(de,_,x),de.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,ne=this;return(0,a.Z)(function*(){const de=yield x().call(ne,_);return ne.localCache[_]=JSON.stringify(de),de})()}_remove(_){var x=()=>super._remove,ne=this;return(0,a.Z)(function*(){yield x().call(ne,_),delete ne.localCache[_]})()}}return E.type="LOCAL",E})(),C=(()=>{class E extends ft{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return E.type="SESSION",E})();let q=(()=>{class E{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(de=>de.isListeningto(_));if(x)return x;const ne=new E(_);return this.receivers.push(ne),ne}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,a.Z)(function*(){const ne=_,{eventId:de,eventType:it,data:Gt}=ne.data,kn=x.handlersMap[it];if(!(null==kn?void 0:kn.size))return;ne.ports[0].postMessage({status:"ack",eventId:de,eventType:it});const Rn=Array.from(kn).map(function(){var es=(0,a.Z)(function*(Sa){return Sa(ne.origin,Gt)});return function(Sa){return es.apply(this,arguments)}}()),xn=yield function T(E){return Promise.all(E.map(function(){var g=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return g.apply(this,arguments)}}()))}(Rn);ne.ports[0].postMessage({status:"done",eventId:de,eventType:it,response:xn})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function me(E="",g=10){let _="";for(let x=0;x<g;x++)_+=Math.floor(10*Math.random());return E+_}class _t{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,x=50){var ne=this;return(0,a.Z)(function*(){const de="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let it,Gt;return new Promise((kn,Rn)=>{const xn=me("",20);de.port1.start();const es=setTimeout(()=>{Rn(new Error("unsupported_event"))},x);Gt={messageChannel:de,onMessage(Sa){const xo=Sa;if(xo.data.eventId===xn)switch(xo.data.status){case"ack":clearTimeout(es),it=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(it),kn(xo.data.response);break;default:clearTimeout(es),clearTimeout(it),Rn(new Error("invalid_response"))}}},ne.handlers.add(Gt),de.port1.addEventListener("message",Gt.onMessage),ne.target.postMessage({eventType:g,eventId:xn,data:_},[de.port2])}).finally(()=>{Gt&&ne.removeMessageHandler(Gt)})})()}}function Zt(){return window}function An(){return void 0!==Zt().WorkerGlobalScope&&"function"==typeof Zt().importScripts}function Si(){return(Si=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const I="firebaseLocalStorageDb",H="firebaseLocalStorage",W="fbase_key";class J{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ce(E,g){return E.transaction([H],g?"readwrite":"readonly").objectStore(H)}function It(){const E=indexedDB.open(I,1);return new Promise((g,_)=>{E.addEventListener("error",()=>{_(E.error)}),E.addEventListener("upgradeneeded",()=>{const x=E.result;try{x.createObjectStore(H,{keyPath:W})}catch(ne){_(ne)}}),E.addEventListener("success",(0,a.Z)(function*(){const x=E.result;x.objectStoreNames.contains(H)?g(x):(x.close(),yield function Le(){const E=indexedDB.deleteDatabase(I);return new J(E).toPromise()}(),g(yield It()))}))})}function Hn(E,g,_){return wr.apply(this,arguments)}function wr(){return(wr=(0,a.Z)(function*(E,g,_){const x=Ce(E,!0).put({[W]:g,value:_});return new J(x).toPromise()})).apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(E,g){const _=Ce(E,!1).get(g),x=yield new J(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function ii(E,g){const _=Ce(E,!0).delete(g);return new J(_).toPromise()}const to=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield It()),_.db})()}_withRetries(_){var x=this;return(0,a.Z)(function*(){let ne=0;for(;;)try{const de=yield x._openDb();return yield _(de)}catch(de){if(ne++>3)throw de;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return An()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=q._getInstance(function A(){return An()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,a.Z)(function*(ne,de){return{keyProcessed:(yield _._poll()).includes(de.key)}});return function(ne,de){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,a.Z)(function*(ne,de){return["keyChanged"]});return function(ne,de){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var x,ne;if(_.activeServiceWorker=yield function Xr(){return Si.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new _t(_.activeServiceWorker);const de=yield _.sender._send("ping",{},800);!de||(null===(x=de[0])||void 0===x?void 0:x.fulfilled)&&(null===(ne=de[0])||void 0===ne?void 0:ne.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,a.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Oi(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch(ne){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield It();return yield Hn(_,_n,"1"),yield ii(_,_n),!0}catch(_){}return!1})()}_withPendingWrite(_){var x=this;return(0,a.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var ne=this;return(0,a.Z)(function*(){return ne._withPendingWrite((0,a.Z)(function*(){return yield ne._withRetries(de=>Hn(de,_,x)),ne.localCache[_]=x,ne.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,a.Z)(function*(){const ne=yield x._withRetries(de=>function ar(E,g){return Yr.apply(this,arguments)}(de,_));return x.localCache[_]=ne,ne})()}_remove(_){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(ne=>ii(ne,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const x=yield _._withRetries(it=>{const Gt=Ce(it,!1).getAll();return new J(Gt).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const ne=[],de=new Set;for(const{fbase_key:it,value:Gt}of x)de.add(it),JSON.stringify(_.localCache[it])!==JSON.stringify(Gt)&&(_.notifyListeners(it,Gt),ne.push(it));for(const it of Object.keys(_.localCache))_.localCache[it]&&!de.has(it)&&(_.notifyListeners(it,null),ne.push(it));return ne})()}notifyListeners(_,x){this.localCache[_]=x;const ne=this.listeners[_];if(ne)for(const de of Array.from(ne))de(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function ws(E,g){return wt(E,"POST","/v2/accounts/mfaSignIn:start",ct(E,g))}function ot(){return(ot=(0,a.Z)(function*(E){return(yield wt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _o(E){return new Promise((g,_)=>{const x=document.createElement("script");x.setAttribute("src",E),x.onload=g,x.onerror=ne=>{const de=Je("internal-error");de.customData=ne,_(de)},x.type="text/javascript",x.charset="UTF-8",function wa(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(x)})}function Wa(E){return`__${E}${Math.floor(1e6*Math.random())}`}const js=1e12;class Jo{constructor(g){this.auth=g,this.counter=js,this._widgets=new Map}render(g,_){const x=this.counter;return this._widgets.set(x,new Yl(g,this.auth.name,_||{})),this.counter++,x}reset(g){var _;const x=g||js;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(g){var _;return(null===(_=this._widgets.get(g||js))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,a.Z)(function*(){var x;return null===(x=_._widgets.get(g||js))||void 0===x||x.execute(),""})()}}class Yl{constructor(g,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof g?document.getElementById(g):g;We(ne,"argument-error",{appName:_}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Da(E){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<E;x++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jl=Wa("rcb"),fd=new Ot(3e4,6e4);class qc{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(g=Zt().grecaptcha)||void 0===g?void 0:g.render)}load(g,_=""){return We(function za(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Zt().grecaptcha):new Promise((x,ne)=>{const de=Zt().setTimeout(()=>{ne(Je(g,"network-request-failed"))},fd.get());Zt()[Jl]=()=>{Zt().clearTimeout(de),delete Zt()[Jl];const Gt=Zt().grecaptcha;if(!Gt)return void ne(Je(g,"internal-error"));const kn=Gt.render;Gt.render=(Rn,xn)=>{const es=kn(Rn,xn);return this.counter++,es},this.hostLanguage=_,x(Gt)},_o(`https://www.google.com/recaptcha/api.js??${(0,b.xO)({onload:Jl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(de),ne(Je(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!!(null===(_=Zt().grecaptcha)||void 0===_?void 0:_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pd{load(g){return(0,a.Z)(function*(){return new Jo(g)})()}clearedOneInstance(){}}const Ds="recaptcha",Il={theme:"light",type:"image"};class vo{constructor(g,_=Object.assign({},Il),x){this.parameters=_,this.type=Ds,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(x),this.isInvisible="invisible"===this.parameters.size,We("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof g?document.getElementById(g):g;We(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pd:new qc,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(_)||new Promise(de=>{const it=Gt=>{!Gt||(g.tokenChangeListeners.delete(it),de(Gt))};g.tokenChangeListeners.add(it),g.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){We(!this.parameters.sitekey,this.auth,"argument-error"),We(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),We("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof g)g(_);else if("string"==typeof g){const x=Zt()[g];"function"==typeof x&&x(_)}}}assertNotDestroyed(){We(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){We(Nt()&&!An(),g.auth,"internal-error"),yield function qi(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function El(E){return ot.apply(this,arguments)}(g.auth);We(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return We(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ca{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Ts._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Ql(E,g,_){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(E,g,_){const x=Lt(E),ne=yield Jr(x,g,(0,b.m9)(_));return new Ca(ne,de=>vn(x,de))})).apply(this,arguments)}function gl(E,g,_){return Di.apply(this,arguments)}function Di(){return(Di=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E);yield te(!1,x,"phone");const ne=yield Jr(x.auth,g,(0,b.m9)(_));return new Ca(ne,de=>tr(x,de))})).apply(this,arguments)}function Kc(E,g,_){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E),ne=yield Jr(x.auth,g,(0,b.m9)(_));return new Ca(ne,de=>pr(x,de))})).apply(this,arguments)}function Jr(E,g,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,a.Z)(function*(E,g,_){var x;const ne=yield _.verify();try{let de;if(We("string"==typeof ne,E,"argument-error"),We(_.type===Ds,E,"argument-error"),de="string"==typeof g?{phoneNumber:g}:g,"session"in de){const it=de.session;if("phoneNumber"in de)return We("enroll"===it.type,E,"internal-error"),(yield Rr(E,{idToken:it.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{We("signin"===it.type,E,"internal-error");const Gt=(null===(x=de.multiFactorHint)||void 0===x?void 0:x.uid)||de.multiFactorUid;return We(Gt,E,"missing-multi-factor-info"),(yield ws(E,{mfaPendingCredential:it.credential,mfaEnrollmentId:Gt,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:it}=yield Us(E,{phoneNumber:de.phoneNumber,recaptchaToken:ne});return it}}finally{_._reset()}})).apply(this,arguments)}function Tl(E,g){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(E,g){yield En((0,b.m9)(E),g)})).apply(this,arguments)}let Ea=(()=>{class E{constructor(_){this.providerId=E.PROVIDER_ID,this.auth=Lt(_)}verifyPhoneNumber(_,x){return Jr(this.auth,_,(0,b.m9)(x))}static credential(_,x){return Ts._fromVerification(_,x)}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:ne}=_;return x&&ne?Ts._fromTokenResponse(x,ne):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function ra(E,g){return g?qe(g):(We(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class ia extends Gn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return oi(g,this._buildIdpRequest())}_linkToIdToken(g,_){return oi(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return oi(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function So(E){return dt(E.auth,new ia(E),E.bypassAuthState)}function Sl(E){const{auth:g,user:_}=E;return We(_,g,"internal-error"),ae(_,new ia(E),E.bypassAuthState)}function wc(E){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,a.Z)(function*(E){const{auth:g,user:_}=E;return We(_,g,"internal-error"),En(_,new ia(E),E.bypassAuthState)})).apply(this,arguments)}class $s{constructor(g,_,x,ne,de=!1){this.auth=g,this.resolver=x,this.user=ne,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,a.Z)(function*(x,ne){g.pendingPromise={resolve:x,reject:ne};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(de){g.reject(de)}});return function(x,ne){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,a.Z)(function*(){const{urlResponse:x,sessionId:ne,postBody:de,tenantId:it,error:Gt,type:kn}=g;if(Gt)return void _.reject(Gt);const Rn={auth:_.auth,requestUri:x,sessionId:ne,tenantId:it||void 0,postBody:de||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(kn)(Rn))}catch(xn){_.reject(xn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return So;case"linkViaPopup":case"linkViaRedirect":return wc;case"reauthViaPopup":case"reauthViaRedirect":return Sl;default:xt(this.auth,"internal-error")}}resolve(g){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xo=new Ot(2e3,1e4);function Ki(E,g,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,a.Z)(function*(E,g,_){const x=Lt(E);lt(E,g,gs);const ne=ra(x,_);return new qa(x,"signInViaPopup",g,ne).executeNotNull()})).apply(this,arguments)}function fa(E,g,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E);lt(x.auth,g,gs);const ne=ra(x.auth,_);return new qa(x.auth,"reauthViaPopup",g,ne,x).executeNotNull()})).apply(this,arguments)}function Al(E,g,_){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E);lt(x.auth,g,gs);const ne=ra(x.auth,_);return new qa(x.auth,"linkViaPopup",g,ne,x).executeNotNull()})).apply(this,arguments)}let qa=(()=>{class E extends $s{constructor(_,x,ne,de,it){super(_,x,de,it),this.provider=ne,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const x=yield _.execute();return We(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,a.Z)(function*(){ht(1===_.filter.length,"Popup operations only handle one event");const x=me();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(ne=>{_.reject(ne)}),_.resolver._isIframeWebStorageSupported(_.auth,ne=>{ne||_.reject(Je(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,ne;this.pollId=(null===(ne=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===ne?void 0:ne.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Xo.get())};_()}}return E.currentPopupAction=null,E})();const Ia=new Map;class Pa extends $s{constructor(g,_,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,a.Z)(function*(){let x=Ia.get(_.auth._key());if(!x){try{const de=(yield function ml(E,g){return xl.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;x=()=>Promise.resolve(de)}catch(ne){x=()=>Promise.reject(ne)}Ia.set(_.auth._key(),x)}return _.bypassAuthState||Ia.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,x=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(x,g);if("unknown"!==g.type){if(g.eventId){const ne=yield x.auth._redirectUserForId(g.eventId);if(ne)return x.user=ne,_().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function xl(){return(xl=(0,a.Z)(function*(E,g){const _=Yc(g),x=Cc(E);if(!(yield x._isAvailable()))return!1;const ne="true"===(yield x._get(_));return yield x._remove(_),ne})).apply(this,arguments)}function sa(E,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(E,g){return Cc(E)._set(Yc(g),"true")})).apply(this,arguments)}function ec(){Ia.clear()}function Ka(E,g){Ia.set(E._key(),g)}function Cc(E){return qe(E._redirectPersistence)}function Yc(E){return we("pendingRedirect",E.config.apiKey,E.name)}function Ls(E,g,_){return function Jc(E,g,_){return Ei.apply(this,arguments)}(E,g,_)}function Ei(){return(Ei=(0,a.Z)(function*(E,g,_){const x=Lt(E);lt(E,g,gs);const ne=ra(x,_);return yield sa(ne,x),ne._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function Ec(E,g,_){return function L(E,g,_){return $.apply(this,arguments)}(E,g,_)}function $(){return($=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E);lt(x.auth,g,gs);const ne=ra(x.auth,_);yield sa(ne,x.auth);const de=yield jn(x);return ne._openRedirect(x.auth,g,"reauthViaRedirect",de)})).apply(this,arguments)}function ie(E,g,_){return function Ee(E,g,_){return Ye.apply(this,arguments)}(E,g,_)}function Ye(){return(Ye=(0,a.Z)(function*(E,g,_){const x=(0,b.m9)(E);lt(x.auth,g,gs);const ne=ra(x.auth,_);yield te(!1,x,g.providerId),yield sa(ne,x.auth);const de=yield jn(x);return ne._openRedirect(x.auth,g,"linkViaRedirect",de)})).apply(this,arguments)}function yt(E,g){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(E,g){return yield Lt(E)._initializationPromise,Sn(E,g,!1)})).apply(this,arguments)}function Sn(E,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(E,g,_=!1){const x=Lt(E),ne=ra(x,g),it=yield new Pa(x,ne,_).execute();return it&&!_&&(delete it.user._redirectEventId,yield x._persistUserIfCurrent(it.user),yield x._setRedirectUser(null,g)),it})).apply(this,arguments)}function jn(E){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,a.Z)(function*(E){const g=me(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class As{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(_=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ka(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ta(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var x;if(g.error&&!Ta(g)){const ne=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(Je(this.auth,ne))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const x=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bo(g))}saveEventToCache(g){this.cachedEventUids.add(Bo(g)),this.lastProcessedEventTime=Date.now()}}function Bo(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function Ta({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===(null==g?void 0:g.code)}function pa(E){return oa.apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(E,g={}){return wt(E,"GET","/v1/projects",g)})).apply(this,arguments)}const Fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cl=/^https?/;function Vo(){return(Vo=(0,a.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield pa(E);for(const _ of g)try{if(ga(_))return}catch(x){}xt(E,"unauthorized-domain")})).apply(this,arguments)}function ga(E){const g=et(),{protocol:_,hostname:x}=new URL(g);if(E.startsWith("chrome-extension://")){const it=new URL(E);return""===it.hostname&&""===x?"chrome-extension:"===_&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&it.hostname===x}if(!cl.test(_))return!1;if(Fa.test(E))return x===E;const ne=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(x)}const gd=new Ot(3e4,6e4);function ul(){const E=Zt().___jsl;if(null==E?void 0:E.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let tc=null;function Qc(E){return tc=tc||function Au(E){return new Promise((g,_)=>{var x,ne,de;function it(){ul(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ul(),_(Je(E,"network-request-failed"))},timeout:gd.get()})}if(null===(ne=null===(x=Zt().gapi)||void 0===x?void 0:x.iframes)||void 0===ne?void 0:ne.Iframe)g(gapi.iframes.getContext());else{if(!(null===(de=Zt().gapi)||void 0===de?void 0:de.load)){const Gt=Wa("iframefcb");return Zt()[Gt]=()=>{gapi.load?it():_(Je(E,"network-request-failed"))},_o(`https://apis.google.com/js/api.js?onload=${Gt}`).catch(kn=>_(kn))}it()}}).catch(g=>{throw tc=null,g})}(E),tc}const Xc=new Ot(5e3,15e3),Ml={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},La=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xu(E){const g=E.config;We(g.authDomain,E,"auth-domain-config-required");const _=g.emulator?gn(g,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,x={apiKey:g.apiKey,appName:E.name,v:K.SDK_VERSION},ne=La.get(E.config.apiHost);ne&&(x.eid=ne);const de=E._getFrameworks();return de.length&&(x.fw=de.join(",")),`${_}?${(0,b.xO)(x).slice(1)}`}function nc(){return nc=(0,a.Z)(function*(E){const g=yield Qc(E),_=Zt().gapi;return We(_,E,"internal-error"),g.open({where:document.body,url:xu(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ml,dontclear:!0},x=>new Promise(function(){var ne=(0,a.Z)(function*(de,it){yield x.restyle({setHideOnLeave:!1});const Gt=Je(E,"network-request-failed"),kn=Zt().setTimeout(()=>{it(Gt)},Xc.get());function Rn(){Zt().clearTimeout(kn),de(x)}x.ping(Rn).then(Rn,()=>{it(Gt)})});return function(de,it){return ne.apply(this,arguments)}}()))}),nc.apply(this,arguments)}const rc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function _l(E,g,_,x,ne,de){We(E.config.authDomain,E,"auth-domain-config-required"),We(E.config.apiKey,E,"invalid-api-key");const it={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:x,v:K.SDK_VERSION,eventId:ne};if(g instanceof gs){g.setDefaultLanguage(E.languageCode),it.providerId=g.providerId||"",(0,b.xb)(g.getCustomParameters())||(it.customParameters=JSON.stringify(g.getCustomParameters()));for(const[kn,Rn]of Object.entries(de||{}))it[kn]=Rn}if(g instanceof wi){const kn=g.getScopes().filter(Rn=>""!==Rn);kn.length>0&&(it.scopes=kn.join(","))}E.tenantId&&(it.tid=E.tenantId);const Gt=it;for(const kn of Object.keys(Gt))void 0===Gt[kn]&&delete Gt[kn];return`${function aa({config:E}){return E.emulator?gn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,b.xO)(Gt).slice(1)}`}const yl="webStorageSupport",_d=class Ol{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C,this._completeRedirectFn=Sn,this._overrideRedirectResult=Ka}_openPopup(g,_,x,ne){var de=this;return(0,a.Z)(function*(){var it;ht(null===(it=de.eventManagers[g._key()])||void 0===it?void 0:it.manager,"_initialize() not called before _openPopup()");const Gt=_l(g,_,x,et(),ne);return function tu(E,g,_,x=500,ne=600){const de=Math.max((window.screen.availHeight-ne)/2,0).toString(),it=Math.max((window.screen.availWidth-x)/2,0).toString();let Gt="";const kn=Object.assign(Object.assign({},rc),{width:x.toString(),height:ne.toString(),top:de,left:it}),Rn=(0,b.z$)().toLowerCase();_&&(Gt=tt(Rn)?"_blank":_),oe(Rn)&&(g=g||"http://localhost",kn.scrollbars="yes");const xn=Object.entries(kn).reduce((Sa,[xo,xc])=>`${Sa}${xo}=${xc},`,"");if(function Hr(E=(0,b.z$)()){var g;return hn(E)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Rn)&&"_self"!==Gt)return function Ch(E,g){const _=document.createElement("a");_.href=E,_.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(g||"",Gt),new Tc(null);const es=window.open(g||"",Gt,xn);We(es,E,"popup-blocked");try{es.focus()}catch(Sa){}return new Tc(es)}(g,Gt,me())})()}_openRedirect(g,_,x,ne){var de=this;return(0,a.Z)(function*(){return yield de._originValidation(g),function _i(E){Zt().location.href=E}(_l(g,_,x,et(),ne)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:ne,promise:de}=this.eventManagers[_];return ne?Promise.resolve(ne):(ht(de,"If manager is not set, promise should be"),de)}const x=this.initAndGetManager(g);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(g){var _=this;return(0,a.Z)(function*(){const x=yield function Ic(E){return nc.apply(this,arguments)}(g),ne=new As(g);return x.register("authEvent",de=>(We(null==de?void 0:de.authEvent,g,"invalid-auth-event"),{status:ne.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:ne},_.iframes[g._key()]=x,ne})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(yl,{type:yl},ne=>{var de;const it=null===(de=null==ne?void 0:ne[0])||void 0===de?void 0:de[yl];void 0!==it&&_(!!it),xt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ao(E){return Vo.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Wt()||fe()||hn()}};class Ru extends class Sc{constructor(g){this.factorId=g}_process(g,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,x);case"signin":return this._finalizeSignIn(g,_.credential);default:return st("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ru(g)}_finalizeEnroll(g,_,x){return function po(E,g){return wt(E,"POST","/v2/accounts/mfaEnrollment:finalize",ct(E,g))}(g,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Fo(E,g){return wt(E,"POST","/v2/accounts/mfaSignIn:finalize",ct(E,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ih=(()=>{class E{constructor(){}static assertion(_){return Ru._fromCredential(_)}}return E.FACTOR_ID="phone",E})();var Ac="@firebase/auth",Pu="0.20.10";class yd{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(x=>{var ne;g((null===(ne=x)||void 0===ne?void 0:ne.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Th=(0,b.Pz)("authIdTokenMaxAge")||300;let vd=null;const vl=E=>function(){var g=(0,a.Z)(function*(_){const x=_&&(yield _.getIdTokenResult()),ne=x&&((new Date).getTime()-Date.parse(x.issuedAtTime))/1e3;if(ne&&ne>Th)return;const de=null==x?void 0:x.token;vd!==de&&(vd=de,yield fetch(E,{method:de?"POST":"DELETE",headers:de?{Authorization:`Bearer ${de}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function iu(E=(0,K.getApp)()){const g=(0,K._getProvider)(E,"auth");if(g.isInitialized())return g.getImmediate();const _=function je(E,g){const _=(0,K._getProvider)(E,"auth");if(_.isInitialized()){const ne=_.getImmediate(),de=_.getOptions();if((0,b.vZ)(de,null!=g?g:{}))return ne;xt(ne,"already-initialized")}return _.initialize({options:g})}(E,{popupRedirectResolver:_d,persistence:[to,le,C]}),x=(0,b.Pz)("authTokenSyncURL");if(x){const de=vl(x);(function Mi(E,g,_){(0,b.m9)(E).beforeAuthStateChanged(g,_)})(_,de,()=>de(_.currentUser)),function fo(E,g,_,x){(0,b.m9)(E).onIdTokenChanged(g,_,x)}(_,it=>de(it))}const ne=(0,b.q4)("auth");return ne&&_r(_,`http://${ne}`),_}!function nu(E){(0,K._registerComponent)(new ke.wA("auth",(g,{options:_})=>{const x=g.getProvider("app").getImmediate(),ne=g.getProvider("heartbeat"),{apiKey:de,authDomain:it}=x.options;return((Gt,kn)=>{We(de&&!de.includes(":"),"invalid-api-key",{appName:Gt.name}),We(!(null==it?void 0:it.includes(":")),"argument-error",{appName:Gt.name});const Rn={apiKey:de,authDomain:it,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qn(E)},xn=new Vr(Gt,kn,Rn);return function Xe(E,g){const _=(null==g?void 0:g.persistence)||[],x=(Array.isArray(_)?_:[_]).map(qe);(null==g?void 0:g.errorMap)&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(x,null==g?void 0:g.popupRedirectResolver)}(xn,_),xn})(x,ne)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,x)=>{g.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new ke.wA("auth-internal",g=>{const _=Lt(g.getProvider("auth").getImmediate());return new yd(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(Ac,Pu,function xs(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,K.registerVersion)(Ac,Pu,"esm2017")}("Browser")},5525:(tn,Oe,U)=>{"use strict";U.d(Oe,{u7:()=>_h,Jj:()=>Zl,IX:()=>k_,my:()=>Ns,xU:()=>Wc,Lz:()=>$c,WA:()=>zt,F8:()=>od,$q:()=>Ga,W:()=>la,EK:()=>Oi,PU:()=>hg,l7:()=>ia,Ky:()=>J,Xb:()=>W,Cf:()=>di,K9:()=>go,Me:()=>gl,yq:()=>po,Wi:()=>Hc,ET:()=>Vm,Ab:()=>Zm,vr:()=>zm,Fc:()=>ig,hJ:()=>rm,B$:()=>im,at:()=>Iu,oe:()=>Q_,AK:()=>Gm,TF:()=>B_,JU:()=>qp,ST:()=>L_,fH:()=>bm,Ix:()=>sg,Wu:()=>z_,Lx:()=>W_,qY:()=>wo,GL:()=>dd,QT:()=>Lm,kl:()=>q_,Xk:()=>K_,PL:()=>Y_,UQ:()=>dg,zN:()=>yh,ad:()=>F_,nP:()=>ey,b9:()=>G_,vh:()=>Mm,Pb:()=>ch,L$:()=>wm,cf:()=>Um,sc:()=>Uf,Xo:()=>xm,IO:()=>H_,iE:()=>Af,Eo:()=>sm,i3:()=>$m,Bt:()=>Wm,pl:()=>J_,Ub:()=>Rs,qK:()=>Fm,TQ:()=>Pm,e0:()=>Rm,r7:()=>Bm,Mx:()=>rv,ar:()=>$_});var ue,a=U(5861),b=U(9681),K=U(4859),Ie=U(1877),be=U(2090),ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Me={},$e=$e||{},ce=ke||self;function pe(){}function Re(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ze(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var mt="closure_uid_"+(1e9*Math.random()>>>0),Et=0;function nt(i,e,t){return i.call.apply(i.bind,arguments)}function rt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function pt(i,e,t){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:rt).apply(null,arguments)}function xt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Je(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,c,f){for(var v=Array(arguments.length-2),M=2;M<arguments.length;M++)v[M-2]=arguments[M];return e.prototype[c].apply(o,v)}}function ut(){this.s=this.s,this.o=this.o}var Pt={};ut.prototype.s=!1,ut.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Qe(i){return Object.prototype.hasOwnProperty.call(i,mt)&&i[mt]||(i[mt]=++Et)}(this);delete Pt[i]}},ut.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const We=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function st(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function ht(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Re(o)){const c=i.length||0,f=o.length||0;i.length=c+f;for(let v=0;v<f;v++)i[c+v]=o[v]}else i.push(o)}}function Ne(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var qe=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ce.addEventListener("test",pe,e),ce.removeEventListener("test",pe,e)}catch(t){}return i}();function je(i){return/^[\s\xa0]*$/.test(i)}var Xe=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function et(i,e){return i<e?-1:i>e?1:0}function Nt(){var i=ce.navigator;return i&&(i=i.userAgent)?i:""}function Vt(i){return-1!=Nt().indexOf(i)}function pn(i){return pn[" "](i),i}pn[" "]=pe;var mn,i,Ot=Vt("Opera"),gn=Vt("Trident")||Vt("MSIE"),an=Vt("Edge"),St=an||gn,nn=Vt("Gecko")&&!(-1!=Nt().toLowerCase().indexOf("webkit")&&!Vt("Edge"))&&!(Vt("Trident")||Vt("MSIE"))&&!Vt("Edge"),ct=-1!=Nt().toLowerCase().indexOf("webkit")&&!Vt("Edge");function wt(){var i=ce.document;return i?i.documentMode:void 0}e:{var Jn="",dr=(i=Nt(),nn?/rv:([^\);]+)(\)|;)/.exec(i):an?/Edge\/([\d\.]+)/.exec(i):gn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ct?/WebKit\/(\S+)/.exec(i):Ot?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(dr&&(Jn=dr?dr[1]:""),gn){var or=wt();if(null!=or&&or>parseFloat(Jn)){mn=String(or);break e}}mn=Jn}var Cr={};var Er=ce.document&&gn&&(wt()||parseInt(mn,10))||void 0;function Kt(i,e){if(Ne.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(nn){e:{try{pn(e.nodeName);var c=!0;break e}catch(f){}c=!1}c||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Cn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Kt.X.h.call(this)}}Je(Kt,Ne);var Cn={2:"touch",3:"pen",4:"mouse"};Kt.prototype.h=function(){Kt.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Nn="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function Vn(i,e,t,o,c){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=c,this.key=++Bt,this.ba=this.ea=!1}function Ar(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function zr(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function rr(i){const e={};for(const t in i)e[t]=i[t];return e}const ur="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ir(i,e){let t,o;for(let c=1;c<arguments.length;c++){for(t in o=arguments[c],o)i[t]=o[t];for(let f=0;f<ur.length;f++)t=ur[f],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Pn(i){this.src=i,this.g={},this.h=0}function Ft(i,e){var t=e.type;if(t in i.g){var f,o=i.g[t],c=We(o,e);(f=0<=c)&&Array.prototype.splice.call(o,c,1),f&&(Ar(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ln(i,e,t,o){for(var c=0;c<i.length;++c){var f=i[c];if(!f.ba&&f.listener==e&&f.capture==!!t&&f.ha==o)return c}return-1}Pn.prototype.add=function(i,e,t,o,c){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var v=ln(i,e,o,c);return-1<v?(e=i[v],t||(e.ea=!1)):((e=new Vn(e,this.src,f,!!o,c)).ea=t,i.push(e)),e};var ni="closure_lm_"+(1e6*Math.random()|0),Pr={};function gr(i,e,t,o,c){if(o&&o.once)return Fr(i,e,t,o,c);if(Array.isArray(e)){for(var f=0;f<e.length;f++)gr(i,e[f],t,o,c);return null}return t=Xt(t),i&&i[Nn]?i.N(e,t,Ze(o)?!!o.capture:!!o,c):xr(i,e,t,!1,o,c)}function xr(i,e,t,o,c,f){if(!e)throw Error("Invalid event type");var v=Ze(c)?!!c.capture:!!c,M=$t(i);if(M||(i[ni]=M=new Pn(i)),(t=M.add(e,t,o,v,f)).proxy)return t;if(o=function hr(){const e=hi;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)qe||(c=v),void 0===c&&(c=!1),i.addEventListener(e.toString(),o,c);else if(i.attachEvent)i.attachEvent(lr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Fr(i,e,t,o,c){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Fr(i,e[f],t,o,c);return null}return t=Xt(t),i&&i[Nn]?i.O(e,t,Ze(o)?!!o.capture:!!o,c):xr(i,e,t,!0,o,c)}function Fn(i,e,t,o,c){if(Array.isArray(e))for(var f=0;f<e.length;f++)Fn(i,e[f],t,o,c);else o=Ze(o)?!!o.capture:!!o,t=Xt(t),i&&i[Nn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ln(f=i.g[e],t,o,c))&&(Ar(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=$t(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ln(e,t,o,c)),(t=-1<i?e[i]:null)&&Or(t))}function Or(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Nn])Ft(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(lr(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=$t(e))?(Ft(t,i),0==t.h&&(t.src=null,e[ni]=null)):Ar(i)}}}function lr(i){return i in Pr?Pr[i]:Pr[i]="on"+i}function hi(i,e){if(i.ba)i=!0;else{e=new Kt(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Or(i),i=t.call(o,e)}return i}function $t(i){return(i=i[ni])instanceof Pn?i:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xt(i){return"function"==typeof i?i:(i[Dt]||(i[Dt]=function(e){return i.handleEvent(e)}),i[Dt])}function cn(){ut.call(this),this.i=new Pn(this),this.P=this,this.I=null}function dn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ne(e,i);else if(e instanceof Ne)e.target=e.target||i;else{var c=e;Ir(e=new Ne(o,i),c)}if(c=!0,t)for(var f=t.length-1;0<=f;f--){var v=e.g=t[f];c=ir(v,o,!0,e)&&c}if(c=ir(v=e.g=i,o,!0,e)&&c,c=ir(v,o,!1,e)&&c,t)for(f=0;f<t.length;f++)c=ir(v=e.g=t[f],o,!1,e)&&c}function ir(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,f=0;f<e.length;++f){var v=e[f];if(v&&!v.ba&&v.capture==t){var M=v.listener,z=v.ha||v.src;v.ea&&Ft(i.i,v),c=!1!==M.call(z,o)&&c}}return c&&!o.defaultPrevented}Je(cn,ut),cn.prototype[Nn]=!0,cn.prototype.removeEventListener=function(i,e,t,o){Fn(this,i,e,t,o)},cn.prototype.M=function(){if(cn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Ar(t[o]);delete i.g[e],i.h--}}this.I=null},cn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},cn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var ye=ce.JSON.stringify;function we(){var i=Zn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Rt,ge=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new oe,i=>i.reset());class oe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fe(i){ce.setTimeout(()=>{throw i},0)}function tt(i,e){Rt||function un(){var i=ce.Promise.resolve(void 0);Rt=function(){i.then(hn)}}(),rn||(Rt(),rn=!0),Zn.add(i,e)}var rn=!1,Zn=new class Fe{constructor(){this.h=this.g=null}add(e,t){const o=ge.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function hn(){for(var i;i=we();){try{i.h.call(i.g)}catch(t){fe(t)}var e=ge;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}rn=!1}function br(i,e){cn.call(this),this.h=i||1,this.g=e||ce,this.j=pt(this.lb,this),this.l=Date.now()}function Hr(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Mt(i,e,t){if("function"==typeof i)t&&(i=pt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=pt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ce.setTimeout(i,e||0)}function Wt(i){i.g=Mt(()=>{i.g=null,i.i&&(i.i=!1,Wt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Je(br,cn),(ue=br.prototype).ca=!1,ue.R=null,ue.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),dn(this,"tick"),this.ca&&(Hr(this),this.start()))}},ue.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.M=function(){br.X.M.call(this),Hr(this),delete this.g};class wn extends ut{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wt(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(i){ut.call(this),this.h=i,this.g={}}Je(qn,ut);var mr=[];function Vr(i,e,t,o){Array.isArray(t)||(t&&(mr[0]=t.toString()),t=mr);for(var c=0;c<t.length;c++){var f=gr(e,t[c],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Lt(i){zr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Or(e)},i),i.g={}}function Yn(){this.g=!0}function gi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ai(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<c.length;v++)c[v]=""}}}return ye(t)}catch(M){return e}}(i,t)+(o?" "+o:"")})}qn.prototype.M=function(){qn.X.M.call(this),Lt(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yn.prototype.Aa=function(){this.g=!1},Yn.prototype.info=function(){};var Gn={},Ii=null;function Sr(){return Ii=Ii||new cn}function Wn(i){Ne.call(this,Gn.Pa,i)}function xi(i){const e=Sr();dn(e,new Wn(e,i))}function cs(i,e){Ne.call(this,Gn.STAT_EVENT,i),this.stat=e}function qr(i){const e=Sr();dn(e,new cs(e,i))}function Qr(i,e){Ne.call(this,Gn.Qa,i),this.size=e}function Kr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){i()},e)}Gn.Pa="serverreachability",Je(Wn,Ne),Gn.STAT_EVENT="statevent",Je(cs,Ne),Gn.Qa="timingevent",Je(Qr,Ne);var Pi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ze={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ve(){}function At(){}Ve.prototype.h=null;var Ur,Ht={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function on(){Ne.call(this,"d")}function Xn(){Ne.call(this,"c")}function yr(){}function fr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new qn(this),this.O=us,this.T=new br(i=St?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}Je(on,Ne),Je(Xn,Ne),Je(yr,Ve),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},Ur=new yr;var us=45e3,Hi={},Ti={};function oi(i,e,t){i.K=1,i.v=hs(ds(e)),i.s=t,i.P=!0,Vs(i,null)}function Vs(i,e){i.F=Date.now(),Ps(i),i.A=ds(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),xe(t.i,"t",o),i.C=0,t=i.l.H,i.h=new fi,i.g=na(i.l,t?e:null,!i.s),0<i.N&&(i.L=new wn(pt(i.La,i,i.g),i.N)),Vr(i.S,i.g,"readystatechange",i.ib),e=i.H?rr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),xi(1),function _r(i,e,t,o,c,f){i.info(function(){if(i.g)if(f)for(var v="",M=f.split("&"),z=0;z<M.length;z++){var X=M[z].split("=");if(1<X.length){var he=X[0];X=X[1];var Pe=he.split("_");v=2<=Pe.length&&"type"==Pe[1]?v+(he+"=")+X+"&":v+(he+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Ro(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Vi(i,e,t){let c,o=!0;for(;!i.I&&i.C<t.length;){if(c=Us(i,t),c==Ti){4==e&&(i.o=4,qr(14),o=!1),gi(i.j,i.m,null,"[Incomplete Response]");break}if(c==Hi){i.o=4,qr(15),gi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}gi(i.j,i.m,c,null),Ws(i,c)}Ro(i)&&c!=Ti&&c!=Hi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,qr(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),vs(e),e.K=!0,qr(11))):(gi(i.j,i.m,t,"[Invalid Chunked Response]"),Is(i),$i(i))}function Us(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Ti:(t=Number(e.substring(t,o)),isNaN(t)?Hi:(o+=1)+t>e.length?Ti:(e=e.substr(o,t),i.C=o+t,e))}function Ps(i){i.V=Date.now()+i.O,Do(i,i.O)}function Do(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Kr(pt(i.gb,i),e)}function ps(i){i.B&&(ce.clearTimeout(i.B),i.B=null)}function $i(i){0==i.l.G||i.I||qo(i.l,i)}function Is(i){ps(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Hr(i.T),Lt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ws(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||te(t.h,i)))if(!i.J&&te(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(X){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(t.u)t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=Kr(pt(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Zs(t),ys(t)}ao(t),qr(18)}if(1>=R(t.h)&&t.ja){try{t.ja()}catch(X){}t.ja=void 0}}else co(t,11)}else if((i.J||t.g==i)&&Zs(t),!je(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let X=c[e];if(t.T=X[0],X=X[1],2==t.G)if("c"==X[0]){t.I=X[1],t.ka=X[2];const he=X[3];null!=he&&(t.ma=he,t.j.info("VER="+t.ma));const Pe=X[4];null!=Pe&&(t.Ca=Pe,t.j.info("SVER="+t.Ca));const gt=X[5];null!=gt&&"number"==typeof gt&&0<gt&&(t.J=o=1.5*gt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const jt=i.g;if(jt){const qt=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qt){var f=o.h;f.g||-1==qt.indexOf("spdy")&&-1==qt.indexOf("quic")&&-1==qt.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(j(f,f.h),f.h=null))}if(o.D){const $n=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;$n&&(o.za=$n,$r(o.F,o.D,$n))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var v=i;if((o=t).sa=ca(o,o.H?o.ka:null,o.V),v.J){ae(o.h,v);var M=v,z=o.J;z&&M.setTimeout(z),M.B&&(ps(M),Ps(M)),o.g=v}else oo(o);0<t.i.length&&so(t)}else"stop"!=X[0]&&"close"!=X[0]||co(t,7);else 3==t.G&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?co(t,7):io(t):"noop"!=X[0]&&t.l&&t.l.wa(X),t.A=0)}xi(4)}catch(X){}}function Ts(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Re(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Qs(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(Re(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function zo(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Re(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),c=o.length,f=0;f<c;f++)e.call(void 0,o[f],t&&t[f],i)}(ue=fr.prototype).setTimeout=function(i){this.O=i},ue.ib=function(i){i=i.target;const e=this.L;e&&3==kt(i)?e.l():this.La(i)},ue.La=function(i){try{if(i==this.g)e:{const he=kt(this.g);var e=this.g.Ea();const Pe=this.g.aa();if(!(3>he)&&(3!=he||St||this.g&&(this.h.h||this.g.fa()||jr(this.g)))){this.I||4!=he||7==e||xi(8==e||0>=Pe?3:2),ps(this);var t=this.g.aa();this.Y=t;t:if(Ro(this)){var o=jr(this.g);i="";var c=o.length,f=4==kt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Is(this),$i(this);var v="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==c-1});o.splice(0,c),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.fa();if(this.i=200==t,function ri(i,e,t,o,c,f,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.U,he,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var M,z=this.g;if((M=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!je(M)){var X=M;break t}}X=null}if(!(t=X)){this.i=!1,this.o=3,qr(12),Is(this),$i(this);break e}gi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ws(this,t)}this.P?(Vi(this,he,v),St&&this.i&&3==he&&(Vr(this.S,this.T,"tick",this.hb),this.T.start())):(gi(this.j,this.m,v,null),Ws(this,v)),4==he&&Is(this),this.i&&!this.I&&(4==he?qo(this.l,this):(this.i=!1,Ps(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,qr(12)):(this.o=0,qr(13)),Is(this),$i(this)}}}catch(he){}},ue.hb=function(){if(this.g){var i=kt(this.g),e=this.g.fa();this.C<e.length&&(ps(this),Vi(this,i,e),this.i&&4!=i&&Ps(this))}},ue.cancel=function(){this.I=!0,Is(this)},ue.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function si(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xi(3),qr(17)),Is(this),this.o=2,$i(this)):Do(this,this.V-i)};var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ki(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ki){this.h=void 0!==e?e:i.h,bi(this,i.j),this.s=i.s,this.g=i.g,gs(this,i.m),this.l=i.l,e=i.i;var t=new ai;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),wi(this,t),this.o=i.o}else i&&(t=String(i).match(Po))?(this.h=!!e,bi(this,t[1]||"",!0),this.s=ms(t[2]||""),this.g=ms(t[3]||"",!0),gs(this,t[4]),this.l=ms(t[5]||"",!0),wi(this,t[6]||"",!0),this.o=ms(t[7]||"")):(this.h=!!e,this.i=new ai(null,this.h))}function ds(i){return new ki(i)}function bi(i,e,t){i.j=t?ms(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function gs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function wi(i,e,t){e instanceof ai?(i.i=e,function Ct(i,e){e&&!i.j&&(ee(i),i.i=null,i.g.forEach(function(t,o){var c=o.toLowerCase();o!=c&&(Q(this,o),xe(this,c,t))},i)),i.j=e}(i.i,i.h)):(t||(e=zs(e,ss)),i.i=new ai(e,i.h))}function $r(i,e,t){i.i.set(e,t)}function hs(i){return $r(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ms(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function zs(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Xs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Xs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ki.prototype.toString=function(){var i=[],e=this.j;e&&i.push(zs(e,is,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(zs(e,is,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(zs(t,"/"==t.charAt(0)?Wi:Gi,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",zs(t,_s)),i.join("")};var is=/[#\/\?@]/g,Gi=/[#\?:]/g,Wi=/[#\?]/g,ss=/[#\?@]/g,_s=/#/g;function ai(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ee(i){i.g||(i.g=new Map,i.h=0,i.i&&function Zo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),c=null;if(0<=o){var f=i[t].substring(0,o);c=i[t].substring(o+1)}else f=i[t];e(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Q(i,e){ee(i),e=Ue(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function De(i,e){return ee(i),e=Ue(i,e),i.g.has(e)}function xe(i,e,t){Q(i,e),0<t.length&&(i.i=null,i.g.set(Ue(i,e),st(t)),i.h+=t.length)}function Ue(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function yn(i){this.l=i||Tn,i=ce.PerformanceNavigationTiming?0<(i=ce.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ce.g&&ce.g.Ga&&ce.g.Ga()&&ce.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ue=ai.prototype).add=function(i,e){ee(this),this.i=null,i=Ue(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ue.forEach=function(i,e){ee(this),this.g.forEach(function(t,o){t.forEach(function(c){i.call(e,c,o,this)},this)},this)},ue.oa=function(){ee(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const c=i[o];for(let f=0;f<c.length;f++)t.push(e[o])}return t},ue.W=function(i){ee(this);let e=[];if("string"==typeof i)De(this,i)&&(e=e.concat(this.g.get(Ue(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ue.set=function(i,e){return ee(this),this.i=null,De(this,i=Ue(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ue.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const f=encodeURIComponent(String(o)),v=this.W(o);for(o=0;o<v.length;o++){var c=f;""!==v[o]&&(c+="="+encodeURIComponent(String(v[o]))),i.push(c)}}return this.i=i.join("&")};var Tn=10;function En(i){return!!i.h||!!i.g&&i.g.size>=i.j}function R(i){return i.h?1:i.g?i.g.size:0}function te(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function j(i,e){i.g?i.g.add(e):i.h=e}function ae(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Se(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return st(i.i)}function dt(){}function vt(){this.g=new dt}function vn(i,e,t){const o=t||"";try{Ts(i,function(c,f){let v=c;Ze(c)&&(v=ye(c)),e.push(o+f+"="+encodeURIComponent(v))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function tr(i,e,t,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch(f){}}function On(i){this.l=i.ac||null,this.j=i.jb||!1}function pr(i,e){cn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Nr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn.prototype.cancel=function(){if(this.i=Se(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},dt.prototype.stringify=function(i){return ce.JSON.stringify(i,void 0)},dt.prototype.parse=function(i){return ce.JSON.parse(i,void 0)},Je(On,Ve),On.prototype.g=function(){return new pr(this.l,this.j)},On.prototype.i=function(i){return function(){return i}}({}),Je(pr,cn);var Nr=0;function Gr(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function kr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Fi(i)}function Fi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ue=pr.prototype).open=function(i,e){if(this.readyState!=Nr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Fi(this)},ue.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ce).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kr(this)),this.readyState=Nr},ue.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==ce.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gr(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ue.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?kr(this):Fi(this),3==this.readyState&&Gr(this)}},ue.Va=function(i){this.g&&(this.response=this.responseText=i,kr(this))},ue.Ua=function(i){this.g&&(this.response=i,kr(this))},ue.ga=function(){this.g&&kr(this)},ue.setRequestHeader=function(i,e){this.v.append(i,e)},ue.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var os=ce.JSON.parse;function fn(i){cn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ci,this.K=this.L=!1}Je(fn,cn);var ci="",Ui=/^https?$/i,Co=["POST","PUT"];function G(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,B(i),se(i)}function B(i){i.D||(i.D=!0,dn(i,"complete"),dn(i,"error"))}function F(i){if(i.h&&void 0!==$e&&(!i.C[1]||4!=kt(i)||2!=i.aa()))if(i.v&&4==kt(i))Mt(i.Ha,0,i);else if(dn(i,"readystatechange"),4==kt(i)){i.h=!1;try{const M=i.aa();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===M){var c=String(i.H).match(Po)[1]||null;if(!c&&ce.self&&ce.self.location){var f=ce.self.location.protocol;c=f.substr(0,f.length-1)}o=!Ui.test(c?c.toLowerCase():"")}t=o}if(t)dn(i,"complete"),dn(i,"success");else{i.m=6;try{var v=2<kt(i)?i.g.statusText:""}catch(z){v=""}i.j=v+" ["+i.aa()+"]",B(i)}}finally{se(i)}}}function se(i,e){if(i.g){Te(i);const t=i.g,o=i.C[0]?pe:null;i.g=null,i.C=null,e||dn(i,"ready");try{t.onreadystatechange=o}catch(c){}}}function Te(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ce.clearTimeout(i.A),i.A=null)}function kt(i){return i.g?i.g.readyState:0}function jr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ci:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Tr(i){let e="";return zr(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Qi(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Tr(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):$r(i,e,t))}function zi(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function as(i){this.Ca=0,this.i=[],this.j=new Yn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=zi("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=zi("baseRetryDelayMs",5e3,i),this.bb=zi("retryDelaySeedMs",1e4,i),this.$a=zi("forwardChannelMaxRetries",2,i),this.ta=zi("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new yn(i&&i.concurrentRequestLimit),this.Fa=new vt,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function io(i){if(Oa(i),3==i.G){var e=i.U++,t=ds(i.F);$r(t,"SID",i.I),$r(t,"RID",e),$r(t,"TYPE","terminate"),Ni(i,t),(e=new fr(i,i.j,e,void 0)).K=2,e.v=hs(ds(t)),t=!1,ce.navigator&&ce.navigator.sendBeacon&&(t=ce.navigator.sendBeacon(e.v.toString(),"")),!t&&ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=na(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ps(e)}uo(i)}function ys(i){i.g&&(vs(i),i.g.cancel(),i.g=null)}function Oa(i){ys(i),i.u&&(ce.clearTimeout(i.u),i.u=null),Zs(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ce.clearTimeout(i.m),i.m=null)}function so(i){En(i.h)||i.m||(i.m=!0,tt(i.Ja,i),i.C=0)}function ko(i,e){var t;t=e?e.m:i.U++;const o=ds(i.F);$r(o,"SID",i.I),$r(o,"RID",t),$r(o,"AID",i.T),Ni(i,o),i.o&&i.s&&Qi(o,i.o,i.s),t=new fr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Os(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),j(i.h,t),oi(t,o,e)}function Ni(i,e){i.ia&&zr(i.ia,function(t,o){$r(e,o,t)}),i.l&&Ts({},function(t,o){$r(e,o,t)})}function Os(i,e,t){t=Math.min(i.i.length,t);var o=i.l?pt(i.l.Ra,i.l,i):null;e:{var c=i.i;let f=-1;for(;;){const v=["count="+t];-1==f?0<t?(f=c[0].h,v.push("ofs="+f)):f=0:v.push("ofs="+f);let M=!0;for(let z=0;z<t;z++){let X=c[z].h;const he=c[z].g;if(X-=f,0>X)f=Math.max(0,c[z].h-100),M=!1;else try{vn(he,v,"req"+X+"_")}catch(Pe){o&&o(he)}}if(M){o=v.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function oo(i){i.g||i.u||(i.Z=1,tt(i.Ia,i),i.A=0)}function ao(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Kr(pt(i.Ia,i),lo(i,i.A)),i.A++,0))}function vs(i){null!=i.B&&(ce.clearTimeout(i.B),i.B=null)}function va(i){i.g=new fr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=ds(i.sa);$r(e,"RID","rpc"),$r(e,"SID",i.I),$r(e,"CI",i.L?"0":"1"),$r(e,"AID",i.T),$r(e,"TYPE","xmlhttp"),Ni(i,e),i.o&&i.s&&Qi(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=hs(ds(e)),t.s=null,t.P=!0,Vs(t,i)}function Zs(i){null!=i.v&&(ce.clearTimeout(i.v),i.v=null)}function qo(i,e){var t=null;if(i.g==e){Zs(i),vs(i),i.g=null;var o=2}else{if(!te(i.h,e))return;t=e.D,ae(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=i.C;dn(o=Sr(),new Qr(o,t,e,c)),so(i)}else oo(i);else if(3==(c=e.o)||0==c&&0<i.pa||!(1==o&&function ya(i,e){return!(R(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Kr(pt(i.Ja,i,e),lo(i,i.C)),i.C++,0)))}(i,e)||2==o&&ao(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),c){case 1:co(i,5);break;case 4:co(i,10);break;case 3:co(i,6);break;default:co(i,2)}}function lo(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function co(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=pt(i.kb,i);t||(t=new ki("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||bi(t,"https"),hs(t)),function Ln(i,e){const t=new Yn;if(ce.Image){const o=new Image;o.onload=xt(tr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=xt(tr,t,o,"TestLoadImage: error",!1,e),o.onabort=xt(tr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=xt(tr,t,o,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else qr(2);i.G=0,i.l&&i.l.va(e),uo(i),Oa(i)}function uo(i){if(i.G=0,i.la=[],i.l){const e=Se(i.h);(0!=e.length||0!=i.i.length)&&(ht(i.la,e),ht(i.la,i.i),i.h.i.length=0,st(i.i),i.i.length=0),i.l.ua()}}function ca(i,e,t){var o=t instanceof ki?ds(t):new ki(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),gs(o,o.m);else{var c=ce.location;o=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var f=new ki(null,void 0);o&&bi(f,o),e&&(f.g=e),c&&gs(f,c),t&&(f.l=t),o=f}return e=i.za,(t=i.D)&&e&&$r(o,t,e),$r(o,"VER",i.ma),Ni(i,o),o}function na(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t&&i.Da&&!i.ra?new On({jb:!0}):i.ra)).Ka(i.H),e}function Eo(){}function ho(){if(gn&&!(10<=Number(Er)))throw Error("Environmental error: no available transport.")}function Xi(i,e){cn.call(this),this.g=new as(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!je(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!je(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new qs(this)}function Io(i){on.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ua(){Xn.call(this),this.status=1}function qs(i){this.g=i}(ue=fn.prototype).Ka=function(i){this.L=i},ue.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ur.g(),this.C=function Ke(i){return i.h||(i.h=i.i())}(this.u?this.u:Ur),this.g.onreadystatechange=pt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void G(this,f)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var c in o)t.set(c,o[c]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const f of o.keys())t.set(f,o.get(f))}o=Array.from(t.keys()).find(f=>"content-type"==f.toLowerCase()),c=ce.FormData&&i instanceof ce.FormData,!(0<=We(Co,e))||o||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,v]of t)this.g.setRequestHeader(f,v);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Te(this),0<this.B&&((this.K=function ks(i){return gn&&function Dn(){return function sn(i){var e=Cr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Xe(String(mn)).split("."),t=Xe("9").split("."),o=Math.max(e.length,t.length);for(let v=0;0==i&&v<o;v++){var c=e[v]||"",f=t[v]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;i=et(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||et(0==c[2].length,0==f[2].length)||et(c[2],f[2]),c=c[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.qa,this)):this.A=Mt(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){G(this,f)}},ue.qa=function(){void 0!==$e&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))},ue.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,dn(this,"complete"),dn(this,"abort"),se(this))},ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),se(this,!0)),fn.X.M.call(this)},ue.Ha=function(){this.s||(this.F||this.v||this.l?F(this):this.fb())},ue.fb=function(){F(this)},ue.aa=function(){try{return 2<kt(this)?this.g.status:-1}catch(i){return-1}},ue.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ue.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),os(e)}},ue.Ea=function(){return this.m},ue.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=as.prototype).ma=8,ue.G=1,ue.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const c=new fr(this,this.j,i,void 0);let f=this.s;if(this.S&&(f?(f=rr(f),Ir(f,this.S)):f=this.S),null!==this.o||this.N||(c.H=f,f=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Os(this,c,e),$r(t=ds(this.F),"RID",i),$r(t,"CVER",22),this.D&&$r(t,"X-HTTP-Session-Id",this.D),Ni(this,t),f&&(this.N?e="headers="+encodeURIComponent(String(Tr(f)))+"&"+e:this.o&&Qi(t,this.o,f)),j(this.h,c),this.Ya&&$r(t,"TYPE","init"),this.O?($r(t,"$req",e),$r(t,"SID","null"),c.Z=!0,oi(c,t,null)):oi(c,t,e),this.G=2}}else 3==this.G&&(i?ko(this,i):0==this.i.length||En(this.h)||ko(this))},ue.Ia=function(){if(this.u=null,va(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Kr(pt(this.eb,this),i)}},ue.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qr(10),ys(this),va(this))},ue.cb=function(){null!=this.v&&(this.v=null,ys(this),ao(this),qr(19))},ue.kb=function(i){i?(this.j.info("Successfully pinged google.com"),qr(2)):(this.j.info("Failed to ping google.com"),qr(1))},(ue=Eo.prototype).xa=function(){},ue.wa=function(){},ue.va=function(){},ue.ua=function(){},ue.Ra=function(){},ho.prototype.g=function(i,e){return new Xi(i,e)},Je(Xi,cn),Xi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;qr(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=ca(i,null,i.V),so(i)},Xi.prototype.close=function(){io(this.g)},Xi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=ye(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&so(e)},Xi.prototype.M=function(){this.g.l=null,delete this.j,io(this.g),delete this.g,Xi.X.M.call(this)},Je(Io,on),Je(ua,Xn),Je(qs,Eo),qs.prototype.xa=function(){dn(this.g,"a")},qs.prototype.wa=function(i){dn(this.g,new Io(i))},qs.prototype.va=function(i){dn(this.g,new ua(i))},qs.prototype.ua=function(){dn(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,ze.COMPLETE="complete",At.EventType=Ht,Ht.OPEN="a",Ht.CLOSE="b",Ht.ERROR="c",Ht.MESSAGE="d",cn.prototype.listen=cn.prototype.N,fn.prototype.listenOnce=fn.prototype.O,fn.prototype.getLastError=fn.prototype.Oa,fn.prototype.getLastErrorCode=fn.prototype.Ea,fn.prototype.getStatus=fn.prototype.aa,fn.prototype.getResponseJson=fn.prototype.Sa,fn.prototype.getResponseText=fn.prototype.fa,fn.prototype.send=fn.prototype.da,fn.prototype.setWithCredentials=fn.prototype.Ka;var mi=Me.createWebChannelTransport=function(){return new ho},eo=Me.getStatEventTarget=function(){return Sr()},da=Me.ErrorCode=Pi,ha=Me.EventType=ze,Li=Me.Event=Gn,fo=Me.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Mi=Me.FetchXmlHttpFactory=On,Ko=Me.WebChannel=At,pl=Me.XhrIo=fn;const Zi="@firebase/firestore";class ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");let Yo="9.12.1";const Fs=new Ie.Yd("@firebase/firestore");function Ss(){return Fs.logLevel}function Rs(i){Fs.setLogLevel(i)}function Yt(i,...e){if(Fs.logLevel<=Ie.in.DEBUG){const t=e.map(Ra);Fs.debug(`Firestore (${Yo}): ${i}`,...t)}}function Rr(i,...e){if(Fs.logLevel<=Ie.in.ERROR){const t=e.map(Ra);Fs.error(`Firestore (${Yo}): ${i}`,...t)}}function po(i,...e){if(Fs.logLevel<=Ie.in.WARN){const t=e.map(Ra);Fs.warn(`Firestore (${Yo}): ${i}`,...t)}}function Ra(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function In(i="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+i;throw Rr(e),new Error(e)}function Un(i,e){i||In()}function go(i,e){i||In()}function _n(i,e){return i}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Z{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class P{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ji.UNAUTHENTICATED))}shutdown(){}}class le{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ae{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let c=this.i;const f=X=>this.i!==c?(c=this.i,t(X)):Promise.resolve();let v=new Z;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Z,e.enqueueRetryable(()=>f(this.currentUser))};const M=()=>{const X=v;e.enqueueRetryable((0,a.Z)(function*(){yield X.promise,yield f(o.currentUser)}))},z=X=>{Yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(X=>z(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?z(X):(Yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Z)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Un("string"==typeof o.accessToken),new P(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Un(null===e||"string"==typeof e),new ji(e)}}class C{constructor(e,t,o,c){this.h=e,this.l=t,this.m=o,this.g=c,this.type="FirstParty",this.user=ji.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Un(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class T{constructor(e,t,o,c){this.h=e,this.l=t,this.m=o,this.g=c}getToken(){return Promise.resolve(new C(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class me{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=f=>{null!=f.error&&Yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.A;return this.A=f.token,Yt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const c=f=>{Yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.T.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.T.getImmediate({optional:!0});f?c(f):Yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Un("string"==typeof t.token),this.A=t.token,new q(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zt(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class _i{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=Zt(40);for(let f=0;f<c.length;++f)o.length<20&&c[f]<t&&(o+=e.charAt(c[f]%e.length))}return o}}function An(i,e){return i<e?-1:i>e?1:0}function Xr(i,e,t){return i.length===e.length&&i.every((o,c)=>t(o,e[c]))}function Si(i){return i+"\0"}class Oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oi.fromMillis(Date.now())}static fromDate(e){return Oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Oi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?An(this.nanoseconds,e.nanoseconds):An(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class A{constructor(e){this.timestamp=e}static fromTimestamp(e){return new A(e)}static min(){return new A(new Oi(0,0))}static max(){return new A(new Oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class I{constructor(e,t,o){void 0===t?t=0:t>e.length&&In(),void 0===o?o=e.length-t:o>e.length-t&&In(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===I.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof I?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let c=0;c<o;c++){const f=e.get(c),v=t.get(c);if(f<v)return-1;if(f>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class D extends I{construct(e,t,o){return new D(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new zt(ft.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(c=>c.length>0))}return new D(t)}static emptyPath(){return new D([])}}const H=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class W extends I{construct(e,t,o){return new W(e,t,o)}static isValidIdentifier(e){return H.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),W.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new W(["__name__"])}static fromServerFormat(e){const t=[];let o="",c=0;const f=()=>{if(0===o.length)throw new zt(ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let v=!1;for(;c<e.length;){const M=e[c];if("\\"===M){if(c+1===e.length)throw new zt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const z=e[c+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new zt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=z,c+=2}else"`"===M?(v=!v,c++):"."!==M||v?(o+=M,c++):(f(),c++)}if(f(),v)throw new zt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new W(t)}static emptyPath(){return new W([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(D.fromString(e))}static fromName(e){return new J(D.fromString(e).popFirst(5))}static empty(){return new J(D.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===D.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return D.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new D(e.slice()))}}class Ce{constructor(e,t,o,c){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=c}}function Le(i){return i.fields.find(e=>2===e.kind)}function It(i){return i.fields.filter(e=>2!==e.kind)}Ce.UNKNOWN_ID=-1;class wr{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yr(0,bs.min())}}function ii(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,c=A.fromTimestamp(1e9===o?new Oi(t+1,0):new Oi(t,o));return new bs(c,J.empty(),e)}function mo(i){return new bs(i.readTime,i.key,-1)}class bs{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new bs(A.min(),J.empty(),-1)}static max(){return new bs(A.max(),J.empty(),-1)}}function ba(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=J.comparator(i.documentKey,e.documentKey),0!==t?t:An(i.largestBatchId,e.largestBatchId))}const to="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ws{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fo(i){return El.apply(this,arguments)}function El(){return El=(0,a.Z)(function*(i){if(i.code!==ft.FAILED_PRECONDITION||i.message!==to)throw i;Yt("LocalStore","Unexpectedly lost primary lease")}),El.apply(this,arguments)}class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&In(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ot((o,c)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,c)},this.catchCallback=f=>{this.wrapFailure(t,f).next(o,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ot?t:ot.resolve(t)}catch(t){return ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.reject(t)}static resolve(e){return new ot((t,o)=>{t(e)})}static reject(e){return new ot((t,o)=>{o(e)})}static waitFor(e){return new ot((t,o)=>{let c=0,f=0,v=!1;e.forEach(M=>{++c,M.next(()=>{++f,v&&f===c&&t()},z=>o(z))}),v=!0,f===c&&t()})}static or(e){let t=ot.resolve(!1);for(const o of e)t=t.next(c=>c?ot.resolve(c):o());return t}static forEach(e,t){const o=[];return e.forEach((c,f)=>{o.push(t.call(this,c,f))}),this.waitFor(o)}static mapArray(e,t){return new ot((o,c)=>{const f=e.length,v=new Array(f);let M=0;for(let z=0;z<f;z++){const X=z;t(e[X]).next(he=>{v[X]=he,++M,M===f&&o(v)},he=>c(he))}})}static doWhile(e,t){return new ot((o,c)=>{const f=()=>{!0===e()?t().next(()=>{f()},c):o()};f()})}}class wa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Z,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Lo(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const c=Da(o.target.error);this.P.reject(new Lo(e,c))}}static open(e,t,o,c){try{return new wa(t,e.transaction(c,o))}catch(f){throw new Lo(t,f)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Yt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new js(t)}}class _o{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===_o.D((0,be.z$)())&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Yt("SimpleDb","Removing database:",e),Jo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,be.hl)())return!1;if(_o.N())return!0;const e=(0,be.z$)(),t=_o.D(e),o=0<t&&t<10,c=_o.k(e),f=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,a.Z)(function*(){return t.db||(Yt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,c)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=v=>{o(v.target.result)},f.onblocked=()=>{c(new Lo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const M=v.target.error;c("VersionError"===M.name?new zt(ft.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new zt(ft.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new Lo(e,M))},f.onupgradeneeded=v=>{Yt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.S.$(v.target.result,f.transaction,v.oldVersion,t.version).next(()=>{Yt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,c){var f=this;return(0,a.Z)(function*(){const v="readonly"===t;let M=0;for(;;){++M;try{f.db=yield f.F(e);const z=wa.open(f.db,e,v?"readonly":"readwrite",o),X=c(z).next(he=>(z.V(),he)).catch(he=>(z.abort(he),ot.reject(he))).toPromise();return X.catch(()=>{}),yield z.v,X}catch(z){const X=z,he="FirebaseError"!==X.name&&M<3;if(Yt("SimpleDb","Transaction failed with error:",X.message,"Retrying:",he),f.close(),!he)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wa{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Jo(this.U.delete())}}class Lo extends zt{constructor(e,t){super(ft.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yo(i){return"IndexedDbTransactionError"===i.name}class js{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Yt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Yt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Jo(o)}add(e){return Yt("SimpleDb","ADD",this.store.name,e,e),Jo(this.store.add(e))}get(e){return Jo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Yt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Yt("SimpleDb","DELETE",this.store.name,e),Jo(this.store.delete(e))}count(){return Yt("SimpleDb","COUNT",this.store.name),Jo(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),f=[];return this.H(c,(v,M)=>{f.push(M)}).next(()=>f)}{const c=this.store.getAll(o.range);return new ot((f,v)=>{c.onerror=M=>{v(M.target.error)},c.onsuccess=M=>{f(M.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new ot((c,f)=>{o.onerror=v=>{f(v.target.error)},o.onsuccess=v=>{c(v.target.result)}})}Y(e,t){Yt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const c=this.cursor(o);return this.H(c,(f,v,M)=>M.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const c=this.cursor(o);return this.H(c,t)}tt(e){const t=this.cursor({});return new ot((o,c)=>{t.onerror=f=>{const v=Da(f.target.error);c(v)},t.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(M=>{M?v.continue():o()}):o()}})}H(e,t){const o=[];return new ot((c,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const M=v.target.result;if(!M)return void c();const z=new Wa(M),X=t(M.primaryKey,M.value,z);if(X instanceof ot){const he=X.catch(Pe=>(z.done(),ot.reject(Pe)));o.push(he)}z.isDone?c():null===z.G?M.continue():M.continue(z.G)}}).next(()=>ot.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jo(i){return new ot((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const c=Da(o.target.error);t(c)}})}let Yl=!1;function Da(i){const e=_o.D((0,be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yl||(Yl=!0,setTimeout(()=>{throw o},0)),o}}return i}class Jl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Yt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,a.Z)(function*(){t.task=null;try{Yt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){yo(o)?Yt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Fo(o)}yield t.nt(6e4)}))}}class fd{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,a.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let c=t,f=!0;return ot.doWhile(()=>!0===f&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!o.has(v))return Yt("IndexBackiller",`Processing collection: ${v}`),this.rt(e,v,c).next(M=>{c-=M,o.add(v)});f=!1})).next(()=>t-c)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,o).next(f=>{const v=f.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.ot(c,f)).next(M=>(Yt("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,t,M))).next(()=>v.size)}))}ot(e,t){let o=e;return t.changes.forEach((c,f)=>{const v=mo(f);ba(v,o)>0&&(o=v)}),new bs(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class li{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function qc(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function za(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function pd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}li.at=-1;class Ds{constructor(e,t){this.comparator=e,this.root=t||vo.EMPTY}insert(e,t){return new Ds(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vo.BLACK,null,null))}remove(e){return new Ds(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return t+o.left.size;c<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,t,o,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?o(e.key,t):1,t&&c&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vo{constructor(e,t,o,c,f){this.key=e,this.value=t,this.color=null!=o?o:vo.RED,this.left=null!=c?c:vo.EMPTY,this.right=null!=f?f:vo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,c,f){return new vo(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let c=this;const f=o(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,t,o),null):0===f?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return vo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return vo.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw In();const e=this.left.check();if(e!==this.right.check())throw In();return e+(this.isRed()?0:1)}}vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1,vo.EMPTY=new class{constructor(){this.size=0}get key(){throw In()}get value(){throw In()}get color(){throw In()}get left(){throw In()}get right(){throw In()}copy(i,e,t,o,c){return this}insert(i,e,t){return new vo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qi{constructor(e){this.comparator=e,this.data=new Ds(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ca(this.data.getIterator())}getIteratorFrom(e){return new Ca(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,f=o.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qi(this.comparator);return t.data=e,t}}class Ca{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ql(i){return i.hasNext()?i.getNext():void 0}class yi{constructor(e){this.fields=e,e.sort(W.comparator)}static empty(){return new yi([])}unionWith(e){let t=new qi(W.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xr(this.fields,e.fields,(t,o)=>t.isEqual(o))}}function gl(){return"undefined"!=typeof atob}class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Di(t)}static fromUint8Array(e){const t=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new Di(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return An(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const Kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(i){if(Un(!!i),"string"==typeof i){let e=0;const t=Kc.exec(i);if(Un(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Jr(i.seconds),nanos:Jr(i.nanos)}}function Jr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Hs(i){return"string"==typeof i?Di.fromBase64String(i):Di.fromUint8Array(i)}function Tl(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function al(i){const e=i.mapValue.fields.__previous_value__;return Tl(e)?al(e):e}function Ea(i){const e=To(i.mapValue.fields.__local_write_time__.timestampValue);return new Oi(e.seconds,e.nanos)}class ra{constructor(e,t,o,c,f,v,M,z){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=c,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=M,this.useFetchStreams=z}}class ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ia&&e.projectId===this.projectId&&e.database===this.database}}function So(i){return null==i}function Sl(i){return 0===i&&1/i==-1/0}function wc(i){return"number"==typeof i&&Number.isInteger(i)&&!Sl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$s={nullValue:"NULL_VALUE"};function Xo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Tl(i)?4:ea(i)?9007199254740991:10:In()}function Ki(i,e){if(i===e)return!0;const t=Xo(i);if(t!==Xo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ea(i).isEqual(Ea(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=To(o.timestampValue),v=To(c.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Hs(i.bytesValue).isEqual(Hs(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return Jr(o.geoPointValue.latitude)===Jr(c.geoPointValue.latitude)&&Jr(o.geoPointValue.longitude)===Jr(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Jr(o.integerValue)===Jr(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Jr(o.doubleValue),v=Jr(c.doubleValue);return f===v?Sl(f)===Sl(v):isNaN(f)&&isNaN(v)}return!1}(i,e);case 9:return Xr(i.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:return function(o,c){const f=o.mapValue.fields||{},v=c.mapValue.fields||{};if(qc(f)!==qc(v))return!1;for(const M in f)if(f.hasOwnProperty(M)&&(void 0===v[M]||!Ki(f[M],v[M])))return!1;return!0}(i,e);default:return In()}var c}function Za(i,e){return void 0!==(i.values||[]).find(t=>Ki(t,e))}function fa(i,e){if(i===e)return 0;const t=Xo(i),o=Xo(e);if(t!==o)return An(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return An(i.booleanValue,e.booleanValue);case 2:return function(c,f){const v=Jr(c.integerValue||c.doubleValue),M=Jr(f.integerValue||f.doubleValue);return v<M?-1:v>M?1:v===M?0:isNaN(v)?isNaN(M)?0:-1:1}(i,e);case 3:return ll(i.timestampValue,e.timestampValue);case 4:return ll(Ea(i),Ea(e));case 5:return An(i.stringValue,e.stringValue);case 6:return function(c,f){const v=Hs(c),M=Hs(f);return v.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const v=c.split("/"),M=f.split("/");for(let z=0;z<v.length&&z<M.length;z++){const X=An(v[z],M[z]);if(0!==X)return X}return An(v.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const v=An(Jr(c.latitude),Jr(f.latitude));return 0!==v?v:An(Jr(c.longitude),Jr(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,f){const v=c.values||[],M=f.values||[];for(let z=0;z<v.length&&z<M.length;++z){const X=fa(v[z],M[z]);if(X)return X}return An(v.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,f){if(c===Qo.mapValue&&f===Qo.mapValue)return 0;if(c===Qo.mapValue)return 1;if(f===Qo.mapValue)return-1;const v=c.fields||{},M=Object.keys(v),z=f.fields||{},X=Object.keys(z);M.sort(),X.sort();for(let he=0;he<M.length&&he<X.length;++he){const Pe=An(M[he],X[he]);if(0!==Pe)return Pe;const gt=fa(v[M[he]],z[X[he]]);if(0!==gt)return gt}return An(M.length,X.length)}(i.mapValue,e.mapValue);default:throw In()}}function ll(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return An(i,e);const t=To(i),o=To(e),c=An(t.seconds,o.seconds);return 0!==c?c:An(t.nanos,o.nanos)}function Al(i){return Xl(i)}function Xl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const c=To(o);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Hs(i.bytesValue).toBase64():"referenceValue"in i?J.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let c="[",f=!0;for(const v of o.values||[])f?f=!1:c+=",",c+=Xl(v);return c+"]"}(i.arrayValue):"mapValue"in i?function(o){const c=Object.keys(o.fields||{}).sort();let f="{",v=!0;for(const M of c)v?v=!1:f+=",",f+=`${M}:${Xl(o.fields[M])}`;return f+"}"}(i.mapValue):In();var e}function qa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Dc(i){return!!i&&"integerValue"in i}function Ia(i){return!!i&&"arrayValue"in i}function Pa(i){return!!i&&"nullValue"in i}function ml(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xl(i){return!!i&&"mapValue"in i}function sa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return za(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=sa(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sa(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ea(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ec(i){return"nullValue"in i?$s:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?qa(ia.empty(),J.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:In()}function Ka(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?qa(ia.empty(),J.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Qo:In()}function Cc(i,e){const t=fa(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Yc(i,e){const t=fa(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!xl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(t)}setAll(e){let t=W.emptyPath(),o={},c=[];e.forEach((v,M)=>{if(!t.isImmediateParentOf(M)){const z=this.getFieldsMap(t);this.applyChanges(z,o,c),o={},c=[],t=M.popLast()}v?o[M.lastSegment()]=sa(v):c.push(M.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,o,c)}delete(e){const t=this.field(e.popLast());xl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=t.mapValue.fields[e.get(o)];xl(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,o){za(t,(c,f)=>e[c]=f);for(const c of o)delete e[c]}clone(){return new Ls(sa(this.value))}}function Jc(i){const e=[];return za(i.fields,(t,o)=>{const c=new W([t]);if(xl(o)){const f=Jc(o.mapValue).fields;if(0===f.length)e.push(c);else for(const v of f)e.push(c.child(v))}else e.push(c)}),new yi(e)}class Ei{constructor(e,t,o,c,f,v){this.key=e,this.documentType=t,this.version=o,this.readTime=c,this.data=f,this.documentState=v}static newInvalidDocument(e){return new Ei(e,0,A.min(),A.min(),Ls.empty(),0)}static newFoundDocument(e,t,o){return new Ei(e,1,t,A.min(),o,0)}static newNoDocument(e,t){return new Ei(e,2,t,A.min(),Ls.empty(),0)}static newUnknownDocument(e,t){return new Ei(e,3,t,A.min(),Ls.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=A.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ec{constructor(e,t=null,o=[],c=[],f=null,v=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=c,this.limit=f,this.startAt=v,this.endAt=M,this.ht=null}}function L(i,e=null,t=[],o=[],c=null,f=null,v=null){return new Ec(i,e,t,o,c,f,v)}function $(i){const e=_n(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(c=o).field.canonicalString()+c.op.toString()+Al(c.value);var c}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),So(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Al(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Al(o)).join(",")),e.ht=t}return e.ht}function Ee(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!cl(i.orderBy[c],e.orderBy[c]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((t=i.filters[c]).op!==(o=e.filters[c]).op||!t.field.isEqual(o.field)||!Ki(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Vo(i.startAt,e.startAt)&&Vo(i.endAt,e.endAt)}function Ye(i){return J.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function yt(i,e){return i.filters.filter(t=>t instanceof zn&&t.field.isEqual(e))}function Jt(i,e,t){let o=$s,c=!0;for(const f of yt(i,e)){let v=$s,M=!0;switch(f.op){case"<":case"<=":v=ec(f.value);break;case"==":case"in":case">=":v=f.value;break;case">":v=f.value,M=!1;break;case"!=":case"not-in":v=$s}Cc({value:o,inclusive:c},{value:v,inclusive:M})<0&&(o=v,c=M)}if(null!==t)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const v=t.position[f];Cc({value:o,inclusive:c},{value:v,inclusive:t.inclusive})<0&&(o=v,c=t.inclusive);break}return{value:o,inclusive:c}}function Sn(i,e,t){let o=Qo,c=!0;for(const f of yt(i,e)){let v=Qo,M=!0;switch(f.op){case">=":case">":v=Ka(f.value),M=!1;break;case"==":case"in":case"<=":v=f.value;break;case"<":v=f.value,M=!1;break;case"!=":case"not-in":v=Qo}Yc({value:o,inclusive:c},{value:v,inclusive:M})>0&&(o=v,c=M)}if(null!==t)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const v=t.position[f];Yc({value:o,inclusive:c},{value:v,inclusive:t.inclusive})>0&&(o=v,c=t.inclusive);break}return{value:o,inclusive:c}}class zn extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new jn(e,t,o):"array-contains"===t?new Bo(e,o):"in"===t?new Ta(e,o):"not-in"===t?new ka(e,o):"array-contains-any"===t?new pa(e,o):new zn(e,t,o)}static lt(e,t,o){return"in"===t?new Lr(e,o):new Dr(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(fa(t,this.value)):null!==t&&Xo(this.value)===Xo(t)&&this.ft(fa(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return In()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jn extends zn{constructor(e,t,o){super(e,t,o),this.key=J.fromName(o.referenceValue)}matches(e){const t=J.comparator(e.key,this.key);return this.ft(t)}}class Lr extends zn{constructor(e,t){super(e,"in",t),this.keys=As(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Dr extends zn{constructor(e,t){super(e,"not-in",t),this.keys=As(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function As(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>J.fromName(o.referenceValue))}class Bo extends zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ia(t)&&Za(t.arrayValue,this.value)}}class Ta extends zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Za(this.value.arrayValue,t)}}class ka extends zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Za(this.value.arrayValue,t)}}class pa extends zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ia(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Za(this.value.arrayValue,o))}}class oa{constructor(e,t){this.position=e,this.inclusive=t}}class Fa{constructor(e,t="asc"){this.field=e,this.dir=t}}function cl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Ao(i,e,t){let o=0;for(let c=0;c<i.position.length;c++){const f=e[c],v=i.position[c];if(o=f.field.isKeyField()?J.comparator(J.fromName(v.referenceValue),t.key):fa(v,t.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function Vo(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ki(i.position[t],e.position[t]))return!1;return!0}class ga{constructor(e,t=null,o=[],c=[],f=null,v="F",M=null,z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=c,this.limit=f,this.limitType=v,this.startAt=M,this.endAt=z,this._t=null,this.wt=null}}function gd(i,e,t,o,c,f,v,M){return new ga(i,e,t,o,c,f,v,M)}function ul(i){return new ga(i)}function Au(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function tc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Qc(i){for(const e of i.filters)if(e.dt())return e.field;return null}function Xc(i){return null!==i.collectionGroup}function Nl(i){const e=_n(i);if(null===e._t){e._t=[];const t=Qc(e),o=tc(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new Fa(t)),e._t.push(new Fa(W.keyField(),"asc"));else{let c=!1;for(const f of e.explicitOrderBy)e._t.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Fa(W.keyField(),f))}}}return e._t}function no(i){const e=_n(i);if(!e.wt)if("F"===e.limitType)e.wt=L(e.path,e.collectionGroup,Nl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of Nl(e))t.push(new Fa(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new oa(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new oa(e.startAt.position,e.startAt.inclusive):null;e.wt=L(e.path,e.collectionGroup,t,e.filters,e.limit,o,c)}return e.wt}function Ml(i,e,t){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function La(i,e){return Ee(no(i),no(e))&&i.limitType===e.limitType}function xu(i){return`${$(no(i))}|lt:${i.limitType}`}function Ic(i){return`Query(target=${function ie(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Al(o.value)}`;var o}).join(", ")}]`),So(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Al(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Al(t)).join(",")),`Target(${e})`}(no(i))}; limitType=${i.limitType})`}function nc(i,e){return e.isFoundDocument()&&function(t,o){const c=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):J.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(i,e)&&function(t,o){for(const c of t.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(i,e)&&function(t,o){for(const c of t.filters)if(!c.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(c,f,v){const M=Ao(c,f,v);return c.inclusive?M<=0:M<0}(t.startAt,Nl(t),o)||t.endAt&&!function(c,f,v){const M=Ao(c,f,v);return c.inclusive?M>=0:M>0}(t.endAt,Nl(t),o)));var t,o}function rc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eu(i){return(e,t)=>{let o=!1;for(const c of Nl(i)){const f=Nu(c,e,t);if(0!==f)return f;o=o||c.field.isKeyField()}return 0}}function Nu(i,e,t){const o=i.field.isKeyField()?J.comparator(e.key,t.key):function(c,f,v){const M=f.data.field(c),z=v.data.field(c);return null!==M&&null!==z?fa(M,z):In()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return In()}}function Mu(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(e)?"-0":e}}function Ou(i){return{integerValue:""+i}}function Tc(i,e){return wc(e)?Ou(e):Mu(i,e)}class tu{constructor(){this._=void 0}}function Ch(i,e,t){return i instanceof _l?function(o,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(f.fields.__previous_value__=c),{mapValue:f}}(t,e):i instanceof aa?yl(i,e):i instanceof Ol?_d(i,e):function(o,c){const f=md(o,c),v=Ru(f)+Ru(o.yt);return Dc(f)&&Dc(o.yt)?Ou(v):Mu(o.It,v)}(i,e)}function Eh(i,e,t){return i instanceof aa?yl(i,e):i instanceof Ol?_d(i,e):t}function md(i,e){return i instanceof Sc?Dc(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class _l extends tu{}class aa extends tu{constructor(e){super(),this.elements=e}}function yl(i,e){const t=Ih(e);for(const o of i.elements)t.some(c=>Ki(c,o))||t.push(o);return{arrayValue:{values:t}}}class Ol extends tu{constructor(e){super(),this.elements=e}}function _d(i,e){let t=Ih(e);for(const o of i.elements)t=t.filter(c=>!Ki(c,o));return{arrayValue:{values:t}}}class Sc extends tu{constructor(e,t){super(),this.It=e,this.yt=t}}function Ru(i){return Jr(i.integerValue||i.doubleValue)}function Ih(i){return Ia(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ac{constructor(e,t){this.field=e,this.transform=t}}class yd{constructor(e,t){this.version=e,this.transformResults=t}}class xs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ru{}function Th(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new it(i.key,xs.none()):new g(i.key,i.data,xs.none());{const t=i.data,o=Ls.empty();let c=new qi(W.comparator);for(let f of e.fields)if(!c.has(f)){let v=t.field(f);null===v&&f.length>1&&(f=f.popLast(),v=t.field(f)),null===v?o.delete(f):o.set(f,v),c=c.add(f)}return new _(i.key,o,new yi(c.toArray()),xs.none())}}function vd(i,e,t){i instanceof g?function(o,c,f){const v=o.value.clone(),M=ne(o.fieldTransforms,c,f.transformResults);v.setAll(M),c.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(i,e,t):i instanceof _?function(o,c,f){if(!nu(o.precondition,c))return void c.convertToUnknownDocument(f.version);const v=ne(o.fieldTransforms,c,f.transformResults),M=c.data;M.setAll(x(o)),M.setAll(v),c.convertToFoundDocument(f.version,M).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function vl(i,e,t,o){return i instanceof g?function(c,f,v,M){if(!nu(c.precondition,f))return v;const z=c.value.clone(),X=de(c.fieldTransforms,M,f);return z.setAll(X),f.convertToFoundDocument(f.version,z).setHasLocalMutations(),null}(i,e,t,o):i instanceof _?function(c,f,v,M){if(!nu(c.precondition,f))return v;const z=de(c.fieldTransforms,M,f),X=f.data;return X.setAll(x(c)),X.setAll(z),f.convertToFoundDocument(f.version,X).setHasLocalMutations(),null===v?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(he=>he.field))}(i,e,t,o):(v=t,nu(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):v);var f,v}function iu(i,e){let t=null;for(const o of i.fieldTransforms){const c=e.data.field(o.field),f=md(o.transform,c||null);null!=f&&(null===t&&(t=Ls.empty()),t.set(o.field,f))}return t||null}function E(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Xr(t,o,(c,f)=>function Pu(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof aa&&o instanceof aa||t instanceof Ol&&o instanceof Ol?Xr(t.elements,o.elements,Ki):t instanceof Sc&&o instanceof Sc?Ki(t.yt,o.yt):t instanceof _l&&o instanceof _l);var t,o}(c,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class g extends ru{constructor(e,t,o,c=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class _ extends ru{constructor(e,t,o,c,f=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function x(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function ne(i,e,t){const o=new Map;Un(i.length===t.length);for(let c=0;c<t.length;c++){const f=i[c],v=f.transform,M=e.data.field(f.field);o.set(f.field,Eh(v,M,t[c]))}return o}function de(i,e,t){const o=new Map;for(const c of i){const f=c.transform,v=t.data.field(c.field);o.set(c.field,Ch(f,v,e))}return o}class it extends ru{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gt extends ru{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kn{constructor(e){this.count=e}}var Rn,xn;function es(i){switch(i){default:return In();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0}}function Sa(i){if(void 0===i)return Rr("GRPC error has no .code"),ft.UNKNOWN;switch(i){case Rn.OK:return ft.OK;case Rn.CANCELLED:return ft.CANCELLED;case Rn.UNKNOWN:return ft.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return ft.INTERNAL;case Rn.UNAVAILABLE:return ft.UNAVAILABLE;case Rn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Rn.NOT_FOUND:return ft.NOT_FOUND;case Rn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Rn.ABORTED:return ft.ABORTED;case Rn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Rn.DATA_LOSS:return ft.DATA_LOSS;default:return In()}}(xn=Rn||(Rn={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";class xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[c,f]of o)if(this.equalsFn(c,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,t]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return void(c[f]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[t]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(t,o)=>{for(const[c,f]of o)e(c,f)})}isEmpty(){return pd(this.inner)}size(){return this.innerSize}}const xc=new Ds(J.comparator);function Uo(){return xc}const Nc=new Ds(J.comparator);function Aa(...i){let e=Nc;for(const t of i)e=e.insert(t.key,t);return e}function Ba(i){let e=Nc;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ks(){return Ya()}function Rl(){return Ya()}function Ya(){return new xo(i=>i.toString(),(i,e)=>i.isEqual(e))}const Pl=new Ds(J.comparator),ts=new qi(J.comparator);function Wr(...i){let e=ts;for(const t of i)e=e.add(t);return e}const ku=new qi(An);function ic(){return ku}class su{constructor(e,t,o,c,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const c=new Map;return c.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new su(A.min(),c,ic(),Uo(),Wr())}}class Fu{constructor(e,t,o,c,f){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Fu(o,t,Wr(),Wr(),Wr())}}class bd{constructor(e,t,o,c){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=c}}class Kf{constructor(e,t){this.targetId=e,this.At=t}}class Yf{constructor(e,t,o=Di.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=c}}class Jf{constructor(){this.Rt=0,this.bt=ou(),this.Pt=Di.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Wr(),t=Wr(),o=Wr();return this.bt.forEach((c,f)=>{switch(f){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:o=o.add(c);break;default:In()}}),new Fu(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=ou()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class c_{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Uo(),this.qt=Cg(),this.Kt=new qi(An)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:In()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,c)=>{this.Ht(c)&&t(c)})}Yt(e){const t=e.targetId,o=e.At.count,c=this.Xt(t);if(c){const f=c.target;if(Ye(f))if(0===o){const v=new J(f.path);this.jt(t,v,Ei.newNoDocument(v,A.min()))}else Un(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((f,v)=>{const M=this.Xt(v);if(M){if(f.current&&Ye(M.target)){const z=new J(M.target.path);null!==this.Ut.get(z)||this.ee(v,z)||this.jt(v,z,Ei.newNoDocument(z,e))}f.Dt&&(t.set(v,f.xt()),f.Nt())}});let o=Wr();this.qt.forEach((f,v)=>{let M=!0;v.forEachWhile(z=>{const X=this.Xt(z);return!X||2===X.purpose||(M=!1,!1)}),M&&(o=o.add(f))}),this.Ut.forEach((f,v)=>v.setReadTime(e));const c=new su(e,t,this.Kt,this.Ut,o);return this.Ut=Uo(),this.qt=Cg(),this.Kt=new qi(An),c}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const c=this.zt(e);this.ee(e,t)?c.kt(t,1):c.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Jf,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new qi(An),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Yt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Jf),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Cg(){return new Ds(J.comparator)}function ou(){return new Ds(J.comparator)}const ma={asc:"ASCENDING",desc:"DESCENDING"},Sh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qf{constructor(e,t){this.databaseId=e,this.gt=t}}function au(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function No(i,e){return i.gt?e.toBase64():e.toUint8Array()}function lu(i,e){return au(i,e.toTimestamp())}function Ys(i){return Un(!!i),A.fromTimestamp(function(e){const t=To(e);return new Oi(t.seconds,t.nanos)}(i))}function Lu(i,e){return(t=i,new D(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wd(i){const e=D.fromString(i);return Un(Ph(e)),e}function bl(i,e){return Lu(i.databaseId,e.path)}function dl(i,e){const t=wd(e);if(t.get(1)!==i.databaseId.projectId)throw new zt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new zt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new J(kl(t))}function sc(i,e){return Lu(i.databaseId,e)}function Xf(i){const e=wd(i);return 4===e.length?D.emptyPath():kl(e)}function oc(i){return new D(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kl(i){return Un(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ep(i,e,t){return{name:bl(i,e),fields:t.value.mapValue.fields}}function Bu(i,e,t){const o=dl(i,e.name),c=Ys(e.updateTime),f=new Ls({mapValue:{fields:e.fields}}),v=Ei.newFoundDocument(o,c,f);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function Va(i,e){let t;if(e instanceof g)t={update:ep(i,e.key,e.value)};else if(e instanceof it)t={delete:bl(i,e.key)};else if(e instanceof _)t={update:ep(i,e.key,e.data),updateMask:rp(e.fieldMask)};else{if(!(e instanceof Gt))return In();t={verify:bl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(c,f){const v=f.transform;if(v instanceof _l)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof aa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Ol)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Sc)return{fieldPath:f.field.canonicalString(),increment:v.yt};throw In()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:lu(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:In()),t;var c}function Dd(i,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?xs.updateTime(Ys(c.updateTime)):void 0!==c.exists?xs.exists(c.exists):xs.none():xs.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(f,v){let M=null;"setToServerValue"in v?(Un("REQUEST_TIME"===v.setToServerValue),M=new _l):"appendMissingElements"in v?M=new aa(v.appendMissingElements.values||[]):"removeAllFromArray"in v?M=new Ol(v.removeAllFromArray.values||[]):"increment"in v?M=new Sc(f,v.increment):In();const z=W.fromServerFormat(v.fieldPath);return new Ac(z,M)}(i,c)):[];var c;if(e.update){const c=dl(i,e.update.name),f=new Ls({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new yi((e.updateMask.fieldPaths||[]).map(X=>W.fromServerFormat(X)));return new _(c,f,v,t,o)}return new g(c,f,t,o)}if(e.delete){const c=dl(i,e.delete);return new it(c,t)}if(e.verify){const c=dl(i,e.verify);return new Gt(c,t)}return In()}function cu(i,e){return{documents:[sc(i,e.path)]}}function Cd(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=sc(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sc(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(z){if(0===z.length)return;const X=z.map(he=>function(Pe){if("=="===Pe.op){if(ml(Pe.value))return{unaryFilter:{field:ac(Pe.field),op:"IS_NAN"}};if(Pa(Pe.value))return{unaryFilter:{field:ac(Pe.field),op:"IS_NULL"}}}else if("!="===Pe.op){if(ml(Pe.value))return{unaryFilter:{field:ac(Pe.field),op:"IS_NOT_NAN"}};if(Pa(Pe.value))return{unaryFilter:{field:ac(Pe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ac(Pe.field),op:Oh(Pe.op),value:Pe.value}}}(he));return 1===X.length?X[0]:{compositeFilter:{op:"AND",filters:X}}}(e.filters);c&&(t.structuredQuery.where=c);const f=function(z){if(0!==z.length)return z.map(X=>{return{field:ac((he=X).field),direction:Mh(he.dir)};var he})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const v=(X=e.limit,i.gt||So(X)?X:{value:X});var X,M,z;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!(z=e.endAt).inclusive,values:z.position}),t}function Ed(i){let e=Xf(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let c=null;if(o>0){Un(1===o);const he=t.from[0];he.allDescendants?c=he.collectionId:e=e.child(he.collectionId)}let f=[];t.where&&(f=Nh(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(he=>{return new Fa(Fl((Pe=he).field),function(gt){switch(gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Pe.direction));var Pe}));let M=null;t.limit&&(M=function(he){let Pe;return Pe="object"==typeof he?he.value:he,So(Pe)?null:Pe}(t.limit));let z=null;var he;t.startAt&&(z=new oa((he=t.startAt).values||[],!!he.before));let X=null;return t.endAt&&(X=function(he){return new oa(he.values||[],!he.before)}(t.endAt)),gd(e,c,v,f,M,"F",z,X)}function Nh(i){return i?void 0!==i.unaryFilter?[Rh(i)]:void 0!==i.fieldFilter?[Id(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Nh(e)).reduce((e,t)=>e.concat(t)):In():[]}function Mh(i){return ma[i]}function Oh(i){return Sh[i]}function ac(i){return{fieldPath:i.canonicalString()}}function Fl(i){return W.fromServerFormat(i.fieldPath)}function Id(i){return zn.create(Fl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return In()}}(i.fieldFilter.op),i.fieldFilter.value)}function Rh(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Fl(i.unaryFilter.field);return zn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Fl(i.unaryFilter.field);return zn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fl(i.unaryFilter.field);return zn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Fl(i.unaryFilter.field);return zn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return In()}}function rp(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ph(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function jo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Mc(e)),e=Eg(i.get(t),e);return Mc(e)}function Eg(i,e){let t=e;const o=i.length;for(let c=0;c<o;c++){const f=i.charAt(c);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function Mc(i){return i+"\x01\x01"}function ro(i){const e=i.length;if(Un(e>=2),2===e)return Un("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),D.emptyPath();const t=e-2,o=[];let c="";for(let f=0;f<e;){const v=i.indexOf("\x01",f);switch((v<0||v>t)&&In(),i.charAt(v+1)){case"\x01":const M=i.substring(f,v);let z;0===c.length?z=M:(c+=M,z=c,c=""),o.push(z);break;case"\x10":c+=i.substring(f,v),c+="\0";break;case"\x11":c+=i.substring(f,v+1);break;default:In()}f=v+2}return new D(o)}const ip=["userId","batchId"];function Vu(i,e){return[i,jo(e)]}function Uu(i,e,t){return[i,jo(e),t]}const sp={},Ja=["prefixPath","collectionGroup","readTime","documentId"],ju=["prefixPath","collectionGroup","documentId"],Hu=["collectionGroup","readTime","prefixPath","documentId"],kh=["canonicalId","targetId"],op=["targetId","path"],$u=["path","targetId"],Td=["collectionId","parent"],Fh=["indexId","uid"],Sd=["uid","sequenceNumber"],Ad=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lh=["indexId","uid","orderedDocumentKey"],ap=["userId","collectionPath","documentId"],Oc=["userId","collectionPath","largestBatchId"],Bh=["userId","collectionGroup","largestBatchId"],Vh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ig=[...Vh,"documentOverlays"],xd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lp=xd,Uh=[...lp,"indexConfiguration","indexState","indexEntries"];class jh extends ws{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ho(i,e){const t=_n(i);return _o.M(t.ie,e)}class Gu{constructor(e,t,o,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(e.key)&&vd(f,e,o[c])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=vl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=vl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Rl();return this.mutations.forEach(c=>{const f=e.get(c.key),v=f.overlayedDocument;let M=this.applyToLocalView(v,f.mutatedFields);M=t.has(c.key)?null:M;const z=Th(v,M);null!==z&&o.set(c.key,z),v.isValidDocument()||v.convertToNoDocument(A.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wr())}isEqual(e){return this.batchId===e.batchId&&Xr(this.mutations,e.mutations,(t,o)=>E(t,o))&&Xr(this.baseMutations,e.baseMutations,(t,o)=>E(t,o))}}class Nd{constructor(e,t,o,c){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=c}static from(e,t,o){Un(e.mutations.length===o.length);let c=Pl;const f=e.mutations;for(let v=0;v<f.length;v++)c=c.insert(f[v].key,o[v].version);return new Nd(e,t,o,c)}}class Wu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qa{constructor(e,t,o,c,f=A.min(),v=A.min(),M=Di.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=M}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Hh{constructor(e){this.re=e}}function cp(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Md(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:bl(c=i.re,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:au(c,f.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Ll(e.version)};else{if(!e.isUnknownDocument())return In();o.unknownDocument={path:t.path.toArray(),version:Ll(e.version)}}var c,f;return o}function Md(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ll(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function lc(i){const e=new Oi(i.seconds,i.nanoseconds);return A.fromTimestamp(e)}function Ua(i,e){const t=(e.baseMutations||[]).map(f=>Dd(i.re,f));for(let f=0;f<e.mutations.length-1;++f){const v=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(v.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>Dd(i.re,f)),c=Oi.fromMillis(e.localWriteTimeMs);return new Gu(e.batchId,c,t,o)}function Rc(i){const e=lc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?lc(i.lastLimboFreeSnapshotVersion):A.min();let o;var c;return void 0!==i.query.documents?(Un(1===(c=i.query).documents.length),o=no(ul(Xf(c.documents[0])))):o=no(Ed(i.query)),new Qa(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Di.fromBase64String(i.resumeToken))}function Gh(i,e){const t=Ll(e.snapshotVersion),o=Ll(e.lastLimboFreeSnapshotVersion);let c;c=Ye(e.target)?cu(i.re,e.target):Cd(i.re,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$(e.target),readTime:t,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function Wh(i){const e=Ed({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ml(e,e.limit,"L"):e}function cc(i,e){return new Wu(e.largestBatchId,Dd(i.re,e.overlayMutation))}function up(i,e){const t=e.path.lastSegment();return[i,jo(e.path.popLast()),t]}function zh(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Ll(o.readTime),documentKey:jo(o.documentKey.path),largestBatchId:o.largestBatchId}}class dp{getBundleMetadata(e,t){return Zh(e).get(t).next(o=>{if(o)return{id:(c=o).bundleId,createTime:lc(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Zh(e).put({bundleId:(o=t).id,createTime:Ll(Ys(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Od(e).get(t).next(o=>{if(o)return{name:(c=o).name,query:Wh(c.bundledQuery),readTime:lc(c.readTime)};var c})}saveNamedQuery(e,t){return Od(e).put({name:(o=t).name,readTime:Ll(Ys(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Zh(i){return Ho(i,"bundles")}function Od(i){return Ho(i,"namedQueries")}class Pc{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Pc(e,t.uid||"")}getOverlay(e,t){return uc(e).get(up(this.userId,t)).next(o=>o?cc(this.It,o):null)}getOverlays(e,t){const o=Ks();return ot.forEach(t,c=>this.getOverlay(e,c).next(f=>{null!==f&&o.set(c,f)})).next(()=>o)}saveOverlays(e,t,o){const c=[];return o.forEach((f,v)=>{const M=new Wu(t,v);c.push(this.ue(e,M))}),ot.waitFor(c)}removeOverlaysForBatchId(e,t,o){const c=new Set;t.forEach(v=>c.add(jo(v.getCollectionPath())));const f=[];return c.forEach(v=>{const M=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);f.push(uc(e).Y("collectionPathOverlayIndex",M))}),ot.waitFor(f)}getOverlaysForCollection(e,t,o){const c=Ks(),f=jo(t),v=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return uc(e).W("collectionPathOverlayIndex",v).next(M=>{for(const z of M){const X=cc(this.It,z);c.set(X.getKey(),X)}return c})}getOverlaysForCollectionGroup(e,t,o,c){const f=Ks();let v;const M=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return uc(e).Z({index:"collectionGroupOverlayIndex",range:M},(z,X,he)=>{const Pe=cc(this.It,X);f.size()<c||Pe.largestBatchId===v?(f.set(Pe.getKey(),Pe),v=Pe.largestBatchId):he.done()}).next(()=>f)}ue(e,t){return uc(e).put(function(o,c,f){const[v,M,z]=up(c,f.mutation.key);return{userId:c,collectionPath:M,documentId:z,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Va(o.re,f.mutation)}}(this.It,this.userId,t))}}function uc(i){return Ho(i,"documentOverlays")}class wl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Jr(e.integerValue));else if("doubleValue"in e){const o=Jr(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Sl(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Hs(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?ea(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):In()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const c of Object.keys(o))this._e(c,t),this.ae(o[c],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const c of o)this.ae(c,t)}ge(e,t){this.le(t,37),J.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function hp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Rd(i){const e=64-function(t){let o=0;for(let c=0;c<8;++c){const f=hp(255&t[c]);if(o+=f,8!==f)break}return o}(i);return Math.ceil(e/8)}wl.Te=new wl;class Pd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const c=t.codePointAt(0);this.Ae(240|c>>>18),this.Ae(128|63&c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const c=t.codePointAt(0);this.Pe(240|c>>>18),this.Pe(128|63&c>>>12),this.Pe(128|63&c>>>6),this.Pe(128|63&c)}}this.ve()}De(e){const t=this.Ce(e),o=Rd(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Ne(e){const t=this.Ce(e),o=Rd(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let c=1;c<t.length;++c)t[c]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class qh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class zu{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Zu{constructor(){this.Be=new Pd,this.Le=new qh(this.Be),this.Ue=new zu(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class dc{constructor(e,t,o,c){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=c}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new dc(this.indexId,this.documentKey,this.arrayValue,o)}}function hc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=fp(i.arrayValue,e.arrayValue),0!==t?t:(t=fp(i.directionalValue,e.directionalValue),0!==t?t:J.comparator(i.documentKey,e.documentKey)))}function fp(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class pp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Le(e);if(void 0!==t&&!this.ze(t))return!1;const o=It(e);let c=0,f=0;for(;c<o.length&&this.ze(o[c]);++c);if(c===o.length)return!0;if(void 0!==this.je){const v=o[c];if(!this.He(this.je,v)||!this.Je(this.Ge[f++],v))return!1;++c}for(;c<o.length;++c){const v=o[c];if(f>=this.Ge.length||!this.Je(this.Ge[f++],v))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Kh{constructor(){this.Ye=new kd}addToCollectionParentIndex(e,t){return this.Ye.add(t),ot.resolve()}getCollectionParents(e,t){return ot.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ot.resolve()}deleteFieldIndex(e,t){return ot.resolve()}getDocumentsMatchingTarget(e,t){return ot.resolve(null)}getIndexType(e,t){return ot.resolve(0)}getFieldIndexes(e,t){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,t){return ot.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return ot.resolve(bs.min())}updateCollectionGroup(e,t,o){return ot.resolve()}updateIndexEntries(e,t){return ot.resolve()}}class kd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t]||new qi(D.comparator),f=!c.has(o);return this.index[t]=c.add(o),f}has(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t];return c&&c.has(o)}getEntries(e){return(this.index[e]||new qi(D.comparator)).toArray()}}const qu=new Uint8Array(0);class gp{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new kd,this.Ze=new xo(o=>$(o),(o,c)=>Ee(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const f={collectionId:o,parent:jo(c)};return mp(e).put(f)}return ot.resolve()}getCollectionParents(e,t){const o=[],c=IDBKeyRange.bound([t,""],[Si(t),""],!1,!0);return mp(e).W(c).next(f=>{for(const v of f){if(v.collectionId!==t)break;o.push(ro(v.parent))}return o})}addFieldIndex(e,t){const o=Fd(e),c={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var v;delete c.indexId;const f=o.add(c);if(t.indexState){const v=Ku(e);return f.next(M=>{v.put(zh(M,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return f.next()}deleteFieldIndex(e,t){const o=Fd(e),c=Ku(e),f=uu(e);return o.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=uu(e);let c=!0;const f=new Map;return ot.forEach(this.tn(t),v=>this.en(e,v).next(M=>{c&&(c=!!M),f.set(v,M)})).next(()=>{if(c){let v=Wr();const M=[];return ot.forEach(f,(z,X)=>{var he;Yt("IndexedDbIndexManager",`Using index ${he=z,`id=${he.indexId}|cg=${he.collectionGroup}|f=${he.fields.map(ls=>`${ls.fieldPath}:${ls.kind}`).join(",")}`} to execute ${$(t)}`);const Pe=function(ls,Go){const Cs=Le(Go);if(void 0===Cs)return null;for(const rs of yt(ls,Cs.fieldPath))switch(rs.op){case"array-contains-any":return rs.value.arrayValue.values||[];case"array-contains":return[rs.value]}return null}(X,z),gt=function(ls,Go){const Cs=new Map;for(const rs of It(Go))for(const Wo of yt(ls,rs.fieldPath))switch(Wo.op){case"==":case"in":Cs.set(rs.fieldPath.canonicalString(),Wo.value);break;case"not-in":case"!=":return Cs.set(rs.fieldPath.canonicalString(),Wo.value),Array.from(Cs.values())}return null}(X,z),jt=function(ls,Go){const Cs=[];let rs=!0;for(const Wo of It(Go)){const hd=0===Wo.kind?Jt(ls,Wo.fieldPath,ls.startAt):Sn(ls,Wo.fieldPath,ls.startAt);Cs.push(hd.value),rs&&(rs=hd.inclusive)}return new oa(Cs,rs)}(X,z),qt=function(ls,Go){const Cs=[];let rs=!0;for(const Wo of It(Go)){const hd=0===Wo.kind?Sn(ls,Wo.fieldPath,ls.endAt):Jt(ls,Wo.fieldPath,ls.endAt);Cs.push(hd.value),rs&&(rs=hd.inclusive)}return new oa(Cs,rs)}(X,z),$n=this.nn(z,X,jt),sr=this.nn(z,X,qt),Ji=this.sn(z,X,gt),Ms=this.rn(z.indexId,Pe,$n,jt.inclusive,sr,qt.inclusive,Ji);return ot.forEach(Ms,ls=>o.J(ls,t.limit).next(Go=>{Go.forEach(Cs=>{const rs=J.fromSegments(Cs.documentKey);v.has(rs)||(v=v.add(rs),M.push(rs))})}))}).next(()=>M)}return ot.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,c,f,v,M){const z=(null!=t?t.length:1)*Math.max(o.length,f.length),X=z/(null!=t?t.length:1),he=[];for(let Pe=0;Pe<z;++Pe){const gt=t?this.on(t[Pe/X]):qu,jt=this.un(e,gt,o[Pe%X],c),qt=this.cn(e,gt,f[Pe%X],v),$n=M.map(sr=>this.un(e,gt,sr,!0));he.push(...this.createRange(jt,qt,$n))}return he}un(e,t,o,c){const f=new dc(e,J.empty(),t,o);return c?f:f.Ke()}cn(e,t,o,c){const f=new dc(e,J.empty(),t,o);return c?f.Ke():f}en(e,t){const o=new pp(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(f=>{let v=null;for(const M of f)o.We(M)&&(!v||M.fields.length>v.fields.length)&&(v=M);return v})}getIndexType(e,t){let o=2;return ot.forEach(this.tn(t),c=>this.en(e,c).next(f=>{f?0!==o&&f.fields.length<function(v){let M=new qi(W.comparator),z=!1;for(const X of v.filters){const he=X;he.field.isKeyField()||("array-contains"===he.op||"array-contains-any"===he.op?z=!0:M=M.add(he.field))}for(const X of v.orderBy)X.field.isKeyField()||(M=M.add(X.field));return M.size+(z?1:0)}(c)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Zu;for(const c of It(e)){const f=t.data.field(c.fieldPath);if(null==f)return null;const v=o.qe(c.kind);wl.Te.ce(f,v)}return o.$e()}on(e){const t=new Zu;return wl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Zu;return wl.Te.ce(qa(this.databaseId,t),o.qe(function(c){const f=It(c);return 0===f.length?0:f[f.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let c=[];c.push(new Zu);let f=0;for(const v of It(e)){const M=o[f++];for(const z of c)if(this.ln(t,v.fieldPath)&&Ia(M))c=this.fn(c,v,M);else{const X=z.qe(v.kind);wl.Te.ce(M,X)}}return this.dn(c)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const c=[...e],f=[];for(const v of o.arrayValue.values||[])for(const M of c){const z=new Zu;z.seed(M.$e()),wl.Te.ce(v,z.qe(t.kind)),f.push(z)}return f}ln(e,t){return!!e.filters.find(o=>o instanceof zn&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Fd(e),c=Ku(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(f=>{const v=[];return ot.forEach(f,M=>c.get([M.indexId,this.uid]).next(z=>{v.push(function(X,he){const Pe=he?new Yr(he.sequenceNumber,new bs(lc(he.readTime),new J(ro(he.documentKey)),he.largestBatchId)):Yr.empty(),gt=X.fields.map(([jt,qt])=>new wr(W.fromServerFormat(jt),qt));return new Ce(X.indexId,X.collectionGroup,gt,Pe)}(M,z))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,c)=>{const f=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==f?f:An(o.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const c=Fd(e),f=Ku(e);return this._n(e).next(v=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>ot.forEach(M,z=>f.put(zh(z.indexId,this.user,v,o)))))}updateIndexEntries(e,t){const o=new Map;return ot.forEach(t,(c,f)=>{const v=o.get(c.collectionGroup);return(v?ot.resolve(v):this.getFieldIndexes(e,c.collectionGroup)).next(M=>(o.set(c.collectionGroup,M),ot.forEach(M,z=>this.wn(e,c,z).next(X=>{const he=this.mn(f,z);return X.isEqual(he)?ot.resolve():this.gn(e,f,z,X,he)}))))})}yn(e,t,o,c){return uu(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,c){return uu(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const c=uu(e);let f=new qi(hc);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(v,M)=>{f=f.add(new dc(o.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>f)}mn(e,t){let o=new qi(hc);const c=this.an(t,e);if(null==c)return o;const f=Le(t);if(null!=f){const v=e.data.field(f.fieldPath);if(Ia(v))for(const M of v.arrayValue.values||[])o=o.add(new dc(t.indexId,e.key,this.on(M),c))}else o=o.add(new dc(t.indexId,e.key,qu,c));return o}gn(e,t,o,c,f){Yt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(M,z,X,he,Pe){const gt=M.getIterator(),jt=z.getIterator();let qt=Ql(gt),$n=Ql(jt);for(;qt||$n;){let sr=!1,Ji=!1;if(qt&&$n){const Ms=X(qt,$n);Ms<0?Ji=!0:Ms>0&&(sr=!0)}else null!=qt?Ji=!0:sr=!0;sr?(he($n),$n=Ql(jt)):Ji?(Pe(qt),qt=Ql(gt)):(qt=Ql(gt),$n=Ql(jt))}}(c,f,hc,M=>{v.push(this.yn(e,t,o,M))},M=>{v.push(this.pn(e,t,o,M))}),ot.waitFor(v)}_n(e){let t=1;return Ku(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,f)=>{f.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((v,M)=>hc(v,M)).filter((v,M,z)=>!M||0!==hc(v,z[M-1]));const c=[];c.push(e);for(const v of o){const M=hc(v,e),z=hc(v,t);if(0===M)c[0]=e.Ke();else if(M>0&&z<0)c.push(v),c.push(v.Ke());else if(z>0)break}c.push(t);const f=[];for(let v=0;v<c.length;v+=2)f.push(IDBKeyRange.bound([c[v].indexId,this.uid,c[v].arrayValue,c[v].directionalValue,qu,[]],[c[v+1].indexId,this.uid,c[v+1].arrayValue,c[v+1].directionalValue,qu,[]]));return f}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Xa)}getMinOffset(e,t){return ot.mapArray(this.tn(t),o=>this.en(e,o).next(c=>c||In())).next(Xa)}}function mp(i){return Ho(i,"collectionParents")}function uu(i){return Ho(i,"indexEntries")}function Fd(i){return Ho(i,"indexConfiguration")}function Ku(i){return Ho(i,"indexState")}function Xa(i){Un(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const c=i[o].indexState.offset;ba(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new bs(e.readTime,e.documentKey,t)}const _p={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _a{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new _a(e,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ld(i,e,t){const o=i.store("mutations"),c=i.store("documentMutations"),f=[],v=IDBKeyRange.only(t.batchId);let M=0;const z=o.Z({range:v},(he,Pe,gt)=>(M++,gt.delete()));f.push(z.next(()=>{Un(1===M)}));const X=[];for(const he of t.mutations){const Pe=Uu(e,he.key.path,t.batchId);f.push(c.delete(Pe)),X.push(he.key)}return ot.waitFor(f).next(()=>X)}function Yu(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw In();e=i.noDocument}return JSON.stringify(e).length}_a.DEFAULT_COLLECTION_PERCENTILE=10,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_a.DEFAULT=new _a(41943040,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_a.DISABLED=new _a(-1,0,0);class Ju{constructor(e,t,o,c){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=c,this.In={}}static oe(e,t,o,c){Un(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Ju(f,t,o,c)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return m(e).Z({index:"userMutationsIndex",range:o},(c,f,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,o,c){const f=u(e),v=m(e);return v.add({}).next(M=>{Un("number"==typeof M);const z=new Gu(M,t,o,c),X=function(gt,jt,qt){const $n=qt.baseMutations.map(Ji=>Va(gt.re,Ji)),sr=qt.mutations.map(Ji=>Va(gt.re,Ji));return{userId:jt,batchId:qt.batchId,localWriteTimeMs:qt.localWriteTime.toMillis(),baseMutations:$n,mutations:sr}}(this.It,this.userId,z),he=[];let Pe=new qi((gt,jt)=>An(gt.canonicalString(),jt.canonicalString()));for(const gt of c){const jt=Uu(this.userId,gt.key.path,M);Pe=Pe.add(gt.key.path.popLast()),he.push(v.put(X)),he.push(f.put(jt,sp))}return Pe.forEach(gt=>{he.push(this.indexManager.addToCollectionParentIndex(e,gt))}),e.addOnCommittedListener(()=>{this.In[M]=z.keys()}),ot.waitFor(he).next(()=>z)})}lookupMutationBatch(e,t){return m(e).get(t).next(o=>o?(Un(o.userId===this.userId),Ua(this.It,o)):null)}Tn(e,t){return this.In[t]?ot.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const c=o.keys();return this.In[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,c=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return m(e).Z({index:"userMutationsIndex",range:c},(v,M,z)=>{M.userId===this.userId&&(Un(M.batchId>=o),f=Ua(this.It,M)),z.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return m(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,f,v)=>{o=f.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return m(e).W("userMutationsIndex",t).next(o=>o.map(c=>Ua(this.It,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Vu(this.userId,t.path),c=IDBKeyRange.lowerBound(o),f=[];return u(e).Z({range:c},(v,M,z)=>{const[X,he,Pe]=v,gt=ro(he);if(X===this.userId&&t.path.isEqual(gt))return m(e).get(Pe).next(jt=>{if(!jt)throw In();Un(jt.userId===this.userId),f.push(Ua(this.It,jt))});z.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new qi(An);const c=[];return t.forEach(f=>{const v=Vu(this.userId,f.path),M=IDBKeyRange.lowerBound(v),z=u(e).Z({range:M},(X,he,Pe)=>{const[gt,jt,qt]=X,$n=ro(jt);gt===this.userId&&f.path.isEqual($n)?o=o.add(qt):Pe.done()});c.push(z)}),ot.waitFor(c).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1,f=Vu(this.userId,o),v=IDBKeyRange.lowerBound(f);let M=new qi(An);return u(e).Z({range:v},(z,X,he)=>{const[Pe,gt,jt]=z,qt=ro(gt);Pe===this.userId&&o.isPrefixOf(qt)?qt.length===c&&(M=M.add(jt)):he.done()}).next(()=>this.En(e,M))}En(e,t){const o=[],c=[];return t.forEach(f=>{c.push(m(e).get(f).next(v=>{if(null===v)throw In();Un(v.userId===this.userId),o.push(Ua(this.It,v))}))}),ot.waitFor(c).next(()=>o)}removeMutationBatch(e,t){return Ld(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ot.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ot.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return u(e).Z({range:o},(f,v,M)=>{if(f[0]===this.userId){const z=ro(f[1]);c.push(z)}else M.done()}).next(()=>{Un(0===c.length)})})}containsKey(e,t){return h(e,this.userId,t)}Rn(e){return y(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function h(i,e,t){const o=Vu(e,t.path),c=o[1],f=IDBKeyRange.lowerBound(o);let v=!1;return u(i).Z({range:f,X:!0},(M,z,X)=>{const[he,Pe,gt]=M;he===e&&Pe===c&&(v=!0),X.done()}).next(()=>v)}function m(i){return Ho(i,"mutations")}function u(i){return Ho(i,"documentMutations")}function y(i){return Ho(i,"mutationQueues")}class N{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new N(0)}static vn(){return new N(-1)}}class V{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new N(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>A.fromTimestamp(new Oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=t,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Sn(e,c)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_e(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Un(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let c=0;const f=[];return _e(e).Z((v,M)=>{const z=Rc(M);z.sequenceNumber<=t&&null===o.get(z.targetId)&&(c++,f.push(this.removeTargetData(e,z)))}).next(()=>ot.waitFor(f)).next(()=>c)}forEachTarget(e,t){return _e(e).Z((o,c)=>{const f=Rc(c);t(f)})}Vn(e){return Ge(e).get("targetGlobalKey").next(t=>(Un(null!==t),t))}Sn(e,t){return Ge(e).put("targetGlobalKey",t)}Dn(e,t){return _e(e).put(Gh(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=$(t),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return _e(e).Z({range:c,index:"queryTargetsIndex"},(v,M,z)=>{const X=Rc(M);Ee(t,X.target)&&(f=X,z.done())}).next(()=>f)}addMatchingKeys(e,t,o){const c=[],f=Be(e);return t.forEach(v=>{const M=jo(v.path);c.push(f.put({targetId:o,path:M})),c.push(this.referenceDelegate.addReference(e,o,v))}),ot.waitFor(c)}removeMatchingKeys(e,t,o){const c=Be(e);return ot.forEach(t,f=>{const v=jo(f.path);return ot.waitFor([c.delete([o,v]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,t){const o=Be(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),c=Be(e);let f=Wr();return c.Z({range:o,X:!0},(v,M,z)=>{const X=ro(v[1]),he=new J(X);f=f.add(he)}).next(()=>f)}containsKey(e,t){const o=jo(t.path),c=IDBKeyRange.bound([o],[Si(o)],!1,!0);let f=0;return Be(e).Z({index:"documentTargetsIndex",X:!0,range:c},([v,M],z,X)=>{0!==v&&(f++,X.done())}).next(()=>f>0)}se(e,t){return _e(e).get(t).next(o=>o?Rc(o):null)}}function _e(i){return Ho(i,"targets")}function Ge(i){return Ho(i,"targetGlobal")}function Be(i){return Ho(i,"targetDocuments")}function bt([i,e],[t,o]){const c=An(i,t);return 0===c?An(e,o):c}class Tt{constructor(e){this.xn=e,this.buffer=new qi(bt),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();bt(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kn{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Yt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,a.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){yo(o)?Yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Fo(o)}yield t.Fn(3e5)}))}}class Mn{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ot.resolve(li.at);const o=new Tt(t);return this.$n.forEachTarget(e,c=>o.On(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>o.On(c))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(_p)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_p):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,c,f,v,M,z,X;const he=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(Yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),c=this.params.maximumSequenceNumbersToCollect):c=Pe,v=Date.now(),this.nthSequenceNumber(e,c))).next(Pe=>(o=Pe,M=Date.now(),this.removeTargets(e,o,t))).next(Pe=>(f=Pe,z=Date.now(),this.removeOrphanedDocuments(e,o))).next(Pe=>(X=Date.now(),Ss()<=Ie.in.DEBUG&&Yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-he}ms\n\tDetermined least recently used ${c} in `+(M-v)+`ms\n\tRemoved ${f} targets in `+(z-M)+`ms\n\tRemoved ${Pe} documents in `+(X-z)+`ms\nTotal Duration: ${X-he}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:Pe})))}}class er{constructor(e,t){this.db=e,this.garbageCollector=new Mn(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(c=>o+c))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,c)=>t(c))}addReference(e,t,o){return Zr(e,o)}removeReference(e,t,o){return Zr(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Zr(e,t)}Gn(e,t){return function(o,c){let f=!1;return y(o).tt(v=>h(o,v,c).next(M=>(M&&(f=!0),ot.resolve(!M)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Kn(e,(v,M)=>{if(M<=t){const z=this.Gn(e,v).next(X=>{if(!X)return f++,o.getEntry(e,v).next(()=>(o.removeEntry(v,A.min()),Be(e).delete([0,jo(v.path)])))});c.push(z)}}).next(()=>ot.waitFor(c)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Zr(e,t)}Kn(e,t){const o=Be(e);let c,f=li.at;return o.Z({index:"documentTargetsIndex"},([v,M],{path:z,sequenceNumber:X})=>{0===v?(f!==li.at&&t(new J(ro(c)),f),f=X,c=z):f=li.at}).next(()=>{f!==li.at&&t(new J(ro(c)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zr(i,e){return Be(i).put((o=i.currentSequenceNumber,{targetId:0,path:jo(e.path),sequenceNumber:o}));var o}class vr{constructor(){this.changes=new xo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ot.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ei{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return ui(e).put(o)}removeEntry(e,t,o){return ui(e).delete(function(c,f){const v=c.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Md(f),v[v.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Ei.newInvalidDocument(t);return ui(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ti(t))},(c,f)=>{o=this.jn(t,f)}).next(()=>o)}Wn(e,t){let o={size:0,document:Ei.newInvalidDocument(t)};return ui(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ti(t))},(c,f)=>{o={document:this.jn(t,f),size:Yu(f)}}).next(()=>o)}getEntries(e,t){let o=Uo();return this.zn(e,t,(c,f)=>{const v=this.jn(c,f);o=o.insert(c,v)}).next(()=>o)}Hn(e,t){let o=Uo(),c=new Ds(J.comparator);return this.zn(e,t,(f,v)=>{const M=this.jn(f,v);o=o.insert(f,M),c=c.insert(f,Yu(v))}).next(()=>({documents:o,Jn:c}))}zn(e,t,o){if(t.isEmpty())return ot.resolve();let c=new qi(ns);t.forEach(z=>c=c.add(z));const f=IDBKeyRange.bound(ti(c.first()),ti(c.last())),v=c.getIterator();let M=v.getNext();return ui(e).Z({index:"documentKeyIndex",range:f},(z,X,he)=>{const Pe=J.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;M&&ns(M,Pe)<0;)o(M,null),M=v.getNext();M&&M.isEqual(Pe)&&(o(M,X),M=v.hasNext()?v.getNext():null),M?he.j(ti(M)):he.done()}).next(()=>{for(;M;)o(M,null),M=v.hasNext()?v.getNext():null})}getAllFromCollection(e,t,o){const c=[t.popLast().toArray(),t.lastSegment(),Md(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],f=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ui(e).W(IDBKeyRange.bound(c,f,!0)).next(v=>{let M=Uo();for(const z of v){const X=this.jn(J.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);M=M.insert(X.key,X)}return M})}getAllFromCollectionGroup(e,t,o,c){let f=Uo();const v=vi(t,o),M=vi(t,bs.max());return ui(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,M,!0)},(z,X,he)=>{const Pe=this.jn(J.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);f=f.insert(Pe.key,Pe),f.size===c&&he.done()}).next(()=>f)}newChangeBuffer(e){return new Ci(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fs(e).get("remoteDocumentGlobalKey").next(t=>(Un(!!t),t))}Qn(e,t){return fs(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function $h(i,e){let t;if(e.document)t=Bu(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=J.fromSegments(e.noDocument.path),c=lc(e.noDocument.readTime);t=Ei.newNoDocument(o,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return In();{const o=J.fromSegments(e.unknownDocument.path),c=lc(e.unknownDocument.version);t=Ei.newUnknownDocument(o,c)}}return e.readTime&&t.setReadTime(function(o){const c=new Oi(o[0],o[1]);return A.fromTimestamp(c)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(A.min()))return o}return Ei.newInvalidDocument(e)}}function pi(i){return new ei(i)}class Ci extends vr{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new xo(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const t=[];let o=0,c=new qi((f,v)=>An(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const M=this.Xn.get(f);if(t.push(this.Yn.removeEntry(e,f,M.readTime)),v.isValidDocument()){const z=cp(this.Yn.It,v);c=c.add(f.path.popLast()),o+=Yu(z)-M.size,t.push(this.Yn.addEntry(e,f,z))}else if(o-=M.size,this.trackRemovals){const z=cp(this.Yn.It,v.convertToNoDocument(A.min()));t.push(this.Yn.addEntry(e,f,z))}}),c.forEach(f=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.Yn.updateMetadata(e,o)),ot.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:c})=>(c.forEach((f,v)=>{this.Xn.set(f,{size:v,readTime:o.get(f).readTime})}),o))}}function fs(i){return Ho(i,"remoteDocumentGlobal")}function ui(i){return Ho(i,"remoteDocumentsV14")}function ti(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vi(i,e){const t=e.documentKey.path.toArray();return[i,Md(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ns(i,e){const t=i.path.toArray(),o=e.path.toArray();let c=0;for(let f=0;f<t.length-2&&f<o.length-2;++f)if(c=An(t[f],o[f]),c)return c;return c=An(t.length,o.length),c||(c=An(t[t.length-2],o[o.length-2]),c||An(t[t.length-1],o[o.length-1]))}class Yi{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gs{constructor(e,t,o,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(o=c,this.getBaseDocument(e,t,o))).next(c=>(null!==o&&vl(o.mutation,c,yi.empty(),Oi.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Wr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Wr()){const c=Ks();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,o).next(f=>{let v=Aa();return f.forEach((M,z)=>{v=v.insert(M,z.overlayedDocument)}),v}))}getOverlayedDocuments(e,t){const o=Ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Wr()))}populateOverlays(e,t,o){const c=[];return o.forEach(f=>{t.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(e,c).next(f=>{f.forEach((v,M)=>{t.set(v,M)})})}computeViews(e,t,o,c){let f=Uo();const v=Ya(),M=Ya();return t.forEach((z,X)=>{const he=o.get(X.key);c.has(X.key)&&(void 0===he||he.mutation instanceof _)?f=f.insert(X.key,X):void 0!==he&&(v.set(X.key,he.mutation.getFieldMask()),vl(he.mutation,X,he.mutation.getFieldMask(),Oi.now()))}),this.recalculateAndSaveOverlays(e,f).next(z=>(z.forEach((X,he)=>v.set(X,he)),t.forEach((X,he)=>{var Pe;return M.set(X,new Yi(he,null!==(Pe=v.get(X))&&void 0!==Pe?Pe:null))}),M))}recalculateAndSaveOverlays(e,t){const o=Ya();let c=new Ds((v,M)=>v-M),f=Wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(v=>{for(const M of v)M.keys().forEach(z=>{const X=t.get(z);if(null===X)return;let he=o.get(z)||yi.empty();he=M.applyToLocalView(X,he),o.set(z,he);const Pe=(c.get(M.batchId)||Wr()).add(z);c=c.insert(M.batchId,Pe)})}).next(()=>{const v=[],M=c.getReverseIterator();for(;M.hasNext();){const z=M.getNext(),X=z.key,he=z.value,Pe=Rl();he.forEach(gt=>{if(!f.has(gt)){const jt=Th(t.get(gt),o.get(gt));null!==jt&&Pe.set(gt,jt),f=f.add(gt)}}),v.push(this.documentOverlayCache.saveOverlays(e,X,Pe))}return ot.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return J.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var c}getNextDocuments(e,t,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,c).next(f=>{const v=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,c-f.size):ot.resolve(Ks());let M=-1,z=f;return v.next(X=>ot.forEach(X,(he,Pe)=>(M<Pe.largestBatchId&&(M=Pe.largestBatchId),f.get(he)?ot.resolve():this.getBaseDocument(e,he,Pe).next(gt=>{z=z.insert(he,gt)}))).next(()=>this.populateOverlays(e,X,f)).next(()=>this.computeViews(e,z,X,Wr())).next(he=>({batchId:M,changes:Ba(he)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(o=>{let c=Aa();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const c=t.collectionGroup;let f=Aa();return this.indexManager.getCollectionParents(e,c).next(v=>ot.forEach(v,M=>{const z=(X=t,he=M.child(c),new ga(he,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,he;return this.getDocumentsMatchingCollectionQuery(e,z,o).next(X=>{X.forEach((he,Pe)=>{f=f.insert(he,Pe)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,o){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(f=>(c=f,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(f=>{f.forEach((M,z)=>{const X=z.getKey();null===c.get(X)&&(c=c.insert(X,Ei.newInvalidDocument(X)))});let v=Aa();return c.forEach((M,z)=>{const X=f.get(M);void 0!==X&&vl(X.mutation,z,yi.empty(),Oi.now()),nc(t,z)&&(v=v.insert(M,z))}),v})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):ot.resolve(Ei.newInvalidDocument(t))}}class Mo{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ot.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Ys(o.createTime)}),ot.resolve()}getNamedQuery(e,t){return ot.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Wh(o.bundledQuery),readTime:Ys(o.readTime)}),ot.resolve();var o}}class Js{constructor(){this.overlays=new Ds(J.comparator),this.es=new Map}getOverlay(e,t){return ot.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ks();return ot.forEach(t,c=>this.getOverlay(e,c).next(f=>{null!==f&&o.set(c,f)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((c,f)=>{this.ue(e,t,f)}),ot.resolve()}removeOverlaysForBatchId(e,t,o){const c=this.es.get(o);return void 0!==c&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.es.delete(o)),ot.resolve()}getOverlaysForCollection(e,t,o){const c=Ks(),f=t.length+1,v=new J(t.child("")),M=this.overlays.getIteratorFrom(v);for(;M.hasNext();){const z=M.getNext().value,X=z.getKey();if(!t.isPrefixOf(X.path))break;X.path.length===f&&z.largestBatchId>o&&c.set(z.getKey(),z)}return ot.resolve(c)}getOverlaysForCollectionGroup(e,t,o,c){let f=new Ds((X,he)=>X-he);const v=this.overlays.getIterator();for(;v.hasNext();){const X=v.getNext().value;if(X.getKey().getCollectionGroup()===t&&X.largestBatchId>o){let he=f.get(X.largestBatchId);null===he&&(he=Ks(),f=f.insert(X.largestBatchId,he)),he.set(X.getKey(),X)}}const M=Ks(),z=f.getIterator();for(;z.hasNext()&&(z.getNext().value.forEach((X,he)=>M.set(X,he)),!(M.size()>=c)););return ot.resolve(M)}ue(e,t,o){const c=this.overlays.get(o.key);if(null!==c){const v=this.es.get(c.largestBatchId).delete(o.key);this.es.set(c.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new Wu(t,o));let f=this.es.get(t);void 0===f&&(f=Wr(),this.es.set(t,f)),this.es.set(t,f.add(o.key))}}class xa{constructor(){this.ns=new qi(Bi.ss),this.rs=new qi(Bi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Bi(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Bi(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new J(new D([])),o=new Bi(t,e),c=new Bi(t,e+1),f=[];return this.rs.forEachInRange([o,c],v=>{this.cs(v),f.push(v.key)}),f}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new J(new D([])),o=new Bi(t,e),c=new Bi(t,e+1);let f=Wr();return this.rs.forEachInRange([o,c],v=>{f=f.add(v.key)}),f}containsKey(e){const t=new Bi(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Bi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return J.comparator(e.key,t.key)||An(e._s,t._s)}static os(e,t){return An(e._s,t._s)||J.comparator(e.key,t.key)}}class fc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new qi(Bi.ss)}checkEmpty(e){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,c){const f=this.ws;this.ws++;const v=new Gu(f,t,o,c);this.mutationQueue.push(v);for(const M of c)this.gs=this.gs.add(new Bi(M.key,f)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return ot.resolve(v)}lookupMutationBatch(e,t){return ot.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ps(t+1),f=c<0?0:c;return ot.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Bi(t,0),c=new Bi(t,Number.POSITIVE_INFINITY),f=[];return this.gs.forEachInRange([o,c],v=>{const M=this.ys(v._s);f.push(M)}),ot.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new qi(An);return t.forEach(c=>{const f=new Bi(c,0),v=new Bi(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([f,v],M=>{o=o.add(M._s)})}),ot.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1;let f=o;J.isDocumentKey(f)||(f=f.child(""));const v=new Bi(new J(f),0);let M=new qi(An);return this.gs.forEachWhile(z=>{const X=z.key.path;return!!o.isPrefixOf(X)&&(X.length===c&&(M=M.add(z._s)),!0)},v),ot.resolve(this.Is(M))}Is(e){const t=[];return e.forEach(o=>{const c=this.ys(o);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Un(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ot.forEach(t.mutations,c=>{const f=new Bi(c.key,t.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Bi(t,0),c=this.gs.firstAfterOrEqual(o);return ot.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return ot.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bl{constructor(e){this.Es=e,this.docs=new Ds(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,c=this.docs.get(o),f=c?c.size:0,v=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ot.resolve(o?o.document.mutableCopy():Ei.newInvalidDocument(t))}getEntries(e,t){let o=Uo();return t.forEach(c=>{const f=this.docs.get(c);o=o.insert(c,f?f.document.mutableCopy():Ei.newInvalidDocument(c))}),ot.resolve(o)}getAllFromCollection(e,t,o){let c=Uo();const f=new J(t.child("")),v=this.docs.getIteratorFrom(f);for(;v.hasNext();){const{key:M,value:{document:z}}=v.getNext();if(!t.isPrefixOf(M.path))break;M.path.length>t.length+1||ba(mo(z),o)<=0||(c=c.insert(z.key,z.mutableCopy()))}return ot.resolve(c)}getAllFromCollectionGroup(e,t,o,c){In()}As(e,t){return ot.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new ja(this)}getSize(e){return ot.resolve(this.size)}}class ja extends vr{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?t.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(o)}),ot.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class el{constructor(e){this.persistence=e,this.Rs=new xo(t=>$(t),Ee),this.lastRemoteSnapshotVersion=A.min(),this.highestTargetId=0,this.bs=0,this.Ps=new xa,this.targetCount=0,this.vs=N.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,c)=>t(c)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),ot.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new N(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ot.resolve()}updateTargetData(e,t){return this.Dn(t),ot.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,t,o){let c=0;const f=[];return this.Rs.forEach((v,M)=>{M.sequenceNumber<=t&&null===o.get(M.targetId)&&(this.Rs.delete(v),f.push(this.removeMatchingKeysForTargetId(e,M.targetId)),c++)}),ot.waitFor(f).next(()=>c)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return ot.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),ot.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const c=this.persistence.referenceDelegate,f=[];return c&&t.forEach(v=>{f.push(c.markPotentiallyOrphaned(e,v))}),ot.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ot.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return ot.resolve(o)}containsKey(e,t){return ot.resolve(this.Ps.containsKey(t))}}class Qu{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new li(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new el(this),this.indexManager=new Kh,this.remoteDocumentCache=new Bl(o=>this.referenceDelegate.xs(o)),this.It=new Hh(t),this.Ns=new Mo(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Js,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new fc(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Yt("MemoryPersistence","Starting transaction:",e);const c=new Vl(this.Ss.next());return this.referenceDelegate.ks(),o(c).next(f=>this.referenceDelegate.Os(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Ms(e,t){return ot.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Vl extends ws{constructor(e){super(),this.currentSequenceNumber=e}}class Ul{constructor(e){this.persistence=e,this.Fs=new xa,this.$s=null}static Bs(e){return new Ul(e)}get Ls(){if(this.$s)return this.$s;throw In()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),ot.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),ot.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ot.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(c=>this.Ls.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(f=>this.Ls.add(f.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Ls,o=>{const c=J.fromPath(o);return this.Us(e,c).next(f=>{f||t.removeEntry(c,A.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ot.or([()=>ot.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Bd{constructor(e){this.It=e}$(e,t,o,c){const f=new wa("createOrUpgrade",t);var M;o<1&&c>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ip,{unique:!0}),M.createObjectStore("documentMutations"),jl(e),function(M){M.createObjectStore("remoteDocuments")}(e));let v=ot.resolve();return o<3&&c>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),jl(e)),v=v.next(()=>function(M){const z=M.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:A.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",X)}(f))),o<4&&c>=4&&(0!==o&&(v=v.next(()=>function(M,z){return z.store("mutations").W().next(X=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ip,{unique:!0});const he=z.store("mutations"),Pe=X.map(gt=>he.put(gt));return ot.waitFor(Pe)})}(e,f))),v=v.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(v=v.next(()=>this.qs(f))),o<6&&c>=6&&(v=v.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(f)))),o<7&&c>=7&&(v=v.next(()=>this.Gs(f))),o<8&&c>=8&&(v=v.next(()=>this.Qs(e,f))),o<9&&c>=9&&(v=v.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(v=v.next(()=>this.js(f))),o<11&&c>=11&&(v=v.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(v=v.next(()=>{!function(M){const z=M.createObjectStore("documentOverlays",{keyPath:ap});z.createIndex("collectionPathOverlayIndex",Oc,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",Bh,{unique:!1})}(e)})),o<13&&c>=13&&(v=v.next(()=>function(M){const z=M.createObjectStore("remoteDocumentsV14",{keyPath:Ja});z.createIndex("documentKeyIndex",ju),z.createIndex("collectionGroupIndex",Hu)}(e)).next(()=>this.Ws(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(v=v.next(()=>this.zs(e,f))),o<15&&c>=15&&(v=v.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Fh}).createIndex("sequenceNumberIndex",Sd,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Ad}).createIndex("documentKeyIndex",Lh,{unique:!1})}(e))),v}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,c)=>{t+=Yu(c)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(c=>ot.forEach(c,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",v).next(M=>ot.forEach(M,z=>{Un(z.userId===f.userId);const X=Ua(this.It,z);return Ld(e,f.userId,X).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const f=[];return o.Z((v,M)=>{const z=new D(v),X=[0,jo(z)];f.push(t.get(X).next(he=>he?ot.resolve():t.put({targetId:0,path:jo(z),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>ot.waitFor(f))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Td});const o=t.store("collectionParents"),c=new kd,f=v=>{if(c.add(v)){const M=v.lastSegment(),z=v.popLast();return o.put({collectionId:M,parent:jo(z)})}};return t.store("remoteDocuments").Z({X:!0},(v,M)=>{const z=new D(v);return f(z.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([v,M,z],X)=>{const he=ro(M);return f(he.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,c)=>{const f=Rc(c),v=Gh(this.It,f);return t.put(v)})}Ws(e,t){const o=t.store("remoteDocuments"),c=[];return o.Z((f,v)=>{const M=t.store("remoteDocumentsV14"),z=(X=v,X.document?new J(D.fromString(X.document.name).popFirst(5)):X.noDocument?J.fromSegments(X.noDocument.path):X.unknownDocument?J.fromSegments(X.unknownDocument.path):In()).path.toArray();var X;const he={prefixPath:z.slice(0,z.length-2),collectionGroup:z[z.length-2],documentId:z[z.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};c.push(M.put(he))}).next(()=>ot.waitFor(c))}zs(e,t){const o=t.store("mutations"),c=pi(this.It),f=new Qu(Ul.Bs,this.It.re);return o.W().next(v=>{const M=new Map;return v.forEach(z=>{var X;let he=null!==(X=M.get(z.userId))&&void 0!==X?X:Wr();Ua(this.It,z).keys().forEach(Pe=>he=he.add(Pe)),M.set(z.userId,he)}),ot.forEach(M,(z,X)=>{const he=new ji(X),Pe=Pc.oe(this.It,he),gt=f.getIndexManager(he),jt=Ju.oe(he,this.It,gt,f.referenceDelegate);return new Gs(c,jt,Pe,gt).recalculateAndSaveOverlaysForDocumentKeys(new jh(t,li.at),z).next()})})}}function jl(i){i.createObjectStore("targetDocuments",{keyPath:op}).createIndex("documentTargetsIndex",$u,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kh,{unique:!0}),i.createObjectStore("targetGlobal")}const du="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pc{constructor(e,t,o,c,f,v,M,z,X,he,Pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=f,this.window=v,this.document=M,this.Js=X,this.Ys=he,this.Xs=Pe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=gt=>Promise.resolve(),!pc.C())throw new zt(ft.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new er(this,c),this.ii=t+"main",this.It=new Hh(z),this.ri=new _o(this.ii,this.Xs,new Bd(this.It)),this.Cs=new V(this.referenceDelegate,this.It),this.remoteDocumentCache=pi(this.It),this.Ns=new dp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===he&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zt(ft.FAILED_PRECONDITION,du);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new li(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,a.Z)(function*(c){if(t.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,a.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,a.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(yo(e))return Yt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return tl(e).get("owner").next(t=>ot.resolve(this.mi(t)))}gi(e){return gc(e).delete(this.clientId)}yi(){var e=this;return(0,a.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Ho(o,"clientMetadata");return c.W().next(f=>{const v=e.Ii(f,18e5),M=f.filter(z=>-1===v.indexOf(z));return ot.forEach(M,z=>c.delete(z.clientId)).next(()=>M)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ot.resolve(!0):tl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new zt(ft.FAILED_PRECONDITION,du);return!1}}return!(!this.networkEnabled||!this.inForeground)||gc(e).W().next(o=>void 0===this.Ii(o,5e3).find(c=>{if(this.clientId!==c.clientId){const v=!this.inForeground&&c.inForeground,M=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||v&&M)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Yt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,a.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new jh(t,li.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>gc(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Ju.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gp(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Pc.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Yt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",f=15===(v=this.Xs)?Uh:14===v?lp:13===v?xd:12===v?Ig:11===v?Vh:void In();var v;let M;return this.ri.runTransaction(e,c,f,z=>(M=new jh(z,this.Ss?this.Ss.next():li.at),"readwrite-primary"===t?this.fi(M).next(X=>!!X||this.di(M)).next(X=>{if(!X)throw Rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new zt(ft.FAILED_PRECONDITION,to);return o(M)}).next(X=>this.wi(M).next(()=>X)):this.Vi(M).next(()=>o(M)))).then(z=>(M.raiseOnCommittedEvent(),z))}Vi(e){return tl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new zt(ft.FAILED_PRECONDITION,du)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tl(e).put("owner",t)}static C(){return _o.C()}_i(e){const t=tl(e);return t.get("owner").next(o=>this.mi(o)?(Yt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ot.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Rr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,be.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Yt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Rr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Rr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function tl(i){return Ho(i,"owner")}function gc(i){return Ho(i,"clientMetadata")}function hu(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Hl{constructor(e,t,o,c){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=c}static Ci(e,t){let o=Wr(),c=Wr();for(const f of t.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new Hl(e,t.fromCache,o,c)}}class Vd{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,c){return this.ki(e,t).next(f=>f||this.Oi(e,t,c,o)).next(f=>f||this.Mi(e,t))}ki(e,t){if(Au(t))return ot.resolve(null);let o=no(t);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Ml(t,null,"F"),o=no(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const v=Wr(...f);return this.Ni.getDocuments(e,v).next(M=>this.indexManager.getMinOffset(e,o).next(z=>{const X=this.Fi(t,M);return this.$i(t,X,v,z.readTime)?this.ki(e,Ml(t,null,"F")):this.Bi(e,X,t,z)}))})))}Oi(e,t,o,c){return Au(t)||c.isEqual(A.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(f=>{const v=this.Fi(t,f);return this.$i(t,v,o,c)?this.Mi(e,t):(Ss()<=Ie.in.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ic(t)),this.Bi(e,v,t,ii(c,-1)))})}Fi(e,t){let o=new qi(eu(e));return t.forEach((c,f)=>{nc(e,f)&&(o=o.add(f))}),o}$i(e,t,o,c){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const f="F"===e.limitType?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Mi(e,t){return Ss()<=Ie.in.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",Ic(t)),this.Ni.getDocumentsMatchingQuery(e,t,bs.min())}Bi(e,t,o,c){return this.Ni.getDocumentsMatchingQuery(e,o,c).next(f=>(t.forEach(v=>{f=f.insert(v.key,v)}),f))}}class Tg{constructor(e,t,o,c){this.persistence=e,this.Li=t,this.It=c,this.Ui=new Ds(An),this.qi=new xo(f=>$(f),Ee),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gs(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Ud(i,e,t,o){return new Tg(i,e,t,o)}function yp(i,e){return nl.apply(this,arguments)}function nl(){return nl=(0,a.Z)(function*(i,e){const t=_n(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let c;return t.mutationQueue.getAllMutationBatches(o).next(f=>(c=f,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(f=>{const v=[],M=[];let z=Wr();for(const X of c){v.push(X.batchId);for(const he of X.mutations)z=z.add(he.key)}for(const X of f){M.push(X.batchId);for(const he of X.mutations)z=z.add(he.key)}return t.localDocuments.getDocuments(o,z).next(X=>({ji:X,removedBatchIds:v,addedBatchIds:M}))})})}),nl.apply(this,arguments)}function jd(i,e){const t=_n(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),f=t.Gi.newChangeBuffer({trackRemovals:!0});return function(v,M,z,X){const he=z.batch,Pe=he.keys();let gt=ot.resolve();return Pe.forEach(jt=>{gt=gt.next(()=>X.getEntry(M,jt)).next(qt=>{const $n=z.docVersions.get(jt);Un(null!==$n),qt.version.compareTo($n)<0&&(he.applyToRemoteDocument(qt,z),qt.isValidDocument()&&(qt.setReadTime(z.commitVersion),X.addEntry(qt)))})}),gt.next(()=>v.mutationQueue.removeMutationBatch(M,he))}(t,o,e,f).next(()=>f.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let M=Wr();for(let z=0;z<v.mutationResults.length;++z)v.mutationResults[z].transformResults.length>0&&(M=M.add(v.batch.mutations[z].key));return M}(e))).next(()=>t.localDocuments.getDocuments(o,c))})}function Yh(i){const e=_n(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Hd(i,e){const t=_n(i),o=e.snapshotVersion;let c=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=t.Gi.newChangeBuffer({trackRemovals:!0});c=t.Ui;const M=[];e.targetChanges.forEach((he,Pe)=>{const gt=c.get(Pe);if(!gt)return;M.push(t.Cs.removeMatchingKeys(f,he.removedDocuments,Pe).next(()=>t.Cs.addMatchingKeys(f,he.addedDocuments,Pe)));let jt=gt.withSequenceNumber(f.currentSequenceNumber);var qt,$n,sr;e.targetMismatches.has(Pe)?jt=jt.withResumeToken(Di.EMPTY_BYTE_STRING,A.min()).withLastLimboFreeSnapshotVersion(A.min()):he.resumeToken.approximateByteSize()>0&&(jt=jt.withResumeToken(he.resumeToken,o)),c=c.insert(Pe,jt),$n=jt,sr=he,(0===(qt=gt).resumeToken.approximateByteSize()||$n.snapshotVersion.toMicroseconds()-qt.snapshotVersion.toMicroseconds()>=3e8||sr.addedDocuments.size+sr.modifiedDocuments.size+sr.removedDocuments.size>0)&&M.push(t.Cs.updateTargetData(f,jt))});let z=Uo(),X=Wr();if(e.documentUpdates.forEach(he=>{e.resolvedLimboDocuments.has(he)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(f,he))}),M.push(fu(f,v,e.documentUpdates).next(he=>{z=he.Wi,X=he.zi})),!o.isEqual(A.min())){const he=t.Cs.getLastRemoteSnapshotVersion(f).next(Pe=>t.Cs.setTargetsMetadata(f,f.currentSequenceNumber,o));M.push(he)}return ot.waitFor(M).next(()=>v.apply(f)).next(()=>t.localDocuments.getLocalViewOfDocuments(f,z,X)).next(()=>z)}).then(f=>(t.Ui=c,f))}function fu(i,e,t){let o=Wr(),c=Wr();return t.forEach(f=>o=o.add(f)),e.getEntries(i,o).next(f=>{let v=Uo();return t.forEach((M,z)=>{const X=f.get(M);z.isFoundDocument()!==X.isFoundDocument()&&(c=c.add(M)),z.isNoDocument()&&z.version.isEqual(A.min())?(e.removeEntry(M,z.readTime),v=v.insert(M,z)):!X.isValidDocument()||z.version.compareTo(X.version)>0||0===z.version.compareTo(X.version)&&X.hasPendingWrites?(e.addEntry(z),v=v.insert(M,z)):Yt("LocalStore","Ignoring outdated watch update for ",M,". Current version:",X.version," Watch version:",z.version)}),{Wi:v,zi:c}})}function Jh(i,e){const t=_n(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function $l(i,e){const t=_n(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return t.Cs.getTargetData(o,e).next(f=>f?(c=f,ot.resolve(c)):t.Cs.allocateTargetId(o).next(v=>(c=new Qa(e,v,0,o.currentSequenceNumber),t.Cs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=t.Ui.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function Ha(i,e,t){return Na.apply(this,arguments)}function Na(){return Na=(0,a.Z)(function*(i,e,t){const o=_n(i),c=o.Ui.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",f,v=>o.persistence.referenceDelegate.removeTarget(v,c)))}catch(v){if(!yo(v))throw v;Yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.Ui=o.Ui.remove(e),o.qi.delete(c.target)}),Na.apply(this,arguments)}function kc(i,e,t){const o=_n(i);let c=A.min(),f=Wr();return o.persistence.runTransaction("Execute query","readonly",v=>function(M,z,X){const he=_n(M),Pe=he.qi.get(X);return void 0!==Pe?ot.resolve(he.Ui.get(Pe)):he.Cs.getTargetData(z,X)}(o,v,no(e)).next(M=>{if(M)return c=M.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(v,M.targetId).next(z=>{f=z})}).next(()=>o.Li.getDocumentsMatchingQuery(v,e,t?c:A.min(),t?f:Wr())).next(M=>(Gd(o,rc(e),M),{documents:M,Hi:f})))}function $d(i,e){const t=_n(i),o=_n(t.Cs),c=t.Ui.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",f=>o.se(f,e).next(v=>v?v.target:null))}function Fc(i,e){const t=_n(i),o=t.Ki.get(e)||A.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Gi.getAllFromCollectionGroup(c,e,ii(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Gd(t,e,c),c))}function Gd(i,e,t){let o=i.Ki.get(e)||A.min();t.forEach((c,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.Ki.set(e,o)}function Xu(){return Xu=(0,a.Z)(function*(i,e,t,o){const c=_n(i);let f=Wr(),v=Uo();for(const X of t){const he=e.Ji(X.metadata.name);X.document&&(f=f.add(he));const Pe=e.Yi(X);Pe.setReadTime(e.Xi(X.metadata.readTime)),v=v.insert(he,Pe)}const M=c.Gi.newChangeBuffer({trackRemovals:!0}),z=yield $l(c,(X=o,no(ul(D.fromString(`__bundle__/docs/${X}`)))));var X;return c.persistence.runTransaction("Apply bundle documents","readwrite",X=>fu(X,M,v).next(he=>(M.apply(X),he)).next(he=>c.Cs.removeMatchingKeysForTargetId(X,z.targetId).next(()=>c.Cs.addMatchingKeys(X,f,z.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(X,he.Wi,he.zi)).next(()=>he.Wi)))}),Xu.apply(this,arguments)}function Qh(i,e){return pu.apply(this,arguments)}function pu(){return pu=(0,a.Z)(function*(i,e,t=Wr()){const o=yield $l(i,no(Wh(e.bundledQuery))),c=_n(i);return c.persistence.runTransaction("Save named query","readwrite",f=>{const v=Ys(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return c.Ns.saveNamedQuery(f,e);const M=o.withResumeToken(Di.EMPTY_BYTE_STRING,v);return c.Ui=c.Ui.insert(M.targetId,M),c.Cs.updateTargetData(f,M).next(()=>c.Cs.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>c.Cs.addMatchingKeys(f,t,o.targetId)).next(()=>c.Ns.saveNamedQuery(f,e))})}),pu.apply(this,arguments)}function gu(i,e){return`firestore_clients_${i}_${e}`}function Xh(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Lc(i,e){return`firestore_targets_${i}_${e}`}class Bc{constructor(e,t,o,c){this.user=e,this.batchId=t,this.state=o,this.error=c}static Zi(e,t,o){const c=JSON.parse(o);let f,v="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return v&&c.error&&(v="string"==typeof c.error.message&&"string"==typeof c.error.code,v&&(f=new zt(c.error.code,c.error.message))),v?new Bc(e,t,c.state,f):(Rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gl{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let c,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(c=new zt(o.error.code,o.error.message))),f?new Gl(e,o.state,c):(Rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ef{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let c="object"==typeof o&&o.activeTargetIds instanceof Array,f=ic();for(let v=0;c&&v<o.activeTargetIds.length;++v)c=wc(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return c?new ef(e,f):(Rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class tf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new tf(t.clientId,t.onlineState):(Rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nf{constructor(){this.activeTargetIds=ic()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zd{constructor(e,t,o,c,f){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ds(An),this.started=!1,this.cr=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ar=gu(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new nf),this.lr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,a.Z)(function*(){const t=yield e.syncEngine.vi();for(const c of t){if(c===e.sr)continue;const f=e.getItem(gu(e.persistenceKey,c));if(f){const v=ef.Zi(c,f);v&&(e.ur=e.ur.insert(v.clientId,v))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const c=e.yr(o);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Lc(this.persistenceKey,e));if(o){const c=Gl.Zi(e,o);c&&(t=c.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lc(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(c=>{this.Er(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Yt("SharedClientState","READ",e,t),t}setItem(e,t){Yt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Yt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Yt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,a.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const c=t.vr(o.key);return t.Vr(c,null)}{const c=t.Sr(o.key,o.newValue);if(c)return t.Vr(c.clientId,c)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const c=t.Dr(o.key,o.newValue);if(c)return t.Cr(c)}}else if(t._r.test(o.key)){if(null!==o.newValue){const c=t.Nr(o.key,o.newValue);if(c)return t.kr(c)}}else if(o.key===t.wr){if(null!==o.newValue){const c=t.yr(o.newValue);if(c)return t.pr(c)}}else if(o.key===t.hr){const c=function(f){let v=li.at;if(null!=f)try{const M=JSON.parse(f);Un("number"==typeof M),v=M}catch(M){Rr("SharedClientState","Failed to read sequence number from WebStorage",M)}return v}(o.newValue);c!==li.at&&t.sequenceNumberHandler(c)}else if(o.key===t.mr){const c=t.Or(o.newValue);yield Promise.all(c.map(f=>t.syncEngine.Mr(f)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const c=new Bc(this.currentUser,e,t,o),f=Xh(this.persistenceKey,this.currentUser,e);this.setItem(f,c.tr())}Er(e){const t=Xh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const c=Lc(this.persistenceKey,e),f=new Gl(e,t,o);this.setItem(c,f.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return ef.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),c=Number(o[1]);return Bc.Zi(new ji(void 0!==o[2]?o[2]:null),c,t)}Nr(e,t){const o=this._r.exec(e),c=Number(o[1]);return Gl.Zi(c,t)}yr(e){return tf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,a.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Yt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),c=this.Ir(this.ur),f=this.Ir(o),v=[],M=[];return f.forEach(z=>{c.has(z)||v.push(z)}),c.forEach(z=>{f.has(z)||M.push(z)}),this.syncEngine.Br(v,M).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ic();return e.forEach((o,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class rf{constructor(){this.Lr=new nf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new nf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sg{qr(e){}shutdown(){}}class Zd{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const u_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ag{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Yy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,c,f){const v=this.ho(e,t);Yt("RestConnection","Sending: ",v,o);const M={};return this.lo(M,c,f),this.fo(e,v,M,o).then(z=>(Yt("RestConnection","Received: ",z),z),z=>{throw po("RestConnection",`${e} failed with error: `,z,"url: ",v,"request:",o),z})}_o(e,t,o,c,f,v){return this.ao(e,t,o,c,f)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,f)=>e[f]=c),o&&o.headers.forEach((c,f)=>e[f]=c)}ho(e,t){return`${this.oo}/v1/${t}:${u_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,c){return new Promise((f,v)=>{const M=new pl;M.setWithCredentials(!0),M.listenOnce(ha.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case da.NO_ERROR:const X=M.getResponseJson();Yt("Connection","XHR received:",JSON.stringify(X)),f(X);break;case da.TIMEOUT:Yt("Connection",'RPC "'+e+'" timed out'),v(new zt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case da.HTTP_ERROR:const he=M.getStatus();if(Yt("Connection",'RPC "'+e+'" failed with status:',he,"response text:",M.getResponseText()),he>0){const Pe=M.getResponseJson().error;if(Pe&&Pe.status&&Pe.message){const gt=function(jt){const qt=jt.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(qt)>=0?qt:ft.UNKNOWN}(Pe.status);v(new zt(gt,Pe.message))}else v(new zt(ft.UNKNOWN,"Server responded with status "+M.getStatus()))}else v(new zt(ft.UNAVAILABLE,"Connection failed."));break;default:In()}}finally{Yt("Connection",'RPC "'+e+'" completed.')}});const z=JSON.stringify(c);M.send(t,"POST",z,o,15)})}wo(e,t,o){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=mi(),v=eo(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new Mi({})),this.lo(M.initMessageHeaders,t,o),M.encodeInitMessageHeaders=!0;const z=c.join("");Yt("Connection","Creating WebChannel: "+z,M);const X=f.createWebChannel(z,M);let he=!1,Pe=!1;const gt=new Ag({Hr:qt=>{Pe?Yt("Connection","Not sending because WebChannel is closed:",qt):(he||(Yt("Connection","Opening WebChannel transport."),X.open(),he=!0),Yt("Connection","WebChannel sending:",qt),X.send(qt))},Jr:()=>X.close()}),jt=(qt,$n,sr)=>{qt.listen($n,Ji=>{try{sr(Ji)}catch(Ms){setTimeout(()=>{throw Ms},0)}})};return jt(X,Ko.EventType.OPEN,()=>{Pe||Yt("Connection","WebChannel transport opened.")}),jt(X,Ko.EventType.CLOSE,()=>{Pe||(Pe=!0,Yt("Connection","WebChannel transport closed"),gt.io())}),jt(X,Ko.EventType.ERROR,qt=>{Pe||(Pe=!0,po("Connection","WebChannel transport errored:",qt),gt.io(new zt(ft.UNAVAILABLE,"The operation could not be completed")))}),jt(X,Ko.EventType.MESSAGE,qt=>{var $n;if(!Pe){const sr=qt.data[0];Un(!!sr);const Ji=sr,Ms=Ji.error||(null===($n=Ji[0])||void 0===$n?void 0:$n.error);if(Ms){Yt("Connection","WebChannel received error:",Ms);const ls=Ms.status;let Go=function(rs){const Wo=Rn[rs];if(void 0!==Wo)return Sa(Wo)}(ls),Cs=Ms.message;void 0===Go&&(Go=ft.INTERNAL,Cs="Unknown error status: "+ls+" with message "+Ms.message),Pe=!0,gt.io(new zt(Go,Cs)),X.close()}else Yt("Connection","WebChannel received:",sr),gt.ro(sr)}}),jt(v,Li.STAT_EVENT,qt=>{qt.stat===fo.PROXY?Yt("Connection","Detected buffering proxy"):qt.stat===fo.NOPROXY&&Yt("Connection","Detected no buffering proxy")}),setTimeout(()=>{gt.so()},0),gt}}function vp(){return"undefined"!=typeof window?window:null}function qd(){return"undefined"!=typeof document?document:null}function Kd(i){return new Qf(i,!0)}class sf{constructor(e,t,o=1e3,c=1.5,f=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=c,this.po=f,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),c=Math.max(0,t-o);c>0&&Yt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class xg{constructor(e,t,o,c,f,v,M,z){this.Hs=e,this.vo=o,this.Vo=c,this.So=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=M,this.listener=z,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new sf(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,a.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,a.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,a.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===ft.RESOURCE_EXHAUSTED?(Rr(t.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===ft.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Do===t&&this.Qo(o,c)},o=>{e(()=>{const c=new zt(ft.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(c)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{o(()=>this.jo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}Mo(){var e=this;this.state=5,this.No.Ro((0,a.Z)(function*(){e.state=0,e.start()}))}jo(e){return Yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d_ extends xg{constructor(e,t,o,c,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,c,v),this.It=f}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function tp(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:In(),c=e.targetChange.targetIds||[],f=function(z,X){return z.gt?(Un(void 0===X||"string"==typeof X),Di.fromBase64String(X||"")):(Un(void 0===X||X instanceof Uint8Array),Di.fromUint8Array(X||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,M=v&&function(z){const X=void 0===z.code?ft.UNKNOWN:Sa(z.code);return new zt(X,z.message||"")}(v);t=new Yf(o,c,f,M||null)}else if("documentChange"in e){const o=e.documentChange,c=dl(i,o.document.name),f=Ys(o.document.updateTime),v=new Ls({mapValue:{fields:o.document.fields}}),M=Ei.newFoundDocument(c,f,v);t=new bd(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,c=dl(i,o.document),f=o.readTime?Ys(o.readTime):A.min(),v=Ei.newNoDocument(c,f);t=new bd([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,c=dl(i,o.document);t=new bd([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return In();{const o=e.filter,f=new kn(o.count||0);t=new Kf(o.targetId,f)}}var z;return t}(this.It,e),o=function(c){if(!("targetChange"in c))return A.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?A.min():f.readTime?Ys(f.readTime):A.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=oc(this.It),t.addTarget=function(c,f){let v;const M=f.target;return v=Ye(M)?{documents:cu(c,M)}:{query:Cd(c,M)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=No(c,f.resumeToken):f.snapshotVersion.compareTo(A.min())>0&&(v.readTime=au(c,f.snapshotVersion.toTimestamp())),v}(this.It,e);const o=function xh(i,e){const t=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return In()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=oc(this.It),t.removeTarget=e,this.Lo(t)}}class rl extends xg{constructor(e,t,o,c,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,c,v),this.It=f,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function np(i,e){return i&&i.length>0?(Un(void 0!==e),i.map(t=>function(o,c){let f=Ys(o.updateTime?o.updateTime:c);return f.isEqual(A.min())&&(f=Ys(c)),new yd(f,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ys(e.commitTime);return this.listener.tu(o,t)}return Un(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=oc(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Va(this.It,o))};this.Lo(t)}}class h_ extends class{}{constructor(e,t,o,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.It=c,this.su=!1}iu(){if(this.su)throw new zt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.So.ao(e,t,o,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new zt(ft.UNKNOWN,c.toString())})}_o(e,t,o,c){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.So._o(e,t,o,f,v,c)).catch(f=>{throw"FirebaseError"===f.name?(f.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new zt(ft.UNKNOWN,f.toString())})}terminate(){this.su=!0}}class Jy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Rr(t),this.uu=!1):Yt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Mg{constructor(e,t,o,c,f){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=f,this.gu.qr(M=>{o.enqueueAndForget((0,a.Z)(function*(){var z;mc(v)&&(Yt("RemoteStore","Restarting streams for network reachability change."),yield(z=(0,a.Z)(function*(X){const he=_n(X);he.wu.add(4),yield Vc(he),he.yu.set("Unknown"),he.wu.delete(4),yield af(he)}),function(X){return z.apply(this,arguments)})(v))}))}),this.yu=new Jy(o,c)}}function af(i){return bp.apply(this,arguments)}function bp(){return bp=(0,a.Z)(function*(i){if(mc(i))for(const e of i.mu)yield e(!0)}),bp.apply(this,arguments)}function Vc(i){return lf.apply(this,arguments)}function lf(){return lf=(0,a.Z)(function*(i){for(const e of i.mu)yield e(!1)}),lf.apply(this,arguments)}function cf(i,e){const t=_n(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),uf(t)?Cp(t):mu(t).Oo()&&wp(t,e))}function Yd(i,e){const t=_n(i),o=mu(t);t._u.delete(e),o.Oo()&&Dp(t,e),0===t._u.size&&(o.Oo()?o.$o():mc(t)&&t.yu.set("Unknown"))}function wp(i,e){i.pu.Mt(e.targetId),mu(i).Ho(e)}function Dp(i,e){i.pu.Mt(e),mu(i).Jo(e)}function Cp(i){i.pu=new c_({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),mu(i).start(),i.yu.cu()}function uf(i){return mc(i)&&!mu(i).ko()&&i._u.size>0}function mc(i){return 0===_n(i).wu.size}function Og(i){i.pu=void 0}function Rg(i){return df.apply(this,arguments)}function df(){return df=(0,a.Z)(function*(i){i._u.forEach((e,t)=>{wp(i,e)})}),df.apply(this,arguments)}function p_(i,e){return hl.apply(this,arguments)}function hl(){return hl=(0,a.Z)(function*(i,e){Og(i),uf(i)?(i.yu.lu(e),Cp(i)):i.yu.set("Unknown")}),hl.apply(this,arguments)}function Ep(i,e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,a.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof Yf&&2===e.state&&e.cause)try{yield(o=(0,a.Z)(function*(c,f){const v=f.cause;for(const M of f.targetIds)c._u.has(M)&&(yield c.remoteSyncer.rejectListen(M,v),c._u.delete(M),c.pu.removeTarget(M))}),function(c,f){return o.apply(this,arguments)})(i,e)}catch(o){Yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield hf(i,o)}else if(e instanceof bd?i.pu.Gt(e):e instanceof Kf?i.pu.Yt(e):i.pu.Wt(e),!t.isEqual(A.min()))try{const o=yield Yh(i.localStore);t.compareTo(o)>=0&&(yield function(c,f){const v=c.pu.te(f);return v.targetChanges.forEach((M,z)=>{if(M.resumeToken.approximateByteSize()>0){const X=c._u.get(z);X&&c._u.set(z,X.withResumeToken(M.resumeToken,f))}}),v.targetMismatches.forEach(M=>{const z=c._u.get(M);if(!z)return;c._u.set(M,z.withResumeToken(Di.EMPTY_BYTE_STRING,z.snapshotVersion)),Dp(c,M);const X=new Qa(z.target,M,1,z.sequenceNumber);wp(c,X)}),c.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(o){Yt("RemoteStore","Failed to raise snapshot:",o),yield hf(i,o)}var o}),Ip.apply(this,arguments)}function hf(i,e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,a.Z)(function*(i,e,t){if(!yo(e))throw e;i.wu.add(1),yield Vc(i),i.yu.set("Offline"),t||(t=()=>Yh(i.localStore)),i.asyncQueue.enqueueRetryable((0,a.Z)(function*(){Yt("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield af(i)}))}),Pg.apply(this,arguments)}function Tp(i,e){return e().catch(t=>hf(i,t,e))}function ed(i){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,a.Z)(function*(i){const e=_n(i),t=_c(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;g_(e);)try{const c=yield Jh(e.localStore,o);if(null===c){0===e.du.length&&t.$o();break}o=c.batchId,Ap(e,c)}catch(c){yield hf(e,c)}kg(e)&&Fg(e)}),Sp.apply(this,arguments)}function g_(i){return mc(i)&&i.du.length<10}function Ap(i,e){i.du.push(e);const t=_c(i);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function kg(i){return mc(i)&&!_c(i).ko()&&i.du.length>0}function Fg(i){_c(i).start()}function ff(i){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,a.Z)(function*(i){_c(i).nu()}),Jd.apply(this,arguments)}function m_(i){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,a.Z)(function*(i){const e=_c(i);for(const t of i.du)e.Zo(t.mutations)}),Qd.apply(this,arguments)}function xp(i,e,t){return pf.apply(this,arguments)}function pf(){return pf=(0,a.Z)(function*(i,e,t){const o=i.du.shift(),c=Nd.from(o,e,t);yield Tp(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield ed(i)}),pf.apply(this,arguments)}function Qy(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,a.Z)(function*(i,e){var t;e&&_c(i).Xo&&(yield(t=(0,a.Z)(function*(o,c){if(es(f=c.code)&&f!==ft.ABORTED){const v=o.du.shift();_c(o).Fo(),yield Tp(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,c)),yield ed(o)}var f}),function(o,c){return t.apply(this,arguments)})(i,e)),kg(i)&&Fg(i)}),Lg.apply(this,arguments)}function gf(i,e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,a.Z)(function*(i,e){const t=_n(i);t.asyncQueue.verifyOperationInProgress(),Yt("RemoteStore","RemoteStore received new credentials");const o=mc(t);t.wu.add(3),yield Vc(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield af(t)}),Bg.apply(this,arguments)}function Np(i,e){return mf.apply(this,arguments)}function mf(){return mf=(0,a.Z)(function*(i,e){const t=_n(i);e?(t.wu.delete(2),yield af(t)):e||(t.wu.add(2),yield Vc(t),t.yu.set("Unknown"))}),mf.apply(this,arguments)}function mu(i){return i.Iu||(i.Iu=function(e,t,o){const c=_n(e);return c.iu(),new d_(t,c.So,c.authCredentials,c.appCheckCredentials,c.It,o)}(i.datastore,i.asyncQueue,{Yr:Rg.bind(null,i),Zr:p_.bind(null,i),zo:Ep.bind(null,i)}),i.mu.push(function(){var e=(0,a.Z)(function*(t){t?(i.Iu.Fo(),uf(i)?Cp(i):i.yu.set("Unknown")):(yield i.Iu.stop(),Og(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function _c(i){return i.Tu||(i.Tu=function(e,t,o){const c=_n(e);return c.iu(),new rl(t,c.So,c.authCredentials,c.appCheckCredentials,c.It,o)}(i.datastore,i.asyncQueue,{Yr:ff.bind(null,i),Zr:Qy.bind(null,i),eu:m_.bind(null,i),tu:xp.bind(null,i)}),i.mu.push(function(){var e=(0,a.Z)(function*(t){t?(i.Tu.Fo(),yield ed(i)):(yield i.Tu.stop(),i.du.length>0&&(Yt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class _f{constructor(e,t,o,c,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=c,this.removalCallback=f,this.deferred=new Z,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,o,c,f){const v=Date.now()+o,M=new _f(e,t,v,c,f);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zt(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(i,e){if(Rr("AsyncQueue",`${e}: ${i}`),yo(i))return new zt(ft.UNAVAILABLE,`${e}: ${i}`);throw i}class $a{constructor(e){this.comparator=e?(t,o)=>e(t,o)||J.comparator(t.key,o.key):(t,o)=>J.comparator(t.key,o.key),this.keyedMap=Aa(),this.sortedSet=new Ds(this.comparator)}static emptySet(e){return new $a(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,f=o.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new $a;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Xd{constructor(){this.Eu=new Ds(J.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):In():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class td{constructor(e,t,o,c,f,v,M,z,X){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=M,this.excludesMetadataChanges=z,this.hasCachedResults=X}static fromInitialDocuments(e,t,o,c,f){const v=[];return t.forEach(M=>{v.push({type:0,doc:M})}),new td(e,t,$a.emptySet(t),v,o,c,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&La(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==o[c].type||!t[c].doc.isEqual(o[c].doc))return!1;return!0}}class __{constructor(){this.Ru=void 0,this.listeners=[]}}class Xy{constructor(){this.queries=new xo(e=>xu(e),La),this.onlineState="Unknown",this.bu=new Set}}function eh(i,e){return yf.apply(this,arguments)}function yf(){return yf=(0,a.Z)(function*(i,e){const t=_n(i),o=e.query;let c=!1,f=t.queries.get(o);if(f||(c=!0,f=new __),c)try{f.Ru=yield t.onListen(o)}catch(v){const M=_u(v,`Initialization of query '${Ic(e.query)}' failed`);return void e.onError(M)}t.queries.set(o,f),f.listeners.push(e),e.Pu(t.onlineState),f.Ru&&e.vu(f.Ru)&&vf(t)}),yf.apply(this,arguments)}function th(i,e){return yu.apply(this,arguments)}function yu(){return yu=(0,a.Z)(function*(i,e){const t=_n(i),o=e.query;let c=!1;const f=t.queries.get(o);if(f){const v=f.listeners.indexOf(e);v>=0&&(f.listeners.splice(v,1),c=0===f.listeners.length)}if(c)return t.queries.delete(o),t.onUnlisten(o)}),yu.apply(this,arguments)}function y_(i,e){const t=_n(i);let o=!1;for(const c of e){const v=t.queries.get(c.query);if(v){for(const M of v.listeners)M.vu(c)&&(o=!0);v.Ru=c}}o&&vf(t)}function Mp(i,e,t){const o=_n(i),c=o.queries.get(e);if(c)for(const f of c.listeners)f.onError(t);o.queries.delete(e)}function vf(i){i.bu.forEach(e=>{e.next()})}class bf{constructor(e,t,o){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new td(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class Vg{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class Ug{constructor(e){this.It=e}Ji(e){return dl(this.It,e)}Yi(e){return e.metadata.exists?Bu(this.It,e.document,!1):Ei.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ys(e)}}class Op{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jg(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=D.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new Ug(this.It);for(const c of e)if(c.metadata.queries){const f=o.Ji(c.metadata.name);for(const v of c.metadata.queries){const M=(t.get(v)||Wr()).add(f);t.set(v,M)}}return t}complete(){var e=this;return(0,a.Z)(function*(){const t=yield function Wd(i,e,t,o){return Xu.apply(this,arguments)}(e.localStore,new Ug(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const c of e.queries)yield Qh(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function jg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Hg{constructor(e){this.key=e}}class Rp{constructor(e){this.key=e}}class vu{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Wr(),this.mutatedKeys=Wr(),this.Gu=eu(e),this.Qu=new $a(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new Xd,c=t?t.Qu:this.Qu;let f=t?t.mutatedKeys:this.mutatedKeys,v=c,M=!1;const z="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,X="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((he,Pe)=>{const gt=c.get(he),jt=nc(this.query,Pe)?Pe:null,qt=!!gt&&this.mutatedKeys.has(gt.key),$n=!!jt&&(jt.hasLocalMutations||this.mutatedKeys.has(jt.key)&&jt.hasCommittedMutations);let sr=!1;gt&&jt?gt.data.isEqual(jt.data)?qt!==$n&&(o.track({type:3,doc:jt}),sr=!0):this.Hu(gt,jt)||(o.track({type:2,doc:jt}),sr=!0,(z&&this.Gu(jt,z)>0||X&&this.Gu(jt,X)<0)&&(M=!0)):!gt&&jt?(o.track({type:0,doc:jt}),sr=!0):gt&&!jt&&(o.track({type:1,doc:gt}),sr=!0,(z||X)&&(M=!0)),sr&&(jt?(v=v.add(jt),f=$n?f.add(he):f.delete(he)):(v=v.delete(he),f=f.delete(he)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const he="F"===this.query.limitType?v.last():v.first();v=v.delete(he.key),f=f.delete(he.key),o.track({type:1,doc:he})}return{Qu:v,zu:o,$i:M,mutatedKeys:f}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const c=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const f=e.zu.Au();f.sort((X,he)=>function(Pe,gt){const jt=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return In()}};return jt(Pe)-jt(gt)}(X.type,he.type)||this.Gu(X.doc,he.doc)),this.Ju(o);const v=t?this.Yu():[],M=0===this.Ku.size&&this.current?1:0,z=M!==this.qu;return this.qu=M,0!==f.length||z?{snapshot:new td(this.query,e.Qu,c,f,e.mutatedKeys,0===M,z,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:v}:{Xu:v}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Xd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Wr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Rp(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Hg(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=Wr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return td.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class $g{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class v_{constructor(e){this.key=e,this.nc=!1}}class b_{constructor(e,t,o,c,f,v){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.sc={},this.ic=new xo(M=>xu(M),La),this.rc=new Map,this.oc=new Set,this.uc=new Ds(J.comparator),this.cc=new Map,this.ac=new xa,this.hc={},this.lc=new Map,this.fc=N.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function nd(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,a.Z)(function*(i,e){const t=Zp(i);let o,c;const f=t.ic.get(e);if(f)o=f.targetId,t.sharedClientState.addLocalQueryTarget(o),c=f.view.ec();else{const v=yield $l(t.localStore,no(e));t.isPrimaryClient&&cf(t.remoteStore,v);const M=t.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,c=yield kp(t,e,o,"current"===M,v.resumeToken)}return c}),Pp.apply(this,arguments)}function kp(i,e,t,o,c){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,a.Z)(function*(i,e,t,o,c){i._c=(Pe,gt,jt)=>{return(qt=(0,a.Z)(function*($n,sr,Ji,Ms){let ls=sr.view.Wu(Ji);ls.$i&&(ls=yield kc($n.localStore,sr.query,!1).then(({documents:rs})=>sr.view.Wu(rs,ls)));const Go=Ms&&Ms.targetChanges.get(sr.targetId),Cs=sr.view.applyChanges(ls,$n.isPrimaryClient,Go);return Gp($n,sr.targetId,Cs.Xu),Cs.snapshot}),function($n,sr,Ji,Ms){return qt.apply(this,arguments)})(i,Pe,gt,jt);var qt};const f=yield kc(i.localStore,e,!0),v=new vu(e,f.Hi),M=v.Wu(f.documents),z=Fu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,c),X=v.applyChanges(M,i.isPrimaryClient,z);Gp(i,t,X.Xu);const he=new $g(e,t,v);return i.ic.set(e,he),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),X.snapshot}),Fp.apply(this,arguments)}function w_(i,e){return fl.apply(this,arguments)}function fl(){return fl=(0,a.Z)(function*(i,e){const t=_n(i),o=t.ic.get(e),c=t.rc.get(o.targetId);if(c.length>1)return t.rc.set(o.targetId,c.filter(f=>!La(f,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ha(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Yd(t.remoteStore,o.targetId),nh(t,o.targetId)}).catch(Fo))):(nh(t,o.targetId),yield Ha(t.localStore,o.targetId,!0))}),fl.apply(this,arguments)}function wf(){return wf=(0,a.Z)(function*(i,e,t){const o=bu(i);try{const c=yield function(f,v){const M=_n(f),z=Oi.now(),X=v.reduce((gt,jt)=>gt.add(jt.key),Wr());let he,Pe;return M.persistence.runTransaction("Locally write mutations","readwrite",gt=>{let jt=Uo(),qt=Wr();return M.Gi.getEntries(gt,X).next($n=>{jt=$n,jt.forEach((sr,Ji)=>{Ji.isValidDocument()||(qt=qt.add(sr))})}).next(()=>M.localDocuments.getOverlayedDocuments(gt,jt)).next($n=>{he=$n;const sr=[];for(const Ji of v){const Ms=iu(Ji,he.get(Ji.key).overlayedDocument);null!=Ms&&sr.push(new _(Ji.key,Ms,Jc(Ms.value.mapValue),xs.exists(!0)))}return M.mutationQueue.addMutationBatch(gt,z,sr,v)}).next($n=>{Pe=$n;const sr=$n.applyToLocalDocumentSet(he,qt);return M.documentOverlayCache.saveOverlays(gt,$n.batchId,sr)})}).then(()=>({batchId:Pe.batchId,changes:Ba(he)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(f,v,M){let z=f.hc[f.currentUser.toKey()];z||(z=new Ds(An)),z=z.insert(v,M),f.hc[f.currentUser.toKey()]=z}(o,c.batchId,t),yield Uc(o,c.changes),yield ed(o.remoteStore)}catch(c){const f=_u(c,"Failed to persist write");t.reject(f)}}),wf.apply(this,arguments)}function Bp(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,a.Z)(function*(i,e){const t=_n(i);try{const o=yield Hd(t.localStore,e);e.targetChanges.forEach((c,f)=>{const v=t.cc.get(f);v&&(Un(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?v.nc=!0:c.modifiedDocuments.size>0?Un(v.nc):c.removedDocuments.size>0&&(Un(v.nc),v.nc=!1))}),yield Uc(t,o,e)}catch(o){yield Fo(o)}}),Df.apply(this,arguments)}function Vp(i,e,t){const o=_n(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const c=[];o.ic.forEach((f,v)=>{const M=v.view.Pu(e);M.snapshot&&c.push(M.snapshot)}),function(f,v){const M=_n(f);M.onlineState=v;let z=!1;M.queries.forEach((X,he)=>{for(const Pe of he.listeners)Pe.Pu(v)&&(z=!0)}),z&&vf(M)}(o.eventManager,e),c.length&&o.sc.zo(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function D_(i,e,t){return Up.apply(this,arguments)}function Up(){return Up=(0,a.Z)(function*(i,e,t){const o=_n(i);o.sharedClientState.updateQueryState(e,"rejected",t);const c=o.cc.get(e),f=c&&c.key;if(f){let v=new Ds(J.comparator);v=v.insert(f,Ei.newNoDocument(f,A.min()));const M=Wr().add(f),z=new su(A.min(),new Map,new qi(An),v,M);yield Bp(o,z),o.uc=o.uc.remove(f),o.cc.delete(e),Ef(o)}else yield Ha(o.localStore,e,!1).then(()=>nh(o,e,t)).catch(Fo)}),Up.apply(this,arguments)}function C_(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,a.Z)(function*(i,e){const t=_n(i),o=e.batch.batchId;try{const c=yield jd(t.localStore,e);Zg(t,o,null),$p(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Uc(t,c)}catch(c){yield Fo(c)}}),jp.apply(this,arguments)}function Gg(i,e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,a.Z)(function*(i,e,t){const o=_n(i);try{const c=yield function(f,v){const M=_n(f);return M.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let X;return M.mutationQueue.lookupMutationBatch(z,v).next(he=>(Un(null!==he),X=he.keys(),M.mutationQueue.removeMutationBatch(z,he))).next(()=>M.mutationQueue.performConsistencyCheck(z)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(z,X,v)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,X)).next(()=>M.localDocuments.getDocuments(z,X))})}(o.localStore,e);Zg(o,e,t),$p(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Uc(o,c)}catch(c){yield Fo(c)}}),Wg.apply(this,arguments)}function Hp(){return Hp=(0,a.Z)(function*(i,e){const t=_n(i);mc(t.remoteStore)||Yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const v=_n(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>v.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===o)return void e.resolve();const c=t.lc.get(o)||[];c.push(e),t.lc.set(o,c)}catch(o){const c=_u(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Hp.apply(this,arguments)}function $p(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Zg(i,e,t){const o=_n(i);let c=o.hc[o.currentUser.toKey()];if(c){const f=c.get(e);f&&(t?f.reject(t):f.resolve(),c=c.remove(e)),o.hc[o.currentUser.toKey()]=c}}function nh(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Cf(i,o)})}function Cf(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Yd(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Ef(i))}function Gp(i,e,t){for(const o of t)o instanceof Hg?(i.ac.addReference(o.key,e),qg(i,o)):o instanceof Rp?(Yt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Cf(i,o.key)):In()}function qg(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Yt("SyncEngine","New document in limbo: "+t),i.oc.add(o),Ef(i))}function Ef(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new J(D.fromString(e)),o=i.fc.next();i.cc.set(o,new v_(t)),i.uc=i.uc.insert(t,o),cf(i.remoteStore,new Qa(no(ul(t.path)),o,2,li.at))}}function Uc(i,e,t){return il.apply(this,arguments)}function il(){return il=(0,a.Z)(function*(i,e,t){const o=_n(i),c=[],f=[],v=[];var M;o.ic.isEmpty()||(o.ic.forEach((M,z)=>{v.push(o._c(z,e,t).then(X=>{if((X||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(z.targetId,(null==X?void 0:X.fromCache)?"not-current":"current"),X){c.push(X);const he=Hl.Ci(z.targetId,X);f.push(he)}}))}),yield Promise.all(v),o.sc.zo(c),yield(M=(0,a.Z)(function*(z,X){const he=_n(z);try{yield he.persistence.runTransaction("notifyLocalViewChanges","readwrite",Pe=>ot.forEach(X,gt=>ot.forEach(gt.Si,jt=>he.persistence.referenceDelegate.addReference(Pe,gt.targetId,jt)).next(()=>ot.forEach(gt.Di,jt=>he.persistence.referenceDelegate.removeReference(Pe,gt.targetId,jt)))))}catch(Pe){if(!yo(Pe))throw Pe;Yt("LocalStore","Failed to update sequence numbers: "+Pe)}for(const Pe of X){const gt=Pe.targetId;if(!Pe.fromCache){const jt=he.Ui.get(gt),$n=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);he.Ui=he.Ui.insert(gt,$n)}}}),function(z,X){return M.apply(this,arguments)})(o.localStore,f))}),il.apply(this,arguments)}function ev(i,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,a.Z)(function*(i,e){const t=_n(i);if(!t.currentUser.isEqual(e)){Yt("SyncEngine","User change. New user:",e.toKey());const o=yield yp(t.localStore,e);t.currentUser=e,(c=t).lc.forEach(v=>{v.forEach(M=>{M.reject(new zt(ft.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Uc(t,o.ji)}var c}),Kg.apply(this,arguments)}function Yg(i,e){const t=_n(i),o=t.cc.get(e);if(o&&o.nc)return Wr().add(o.key);{let c=Wr();const f=t.rc.get(e);if(!f)return c;for(const v of f){const M=t.ic.get(v);c=c.unionWith(M.view.ju)}return c}}function Jg(i,e){return If.apply(this,arguments)}function If(){return If=(0,a.Z)(function*(i,e){const t=_n(i),o=yield kc(t.localStore,e.query,!0),c=e.view.tc(o);return t.isPrimaryClient&&Gp(t,e.targetId,c.Xu),c}),If.apply(this,arguments)}function E_(i,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,a.Z)(function*(i,e){const t=_n(i);return Fc(t.localStore,e).then(o=>Uc(t,o))}),Qg.apply(this,arguments)}function Xg(i,e,t,o){return rh.apply(this,arguments)}function rh(){return rh=(0,a.Z)(function*(i,e,t,o){const c=_n(i),f=yield function(v,M){const z=_n(v),X=_n(z.mutationQueue);return z.persistence.runTransaction("Lookup mutation documents","readonly",he=>X.Tn(he,M).next(Pe=>Pe?z.localDocuments.getDocuments(he,Pe):ot.resolve(null)))}(c.localStore,e);var M;null!==f?("pending"===t?yield ed(c.remoteStore):"acknowledged"===t||"rejected"===t?(Zg(c,e,o||null),$p(c,e),M=e,_n(_n(c.localStore).mutationQueue).An(M)):In(),yield Uc(c,f)):Yt("SyncEngine","Cannot apply mutation batch with id: "+e)}),rh.apply(this,arguments)}function ih(){return ih=(0,a.Z)(function*(i,e){const t=_n(i);if(Zp(t),bu(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),c=yield em(t,o.toArray());t.dc=!0,yield Np(t.remoteStore,!0);for(const f of c)cf(t.remoteStore,f)}else if(!1===e&&!1!==t.dc){const o=[];let c=Promise.resolve();t.rc.forEach((f,v)=>{t.sharedClientState.isLocalQueryTarget(v)?o.push(v):c=c.then(()=>(nh(t,v),Ha(t.localStore,v,!0))),Yd(t.remoteStore,v)}),yield c,yield em(t,o),function(f){const v=_n(f);v.cc.forEach((M,z)=>{Yd(v.remoteStore,z)}),v.ac.fs(),v.cc=new Map,v.uc=new Ds(J.comparator)}(t),t.dc=!1,yield Np(t.remoteStore,!1)}}),ih.apply(this,arguments)}function em(i,e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,a.Z)(function*(i,e,t){const o=_n(i),c=[],f=[];for(const v of e){let M;const z=o.rc.get(v);if(z&&0!==z.length){M=yield $l(o.localStore,no(z[0]));for(const X of z){const he=o.ic.get(X),Pe=yield Jg(o,he);Pe.snapshot&&f.push(Pe.snapshot)}}else{const X=yield $d(o.localStore,v);M=yield $l(o.localStore,X),yield kp(o,tm(X),v,!1,M.resumeToken)}c.push(M)}return o.sc.zo(f),c}),Wp.apply(this,arguments)}function tm(i){return gd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function T_(i){const e=_n(i);return _n(_n(e.localStore).persistence).vi()}function S_(i,e,t,o){return zp.apply(this,arguments)}function zp(){return zp=(0,a.Z)(function*(i,e,t,o){const c=_n(i);if(c.dc)return void Yt("SyncEngine","Ignoring unexpected query state notification.");const f=c.rc.get(e);if(f&&f.length>0)switch(t){case"current":case"not-current":{const v=yield Fc(c.localStore,rc(f[0])),M=su.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Di.EMPTY_BYTE_STRING);yield Uc(c,v,M);break}case"rejected":yield Ha(c.localStore,e,!0),nh(c,e,o);break;default:In()}}),zp.apply(this,arguments)}function Tf(i,e,t){return jc.apply(this,arguments)}function jc(){return jc=(0,a.Z)(function*(i,e,t){const o=Zp(i);if(o.dc){for(const c of e){if(o.rc.has(c)){Yt("SyncEngine","Adding an already active target "+c);continue}const f=yield $d(o.localStore,c),v=yield $l(o.localStore,f);yield kp(o,tm(f),v.targetId,!1,v.resumeToken),cf(o.remoteStore,v)}for(const c of t)o.rc.has(c)&&(yield Ha(o.localStore,c,!1).then(()=>{Yd(o.remoteStore,c),nh(o,c)}).catch(Fo))}}),jc.apply(this,arguments)}function Zp(i){const e=_n(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D_.bind(null,e),e.sc.zo=y_.bind(null,e.eventManager),e.sc.wc=Mp.bind(null,e.eventManager),e}function bu(i){const e=_n(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gg.bind(null,e),e}class nm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,a.Z)(function*(){t.It=Kd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Ud(this.persistence,new Vd,e.initialUser,this.It)}yc(e){return new Qu(Ul.Bs,this.It)}gc(e){return new rf}terminate(){var e=this;return(0,a.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sf extends nm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,a.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield bu(o.Ac.syncEngine),yield ed(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Ud(this.persistence,new Vd,e.initialUser,this.It)}Tc(e,t){return new Kn(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new fd(t,this.persistence);return new Jl(e.asyncQueue,o)}yc(e){const t=hu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?_a.withCacheSize(this.cacheSizeBytes):_a.DEFAULT;return new pc(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,vp(),qd(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new rf}}class Wl extends Sf{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,a.Z)(function*(){yield t().call(o,e);const c=o.Ac.syncEngine;o.sharedClientState instanceof zd&&(o.sharedClientState.syncEngine={Fr:Xg.bind(null,c),$r:S_.bind(null,c),Br:Tf.bind(null,c),vi:T_.bind(null,c),Mr:E_.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var f=(0,a.Z)(function*(v){yield function I_(i,e){return ih.apply(this,arguments)}(o.Ac.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start():v||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(v&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():v||o.indexBackfillerScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}gc(e){const t=vp();if(!zd.C(t))throw new zt(ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=hu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zd(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class wu{initialize(e,t){var o=this;return(0,a.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>Vp(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=ev.bind(null,o.syncEngine),yield Np(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xy}createDatastore(e){const t=Kd(e.databaseInfo.databaseId),o=new Yy(e.databaseInfo);return new h_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,c=e.asyncQueue,f=M=>Vp(this.syncEngine,M,0),v=Zd.C()?new Zd:new Sg,new Mg(t,o,c,f,v);var t,o,c,f,v}createSyncEngine(e,t){return function(o,c,f,v,M,z,X){const he=new b_(o,c,f,v,M,z);return X&&(he.dc=!0),he}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,a.Z)(function*(t){const o=_n(t);Yt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Vc(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ta(i,e,t){if(!t)throw new zt(ft.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Hc(i,e,t,o){if(!0===e&&!0===o)throw new zt(ft.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function sh(i){if(!J.isDocumentKey(i))throw new zt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function sl(i){if(J.isDocumentKey(i))throw new zt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":In()}function di(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new zt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rd(i);throw new zt(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Du(i,e){if(e<=0)throw new zt(ft.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const Cu=new Map;class Eu{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new zt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Hc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zl{constructor(e,t,o,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eu(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new O;switch(t.type){case"gapi":return new T(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new zt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cu.get(e);t&&(Yt("ComponentProvider","Removing Datastore"),Cu.delete(e),t.terminate())}(this),Promise.resolve()}}function Iu(i,e,t,o={}){var c;const f=(i=di(i,zl))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&po("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let v,M;if("string"==typeof o.mockUserToken)v=o.mockUserToken,M=ji.MOCK_USER;else{v=(0,be.Sg)(o.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const z=o.mockUserToken.sub||o.mockUserToken.user_id;if(!z)throw new zt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new ji(z)}i._authCredentials=new le(new P(v,M))}}class Ns{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ns(this.firestore,e,this._key)}}class bo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Ma extends bo{constructor(e,t,o){super(e,t,ul(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ns(this.firestore,null,new J(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function rm(i,e,...t){if(i=(0,be.m9)(i),ta("collection","path",e),i instanceof zl){const o=D.fromString(e,...t);return sl(o),new Ma(i,null,o)}{if(!(i instanceof Ns||i instanceof Ma))throw new zt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(D.fromString(e,...t));return sl(o),new Ma(i.firestore,null,o)}}function im(i,e){if(i=di(i,zl),ta("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new zt(ft.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bo(i,null,(t=e,new ga(D.emptyPath(),t)));var t}function qp(i,e,...t){if(i=(0,be.m9)(i),1===arguments.length&&(e=_i.R()),ta("doc","path",e),i instanceof zl){const o=D.fromString(e,...t);return sh(o),new Ns(i,null,new J(o))}{if(!(i instanceof Ns||i instanceof Ma))throw new zt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(D.fromString(e,...t));return sh(o),new Ns(i.firestore,i instanceof Ma?i.converter:null,new J(o))}}function sm(i,e){return i=(0,be.m9)(i),e=(0,be.m9)(e),(i instanceof Ns||i instanceof Ma)&&(e instanceof Ns||e instanceof Ma)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Af(i,e){return i=(0,be.m9)(i),e=(0,be.m9)(e),i instanceof bo&&e instanceof bo&&i.firestore===e.firestore&&La(i._query,e._query)&&i.converter===e.converter}function Kp(i,e=10240){let t=0;return{read:()=>(0,a.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,a.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class om{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Z,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,a.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,a.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,a.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),c=Number(o);isNaN(c)&&e.Dc(`length string (${o}) is not valid number`);const f=yield e.Cc(c);return new Vg(JSON.parse(f),t.length+c)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,a.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,a.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,a.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class M_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,a.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new zt(ft.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,a.Z)(function*(f,v){const M=_n(f),z=oc(M.It)+"/documents",X={documents:v.map(jt=>bl(M.It,jt))},he=yield M._o("BatchGetDocuments",z,X,v.length),Pe=new Map;he.forEach(jt=>{const qt=function Ah(i,e){return"found"in e?function(t,o){Un(!!o.found);const c=dl(t,o.found.name),f=Ys(o.found.updateTime),v=new Ls({mapValue:{fields:o.found.fields}});return Ei.newFoundDocument(c,f,v)}(i,e):"missing"in e?function(t,o){Un(!!o.missing),Un(!!o.readTime);const c=dl(t,o.missing),f=Ys(o.readTime);return Ei.newNoDocument(c,f)}(i,e):In()}(M.It,jt);Pe.set(qt.key.toString(),qt)});const gt=[];return v.forEach(jt=>{const qt=Pe.get(jt.toString());Un(!!qt),gt.push(qt)}),gt}),function(f,v){return c.apply(this,arguments)})(t.datastore,e);var c;return o.forEach(c=>t.recordVersion(c)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new it(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,a.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,c)=>{const f=J.fromPath(c);e.mutations.push(new Gt(f,e.precondition(f)))}),yield(o=(0,a.Z)(function*(c,f){const v=_n(c),M=oc(v.It)+"/documents",z={writes:f.map(X=>Va(v.It,X))};yield v.ao("Commit",M,z)}),function(c,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw In();t=A.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new zt(ft.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(A.min())?xs.exists(!1):xs.updateTime(t):xs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(A.min()))throw new zt(ft.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xs.updateTime(t)}return xs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class lm{constructor(e,t,o,c,f){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=c,this.deferred=f,this.kc=o.maxAttempts,this.No=new sf(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,a.Z)(function*(){const t=new M_(e.datastore),o=e.Mc(t);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(f=>{e.Fc(f)}))}).catch(c=>{e.Fc(c)})}))}Mc(e){try{const t=this.updateFunction(e);return!So(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!es(t)}return!1}}class cm{constructor(e,t,o,c){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=c,this.user=ji.UNAUTHENTICATED,this.clientId=_i.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,a.Z)(function*(M){Yt("FirestoreClient","Received user=",M.uid),yield f.authCredentialListener(M),f.user=M});return function(M){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Yt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,a.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Z;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const c=_u(o,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function um(i,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,a.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Yt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var c=(0,a.Z)(function*(f){o.isEqual(f)||(yield yp(e.localStore,f),o=f)});return function(f){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Yp.apply(this,arguments)}function Jp(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,a.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield xf(i);Yt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(c=>gf(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,f)=>gf(e.remoteStore,f)),i.onlineComponents=e}),Qp.apply(this,arguments)}function xf(i){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,a.Z)(function*(i){return i.offlineComponents||(Yt("FirestoreClient","Using default OfflineComponentProvider"),yield um(i,new nm)),i.offlineComponents}),Xp.apply(this,arguments)}function Nf(i){return dm.apply(this,arguments)}function dm(){return dm=(0,a.Z)(function*(i){return i.onlineComponents||(Yt("FirestoreClient","Using default OnlineComponentProvider"),yield Jp(i,new wu)),i.onlineComponents}),dm.apply(this,arguments)}function hm(i){return xf(i).then(e=>e.persistence)}function id(i){return xf(i).then(e=>e.localStore)}function ah(i){return Nf(i).then(e=>e.remoteStore)}function eg(i){return Nf(i).then(e=>e.syncEngine)}function lh(i){return fm.apply(this,arguments)}function fm(){return fm=(0,a.Z)(function*(i){const e=yield Nf(i),t=e.eventManager;return t.onListen=nd.bind(null,e.syncEngine),t.onUnlisten=w_.bind(null,e.syncEngine),t}),fm.apply(this,arguments)}function gm(i,e,t={}){const o=new Z;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(c,f,v,M,z){const X=new oh({next:Pe=>{f.enqueueAndForget(()=>th(c,he));const gt=Pe.docs.has(v);!gt&&Pe.fromCache?z.reject(new zt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):gt&&Pe.fromCache&&M&&"server"===M.source?z.reject(new zt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(Pe)},error:Pe=>z.reject(Pe)}),he=new bf(ul(v.path),X,{includeMetadataChanges:!0,ku:!0});return eh(c,he)}(yield lh(i),i.asyncQueue,e,t,o)})),o.promise}function mm(i,e,t={}){const o=new Z;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(c,f,v,M,z){const X=new oh({next:Pe=>{f.enqueueAndForget(()=>th(c,he)),Pe.fromCache&&"server"===M.source?z.reject(new zt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(Pe)},error:Pe=>z.reject(Pe)}),he=new bf(v,X,{includeMetadataChanges:!0,ku:!0});return eh(c,he)}(yield lh(i),i.asyncQueue,e,t,o)})),o.promise}class Mf{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new sf(this,"async_queue_retry"),this.Wc=()=>{const t=qd();t&&Yt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=qd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=qd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Z;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,a.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!yo(t))throw t;Yt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const c=_f.createAndSchedule(this,e,t,o,f=>this.Yc(f));return this.qc.push(c),c}zc(){this.Kc&&In()}verifyOperationInProgress(){}Xc(){var e=this;return(0,a.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function tg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(i)}class vm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Z,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const k_=-1;class Bs extends zl{constructor(e,t,o,c){super(e,t,o,c),this.type="firestore",this._queue=new Mf,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ng(this),this._firestoreClient.terminate()}}function F_(i,e){const t="object"==typeof i?i:(0,b.getApp)(),o="string"==typeof i?i:e||"(default)",c=(0,b._getProvider)(t,"firestore").getImmediate({identifier:o});if(!c._initialized){const f=(0,be.P0)("firestore");f&&Iu(c,...f)}return c}function wo(i){return i._firestoreClient||ng(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ng(i){var e;const t=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ra(i._databaseId,f,i._persistenceKey,(M=t).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var f,M;i._firestoreClient=new cm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function L_(i,e){Of(i=di(i,Bs));const t=wo(i),o=i._freezeSettings(),c=new wu;return rg(t,c,new Sf(c,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function bm(i){Of(i=di(i,Bs));const e=wo(i),t=i._freezeSettings(),o=new wu;return rg(e,o,new Wl(o,t.cacheSizeBytes))}function rg(i,e,t){const o=new Z;return i.asyncQueue.enqueue((0,a.Z)(function*(){try{yield um(i,t),yield Jp(i,e),o.resolve()}catch(c){const f=c;if(!("FirebaseError"===(v=f).name?v.code===ft.FAILED_PRECONDITION||v.code===ft.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw f;po("Error enabling offline persistence. Falling back to persistence disabled: "+f),o.reject(f)}var v})).then(()=>o.promise)}function ig(i){if(i._initialized&&!i._terminated)throw new zt(ft.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Z;return i._queue.enqueueAndForgetEvenWhileRestricted((0,a.Z)(function*(){try{yield(t=(0,a.Z)(function*(o){if(!_o.C())return Promise.resolve();const c=o+"main";yield _o.delete(c)}),function(o){return t.apply(this,arguments)})(hu(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function rv(i){return function(e){const t=new Z;return e.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function zg(i,e){return Hp.apply(this,arguments)}(yield eg(e),t)})),t.promise}(wo(i=di(i,Bs)))}function sg(i){return function R_(i){return i.asyncQueue.enqueue((0,a.Z)(function*(){const e=yield hm(i),t=yield ah(i);return e.setNetworkEnabled(!0),function(o){const c=_n(o);return c.wu.delete(0),af(c)}(t)}))}(wo(i=di(i,Bs)))}function B_(i){return function pm(i){return i.asyncQueue.enqueue((0,a.Z)(function*(){const e=yield hm(i),t=yield ah(i);return e.setNetworkEnabled(!1),(o=(0,a.Z)(function*(c){const f=_n(c);f.wu.add(0),yield Vc(f),f.yu.set("Offline")}),function(c){return o.apply(this,arguments)})(t);var o}))}(wo(i=di(i,Bs)))}function ch(i,e){const t=wo(i=di(i,Bs)),o=new vm;return function P_(i,e,t,o){const c=function(f,v){let M;return M="string"==typeof f?(new TextEncoder).encode(f):f,z=function(z,X){if(z instanceof Uint8Array)return Kp(z,X);if(z instanceof ArrayBuffer)return Kp(new Uint8Array(z),X);if(z instanceof ReadableStream)return z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new om(z,v);var z}(t,Kd(e));i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){!function A_(i,e,t){const o=_n(i);var c;(c=(0,a.Z)(function*(f,v,M){try{const z=yield v.getMetadata();if(yield function(gt,jt){const qt=_n(gt),$n=Ys(jt.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",sr=>qt.Ns.getBundleMetadata(sr,jt.id)).then(sr=>!!sr&&sr.createTime.compareTo($n)>=0)}(f.localStore,z))return yield v.close(),M._completeWith({taskState:"Success",documentsLoaded:(gt=z).totalDocuments,bytesLoaded:gt.totalBytes,totalDocuments:gt.totalDocuments,totalBytes:gt.totalBytes}),Promise.resolve(new Set);M._updateProgress(jg(z));const X=new Op(z,f.localStore,v.It);let he=yield v.mc();for(;he;){const gt=yield X.Fu(he);gt&&M._updateProgress(gt),he=yield v.mc()}const Pe=yield X.complete();return yield Uc(f,Pe.Lu,void 0),yield function(gt,jt){const qt=_n(gt);return qt.persistence.runTransaction("Save bundle","readwrite",$n=>qt.Ns.saveBundleMetadata($n,jt))}(f.localStore,z),M._completeWith(Pe.progress),Promise.resolve(Pe.Bu)}catch(z){return po("SyncEngine",`Loading bundle failed with ${z}`),M._failWith(z),Promise.resolve(new Set)}var gt}),function(f,v,M){return c.apply(this,arguments)})(o,e,t).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield eg(i),c,o)}))}(t,i._databaseId,e,o),o}function wm(i,e){return function ym(i,e){return i.asyncQueue.enqueue((0,a.Z)(function*(){return function(t,o){const c=_n(t);return c.persistence.runTransaction("Get named query","readonly",f=>c.Ns.getNamedQuery(f,o))}(yield id(i),e)}))}(wo(i=di(i,Bs)),e).then(t=>t?new bo(i,null,t.query):null)}function Of(i){if(i._initialized||i._terminated)throw new zt(ft.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(Di.fromBase64String(e))}catch(t){throw new zt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zl(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $c{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new zt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new W(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ql{constructor(e){this._methodName=e}}class od{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return An(this._lat,e._lat)||An(this._long,e._long)}}const iv=/^__.*__$/;class V_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new _(e,this.data,this.fieldMask,t,this.fieldTransforms):new g(e,this.data,t,this.fieldTransforms)}}class Rf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new _(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw In()}}class uh{constructor(e,t,o,c,f,v){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=c,void 0===f&&this.na(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new uh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:o,oa:!1});return c.ua(e),c}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:o,oa:!1});return c.na(),c}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return ph(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Pf(this.sa)&&iv.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Dm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Kd(e)}da(e,t,o,c=!1){return new uh({sa:e,methodName:t,fa:o,path:W.emptyPath(),oa:!1,la:c},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function yc(i){const e=i._freezeSettings(),t=Kd(i._databaseId);return new Dm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function dh(i,e,t,o,c,f={}){const v=i.da(f.merge||f.mergeFields?2:0,e,t,c);ld("Data must be an object, but it was:",v,o);const M=ag(o,v);let z,X;if(f.merge)z=new yi(v.fieldMask),X=v.fieldTransforms;else if(f.mergeFields){const he=[];for(const Pe of f.mergeFields){const gt=Vf(e,Pe,t);if(!v.contains(gt))throw new zt(ft.INVALID_ARGUMENT,`Field '${gt}' is specified in your field mask but missing from your input data.`);lg(he,gt)||he.push(gt)}z=new yi(he),X=v.fieldTransforms.filter(Pe=>z.covers(Pe.field))}else z=null,X=v.fieldTransforms;return new V_(new Ls(M),z,X)}class ad extends ql{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}function kf(i,e,t){return new uh({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Ff extends ql{_toFieldTransform(e){return new Ac(e.path,new _l)}isEqual(e){return e instanceof Ff}}class U_ extends ql{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=kf(this,e,!0),o=this._a.map(f=>Gc(f,t)),c=new aa(o);return new Ac(e.path,c)}isEqual(e){return this===e}}class Cm extends ql{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=kf(this,e,!0),o=this._a.map(f=>Gc(f,t)),c=new Ol(o);return new Ac(e.path,c)}isEqual(e){return this===e}}class Em extends ql{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Sc(e.It,Tc(e.It,this.wa));return new Ac(e.path,t)}isEqual(e){return this===e}}function hh(i,e,t,o){const c=i.da(1,e,t);ld("Data must be an object, but it was:",c,o);const f=[],v=Ls.empty();za(o,(z,X)=>{const he=fh(e,z,t);X=(0,be.m9)(X);const Pe=c.ca(he);if(X instanceof ad)f.push(he);else{const gt=Gc(X,Pe);null!=gt&&(f.push(he),v.set(he,gt))}});const M=new yi(f);return new Rf(v,M,c.fieldTransforms)}function Lf(i,e,t,o,c,f){const v=i.da(1,e,t),M=[Vf(e,o,t)],z=[c];if(f.length%2!=0)throw new zt(ft.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let gt=0;gt<f.length;gt+=2)M.push(Vf(e,f[gt])),z.push(f[gt+1]);const X=[],he=Ls.empty();for(let gt=M.length-1;gt>=0;--gt)if(!lg(X,M[gt])){const jt=M[gt];let qt=z[gt];qt=(0,be.m9)(qt);const $n=v.ca(jt);if(qt instanceof ad)X.push(jt);else{const sr=Gc(qt,$n);null!=sr&&(X.push(jt),he.set(jt,sr))}}const Pe=new yi(X);return new Rf(he,Pe,v.fieldTransforms)}function Im(i,e,t,o=!1){return Gc(t,i.da(o?4:3,e))}function Gc(i,e){if(Bf(i=(0,be.m9)(i)))return ld("Unsupported field value:",e,i),ag(i,e);if(i instanceof ql)return function(t,o){if(!Pf(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const c=[];let f=0;for(const v of t){let M=Gc(v,o.aa(f));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),f++}return{arrayValue:{values:c}}}(i,e)}return function(t,o){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tc(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Oi.fromDate(t);return{timestampValue:au(o.It,c)}}if(t instanceof Oi){const c=new Oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:au(o.It,c)}}if(t instanceof od)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zl)return{bytesValue:No(o.It,t._byteString)};if(t instanceof Ns){const c=o.databaseId,f=t.firestore._databaseId;if(!f.isEqual(c))throw o.ha(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lu(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${rd(t)}`)}(i,e)}function ag(i,e){const t={};return pd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(i,(o,c)=>{const f=Gc(c,e.ra(o));null!=f&&(t[o]=f)}),{mapValue:{fields:t}}}function Bf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Oi||i instanceof od||i instanceof Zl||i instanceof Ns||i instanceof ql)}function ld(i,e,t){if(!Bf(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=rd(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function Vf(i,e,t){if((e=(0,be.m9)(e))instanceof $c)return e._internalPath;if("string"==typeof e)return fh(i,e);throw ph("Field path arguments must be of type string or ",i,!1,void 0,t)}const Tm=new RegExp("[~\\*/\\[\\]]");function fh(i,e,t){if(e.search(Tm)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new $c(...e.split("."))._internalPath}catch(o){throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ph(i,e,t,o,c){const f=o&&!o.isEmpty(),v=void 0!==c;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let z="";return(f||v)&&(z+=" (found",f&&(z+=` in field ${o}`),v&&(z+=` in document ${c}`),z+=")"),new zt(ft.INVALID_ARGUMENT,M+i+z)}function lg(i,e){return i.some(t=>t.isEqual(e))}class cd{constructor(e,t,o,c,f){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ns(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sm extends cd{data(){return super.data()}}function gh(i,e){return"string"==typeof e?fh(i,e):e instanceof $c?e._internalPath:e._delegate._internalPath}function j_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new zt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mh{}function H_(i,...e){for(const t of e)i=t._apply(i);return i}class Am extends mh{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=yc(e.firestore),o=function(c,f,v,M,z,X,he){let Pe;if(z.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new zt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){ug(he,X);const jt=[];for(const qt of he)jt.push(km(M,c,qt));Pe={arrayValue:{values:jt}}}else Pe=km(M,c,he)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||ug(he,X),Pe=Im(v,"where",he,"in"===X||"not-in"===X);const gt=zn.create(z,X,Pe);return function(jt,qt){if(qt.dt()){const sr=Qc(jt);if(null!==sr&&!sr.isEqual(qt.field))throw new zt(ft.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${sr.toString()}' and '${qt.field.toString()}'`);const Ji=tc(jt);null!==Ji&&Z_(0,qt.field,Ji)}const $n=function(sr,Ji){for(const Ms of sr.filters)if(Ji.indexOf(Ms.op)>=0)return Ms.op;return null}(jt,function(sr){switch(sr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(qt.op));if(null!==$n)throw new zt(ft.INVALID_ARGUMENT,$n===qt.op?`Invalid query. You cannot use more than one '${qt.op.toString()}' filter.`:`Invalid query. You cannot use '${qt.op.toString()}' filters with '${$n.toString()}' filters.`)}(c,gt),gt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new bo(e.firestore,e.converter,function(c,f){const v=c.filters.concat([f]);return new ga(c.path,c.collectionGroup,c.explicitOrderBy.slice(),v,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}function $_(i,e,t){const o=e,c=gh("where",i);return new Am(c,o,t)}class $o extends mh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,c,f){if(null!==o.startAt)throw new zt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new zt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Fa(c,f);return function(M,z){if(null===tc(M)){const X=Qc(M);null!==X&&Z_(0,X,z.field)}}(o,v),v}(e._query,this.ma,this.pa);return new bo(e.firestore,e.converter,function(o,c){const f=o.explicitOrderBy.concat([c]);return new ga(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function xm(i,e="asc"){const t=e,o=gh("orderBy",i);return new $o(o,t)}class Nm extends mh{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new bo(e.firestore,e.converter,Ml(e._query,this.Ia,this.Ta))}}function G_(i){return Du("limit",i),new Nm("limit",i,"F")}function Mm(i){return Du("limitToLast",i),new Nm("limitToLast",i,"L")}class Om extends mh{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=cg(e,this.type,this.Ea,this.Aa);return new bo(e.firestore,e.converter,(c=t,new ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}function Rm(...i){return new Om("startAt",i,!0)}function Pm(...i){return new Om("startAfter",i,!1)}class Tu extends mh{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=cg(e,this.type,this.Ea,this.Aa);return new bo(e.firestore,e.converter,(c=t,new ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function W_(...i){return new Tu("endBefore",i,!1)}function z_(...i){return new Tu("endAt",i,!0)}function cg(i,e,t,o){if(t[0]=(0,be.m9)(t[0]),t[0]instanceof cd)return function(c,f,v,M,z){if(!M)throw new zt(ft.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const X=[];for(const he of Nl(c))if(he.field.isKeyField())X.push(qa(f,M.key));else{const Pe=M.data.field(he.field);if(Tl(Pe))throw new zt(ft.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+he.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Pe){const gt=he.field.canonicalString();throw new zt(ft.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${gt}' (used as the orderBy) does not exist.`)}X.push(Pe)}return new oa(X,z)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const c=yc(i.firestore);return function(f,v,M,z,X,he){const Pe=f.explicitOrderBy;if(X.length>Pe.length)throw new zt(ft.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const gt=[];for(let jt=0;jt<X.length;jt++){const qt=X[jt];if(Pe[jt].field.isKeyField()){if("string"!=typeof qt)throw new zt(ft.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof qt}`);if(!Xc(f)&&-1!==qt.indexOf("/"))throw new zt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${qt}' contains a slash.`);const $n=f.path.child(D.fromString(qt));if(!J.isDocumentKey($n))throw new zt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${$n}' is not because it contains an odd number of segments.`);const sr=new J($n);gt.push(qa(v,sr))}else{const $n=Im(M,z,qt);gt.push($n)}}return new oa(gt,he)}(i._query,i.firestore._databaseId,c,e,t,o)}}function km(i,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new zt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xc(e)&&-1!==t.indexOf("/"))throw new zt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(D.fromString(t));if(!J.isDocumentKey(o))throw new zt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return qa(i,new J(o))}if(t instanceof Ns)return qa(i,t._key);throw new zt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(t)}.`)}function ug(i,e){if(!Array.isArray(i)||0===i.length)throw new zt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new zt(ft.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Z_(i,e,t){if(!t.isEqual(e))throw new zt(ft.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _h{convertValue(e,t="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw In()}}convertObject(e,t){const o={};return za(e.fields,(c,f)=>{o[c]=this.convertValue(f,t)}),o}convertGeoPoint(e){return new od(Jr(e.latitude),Jr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=al(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ea(e));default:return null}}convertTimestamp(e){const t=To(e);return new Oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=D.fromString(e);Un(Ph(o));const c=new ia(o.get(1),o.get(3)),f=new J(o.popFirst(5));return c.isEqual(t)||Rr(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}function ud(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Kl extends _h{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ns(this.firestore,null,t)}}class Su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends cd{constructor(e,t,o,c,f,v){super(e,t,o,c,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(gh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Ga extends Wc{data(e={}){return super.data(e)}}class la{constructor(e,t,o,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new Su(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Ga(this._firestore,this._userDataWriter,o.key,o,new Su(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Ga(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Su(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>c||3!==v.type).map(v=>{const M=new Ga(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Su(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let z=-1,X=-1;return 0!==v.type&&(z=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),X=f.indexOf(v.doc.key)),{type:Dl(v.type),doc:M,oldIndex:z,newIndex:X}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Dl(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In()}}function Fm(i,e){return i instanceof Wc&&e instanceof Wc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof la&&e instanceof la&&i._firestore===e._firestore&&Af(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Lm(i){i=di(i,Ns);const e=di(i.firestore,Bs);return gm(wo(e),i._key).then(t=>jf(e,i,t))}class zc extends _h{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ns(this.firestore,null,t)}}function q_(i){i=di(i,Ns);const e=di(i.firestore,Bs),t=wo(e),o=new zc(e);return function tv(i,e){const t=new Z;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return(o=(0,a.Z)(function*(c,f,v){try{const M=yield function(z,X){const he=_n(z);return he.persistence.runTransaction("read document","readonly",Pe=>he.localDocuments.getDocument(Pe,X))}(c,f);M.isFoundDocument()?v.resolve(M):M.isNoDocument()?v.resolve(null):v.reject(new zt(ft.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const z=_u(M,`Failed to get document '${f} from cache`);v.reject(z)}}),function(c,f,v){return o.apply(this,arguments)})(yield id(i),e,t);var o})),t.promise}(t,i._key).then(c=>new Wc(e,o,i._key,c,new Su(null!==c&&c.hasLocalMutations,!0),i.converter))}function K_(i){i=di(i,Ns);const e=di(i.firestore,Bs);return gm(wo(e),i._key,{source:"server"}).then(t=>jf(e,i,t))}function Y_(i){i=di(i,bo);const e=di(i.firestore,Bs),t=wo(e),o=new zc(e);return j_(i._query),mm(t,i._query).then(c=>new la(e,o,i,c))}function dg(i){i=di(i,bo);const e=di(i.firestore,Bs),t=wo(e),o=new zc(e);return function sd(i,e){const t=new Z;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return(o=(0,a.Z)(function*(c,f,v){try{const M=yield kc(c,f,!0),z=new vu(f,M.Hi),X=z.Wu(M.documents),he=z.applyChanges(X,!1);v.resolve(he.snapshot)}catch(M){const z=_u(M,`Failed to execute query '${f} against cache`);v.reject(z)}}),function(c,f,v){return o.apply(this,arguments)})(yield id(i),e,t);var o})),t.promise}(t,i._query).then(c=>new la(e,o,i,c))}function yh(i){i=di(i,bo);const e=di(i.firestore,Bs),t=wo(e),o=new zc(e);return mm(t,i._query,{source:"server"}).then(c=>new la(e,o,i,c))}function J_(i,e,t){i=di(i,Ns);const o=di(i.firestore,Bs),c=ud(i.converter,e,t);return dd(o,[dh(yc(o),"setDoc",i._key,c,null!==i.converter,t).toMutation(i._key,xs.none())])}function Bm(i,e,t,...o){i=di(i,Ns);const c=di(i.firestore,Bs),f=yc(c);let v;return v="string"==typeof(e=(0,be.m9)(e))||e instanceof $c?Lf(f,"updateDoc",i._key,e,t,o):hh(f,"updateDoc",i._key,e),dd(c,[v.toMutation(i._key,xs.exists(!0))])}function Q_(i){return dd(di(i.firestore,Bs),[new it(i._key,xs.none())])}function Vm(i,e){const t=di(i.firestore,Bs),o=qp(i),c=ud(i.converter,e);return dd(t,[dh(yc(i.firestore),"addDoc",o._key,c,null!==i.converter,{}).toMutation(o._key,xs.exists(!1))]).then(()=>o)}function Um(i,...e){var t,o,c;i=(0,be.m9)(i);let f={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||tg(e[v])||(f=e[v],v++);const M={includeMetadataChanges:f.includeMetadataChanges};if(tg(e[v])){const Pe=e[v];e[v]=null===(t=Pe.next)||void 0===t?void 0:t.bind(Pe),e[v+1]=null===(o=Pe.error)||void 0===o?void 0:o.bind(Pe),e[v+2]=null===(c=Pe.complete)||void 0===c?void 0:c.bind(Pe)}let z,X,he;if(i instanceof Ns)X=di(i.firestore,Bs),he=ul(i._key.path),z={next:Pe=>{e[v]&&e[v](jf(X,i,Pe))},error:e[v+1],complete:e[v+2]};else{const Pe=di(i,bo);X=di(Pe.firestore,Bs),he=Pe._query;const gt=new zc(X);z={next:jt=>{e[v]&&e[v](new la(X,gt,Pe,jt))},error:e[v+1],complete:e[v+2]},j_(i._query)}return function(Pe,gt,jt,qt){const $n=new oh(qt),sr=new bf(gt,$n,jt);return Pe.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return eh(yield lh(Pe),sr)})),()=>{$n.bc(),Pe.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return th(yield lh(Pe),sr)}))}}(wo(X),he,M,z)}function Uf(i,e){return function _m(i,e){const t=new oh(e);return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return o=yield lh(i),c=t,_n(o).bu.add(c),void c.next();var o,c})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return o=yield lh(i),c=t,void _n(o).bu.delete(c);var o,c}))}}(wo(i=di(i,Bs)),tg(e)?e:{next:e})}function dd(i,e){return function(t,o){const c=new Z;return t.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function Lp(i,e,t){return wf.apply(this,arguments)}(yield eg(t),o,c)})),c.promise}(wo(i),e)}function jf(i,e,t){const o=t.docs.get(e._key),c=new zc(i);return new Wc(i,c,e._key,o,new Su(t.hasPendingWrites,t.fromCache),e.converter)}const Hf={maxAttempts:5};class hg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yc(e)}set(e,t,o){this._verifyNotCommitted();const c=vc(e,this._firestore),f=ud(c.converter,t,o),v=dh(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,o);return this._mutations.push(v.toMutation(c._key,xs.none())),this}update(e,t,o,...c){this._verifyNotCommitted();const f=vc(e,this._firestore);let v;return v="string"==typeof(t=(0,be.m9)(t))||t instanceof $c?Lf(this._dataReader,"WriteBatch.update",f._key,t,o,c):hh(this._dataReader,"WriteBatch.update",f._key,t),this._mutations.push(v.toMutation(f._key,xs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=vc(e,this._firestore);return this._mutations=this._mutations.concat(new it(t._key,xs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zt(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vc(i,e){if((i=(0,be.m9)(i)).firestore!==e)throw new zt(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Hm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yc(e)}get(e){const t=vc(e,this._firestore),o=new Kl(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return In();const f=c[0];if(f.isFoundDocument())return new cd(this._firestore,o,f.key,f,t.converter);if(f.isNoDocument())return new cd(this._firestore,o,t._key,null,t.converter);throw In()})}set(e,t,o){const c=vc(e,this._firestore),f=ud(c.converter,t,o),v=dh(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,o);return this._transaction.set(c._key,v),this}update(e,t,o,...c){const f=vc(e,this._firestore);let v;return v="string"==typeof(t=(0,be.m9)(t))||t instanceof $c?Lf(this._dataReader,"Transaction.update",f._key,t,o,c):hh(this._dataReader,"Transaction.update",f._key,t),this._transaction.update(f._key,v),this}delete(e){const t=vc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=vc(e,this._firestore),o=new zc(this._firestore);return super.get(e).then(c=>new Wc(this._firestore,o,t._key,c._document,new Su(!1,!1),t.converter))}}function $m(i,e,t){i=di(i,Bs);const o=Object.assign(Object.assign({},Hf),t);return function(c){if(c.maxAttempts<1)throw new zt(ft.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(c,f,v){const M=new Z;return c.asyncQueue.enqueueAndForget((0,a.Z)(function*(){const z=yield function O_(i){return Nf(i).then(e=>e.datastore)}(c);new lm(c.asyncQueue,z,v,f,M).run()})),M.promise}(wo(i),c=>e(new Hm(i,c)),o)}function Gm(){return new ad("deleteField")}function Wm(){return new Ff("serverTimestamp")}function zm(...i){return new U_("arrayUnion",i)}function Zm(...i){return new Cm("arrayRemove",i)}function ey(i){return new Em("increment",i)}!function(i,e=!0){Yo=b.SDK_VERSION,(0,b._registerComponent)(new K.wA("firestore",(t,{instanceIdentifier:o,options:c})=>{const f=t.getProvider("app").getImmediate(),v=new Bs(new Ae(t.getProvider("auth-internal")),new me(t.getProvider("app-check-internal")),function(M,z){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new zt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ia(M.options.projectId,z)}(f,o),f);return c=Object.assign({useFetchStreams:e},c),v._setSettings(c),v},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(Zi,"3.7.1",i),(0,b.registerVersion)(Zi,"3.7.1","esm2017")}()},6961:(tn,Oe,U)=>{"use strict";U.d(Oe,{$Y:()=>Gn,B0:()=>ds,FN:()=>Ai,IX:()=>Ke,Jt:()=>hs,KV:()=>Zo,UJ:()=>Pr,Ym:()=>gs,a1:()=>Gi,aF:()=>$r,bm:()=>Vn,cF:()=>is,g6:()=>Xs,gE:()=>Xe,gH:()=>st,iH:()=>zs,oq:()=>ms,pb:()=>wi,qm:()=>zr,sd:()=>bi,y4:()=>Ne});var a=U(5861),b=U(9681),K=U(2090),Ie=U(4859);const be="firebasestorage.googleapis.com",ke="storageBucket";class ce extends K.ZR{constructor(Q,De,xe=0){super(pe(Q),`Firebase Storage: ${De} (${pe(Q)})`),this.status_=xe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ce.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return pe(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function pe(ee){return"storage/"+ee}function Re(){return new ce("unknown","An unknown error occurred, please check the error payload for server response.")}function rt(){return new ce("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function pt(){return new ce("canceled","User canceled the upload/download.")}function lt(){return new ce("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function st(ee){return new ce("invalid-argument",ee)}function ht(){return new ce("app-deleted","The Firebase app was deleted.")}function Ne(ee){return new ce("invalid-root-operation","The operation '"+ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qe(ee,Q){return new ce("invalid-format","String does not match format '"+ee+"': "+Q)}function je(ee){throw new ce("internal-error","Internal error: "+ee)}class Xe{constructor(Q,De){this.bucket=Q,this.path_=De}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,De){let xe;try{xe=Xe.makeFromUrl(Q,De)}catch(Ue){return new Xe(Q,"")}if(""===xe.path)return xe;throw function Je(ee){return new ce("invalid-default-bucket","Invalid default bucket '"+ee+"'.")}(Q)}static makeFromUrl(Q,De){let xe=null;const Ue="([A-Za-z0-9.\\-_]+)",yn=new RegExp("^gs://"+Ue+"(/(.*))?$","i");function En(On){On.path_=decodeURIComponent(On.path)}const te=De.replace(/[.]/g,"\\."),tr=[{regex:yn,indices:{bucket:1,path:3},postModify:function Ct(On){"/"===On.path.charAt(On.path.length-1)&&(On.path_=On.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${te}/v[A-Za-z0-9_]+/b/${Ue}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:En},{regex:new RegExp(`^https?://${De===be?"(?:storage.googleapis.com|storage.cloud.google.com)":De}/${Ue}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:En}];for(let On=0;On<tr.length;On++){const pr=tr[On],Nr=pr.regex.exec(Q);if(Nr){let kr=Nr[pr.indices.path];kr||(kr=""),xe=new Xe(Nr[pr.indices.bucket],kr),pr.postModify(xe);break}}if(null==xe)throw function xt(ee){return new ce("invalid-url","Invalid URL '"+ee+"'.")}(Q);return xe}}class et{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function gn(ee){return"string"==typeof ee||ee instanceof String}function an(ee){return St()&&ee instanceof Blob}function St(){return"undefined"!=typeof Blob}function nn(ee,Q,De,xe){if(xe<Q)throw st(`Invalid value for '${ee}'. Expected ${Q} or greater.`);if(xe>De)throw st(`Invalid value for '${ee}'. Expected ${De} or less.`)}function ct(ee,Q,De){let xe=Q;return null==De&&(xe=`https://${Q}`),`${De}://${xe}/v0${ee}`}function wt(ee){const Q=encodeURIComponent;let De="?";for(const xe in ee)ee.hasOwnProperty(xe)&&(De=De+(Q(xe)+"=")+Q(ee[xe])+"&");return De=De.slice(0,-1),De}var mn=(()=>{return(ee=mn||(mn={}))[ee.NO_ERROR=0]="NO_ERROR",ee[ee.NETWORK_ERROR=1]="NETWORK_ERROR",ee[ee.ABORT=2]="ABORT",mn;var ee})();function Jn(ee,Q){const De=ee>=500&&ee<600,Ue=-1!==[408,429].indexOf(ee),Ct=-1!==Q.indexOf(ee);return De||Ue||Ct}class dr{constructor(Q,De,xe,Ue,Ct,Qt,yn,Tn,En,R,te,j=!0){this.url_=Q,this.method_=De,this.headers_=xe,this.body_=Ue,this.successCodes_=Ct,this.additionalRetryCodes_=Qt,this.callback_=yn,this.errorCallback_=Tn,this.timeout_=En,this.progressCallback_=R,this.connectionFactory_=te,this.retry=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ae,Se)=>{this.resolve_=ae,this.reject_=Se,this.start_()})}start_(){const De=(xe,Ue)=>{const Ct=this.resolve_,Qt=this.reject_,yn=Ue.connection;if(Ue.wasSuccessCode)try{const Tn=this.callback_(yn,yn.getResponse());!function pn(ee){return void 0!==ee}(Tn)?Ct():Ct(Tn)}catch(Tn){Qt(Tn)}else if(null!==yn){const Tn=Re();Tn.serverResponse=yn.getErrorText(),Qt(this.errorCallback_?this.errorCallback_(yn,Tn):Tn)}else Qt(Ue.canceled?this.appDelete_?ht():pt():rt())};this.canceled_?De(0,new or(!1,null,!0)):this.backoffId_=function Nt(ee,Q,De){let xe=1,Ue=null,Ct=null,Qt=!1,yn=0;function Tn(){return 2===yn}let En=!1;function R(...vt){En||(En=!0,Q.apply(null,vt))}function te(vt){Ue=setTimeout(()=>{Ue=null,ee(ae,Tn())},vt)}function j(){Ct&&clearTimeout(Ct)}function ae(vt,...vn){if(En)return void j();if(vt)return j(),void R.call(null,vt,...vn);if(Tn()||Qt)return j(),void R.call(null,vt,...vn);let tr;xe<64&&(xe*=2),1===yn?(yn=2,tr=0):tr=1e3*(xe+Math.random()),te(tr)}let Se=!1;function dt(vt){Se||(Se=!0,j(),!En&&(null!==Ue?(vt||(yn=2),clearTimeout(Ue),te(0)):vt||(yn=1)))}return te(0),Ct=setTimeout(()=>{Qt=!0,dt(!0)},De),dt}((xe,Ue)=>{if(Ue)return void xe(!1,new or(!1,null,!0));const Ct=this.connectionFactory_();this.pendingConnection_=Ct;const Qt=yn=>{null!==this.progressCallback_&&this.progressCallback_(yn.loaded,yn.lengthComputable?yn.total:-1)};null!==this.progressCallback_&&Ct.addUploadProgressListener(Qt),Ct.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ct.removeUploadProgressListener(Qt),this.pendingConnection_=null;const yn=Ct.getErrorCode()===mn.NO_ERROR,Tn=Ct.getStatus();if((!yn||Jn(Tn,this.additionalRetryCodes_))&&this.retry){const R=Ct.getErrorCode()===mn.ABORT;return void xe(!1,new or(!1,null,R))}const En=-1!==this.successCodes_.indexOf(Tn);xe(!0,new or(En,Ct))})},De,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function Vt(ee){ee(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class or{constructor(Q,De,xe){this.wasSuccessCode=Q,this.connection=De,this.canceled=!!xe}}function Cn(...ee){const Q=function Kt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==Q){const De=new Q;for(let xe=0;xe<ee.length;xe++)De.append(ee[xe]);return De.getBlob()}if(St())return new Blob(ee);throw new ce("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ar{constructor(Q,De){this.data=Q,this.contentType=De||null}}function zr(ee,Q){switch(ee){case Vn.RAW:return new Ar(rr(Q));case Vn.BASE64:case Vn.BASE64URL:return new Ar(Ir(ee,Q));case Vn.DATA_URL:return new Ar(function Ft(ee){const Q=new Pn(ee);return Q.base64?Ir(Vn.BASE64,Q.rest):function ur(ee){let Q;try{Q=decodeURIComponent(ee)}catch(De){throw qe(Vn.DATA_URL,"Malformed data URL.")}return rr(Q)}(Q.rest)}(Q),function ln(ee){return new Pn(ee).contentType}(Q))}throw Re()}function rr(ee){const Q=[];for(let De=0;De<ee.length;De++){let xe=ee.charCodeAt(De);xe<=127?Q.push(xe):xe<=2047?Q.push(192|xe>>6,128|63&xe):55296==(64512&xe)?De<ee.length-1&&56320==(64512&ee.charCodeAt(De+1))?(xe=65536|(1023&xe)<<10|1023&ee.charCodeAt(++De),Q.push(240|xe>>18,128|xe>>12&63,128|xe>>6&63,128|63&xe)):Q.push(239,191,189):56320==(64512&xe)?Q.push(239,191,189):Q.push(224|xe>>12,128|xe>>6&63,128|63&xe)}return new Uint8Array(Q)}function Ir(ee,Q){switch(ee){case Vn.BASE64:{const Ue=-1!==Q.indexOf("-"),Ct=-1!==Q.indexOf("_");if(Ue||Ct)throw qe(ee,"Invalid character '"+(Ue?"-":"_")+"' found: is it base64url encoded?");break}case Vn.BASE64URL:{const Ue=-1!==Q.indexOf("+"),Ct=-1!==Q.indexOf("/");if(Ue||Ct)throw qe(ee,"Invalid character '"+(Ue?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let De;try{De=function Bt(ee){return atob(ee)}(Q)}catch(Ue){throw qe(ee,"Invalid character found")}const xe=new Uint8Array(De.length);for(let Ue=0;Ue<De.length;Ue++)xe[Ue]=De.charCodeAt(Ue);return xe}class Pn{constructor(Q){this.base64=!1,this.contentType=null;const De=Q.match(/^data:([^,]+)?,/);if(null===De)throw qe(Vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const xe=De[1]||null;null!=xe&&(this.base64=function ni(ee,Q){return ee.length>=Q.length&&ee.substring(ee.length-Q.length)===Q}(xe,";base64"),this.contentType=this.base64?xe.substring(0,xe.length-7):xe),this.rest=Q.substring(Q.indexOf(",")+1)}}class Pr{constructor(Q,De){let xe=0,Ue="";an(Q)?(this.data_=Q,xe=Q.size,Ue=Q.type):Q instanceof ArrayBuffer?(De?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),xe=this.data_.length):Q instanceof Uint8Array&&(De?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),xe=Q.length),this.size_=xe,this.type_=Ue}size(){return this.size_}type(){return this.type_}slice(Q,De){if(an(this.data_)){const Ue=function Nn(ee,Q,De){return ee.webkitSlice?ee.webkitSlice(Q,De):ee.mozSlice?ee.mozSlice(Q,De):ee.slice?ee.slice(Q,De):null}(this.data_,Q,De);return null===Ue?null:new Pr(Ue)}{const xe=new Uint8Array(this.data_.buffer,Q,De-Q);return new Pr(xe,!0)}}static getBlob(...Q){if(St()){const De=Q.map(xe=>xe instanceof Pr?xe.data_:xe);return new Pr(Cn.apply(null,De))}{const De=Q.map(Qt=>gn(Qt)?zr(Vn.RAW,Qt).data:Qt.data_);let xe=0;De.forEach(Qt=>{xe+=Qt.byteLength});const Ue=new Uint8Array(xe);let Ct=0;return De.forEach(Qt=>{for(let yn=0;yn<Qt.length;yn++)Ue[Ct++]=Qt[yn]}),new Pr(Ue,!0)}}uploadData(){return this.data_}}function gr(ee){let Q;try{Q=JSON.parse(ee)}catch(De){return null}return function Ot(ee){return"object"==typeof ee&&!Array.isArray(ee)}(Q)?Q:null}function Fr(ee){const Q=ee.lastIndexOf("/",ee.length-2);return-1===Q?ee:ee.slice(Q+1)}function Fn(ee,Q){return Q}class Or{constructor(Q,De,xe,Ue){this.server=Q,this.local=De||Q,this.writable=!!xe,this.xform=Ue||Fn}}let lr=null;function $t(){if(lr)return lr;const ee=[];ee.push(new Or("bucket")),ee.push(new Or("generation")),ee.push(new Or("metageneration")),ee.push(new Or("name","fullPath",!0));const De=new Or("name");De.xform=function Q(Ct,Qt){return function hi(ee){return!gn(ee)||ee.length<2?ee:Fr(ee)}(Qt)},ee.push(De);const Ue=new Or("size");return Ue.xform=function xe(Ct,Qt){return void 0!==Qt?Number(Qt):Qt},ee.push(Ue),ee.push(new Or("timeCreated")),ee.push(new Or("updated")),ee.push(new Or("md5Hash",null,!0)),ee.push(new Or("cacheControl",null,!0)),ee.push(new Or("contentDisposition",null,!0)),ee.push(new Or("contentEncoding",null,!0)),ee.push(new Or("contentLanguage",null,!0)),ee.push(new Or("contentType",null,!0)),ee.push(new Or("metadata","customMetadata",!0)),lr=ee,lr}function cn(ee,Q,De){const xe=gr(Q);return null===xe?null:function Xt(ee,Q,De){const xe={type:"file"},Ue=De.length;for(let Ct=0;Ct<Ue;Ct++){const Qt=De[Ct];xe[Qt.local]=Qt.xform(xe,Q[Qt.server])}return function Dt(ee,Q){Object.defineProperty(ee,"ref",{get:function De(){const Ct=new Xe(ee.bucket,ee.fullPath);return Q._makeStorageReference(Ct)}})}(xe,ee),xe}(ee,xe,De)}function ir(ee,Q){const De={},xe=Q.length;for(let Ue=0;Ue<xe;Ue++){const Ct=Q[Ue];Ct.writable&&(De[Ct.server]=ee[Ct.local])}return JSON.stringify(De)}const ye="prefixes";class oe{constructor(Q,De,xe,Ue){this.url=Q,this.method=De,this.handler=xe,this.timeout=Ue,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fe(ee){if(!ee)throw Re()}function tt(ee,Q){return function De(xe,Ue){const Ct=cn(ee,Ue,Q);return fe(null!==Ct),Ct}}function rn(ee){return function Q(De,xe){let Ue;return Ue=401===De.getStatus()?De.getErrorText().includes("Firebase App Check token is invalid")?function Et(){return new ce("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function mt(){return new ce("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===De.getStatus()?function Qe(ee){return new ce("quota-exceeded","Quota for bucket '"+ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ee.bucket):403===De.getStatus()?function nt(ee){return new ce("unauthorized","User does not have permission to access '"+ee+"'.")}(ee.path):xe,Ue.status=De.getStatus(),Ue.serverResponse=xe.serverResponse,Ue}}function Zn(ee){const Q=rn(ee);return function De(xe,Ue){let Ct=Q(xe,Ue);return 404===xe.getStatus()&&(Ct=function Ze(ee){return new ce("object-not-found","Object '"+ee+"' does not exist.")}(ee.path)),Ct.serverResponse=Ue.serverResponse,Ct}}function hn(ee,Q,De){const Ue=ct(Q.fullServerUrl(),ee.host,ee._protocol),Qt=ee.maxOperationRetryTime,yn=new oe(Ue,"GET",tt(ee,De),Qt);return yn.errorHandler=Zn(Q),yn}function br(ee,Q,De,xe,Ue){const Ct={};Ct.prefix=Q.isRoot?"":Q.path+"/",De&&De.length>0&&(Ct.delimiter=De),xe&&(Ct.pageToken=xe),Ue&&(Ct.maxResults=Ue);const yn=ct(Q.bucketOnlyServerUrl(),ee.host,ee._protocol),En=ee.maxOperationRetryTime,R=new oe(yn,"GET",function Rt(ee,Q){return function De(xe,Ue){const Ct=function ge(ee,Q,De){const xe=gr(De);return null===xe?null:function Fe(ee,Q,De){const xe={prefixes:[],items:[],nextPageToken:De.nextPageToken};if(De[ye])for(const Ue of De[ye]){const Ct=Ue.replace(/\/$/,""),Qt=ee._makeStorageReference(new Xe(Q,Ct));xe.prefixes.push(Qt)}if(De.items)for(const Ue of De.items){const Ct=ee._makeStorageReference(new Xe(Q,Ue.name));xe.items.push(Ct)}return xe}(ee,Q,xe)}(ee,Q,Ue);return fe(null!==Ct),Ct}}(ee,Q.bucket),En);return R.urlParams=Ct,R.errorHandler=rn(Q),R}function mr(ee,Q,De){const xe=Object.assign({},De);return xe.fullPath=ee.path,xe.size=Q.size(),xe.contentType||(xe.contentType=function qn(ee,Q){return ee&&ee.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),xe}function Vr(ee,Q,De,xe,Ue){const Ct=Q.bucketOnlyServerUrl(),Qt={"X-Goog-Upload-Protocol":"multipart"},Tn=function yn(){let tr="";for(let On=0;On<2;On++)tr+=Math.random().toString().slice(2);return tr}();Qt["Content-Type"]="multipart/related; boundary="+Tn;const En=mr(Q,xe,Ue),R=ir(En,De),ae=Pr.getBlob("--"+Tn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+R+"\r\n--"+Tn+"\r\nContent-Type: "+En.contentType+"\r\n\r\n",xe,"\r\n--"+Tn+"--");if(null===ae)throw lt();const Se={name:En.fullPath},dt=ct(Ct,ee.host,ee._protocol),vn=ee.maxUploadRetryTime,Ln=new oe(dt,"POST",tt(ee,De),vn);return Ln.urlParams=Se,Ln.headers=Qt,Ln.body=ae.uploadData(),Ln.errorHandler=rn(Q),Ln}class Lt{constructor(Q,De,xe,Ue){this.current=Q,this.total=De,this.finalized=!!xe,this.metadata=Ue||null}}function Yn(ee,Q){let De=null;try{De=ee.getResponseHeader("X-Goog-Upload-Status")}catch(Ue){fe(!1)}return fe(!!De&&-1!==(Q||["active"]).indexOf(De)),De}const Ai={STATE_CHANGED:"state_changed"},Gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ii(ee){switch(ee){case"running":case"pausing":case"canceling":return Gn.RUNNING;case"paused":return Gn.PAUSED;case"success":return Gn.SUCCESS;case"canceled":return Gn.CANCELED;default:return Gn.ERROR}}class Sr{constructor(Q,De,xe){if(function sn(ee){return"function"==typeof ee}(Q)||null!=De||null!=xe)this.next=Q,this.error=null!=De?De:void 0,this.complete=null!=xe?xe:void 0;else{const Ct=Q;this.next=Ct.next,this.error=Ct.error,this.complete=Ct.complete}}}function Wn(ee){return(...Q)=>{Promise.resolve().then(()=>ee(...Q))}}class qr extends class cs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mn.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mn.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mn.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,De,xe,Ue){if(this.sent_)throw je("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(De,Q,!0),void 0!==Ue)for(const Ct in Ue)Ue.hasOwnProperty(Ct)&&this.xhr_.setRequestHeader(Ct,Ue[Ct].toString());return void 0!==xe?this.xhr_.send(xe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw je("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw je("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Q){return-1}}getResponse(){if(!this.sent_)throw je("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw je("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}{initXhr(){this.xhr_.responseType="text"}}function Qr(){return new qr}class Ke{constructor(Q,De,xe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=De,this._metadata=xe,this._mappings=$t(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ue=>{if(this._request=void 0,this._chunkMultiplier=1,Ue._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const Ct=this.isExponentialBackoffExpired();if(Jn(Ue.status,[])){if(!Ct)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ue=rt()}this._error=Ue,this._transition("error")}},this._metadataErrorHandler=Ue=>{this._request=void 0,Ue._codeEquals("canceled")?this.completeTransitions_():(this._error=Ue,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ue,Ct)=>{this._resolve=Ue,this._reject=Ct,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return De=>this._updateProgress(Q+De)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([De,xe])=>{switch(this._state){case"running":Q(De,xe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,De)=>{const xe=function _r(ee,Q,De,xe,Ue){const Ct=Q.bucketOnlyServerUrl(),Qt=mr(Q,xe,Ue),yn={name:Qt.fullPath},Tn=ct(Ct,ee.host,ee._protocol),R={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${xe.size()}`,"X-Goog-Upload-Header-Content-Type":Qt.contentType,"Content-Type":"application/json; charset=utf-8"},te=ir(Qt,De),Se=new oe(Tn,"POST",function ae(dt){let vt;Yn(dt);try{vt=dt.getResponseHeader("X-Goog-Upload-URL")}catch(vn){fe(!1)}return fe(gn(vt)),vt},ee.maxUploadRetryTime);return Se.urlParams=yn,Se.headers=R,Se.body=te,Se.errorHandler=rn(Q),Se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ue=this._ref.storage._makeRequest(xe,Qr,Q,De);this._request=Ue,Ue.getPromise().then(Ct=>{this._request=void 0,this._uploadUrl=Ct,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((De,xe)=>{const Ue=function ri(ee,Q,De,xe){const Tn=new oe(De,"POST",function Ct(En){const R=Yn(En,["active","final"]);let te=null;try{te=En.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ae){fe(!1)}te||fe(!1);const j=Number(te);return fe(!isNaN(j)),new Lt(j,xe.size(),"final"===R)},ee.maxUploadRetryTime);return Tn.headers={"X-Goog-Upload-Command":"query"},Tn.errorHandler=rn(Q),Tn}(this._ref.storage,this._ref._location,Q,this._blob),Ct=this._ref.storage._makeRequest(Ue,Qr,De,xe);this._request=Ct,Ct.getPromise().then(Qt=>{this._request=void 0,this._updateProgress(Qt.current),this._needToFetchStatus=!1,Qt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,De=new Lt(this._transferred,this._blob.size()),xe=this._uploadUrl;this._resolveToken((Ue,Ct)=>{let Qt;try{Qt=function si(ee,Q,De,xe,Ue,Ct,Qt,yn){const Tn=new Lt(0,0);if(Qt?(Tn.current=Qt.current,Tn.total=Qt.total):(Tn.current=0,Tn.total=xe.size()),xe.size()!==Tn.total)throw function Pt(){return new ce("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const En=Tn.total-Tn.current;let R=En;Ue>0&&(R=Math.min(R,Ue));const te=Tn.current;let ae="";ae=0===R?"finalize":En===R?"upload, finalize":"upload";const Se={"X-Goog-Upload-Command":ae,"X-Goog-Upload-Offset":`${Tn.current}`},dt=xe.slice(te,te+R);if(null===dt)throw lt();const tr=new oe(De,"POST",function vt(On,pr){const Nr=Yn(On,["active","final"]),Gr=Tn.current+R,kr=xe.size();let Fi;return Fi="final"===Nr?tt(Q,Ct)(On,pr):null,new Lt(Gr,kr,"final"===Nr,Fi)},Q.maxUploadRetryTime);return tr.headers=Se,tr.body=dt.uploadData(),tr.progressCallback=yn||null,tr.errorHandler=rn(ee),tr}(this._ref._location,this._ref.storage,xe,this._blob,Q,this._mappings,De,this._makeProgressCallback())}catch(Tn){return this._error=Tn,void this._transition("error")}const yn=this._ref.storage._makeRequest(Qt,Qr,Ue,Ct,!1);this._request=yn,yn.getPromise().then(Tn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Tn.current),Tn.finalized?(this._metadata=Tn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,De)=>{const xe=hn(this._ref.storage,this._ref._location,this._mappings),Ue=this._ref.storage._makeRequest(xe,Qr,Q,De);this._request=Ue,Ue.getPromise().then(Ct=>{this._request=void 0,this._metadata=Ct,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,De)=>{const xe=Vr(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ue=this._ref.storage._makeRequest(xe,Qr,Q,De);this._request=Ue,Ue.getPromise().then(Ct=>{this._request=void 0,this._metadata=Ct,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const De=this._transferred;this._transferred=Q,this._transferred!==De&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const De="paused"===this._state;this._state=Q,De&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=pt(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=Ii(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,De,xe,Ue){const Ct=new Sr(De||void 0,xe||void 0,Ue||void 0);return this._addObserver(Ct),()=>{this._removeObserver(Ct)}}then(Q,De){return this._promise.then(Q,De)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const De=this._observers.indexOf(Q);-1!==De&&this._observers.splice(De,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(De=>{this._notifyObserver(De)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(Ii(this._state)){case Gn.SUCCESS:Wn(this._resolve.bind(null,this.snapshot))();break;case Gn.CANCELED:case Gn.ERROR:Wn(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(Ii(this._state)){case Gn.RUNNING:case Gn.PAUSED:Q.next&&Wn(Q.next.bind(Q,this.snapshot))();break;case Gn.SUCCESS:Q.complete&&Wn(Q.complete.bind(Q))();break;default:Q.error&&Wn(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class At{constructor(Q,De){this._service=Q,this._location=De instanceof Xe?De:Xe.makeFromUrl(De,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,De){return new At(Q,De)}get root(){const Q=new Xe(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fr(this._location.path)}get storage(){return this._service}get parent(){const Q=function xr(ee){if(0===ee.length)return null;const Q=ee.lastIndexOf("/");return-1===Q?"":ee.slice(0,Q)}(this._location.path);if(null===Q)return null;const De=new Xe(this._location.bucket,Q);return new At(this._service,De)}_throwIfRoot(Q){if(""===this._location.path)throw Ne(Q)}}function fi(ee,Q,De){return us.apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(ee,Q,De){const Ue=yield Hi(ee,{pageToken:De});Q.prefixes.push(...Ue.prefixes),Q.items.push(...Ue.items),null!=Ue.nextPageToken&&(yield fi(ee,Q,Ue.nextPageToken))})).apply(this,arguments)}function Hi(ee,Q){null!=Q&&"number"==typeof Q.maxResults&&nn("options.maxResults",1,1e3,Q.maxResults);const De=Q||{},xe=br(ee.storage,ee._location,"/",De.pageToken,De.maxResults);return ee.storage.makeRequestWithTokens(xe,Qr)}function Vs(ee){ee._throwIfRoot("getDownloadURL");const Q=function Mt(ee,Q,De){const Ue=ct(Q.fullServerUrl(),ee.host,ee._protocol),Qt=ee.maxOperationRetryTime,yn=new oe(Ue,"GET",function un(ee,Q){return function De(xe,Ue){const Ct=cn(ee,Ue,Q);return fe(null!==Ct),function dn(ee,Q,De,xe){const Ue=gr(Q);if(null===Ue||!gn(Ue.downloadTokens))return null;const Ct=Ue.downloadTokens;if(0===Ct.length)return null;const Qt=encodeURIComponent;return Ct.split(",").map(En=>{const te=ee.fullPath;return ct("/b/"+Qt(ee.bucket)+"/o/"+Qt(te),De,xe)+wt({alt:"media",token:En})})[0]}(Ct,Ue,ee.host,ee._protocol)}}(ee,De),Qt);return yn.errorHandler=Zn(Q),yn}(ee.storage,ee._location,$t());return ee.storage.makeRequestWithTokens(Q,Qr).then(De=>{if(null===De)throw function We(){return new ce("no-download-url","The given file does not have any download URLs.")}();return De})}function Vi(ee,Q){const De=function hr(ee,Q){const De=Q.split("/").filter(xe=>xe.length>0).join("/");return 0===ee.length?De:ee+"/"+De}(ee._location.path,Q),xe=new Xe(ee._location.bucket,De);return new At(ee.storage,xe)}function Do(ee,Q){if(ee instanceof Ws){const De=ee;if(null==De._bucket)throw function ut(){return new ce("no-default-bucket","No default bucket found. Did you set the '"+ke+"' property when initializing the app?")}();const xe=new At(De,De._bucket);return null!=Q?Do(xe,Q):xe}return void 0!==Q?Vi(ee,Q):ee}function ps(ee,Q){if(Q&&function Us(ee){return/^[A-Za-z]+:\/\//.test(ee)}(Q)){if(ee instanceof Ws)return function Ps(ee,Q){return new At(ee,Q)}(ee,Q);throw st("To use ref(service, url), the first argument must be a Storage instance.")}return Do(ee,Q)}function $i(ee,Q){const De=null==Q?void 0:Q[ke];return null==De?null:Xe.makeFromBucketSpec(De,ee)}class Ws{constructor(Q,De,xe,Ue,Ct){this.app=Q,this._authProvider=De,this._appCheckProvider=xe,this._url=Ue,this._firebaseVersion=Ct,this._bucket=null,this._host=be,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ue?Xe.makeFromBucketSpec(Ue,this._host):$i(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Xe.makeFromBucketSpec(this._url,Q):$i(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){nn("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){nn("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,a.Z)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const De=Q._authProvider.getImmediate({optional:!0});if(De){const xe=yield De.getToken();if(null!==xe)return xe.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,a.Z)(function*(){const De=Q._appCheckProvider.getImmediate({optional:!0});return De?(yield De.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new At(this,Q)}_makeRequest(Q,De,xe,Ue,Ct=!0){if(this._deleted)return new et(ht());{const Qt=function Er(ee,Q,De,xe,Ue,Ct,Qt=!0){const yn=wt(ee.urlParams),Tn=ee.url+yn,En=Object.assign({},ee.headers);return function Qn(ee,Q){Q&&(ee["X-Firebase-GMPID"]=Q)}(En,Q),function Cr(ee,Q){null!==Q&&Q.length>0&&(ee.Authorization="Firebase "+Q)}(En,De),function Dn(ee,Q){ee["X-Firebase-Storage-Version"]="webjs/"+(null!=Q?Q:"AppManager")}(En,Ct),function nr(ee,Q){null!==Q&&(ee["X-Firebase-AppCheck"]=Q)}(En,xe),new dr(Tn,ee.method,En,ee.body,ee.successCodes,ee.additionalRetryCodes,ee.handler,ee.errorHandler,ee.timeout,ee.progressCallback,Ue,Qt)}(Q,this._appId,xe,Ue,De,this._firebaseVersion,Ct);return this._requests.add(Qt),Qt.getPromise().then(()=>this._requests.delete(Qt),()=>this._requests.delete(Qt)),Qt}}makeRequestWithTokens(Q,De){var xe=this;return(0,a.Z)(function*(){const[Ue,Ct]=yield Promise.all([xe._getAuthToken(),xe._getAppCheckToken()]);return xe._makeRequest(Q,De,Ue,Ct).getPromise()})()}}const zo="@firebase/storage",Ts="storage";function Zo(ee,Q,De){return function Xn(ee,Q,De){ee._throwIfRoot("uploadBytes");const xe=Vr(ee.storage,ee._location,$t(),new Pr(Q,!0),De);return ee.storage.makeRequestWithTokens(xe,Qr).then(Ue=>({metadata:Ue,ref:ee}))}(ee=(0,K.m9)(ee),Q,De)}function ds(ee,Q,De){return function Ur(ee,Q,De){return ee._throwIfRoot("uploadBytesResumable"),new Ke(ee,new Pr(Q),De)}(ee=(0,K.m9)(ee),Q,De)}function bi(ee){return function Ti(ee){ee._throwIfRoot("getMetadata");const Q=hn(ee.storage,ee._location,$t());return ee.storage.makeRequestWithTokens(Q,Qr)}(ee=(0,K.m9)(ee))}function gs(ee,Q){return function oi(ee,Q){ee._throwIfRoot("updateMetadata");const De=function Wt(ee,Q,De,xe){const Ct=ct(Q.fullServerUrl(),ee.host,ee._protocol),yn=ir(De,xe),En=ee.maxOperationRetryTime,R=new oe(Ct,"PATCH",tt(ee,xe),En);return R.headers={"Content-Type":"application/json; charset=utf-8"},R.body=yn,R.errorHandler=Zn(Q),R}(ee.storage,ee._location,Q,$t());return ee.storage.makeRequestWithTokens(De,Qr)}(ee=(0,K.m9)(ee),Q)}function wi(ee,Q){return Hi(ee=(0,K.m9)(ee),Q)}function $r(ee){return function fr(ee){const Q={prefixes:[],items:[]};return fi(ee,Q).then(()=>Q)}(ee=(0,K.m9)(ee))}function hs(ee){return Vs(ee=(0,K.m9)(ee))}function ms(ee){return function Ro(ee){ee._throwIfRoot("deleteObject");const Q=function wn(ee,Q){const xe=ct(Q.fullServerUrl(),ee.host,ee._protocol),yn=new oe(xe,"DELETE",function Qt(Tn,En){},ee.maxOperationRetryTime);return yn.successCodes=[200,204],yn.errorHandler=Zn(Q),yn}(ee.storage,ee._location);return ee.storage.makeRequestWithTokens(Q,Qr)}(ee=(0,K.m9)(ee))}function zs(ee,Q){return ps(ee=(0,K.m9)(ee),Q)}function Xs(ee,Q){return Vi(ee,Q)}function is(ee=(0,b.getApp)(),Q){ee=(0,K.m9)(ee);const xe=(0,b._getProvider)(ee,Ts).getImmediate({identifier:Q}),Ue=(0,K.P0)("storage");return Ue&&Gi(xe,...Ue),xe}function Gi(ee,Q,De,xe={}){!function Is(ee,Q,De,xe={}){ee.host=`${Q}:${De}`,ee._protocol="http";const{mockUserToken:Ue}=xe;Ue&&(ee._overrideAuthToken="string"==typeof Ue?Ue:(0,K.Sg)(Ue,ee.app.options.projectId))}(ee,Q,De,xe)}function _s(ee,{instanceIdentifier:Q}){const De=ee.getProvider("app").getImmediate(),xe=ee.getProvider("auth-internal"),Ue=ee.getProvider("app-check-internal");return new Ws(De,xe,Ue,Q,b.SDK_VERSION)}!function ai(){(0,b._registerComponent)(new Ie.wA(Ts,_s,"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(zo,"0.9.12",""),(0,b.registerVersion)(zo,"0.9.12","esm2017")}()},2090:(tn,Oe,U)=>{"use strict";U.d(Oe,{$s:()=>Xt,BH:()=>sn,G6:()=>lt,L:()=>ue,LL:()=>St,P0:()=>Nt,Pz:()=>pn,Sg:()=>Ot,UG:()=>mt,US:()=>ke,ZB:()=>pe,ZR:()=>an,aH:()=>Vt,b$:()=>rt,eu:()=>We,hl:()=>Pt,jU:()=>Et,m9:()=>ir,ne:()=>ur,pd:()=>zr,q4:()=>et,r3:()=>Qn,ru:()=>nt,tV:()=>$e,uI:()=>Qe,vZ:()=>Cn,w1:()=>xt,xO:()=>Vn,xb:()=>Er,z$:()=>Ze,zI:()=>st,zd:()=>Ar});const Ie=function(ye){const we=[];let Fe=0;for(let ge=0;ge<ye.length;ge++){let oe=ye.charCodeAt(ge);oe<128?we[Fe++]=oe:oe<2048?(we[Fe++]=oe>>6|192,we[Fe++]=63&oe|128):55296==(64512&oe)&&ge+1<ye.length&&56320==(64512&ye.charCodeAt(ge+1))?(oe=65536+((1023&oe)<<10)+(1023&ye.charCodeAt(++ge)),we[Fe++]=oe>>18|240,we[Fe++]=oe>>12&63|128,we[Fe++]=oe>>6&63|128,we[Fe++]=63&oe|128):(we[Fe++]=oe>>12|224,we[Fe++]=oe>>6&63|128,we[Fe++]=63&oe|128)}return we},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,we){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let oe=0;oe<ye.length;oe+=3){const fe=ye[oe],tt=oe+1<ye.length,Rt=tt?ye[oe+1]:0,un=oe+2<ye.length,rn=un?ye[oe+2]:0;let br=(15&Rt)<<2|rn>>6,Hr=63&rn;un||(Hr=64,tt||(br=64)),ge.push(Fe[fe>>2],Fe[(3&fe)<<4|Rt>>4],Fe[br],Fe[Hr])}return ge.join("")},encodeString(ye,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(ye):this.encodeByteArray(Ie(ye),we)},decodeString(ye,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(ye):function(ye){const we=[];let Fe=0,ge=0;for(;Fe<ye.length;){const oe=ye[Fe++];if(oe<128)we[ge++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const fe=ye[Fe++];we[ge++]=String.fromCharCode((31&oe)<<6|63&fe)}else if(oe>239&&oe<365){const un=((7&oe)<<18|(63&ye[Fe++])<<12|(63&ye[Fe++])<<6|63&ye[Fe++])-65536;we[ge++]=String.fromCharCode(55296+(un>>10)),we[ge++]=String.fromCharCode(56320+(1023&un))}else{const fe=ye[Fe++],tt=ye[Fe++];we[ge++]=String.fromCharCode((15&oe)<<12|(63&fe)<<6|63&tt)}}return we.join("")}(this.decodeStringToByteArray(ye,we))},decodeStringToByteArray(ye,we){this.init_();const Fe=we?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let oe=0;oe<ye.length;){const fe=Fe[ye.charAt(oe++)],Rt=oe<ye.length?Fe[ye.charAt(oe)]:0;++oe;const rn=oe<ye.length?Fe[ye.charAt(oe)]:64;++oe;const hn=oe<ye.length?Fe[ye.charAt(oe)]:64;if(++oe,null==fe||null==Rt||null==rn||null==hn)throw Error();ge.push(fe<<2|Rt>>4),64!==rn&&(ge.push(Rt<<4&240|rn>>2),64!==hn&&ge.push(rn<<6&192|hn))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},ue=function(ye){return function(ye){const we=Ie(ye);return ke.encodeByteArray(we,!0)}(ye).replace(/\./g,"")},$e=function(ye){try{return ke.decodeString(ye,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function pe(ye,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return we}for(const Fe in we)!we.hasOwnProperty(Fe)||!Re(Fe)||(ye[Fe]=pe(ye[Fe],we[Fe]));return ye}function Re(ye){return"__proto__"!==ye}function Ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function mt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ye){return!1}}function Et(){return"object"==typeof self&&self.self===self}function nt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xt(){const ye=Ze();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function lt(){return!mt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pt(){return"object"==typeof indexedDB}function We(){return new Promise((ye,we)=>{try{let Fe=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ge);oe.onsuccess=()=>{oe.result.close(),Fe||self.indexedDB.deleteDatabase(ge),ye(!0)},oe.onupgradeneeded=()=>{Fe=!1},oe.onerror=()=>{var fe;we((null===(fe=oe.error)||void 0===fe?void 0:fe.message)||"")}}catch(Fe){we(Fe)}})}function st(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const Xe=()=>{try{return function ht(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if("undefined"==typeof document)return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Fe){return}const we=ye&&$e(ye[1]);return we&&JSON.parse(we)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},et=ye=>{var we,Fe;return null===(Fe=null===(we=Xe())||void 0===we?void 0:we.emulatorHosts)||void 0===Fe?void 0:Fe[ye]},Nt=ye=>{const we=et(ye);if(!we)return;const Fe=we.lastIndexOf(":");if(Fe<=0||Fe+1===we.length)throw new Error(`Invalid host ${we} with no separate hostname and port!`);const ge=parseInt(we.substring(Fe+1),10);return"["===we[0]?[we.substring(1,Fe-1),ge]:[we.substring(0,Fe),ge]},Vt=()=>{var ye;return null===(ye=Xe())||void 0===ye?void 0:ye.config},pn=ye=>{var we;return null===(we=Xe())||void 0===we?void 0:we[`_${ye}`]};class sn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,Fe)=>{this.resolve=we,this.reject=Fe})}wrapCallback(we){return(Fe,ge)=>{Fe?this.reject(Fe):this.resolve(ge),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(Fe):we(Fe,ge))}}}function Ot(ye,we){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=we||"demo-project",oe=ye.iat||0,fe=ye.sub||ye.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:oe,exp:oe+3600,auth_time:oe,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(tt)),""].join(".")}class an extends Error{constructor(we,Fe,ge){super(Fe),this.code=we,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(we,Fe,ge){this.service=we,this.serviceName=Fe,this.errors=ge}create(we,...Fe){const ge=Fe[0]||{},oe=`${this.service}/${we}`,fe=this.errors[we],tt=fe?function nn(ye,we){return ye.replace(ct,(Fe,ge)=>{const oe=we[ge];return null!=oe?String(oe):`<${ge}?>`})}(fe,ge):"Error";return new an(oe,`${this.serviceName}: ${tt} (${oe}).`,ge)}}const ct=/\{\$([^}]+)}/g;function Qn(ye,we){return Object.prototype.hasOwnProperty.call(ye,we)}function Er(ye){for(const we in ye)if(Object.prototype.hasOwnProperty.call(ye,we))return!1;return!0}function Cn(ye,we){if(ye===we)return!0;const Fe=Object.keys(ye),ge=Object.keys(we);for(const oe of Fe){if(!ge.includes(oe))return!1;const fe=ye[oe],tt=we[oe];if(Nn(fe)&&Nn(tt)){if(!Cn(fe,tt))return!1}else if(fe!==tt)return!1}for(const oe of ge)if(!Fe.includes(oe))return!1;return!0}function Nn(ye){return null!==ye&&"object"==typeof ye}function Vn(ye){const we=[];for(const[Fe,ge]of Object.entries(ye))Array.isArray(ge)?ge.forEach(oe=>{we.push(encodeURIComponent(Fe)+"="+encodeURIComponent(oe))}):we.push(encodeURIComponent(Fe)+"="+encodeURIComponent(ge));return we.length?"&"+we.join("&"):""}function Ar(ye){const we={};return ye.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[oe,fe]=ge.split("=");we[decodeURIComponent(oe)]=decodeURIComponent(fe)}}),we}function zr(ye){const we=ye.indexOf("?");if(!we)return"";const Fe=ye.indexOf("#",we);return ye.substring(we,Fe>0?Fe:void 0)}function ur(ye,we){const Fe=new Ir(ye,we);return Fe.subscribe.bind(Fe)}class Ir{constructor(we,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{we(this)}).catch(ge=>{this.error(ge)})}next(we){this.forEachObserver(Fe=>{Fe.next(we)})}error(we){this.forEachObserver(Fe=>{Fe.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,Fe,ge){let oe;if(void 0===we&&void 0===Fe&&void 0===ge)throw new Error("Missing Observer.");oe=function Ft(ye,we){if("object"!=typeof ye||null===ye)return!1;for(const Fe of we)if(Fe in ye&&"function"==typeof ye[Fe])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:Fe,complete:ge},void 0===oe.next&&(oe.next=ln),void 0===oe.error&&(oe.error=ln),void 0===oe.complete&&(oe.complete=ln);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(tt){}}),this.observers.push(oe),fe}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,we)}sendOne(we,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{Fe(this.observers[we])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function Xt(ye,we=1e3,Fe=2){const ge=we*Math.pow(Fe,ye),oe=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+oe)}function ir(ye){return ye&&ye._delegate?ye._delegate:ye}},4635:(tn,Oe,U)=>{"use strict";U.d(Oe,{r:()=>a});class a{constructor(K,Ie,be,ke,Me,ue,$e,ce){this.nombre=K,this.apellido=Ie,this.edad=be,this.dni=ke,this.especialidad=Me,this.mail=ue,this.password=$e,this.foto=ce,this.habilitado=!1,this.tipoUsuario="ESP"}}},231:(tn,Oe,U)=>{"use strict";U.d(Oe,{T:()=>a});class a{constructor(K,Ie,be,ke,Me,ue,$e,ce){this.nombre=K,this.apellido=Ie,this.edad=be,this.dni=ke,this.obra_social=Me,this.mail=ue,this.password=$e,this.foto=ce,this.tipoUsuario="PAC"}}},4752:(tn,Oe,U)=>{"use strict";U.d(Oe,{u:()=>an});var a=U(5e3),b=U(2382),K=U(4635),Ie=U(231),be=U(5226),ke=U.n(be),Me=U(7005),ue=U(9100),$e=U(6893),ce=U(407),pe=U(9808);function Re(St,nn){if(1&St){const ct=a.EpF();a.TgZ(0,"div",38)(1,"div",39),a.NdJ("click",function(){return a.CHM(ct),a.oxw().volver()}),a.O4$(),a.TgZ(2,"svg",40),a._UZ(3,"path",41),a.qZA(),a.kcU(),a.TgZ(4,"a",42),a._uU(5,"volver"),a.qZA()()()}}function Ze(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Nombre requerido "),a.qZA())}function Qe(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Apellido requerido "),a.qZA())}function mt(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Edad requerida "),a.qZA())}function Et(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *La edad tiene que estar entre 18 y 99 "),a.qZA())}function nt(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *DNI requerido "),a.qZA())}function rt(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *DNI Invalido "),a.qZA())}function pt(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Especialidad requerido "),a.qZA())}function xt(St,nn){if(1&St){const ct=a.EpF();a.TgZ(0,"div",16)(1,"label",44),a._uU(2,"Especialidad"),a.qZA(),a.TgZ(3,"a",45),a.NdJ("click",function(){return a.CHM(ct),a.oxw().generarAddEspecialidad()}),a._uU(4," (Agregar otra "),a.O4$(),a.TgZ(5,"svg",46),a._UZ(6,"path",47)(7,"path",48),a.qZA(),a._uU(8,") "),a.qZA(),a.kcU(),a._UZ(9,"input",49),a.YNc(10,pt,2,0,"small",11),a.qZA()}if(2&St){const ct=a.oxw();let wt;a.xp6(10),a.Q6J("ngIf",(null==(wt=ct.formularioRegistro.get("especialidad"))||null==wt.errors?null:wt.errors.required)&&(null==(wt=ct.formularioRegistro.get("especialidad"))?null:wt.touched))}}const Je=function(){return{standalone:!0}};function ut(St,nn){if(1&St){const ct=a.EpF();a.TgZ(0,"div",51)(1,"label",44),a._uU(2,"Otra Especialidad"),a.qZA(),a.TgZ(3,"a",52),a.NdJ("click",function(){const Jn=a.CHM(ct).index;return a.oxw(2).borrarCampo(Jn)}),a._uU(4," (Quitar "),a.O4$(),a.TgZ(5,"svg",53),a._UZ(6,"path",54)(7,"path",55),a.qZA(),a._uU(8," ) "),a.qZA(),a.kcU(),a.TgZ(9,"input",56),a.NdJ("ngModelChange",function(mn){const dr=a.CHM(ct).index;return a.oxw(2).especialidadtest[dr]=mn}),a.qZA()()}if(2&St){const ct=nn.index,wt=a.oxw(2);a.xp6(9),a.Q6J("ngModelOptions",a.DdM(2,Je))("ngModel",wt.especialidadtest[ct])}}function lt(St,nn){if(1&St&&(a.TgZ(0,"div"),a.YNc(1,ut,10,3,"div",50),a.qZA()),2&St){const ct=a.oxw();a.xp6(1),a.Q6J("ngForOf",ct.htmlEspecialidad)}}function Pt(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Obra social requerido "),a.qZA())}function We(St,nn){if(1&St&&(a.TgZ(0,"div",16)(1,"label",9),a._uU(2,"Obra Social"),a.qZA(),a._UZ(3,"input",57),a.YNc(4,Pt,2,0,"small",11),a.qZA()),2&St){const ct=a.oxw();let wt;a.xp6(4),a.Q6J("ngIf",(null==(wt=ct.formularioRegistro.get("obra_social"))||null==wt.errors?null:wt.errors.required)&&(null==(wt=ct.formularioRegistro.get("obra_social"))?null:wt.touched))}}function st(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Mail requerido "),a.qZA())}function ht(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Mail Invalido "),a.qZA())}function Ne(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Password requerido "),a.qZA())}function qe(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Reingreso de Password requerido "),a.qZA())}function je(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Reingrese la password "),a.qZA())}function Xe(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Foto requerida "),a.qZA())}function et(St,nn){1&St&&(a.TgZ(0,"span",43),a._uU(1,' *Seleccione 2 Fotos a Subir ("Con la tecla Ctrl + click seleccionar las fotos") '),a.qZA())}function Nt(St,nn){if(1&St){const ct=a.EpF();a.TgZ(0,"div",20)(1,"label",9),a._uU(2,"Fotos (2 fotos)"),a.qZA(),a.TgZ(3,"input",58),a.NdJ("change",function(mn){return a.CHM(ct),a.oxw().subirFotosPaciente(mn)}),a.qZA(),a.YNc(4,Xe,2,0,"small",11),a.YNc(5,et,2,0,"span",11),a.qZA()}if(2&St){const ct=a.oxw();let wt;a.xp6(4),a.Q6J("ngIf",""==(null==(wt=ct.formularioRegistro.get("fotosPaciente"))?null:wt.value)),a.xp6(1),a.Q6J("ngIf",ct.errorFotoPaciente)}}function Vt(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Foto requerida "),a.qZA())}function pn(St,nn){if(1&St){const ct=a.EpF();a.TgZ(0,"div",20)(1,"label",9),a._uU(2,"Foto (1 foto) "),a.qZA(),a.TgZ(3,"input",59),a.NdJ("change",function(mn){return a.CHM(ct),a.oxw().subirFotoEspecialista(mn)}),a.qZA(),a.YNc(4,Vt,2,0,"small",11),a.qZA()}if(2&St){const ct=a.oxw();let wt;a.xp6(4),a.Q6J("ngIf",""==(null==(wt=ct.formularioRegistro.get("fotosPaciente"))?null:wt.value))}}function sn(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Captcha requerido "),a.qZA())}function Ot(St,nn){1&St&&(a.TgZ(0,"small",43),a._uU(1," *Captcha Invalido "),a.qZA())}function gn(St,nn){1&St&&(a.TgZ(0,"div",60),a._UZ(1,"div",61),a.qZA())}let an=(()=>{class St{constructor(ct,wt,mn,Jn,dr){this.FormBuilder=ct,this.FirestoreService=wt,this.Router=mn,this.AuthService=Jn,this.Captcha=dr,this.fromAdministracion=!1,this.volverEvent=new a.vpe,this.tipoForm="",this.formEspecialista="especialistas",this.formPaciente="pacientes",this.especialista=new K.r("","",99,99999999,"","","",""),this.paciente=new Ie.T("","",99,99999999,"","","",[]),this.nombre="",this.apellido="",this.edad=99,this.dni=99999999,this.mail="",this.password="",this.repetir_password="",this.obra_social="",this.fotosPaciente=[],this.foto_1_paciente="",this.foto_2_paciente="",this.errorFotoPaciente=!1,this.especialidad="",this.fotoEspecialista="",this.foto_especialista="",this.spinner=!1,this.arrayEspecialidades=[],this.htmlEspecialidad=[],this.especialidadtest=[],this.captcha=""}set formulario(ct){"PAC"==ct||"ESP"==ct||"ADM"==ct?("PAC"==ct?this.tipoForm="pacientes":"ESP"==ct?this.tipoForm="especialistas":"ADM"==ct&&(this.tipoForm="administrador"),this.fromAdministracion=!0):(this.fromAdministracion=!1,this.tipoForm=ct)}ngOnInit(){this.tipoForm==this.formPaciente?this.formularioRegistro=this.FormBuilder.group({nombre:["",[b.kI.required,b.kI.min(3)]],apellido:["",[b.kI.required,b.kI.min(3)]],edad:["",[b.kI.required,b.kI.min(18),b.kI.max(99)]],dni:["",[b.kI.required,b.kI.min(1e7),b.kI.max(99999999)]],obra_social:["",[b.kI.required,b.kI.min(3)]],mail:["",[b.kI.required,b.kI.email]],password:["",[b.kI.required,b.kI.minLength(6)]],repetir_password:["",[b.kI.required,b.kI.minLength(6)]],fotosPaciente:["",[b.kI.required]],captcha:["",[b.kI.required]]}):this.tipoForm==this.formEspecialista&&(this.formularioRegistro=this.FormBuilder.group({nombre:["",[b.kI.required,b.kI.min(3)]],apellido:["",[b.kI.required,b.kI.min(3)]],edad:["",[b.kI.required,b.kI.min(18),b.kI.max(99)]],dni:["",[b.kI.required,b.kI.min(1e7),b.kI.max(99999999)]],especialidad:["",[b.kI.required,b.kI.minLength(3)]],mail:["",[b.kI.required,b.kI.email]],password:["",[b.kI.required,b.kI.minLength(6)]],repetir_password:["",[b.kI.required,b.kI.minLength(6)]],fotoEspecialista:["",[b.kI.required]],captcha:["",[b.kI.required]]})),this.captcha=this.Captcha.generarPalabra()}altaRegistro(){var ct,wt,mn,Jn,dr,or,Cr,Dn,Qn,nr,Er,Kt,Cn,Nn,Bt,Vn,Ar,zr;let rr=!1;if(rr=this.captcha==(null===(ct=this.formularioRegistro.get("captcha"))||void 0===ct?void 0:ct.value),rr)if(this.tipoForm==this.formPaciente){this.paciente={nombre:null===(wt=this.formularioRegistro.get("nombre"))||void 0===wt?void 0:wt.value,apellido:null===(mn=this.formularioRegistro.get("apellido"))||void 0===mn?void 0:mn.value,edad:null===(Jn=this.formularioRegistro.get("edad"))||void 0===Jn?void 0:Jn.value,dni:null===(dr=this.formularioRegistro.get("dni"))||void 0===dr?void 0:dr.value,obra_social:null===(or=this.formularioRegistro.get("obra_social"))||void 0===or?void 0:or.value,mail:null===(Cr=this.formularioRegistro.get("mail"))||void 0===Cr?void 0:Cr.value,password:null===(Dn=this.formularioRegistro.get("password"))||void 0===Dn?void 0:Dn.value,foto:null===(Qn=this.formularioRegistro.get("fotosPaciente"))||void 0===Qn?void 0:Qn.value,tipoUsuario:"PAC"};let ur=[];ur.push(this.foto_1_paciente),ur.push(this.foto_2_paciente),this.paciente.foto=ur,null!=this.paciente.foto[1]?(this.FirestoreService.altaPaciente(this.paciente),this.AuthService.user=this.paciente,this.AuthService.register(this.paciente.mail,this.paciente.password),this.errorFotoPaciente=!1,this.loadingSession()):this.errorFotoPaciente=!0}else if(this.tipoForm==this.formEspecialista){let ur=[];this.especialidadtest.length>0?(this.especialidadtest.push(null===(nr=this.formularioRegistro.get("especialidad"))||void 0===nr?void 0:nr.value),ur=this.especialidadtest):(this.especialidadtest.push(null===(Er=this.formularioRegistro.get("especialidad"))||void 0===Er?void 0:Er.value),ur=this.especialidadtest),this.especialista={nombre:null===(Kt=this.formularioRegistro.get("nombre"))||void 0===Kt?void 0:Kt.value,apellido:null===(Cn=this.formularioRegistro.get("apellido"))||void 0===Cn?void 0:Cn.value,edad:null===(Nn=this.formularioRegistro.get("edad"))||void 0===Nn?void 0:Nn.value,dni:null===(Bt=this.formularioRegistro.get("dni"))||void 0===Bt?void 0:Bt.value,especialidad:ur,mail:null===(Vn=this.formularioRegistro.get("mail"))||void 0===Vn?void 0:Vn.value,password:null===(Ar=this.formularioRegistro.get("password"))||void 0===Ar?void 0:Ar.value,foto:null===(zr=this.formularioRegistro.get("fotoEspecialista"))||void 0===zr?void 0:zr.value,habilitado:!1,tipoUsuario:"ESP"},this.especialista.foto=this.foto_especialista,this.FirestoreService.altaEspecialista(this.especialista),this.AuthService.user=this.especialista,this.AuthService.register(this.especialista.mail,this.especialista.password),this.htmlEspecialidad=[],this.especialidadtest=[],this.loadingSession()}}msjVerificacionMail(){ke().fire({icon:"success",title:"Gracias por registrarse",text:`Se le envio un mail de verificacion a ${this.AuthService.user.mail}`,confirmButtonText:"Aceptar"}).then(ct=>{this.formularioRegistro.reset()})}subirFotosPaciente(ct){this.foto_1_paciente=null==ct?void 0:ct.target.files[0],this.foto_2_paciente=null==ct?void 0:ct.target.files[1]}subirFotoEspecialista(ct){this.foto_especialista=null==ct?void 0:ct.target.files[0]}volver(){this.volverEvent.emit(!1)}loadingSession(){this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.generarCaptcha(),this.msjVerificacionMail()},2e3)}generarCaptcha(){this.captcha=this.Captcha.generarPalabra()}generarAddEspecialidad(){this.htmlEspecialidad.push(""),this.especialidadtest.push("")}borrarCampo(ct){0==ct&&1==this.htmlEspecialidad.length?(this.htmlEspecialidad=[],this.especialidadtest=[]):0==ct?(this.htmlEspecialidad.splice(0,1),this.especialidadtest.splice(0,1)):(this.htmlEspecialidad.splice(ct,ct),this.especialidadtest.splice(ct,ct))}}return St.\u0275fac=function(ct){return new(ct||St)(a.Y36(b.qu),a.Y36(Me.C),a.Y36(ue.F0),a.Y36($e.e),a.Y36(ce.n))},St.\u0275cmp=a.Xpm({type:St,selectors:[["app-form-registro"]],inputs:{formulario:"formulario"},outputs:{volverEvent:"volverEvent"},decls:71,vars:24,consts:[[1,"body"],["class","header-form",4,"ngIf"],[1,"container"],[1,"col-md-12","col-lg-12","p-4"],[1,"mb-3"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"mb-1"],[1,"col-md-4"],["for","firstName"],["type","text","formControlName","nombre","placeholder","Ingrese su nombre",1,"form-control"],["class","invalid",4,"ngIf"],[1,"col-md-5"],["type","text","formControlName","apellido","placeholder","Ingrese sus apellidos",1,"form-control"],[1,"col-md-3"],["type","number","formControlName","edad","placeholder","Ingrese su edad",1,"form-control"],[1,"col-md-6"],["type","number","formControlName","dni","placeholder","Ingrese su dni",1,"form-control"],["class","col-md-6",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],["type","email","formControlName","mail","placeholder","Ingrese su mail",1,"form-control"],["type","password","formControlName","password","placeholder","Ingrese su password",1,"form-control"],["type","password","formControlName","repetir_password","placeholder","Repita su password",1,"form-control"],["class","col-md-12",4,"ngIf"],["align","center",1,"row","box-captcha"],[1,"col-12"],[1,"row","justify-content-end"],[1,"col-8"],[1,"captcha"],[1,"col-2"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-clockwise","refresh-captcha",3,"click"],["fill-rule","evenodd","d","M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"],["d","M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"],["type","text","formControlName","captcha","placeholder","Ingrese las letras de arriba",1,"form-control"],[1,"mb-4"],["class","d-flex justify-content-center","style","color: #008B81;margin-bottom: 10px;",4,"ngIf"],["type","submit",1,"w-100","boton",3,"disabled"],[1,"header-form"],[1,"btn-volver",3,"click"],["width","46","height","46","fill","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M2.25 12c0 5.384 4.365 9.75 9.75 9.75 5.384 0 9.75-4.366 9.75-9.75 0-5.385-4.366-9.75-9.75-9.75A9.75 9.75 0 0 0 2.25 12Zm9.968-4.282a.751.751 0 0 1 .004 1.06L9.77 11.25h6.261a.75.75 0 1 1 0 1.5H9.77l2.452 2.472a.75.75 0 1 1-1.066 1.056l-3.721-3.75a.75.75 0 0 1 0-1.056l3.721-3.75a.75.75 0 0 1 1.062-.005Z"],[2,"margin-left","10px"],[1,"invalid"],["for","firstName",2,"margin-right","10px"],[2,"cursor","pointer","color","rgb(18, 191, 18)","font-weight","600",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle",2,"padding-bottom","2px"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["type","text","formControlName","especialidad","placeholder","Ingrese su especialidad",1,"form-control"],["class","col-md-12","data-index","i",4,"ngFor","ngForOf"],["data-index","i",1,"col-md-12"],[2,"cursor","pointer","color","rgb(220, 11, 4)","font-weight","600",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-octagon",2,"padding-bottom","2px"],["d","M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],["type","text","placeholder","Ingrese especialidad",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","formControlName","obra_social","placeholder","Ingrese su obra social",1,"form-control"],["type","file","formControlName","fotosPaciente","multiple","",1,"form-control",3,"change"],["type","file","formControlName","fotoEspecialista",1,"form-control",3,"change"],[1,"d-flex","justify-content-center",2,"color","#008B81","margin-bottom","10px"],["role","status",1,"spinner-border"]],template:function(ct,wt){if(1&ct&&(a.TgZ(0,"div",0),a.YNc(1,Re,6,0,"div",1),a.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),a._uU(5),a.qZA(),a.TgZ(6,"form",5),a.NdJ("ngSubmit",function(){return wt.altaRegistro()}),a.TgZ(7,"div",6),a._UZ(8,"hr",7),a.TgZ(9,"div",8)(10,"label",9),a._uU(11,"Nombre"),a.qZA(),a._UZ(12,"input",10),a.YNc(13,Ze,2,0,"small",11),a.qZA(),a.TgZ(14,"div",12)(15,"label",9),a._uU(16,"Apellido"),a.qZA(),a._UZ(17,"input",13),a.YNc(18,Qe,2,0,"small",11),a.qZA(),a.TgZ(19,"div",14)(20,"label",9),a._uU(21,"Edad"),a.qZA(),a._UZ(22,"input",15),a.YNc(23,mt,2,0,"small",11),a.YNc(24,Et,2,0,"small",11),a.qZA(),a.TgZ(25,"div",16)(26,"label",9),a._uU(27,"DNI"),a.qZA(),a._UZ(28,"input",17),a.YNc(29,nt,2,0,"small",11),a.YNc(30,rt,2,0,"small",11),a.qZA(),a.YNc(31,xt,11,1,"div",18),a.YNc(32,lt,2,1,"div",19),a.YNc(33,We,5,1,"div",18),a.TgZ(34,"div",20)(35,"label",9),a._uU(36,"Mail"),a.qZA(),a._UZ(37,"input",21),a.YNc(38,st,2,0,"small",11),a.YNc(39,ht,2,0,"small",11),a.qZA(),a.TgZ(40,"div",16)(41,"label",9),a._uU(42,"Password"),a.qZA(),a._UZ(43,"input",22),a.YNc(44,Ne,2,0,"small",11),a.qZA(),a.TgZ(45,"div",16)(46,"label",9),a._uU(47,"Repetir Password"),a.qZA(),a._UZ(48,"input",23),a.YNc(49,qe,2,0,"small",11),a.YNc(50,je,2,0,"small",11),a.qZA(),a.YNc(51,Nt,6,2,"div",24),a.YNc(52,pn,5,1,"div",24),a.qZA(),a.TgZ(53,"div",2)(54,"div",25)(55,"div",26)(56,"div",27)(57,"div",28)(58,"div",29),a._uU(59),a.qZA()(),a.TgZ(60,"div",30),a.O4$(),a.TgZ(61,"svg",31),a.NdJ("click",function(){return wt.generarCaptcha()}),a._UZ(62,"path",32)(63,"path",33),a.qZA()()(),a.kcU(),a._UZ(64,"input",34),a.YNc(65,sn,2,0,"small",11),a.YNc(66,Ot,2,0,"small",11),a.qZA()()(),a._UZ(67,"hr",35),a.YNc(68,gn,2,0,"div",36),a.TgZ(69,"button",37),a._uU(70,"Registrarse"),a.qZA()()()()()),2&ct){let mn,Jn,dr,or,Cr,Dn,Qn,nr,Er,Kt,Cn,Nn,Bt;a.xp6(1),a.Q6J("ngIf",!wt.fromAdministracion),a.xp6(4),a.hij("Formulario de ",wt.tipoForm,""),a.xp6(1),a.Q6J("formGroup",wt.formularioRegistro),a.xp6(7),a.Q6J("ngIf",(null==(mn=wt.formularioRegistro.get("nombre"))||null==mn.errors?null:mn.errors.required)&&(null==(mn=wt.formularioRegistro.get("nombre"))?null:mn.touched)),a.xp6(5),a.Q6J("ngIf",(null==(Jn=wt.formularioRegistro.get("apellido"))||null==Jn.errors?null:Jn.errors.required)&&(null==(Jn=wt.formularioRegistro.get("apellido"))?null:Jn.touched)),a.xp6(5),a.Q6J("ngIf",(null==(dr=wt.formularioRegistro.get("edad"))||null==dr.errors?null:dr.errors.required)&&(null==(dr=wt.formularioRegistro.get("edad"))?null:dr.touched)),a.xp6(1),a.Q6J("ngIf",(null==(or=wt.formularioRegistro.get("edad"))||null==or.errors?null:or.errors.min)||(null==(or=wt.formularioRegistro.get("edad"))||null==or.errors?null:or.errors.max)),a.xp6(5),a.Q6J("ngIf",(null==(Cr=wt.formularioRegistro.get("dni"))||null==Cr.errors?null:Cr.errors.required)&&(null==(Cr=wt.formularioRegistro.get("dni"))?null:Cr.touched)),a.xp6(1),a.Q6J("ngIf",(null==(Dn=wt.formularioRegistro.get("dni"))||null==Dn.errors?null:Dn.errors.min)||(null==(Dn=wt.formularioRegistro.get("dni"))||null==Dn.errors?null:Dn.errors.max)),a.xp6(1),a.Q6J("ngIf",wt.tipoForm==wt.formEspecialista),a.xp6(1),a.Q6J("ngIf",0!=wt.htmlEspecialidad.length),a.xp6(1),a.Q6J("ngIf",wt.tipoForm==wt.formPaciente),a.xp6(5),a.Q6J("ngIf",(null==(Qn=wt.formularioRegistro.get("mail"))||null==Qn.errors?null:Qn.errors.required)&&(null==(Qn=wt.formularioRegistro.get("mail"))?null:Qn.touched)),a.xp6(1),a.Q6J("ngIf",null==(nr=wt.formularioRegistro.get("mail"))||null==nr.errors?null:nr.errors.email),a.xp6(5),a.Q6J("ngIf",(null==(Er=wt.formularioRegistro.get("password"))||null==Er.errors?null:Er.errors.required)&&(null==(Er=wt.formularioRegistro.get("password"))?null:Er.touched)),a.xp6(5),a.Q6J("ngIf",(null==(Kt=wt.formularioRegistro.get("repetir_password"))||null==Kt.errors?null:Kt.errors.required)&&(null==(Kt=wt.formularioRegistro.get("repetir_password"))?null:Kt.touched)),a.xp6(1),a.Q6J("ngIf",(null==(Cn=wt.formularioRegistro.get("repetir_password"))?null:Cn.value)!=(null==(Cn=wt.formularioRegistro.get("password"))?null:Cn.value)&&""!=(null==(Cn=wt.formularioRegistro.get("repetir_password"))?null:Cn.value)),a.xp6(1),a.Q6J("ngIf",wt.tipoForm==wt.formPaciente),a.xp6(1),a.Q6J("ngIf",wt.tipoForm==wt.formEspecialista),a.xp6(7),a.hij(" ",wt.captcha," "),a.xp6(6),a.Q6J("ngIf",(null==(Nn=wt.formularioRegistro.get("captcha"))||null==Nn.errors?null:Nn.errors.required)&&(null==(Nn=wt.formularioRegistro.get("captcha"))?null:Nn.touched)),a.xp6(1),a.Q6J("ngIf",(null==(Bt=wt.formularioRegistro.get("captcha"))?null:Bt.value)!=wt.captcha&&""!=(null==(Bt=wt.formularioRegistro.get("captcha"))?null:Bt.value)),a.xp6(2),a.Q6J("ngIf",wt.spinner),a.xp6(1),a.Q6J("disabled",wt.formularioRegistro.invalid)}},directives:[pe.O5,b._Y,b.JL,b.sg,b.Fj,b.JJ,b.u,b.wV,pe.sg,b.On],styles:["label[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-weight:600}input[_ngcontent-%COMP%]{background-color:#e6e6e6}h1[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#008b81}.body[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;border-radius:5px;box-shadow:2.8px 2.8px 2.2px #00000005,6.7px 6.7px 5.3px #00000007,12.5px 12.5px 10px #00000009,22.3px 22.3px 17.9px #0000000b,41.8px 41.8px 33.4px #0000000d,100px 100px 80px #00000012}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:2%;padding-bottom:2%}.invalid[_ngcontent-%COMP%]{color:red}.boton[_ngcontent-%COMP%]{background-color:#008b81;color:#fff;font-weight:600;border-radius:8px;height:40px;border:none;cursor:pointer}.boton[_ngcontent-%COMP%]:enabled:hover{background-color:#153a82}.boton[_ngcontent-%COMP%]:enabled:active{transform:scale(.95)}.boton[_ngcontent-%COMP%]:focus{outline:none}.boton[_ngcontent-%COMP%]:disabled{opacity:85%}.header-form[_ngcontent-%COMP%]{background-color:#008b81;padding-left:5%;padding-top:2%;padding-bottom:2%;font-weight:600;font-size:24px;width:100%}.header-form[_ngcontent-%COMP%] > .btn-volver[_ngcontent-%COMP%]{padding-top:5px;padding-left:30px;padding-bottom:5px;border-radius:16px;background-color:#153a82;width:200px;color:#fff}.header-form[_ngcontent-%COMP%] > .btn-volver[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer;background-color:#000}.header-form[_ngcontent-%COMP%] > .btn-volver[_ngcontent-%COMP%]:active{transform:scale(.95)}.header-form[_ngcontent-%COMP%] > .btn-volver[_ngcontent-%COMP%]:focus{outline:none}.captcha[_ngcontent-%COMP%]{color:#000;font-weight:600;font-size:36px;letter-spacing:5px;padding:.2em 0;-webkit-user-select:none;user-select:none}.box-captcha[_ngcontent-%COMP%]{background-color:#c3c3c3;border-radius:15px;padding:.5em}.refresh-captcha[_ngcontent-%COMP%]{color:#153a82;font-weight:700;cursor:pointer}.refresh-captcha[_ngcontent-%COMP%]:hover{color:#008b81}.refresh-captcha[_ngcontent-%COMP%]:active{transform:scale(.8)}"]}),St})()},6893:(tn,Oe,U)=>{"use strict";U.d(Oe,{e:()=>Ie});var a=U(5861),b=U(5e3),K=U(1205);let Ie=(()=>{class be{constructor(Me){this.afAuth=Me,this.user="",this.fotosAccesosRapidos=[]}sendVerificationEmail(){var Me=this;return(0,a.Z)(function*(){var ue;return null===(ue=yield Me.afAuth.currentUser)||void 0===ue?void 0:ue.sendEmailVerification()})()}login(Me,ue){var $e=this;return(0,a.Z)(function*(){try{const ce=yield $e.afAuth.signInWithEmailAndPassword(Me,ue);return $e.userDateFirebase=ce,ce}catch(ce){return ce}})()}register(Me,ue){var $e=this;return(0,a.Z)(function*(){try{yield $e.afAuth.createUserWithEmailAndPassword(Me,ue),$e.sendVerificationEmail()}catch(ce){}})()}logout(){var Me=this;return(0,a.Z)(function*(){try{yield Me.afAuth.signOut()}catch(ue){}})()}}return be.\u0275fac=function(Me){return new(Me||be)(b.LFG(K.zQ))},be.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},407:(tn,Oe,U)=>{"use strict";U.d(Oe,{n:()=>b});var a=U(5e3);let b=(()=>{class K{constructor(){this.letrasPermitidas="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"}generarPalabra(){let ke="";for(let Me=0;Me<5;Me++)ke+=this.letrasPermitidas.charAt(Math.floor(Math.random()*this.letrasPermitidas.length));return ke}}return K.\u0275fac=function(be){return new(be||K)},K.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})()},7005:(tn,Oe,U)=>{"use strict";U.d(Oe,{C:()=>be});var a=U(6027),b=U(5525),K=U(8210),Ie=U(5e3);let be=(()=>{class ke{constructor(ue){this.FireStore=ue,this.storage=(0,K.cF)(),this.listAdministradoresCollectionReference=(0,a.hJ)(this.FireStore,"administradores"),this.listEspecialistasCollectionReference=(0,a.hJ)(this.FireStore,"especialistas"),this.listPacientesCollectionReference=(0,a.hJ)(this.FireStore,"pacientes"),this.listTurnosCollectionReference=(0,a.hJ)(this.FireStore,"turnos")}altaAdministradores(ue){let $e=(0,K.iH)(this.storage,ue.foto.name);(0,K.KV)($e,ue.foto).then(ce=>{(0,K.Jt)((0,K.iH)(this.storage,ue.foto.name)).then(pe=>(ue.foto=pe,(0,a.ET)(this.listAdministradoresCollectionReference,ue)))})}altaEspecialista(ue){let $e=(0,K.iH)(this.storage,ue.foto.name);(0,K.KV)($e,ue.foto).then(ce=>{(0,K.Jt)((0,K.iH)(this.storage,ue.foto.name)).then(pe=>(ue.foto=pe,(0,a.ET)(this.listEspecialistasCollectionReference,ue)))})}altaPaciente(ue){let $e=(0,K.iH)(this.storage,ue.foto[0].name),ce=(0,K.iH)(this.storage,ue.foto[1].name);(0,K.KV)($e,ue.foto[0]).then(pe=>{(0,K.Jt)((0,K.iH)(this.storage,ue.foto[0].name)).then(Re=>{ue.foto[0]=Re,(0,K.KV)(ce,ue.foto[1]).then(Ze=>{(0,K.Jt)((0,K.iH)(this.storage,ue.foto[1].name)).then(Qe=>(ue.foto[1]=Qe,(0,a.ET)(this.listPacientesCollectionReference,ue)))})})})}altaTurno(ue){return(0,a.ET)(this.listTurnosCollectionReference,ue)}modificarEspecialista(ue,$e){const ce=(0,a.JU)(this.FireStore,`especialistas/${$e}`);return(0,b.r7)(ce,ue)}modificarTurno(ue,$e){const ce=(0,a.JU)(this.FireStore,`turnos/${$e}`);return(0,b.r7)(ce,ue)}listaAdministradores(){return(0,a.BS)(this.listAdministradoresCollectionReference,{idField:"id"})}listaEspecialistas(){return(0,a.BS)(this.listEspecialistasCollectionReference,{idField:"id"})}listaPacientes(){return(0,a.BS)(this.listPacientesCollectionReference,{idField:"id"})}listaTurnos(){return(0,a.BS)(this.listTurnosCollectionReference,{idField:"id"})}}return ke.\u0275fac=function(ue){return new(ue||ke)(Ie.LFG(a.gg))},ke.\u0275prov=Ie.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})()},5946:(tn,Oe,U)=>{"use strict";var a=U(9808),b=U(5e3);class K extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends K{static makeCurrent(){(0,a.HT)(new Ie)}onAndCancel(P,O,le){return P.addEventListener(O,le,!1),()=>{P.removeEventListener(O,le,!1)}}dispatchEvent(P,O){P.dispatchEvent(O)}remove(P){P.parentNode&&P.parentNode.removeChild(P)}createElement(P,O){return(O=O||this.getDefaultDocument()).createElement(P)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(P){return P.nodeType===Node.ELEMENT_NODE}isShadowRoot(P){return P instanceof DocumentFragment}getGlobalEventTarget(P,O){return"window"===O?window:"document"===O?P:"body"===O?P.body:null}getBaseHref(P){const O=function ke(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==O?null:function ue(Z){Me=Me||document.createElement("a"),Me.setAttribute("href",Z);const P=Me.pathname;return"/"===P.charAt(0)?P:`/${P}`}(O)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(P){return(0,a.Mx)(document.cookie,P)}}let Me,be=null;const $e=new b.OlP("TRANSITION_ID"),pe=[{provide:b.ip1,useFactory:function ce(Z,P,O){return()=>{O.get(b.CZH).donePromise.then(()=>{const le=(0,a.q)(),Ae=P.querySelectorAll(`style[ng-transition="${Z}"]`);for(let C=0;C<Ae.length;C++)le.remove(Ae[C])})}},deps:[$e,a.K0,b.zs3],multi:!0}];class Re{static init(){(0,b.VLi)(new Re)}addToWindow(P){b.dqk.getAngularTestability=(le,Ae=!0)=>{const C=P.findTestabilityInTree(le,Ae);if(null==C)throw new Error("Could not find testability for element.");return C},b.dqk.getAllAngularTestabilities=()=>P.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>P.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(le=>{const Ae=b.dqk.getAllAngularTestabilities();let C=Ae.length,T=!1;const q=function(me){T=T||me,C--,0==C&&le(T)};Ae.forEach(function(me){me.whenStable(q)})})}findTestabilityInTree(P,O,le){if(null==O)return null;const Ae=P.getTestability(O);return null!=Ae?Ae:le?(0,a.q)().isShadowRoot(O)?this.findTestabilityInTree(P,O.host,!0):this.findTestabilityInTree(P,O.parentElement,!0):null}}let Ze=(()=>{class Z{build(){return new XMLHttpRequest}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const Qe=new b.OlP("EventManagerPlugins");let mt=(()=>{class Z{constructor(O,le){this._zone=le,this._eventNameToPlugin=new Map,O.forEach(Ae=>Ae.manager=this),this._plugins=O.slice().reverse()}addEventListener(O,le,Ae){return this._findPluginFor(le).addEventListener(O,le,Ae)}addGlobalEventListener(O,le,Ae){return this._findPluginFor(le).addGlobalEventListener(O,le,Ae)}getZone(){return this._zone}_findPluginFor(O){const le=this._eventNameToPlugin.get(O);if(le)return le;const Ae=this._plugins;for(let C=0;C<Ae.length;C++){const T=Ae[C];if(T.supports(O))return this._eventNameToPlugin.set(O,T),T}throw new Error(`No event manager plugin found for event ${O}`)}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(Qe),b.LFG(b.R0b))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac}),Z})();class Et{constructor(P){this._doc=P}addGlobalEventListener(P,O,le){const Ae=(0,a.q)().getGlobalEventTarget(this._doc,P);if(!Ae)throw new Error(`Unsupported event target ${Ae} for event ${O}`);return this.addEventListener(Ae,O,le)}}let nt=(()=>{class Z{constructor(){this._stylesSet=new Set}addStyles(O){const le=new Set;O.forEach(Ae=>{this._stylesSet.has(Ae)||(this._stylesSet.add(Ae),le.add(Ae))}),this.onStylesAdded(le)}onStylesAdded(O){}getAllStyles(){return Array.from(this._stylesSet)}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),rt=(()=>{class Z extends nt{constructor(O){super(),this._doc=O,this._hostNodes=new Map,this._hostNodes.set(O.head,[])}_addStylesToHost(O,le,Ae){O.forEach(C=>{const T=this._doc.createElement("style");T.textContent=C,Ae.push(le.appendChild(T))})}addHost(O){const le=[];this._addStylesToHost(this._stylesSet,O,le),this._hostNodes.set(O,le)}removeHost(O){const le=this._hostNodes.get(O);le&&le.forEach(pt),this._hostNodes.delete(O)}onStylesAdded(O){this._hostNodes.forEach((le,Ae)=>{this._addStylesToHost(O,Ae,le)})}ngOnDestroy(){this._hostNodes.forEach(O=>O.forEach(pt))}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(a.K0))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac}),Z})();function pt(Z){(0,a.q)().remove(Z)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Je=/%COMP%/g;function Ne(Z,P,O){for(let le=0;le<P.length;le++){let Ae=P[le];Array.isArray(Ae)?Ne(Z,Ae,O):(Ae=Ae.replace(Je,Z),O.push(Ae))}return O}function qe(Z){return P=>{if("__ngUnwrap__"===P)return Z;!1===Z(P)&&(P.preventDefault(),P.returnValue=!1)}}let Xe=(()=>{class Z{constructor(O,le,Ae){this.eventManager=O,this.sharedStylesHost=le,this.appId=Ae,this.rendererByCompId=new Map,this.defaultRenderer=new et(O)}createRenderer(O,le){if(!O||!le)return this.defaultRenderer;switch(le.encapsulation){case b.ifc.Emulated:{let Ae=this.rendererByCompId.get(le.id);return Ae||(Ae=new pn(this.eventManager,this.sharedStylesHost,le,this.appId),this.rendererByCompId.set(le.id,Ae)),Ae.applyToHost(O),Ae}case 1:case b.ifc.ShadowDom:return new sn(this.eventManager,this.sharedStylesHost,O,le);default:if(!this.rendererByCompId.has(le.id)){const Ae=Ne(le.id,le.styles,[]);this.sharedStylesHost.addStyles(Ae),this.rendererByCompId.set(le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(mt),b.LFG(rt),b.LFG(b.AFp))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac}),Z})();class et{constructor(P){this.eventManager=P,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(P,O){return O?document.createElementNS(xt[O]||O,P):document.createElement(P)}createComment(P){return document.createComment(P)}createText(P){return document.createTextNode(P)}appendChild(P,O){P.appendChild(O)}insertBefore(P,O,le){P&&P.insertBefore(O,le)}removeChild(P,O){P&&P.removeChild(O)}selectRootElement(P,O){let le="string"==typeof P?document.querySelector(P):P;if(!le)throw new Error(`The selector "${P}" did not match any elements`);return O||(le.textContent=""),le}parentNode(P){return P.parentNode}nextSibling(P){return P.nextSibling}setAttribute(P,O,le,Ae){if(Ae){O=Ae+":"+O;const C=xt[Ae];C?P.setAttributeNS(C,O,le):P.setAttribute(O,le)}else P.setAttribute(O,le)}removeAttribute(P,O,le){if(le){const Ae=xt[le];Ae?P.removeAttributeNS(Ae,O):P.removeAttribute(`${le}:${O}`)}else P.removeAttribute(O)}addClass(P,O){P.classList.add(O)}removeClass(P,O){P.classList.remove(O)}setStyle(P,O,le,Ae){Ae&(b.JOm.DashCase|b.JOm.Important)?P.style.setProperty(O,le,Ae&b.JOm.Important?"important":""):P.style[O]=le}removeStyle(P,O,le){le&b.JOm.DashCase?P.style.removeProperty(O):P.style[O]=""}setProperty(P,O,le){P[O]=le}setValue(P,O){P.nodeValue=O}listen(P,O,le){return"string"==typeof P?this.eventManager.addGlobalEventListener(P,O,qe(le)):this.eventManager.addEventListener(P,O,qe(le))}}class pn extends et{constructor(P,O,le,Ae){super(P),this.component=le;const C=Ne(Ae+"-"+le.id,le.styles,[]);O.addStyles(C),this.contentAttr=function st(Z){return"_ngcontent-%COMP%".replace(Je,Z)}(Ae+"-"+le.id),this.hostAttr=function ht(Z){return"_nghost-%COMP%".replace(Je,Z)}(Ae+"-"+le.id)}applyToHost(P){super.setAttribute(P,this.hostAttr,"")}createElement(P,O){const le=super.createElement(P,O);return super.setAttribute(le,this.contentAttr,""),le}}class sn extends et{constructor(P,O,le,Ae){super(P),this.sharedStylesHost=O,this.hostEl=le,this.shadowRoot=le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=Ne(Ae.id,Ae.styles,[]);for(let T=0;T<C.length;T++){const q=document.createElement("style");q.textContent=C[T],this.shadowRoot.appendChild(q)}}nodeOrShadowRoot(P){return P===this.hostEl?this.shadowRoot:P}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(P,O){return super.appendChild(this.nodeOrShadowRoot(P),O)}insertBefore(P,O,le){return super.insertBefore(this.nodeOrShadowRoot(P),O,le)}removeChild(P,O){return super.removeChild(this.nodeOrShadowRoot(P),O)}parentNode(P){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(P)))}}let Ot=(()=>{class Z extends Et{constructor(O){super(O)}supports(O){return!0}addEventListener(O,le,Ae){return O.addEventListener(le,Ae,!1),()=>this.removeEventListener(O,le,Ae)}removeEventListener(O,le,Ae){return O.removeEventListener(le,Ae)}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(a.K0))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const gn=["alt","control","meta","shift"],St={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:Z=>Z.altKey,control:Z=>Z.ctrlKey,meta:Z=>Z.metaKey,shift:Z=>Z.shiftKey};let wt=(()=>{class Z extends Et{constructor(O){super(O)}supports(O){return null!=Z.parseEventName(O)}addEventListener(O,le,Ae){const C=Z.parseEventName(le),T=Z.eventCallback(C.fullKey,Ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(O,C.domEventName,T))}static parseEventName(O){const le=O.toLowerCase().split("."),Ae=le.shift();if(0===le.length||"keydown"!==Ae&&"keyup"!==Ae)return null;const C=Z._normalizeKey(le.pop());let T="";if(gn.forEach(me=>{const _t=le.indexOf(me);_t>-1&&(le.splice(_t,1),T+=me+".")}),T+=C,0!=le.length||0===C.length)return null;const q={};return q.domEventName=Ae,q.fullKey=T,q}static getEventFullKey(O){let le="",Ae=function mn(Z){let P=Z.key;if(null==P){if(P=Z.keyIdentifier,null==P)return"Unidentified";P.startsWith("U+")&&(P=String.fromCharCode(parseInt(P.substring(2),16)),3===Z.location&&nn.hasOwnProperty(P)&&(P=nn[P]))}return St[P]||P}(O);return Ae=Ae.toLowerCase()," "===Ae?Ae="space":"."===Ae&&(Ae="dot"),gn.forEach(C=>{C!=Ae&&ct[C](O)&&(le+=C+".")}),le+=Ae,le}static eventCallback(O,le,Ae){return C=>{Z.getEventFullKey(C)===O&&Ae.runGuarded(()=>le(C))}}static _normalizeKey(O){return"esc"===O?"escape":O}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(a.K0))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const Dn=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:a.bD},{provide:b.g9A,useValue:function Jn(){Ie.makeCurrent(),Re.init()},multi:!0},{provide:a.K0,useFactory:function or(){return(0,b.RDi)(document),document},deps:[]}]),Qn=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function dr(){return new b.qLn},deps:[]},{provide:Qe,useClass:Ot,multi:!0,deps:[a.K0,b.R0b,b.Lbi]},{provide:Qe,useClass:wt,multi:!0,deps:[a.K0]},{provide:Xe,useClass:Xe,deps:[mt,rt,b.AFp]},{provide:b.FYo,useExisting:Xe},{provide:nt,useExisting:rt},{provide:rt,useClass:rt,deps:[a.K0]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b]},{provide:mt,useClass:mt,deps:[Qe,b.R0b]},{provide:a.JF,useClass:Ze,deps:[]}];let nr=(()=>{class Z{constructor(O){if(O)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(O){return{ngModule:Z,providers:[{provide:b.AFp,useValue:O.appId},{provide:$e,useExisting:b.AFp},pe]}}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(Z,12))},Z.\u0275mod=b.oAB({type:Z}),Z.\u0275inj=b.cJS({providers:Qn,imports:[a.ez,b.hGG]}),Z})();"undefined"!=typeof window&&window;var fe=U(9100);let tt=(()=>{class Z{constructor(){this.logo="../../../assets/imagenes/Logo.png"}ngOnInit(){}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275cmp=b.Xpm({type:Z,selectors:[["app-menu"]],decls:15,vars:1,consts:[[1,"menu"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],[2,"text-align","start","width","240px"],["routerLink","/home",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-white","text-decoration-none",2,"margin-right","2em","cursor","pointer"],["height","65px","width","240px",3,"src"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/bienvenido",1,"nav-link","px-2","text-white","item-menu"],["routerLink","/login",1,"nav-link","px-2","text-white","item-menu"],["routerLink","/registro",1,"nav-link","px-2","text-white","item-menu"]],template:function(O,le){1&O&&(b.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),b._UZ(4,"img",4),b.qZA()(),b.TgZ(5,"ul",5)(6,"li")(7,"a",6),b._uU(8,"Home"),b.qZA()(),b.TgZ(9,"li")(10,"a",7),b._uU(11,"Login"),b.qZA()(),b.TgZ(12,"li")(13,"a",8),b._uU(14,"Registro"),b.qZA()()()()()),2&O&&(b.xp6(4),b.Q6J("src",le.logo,b.LSH))},directives:[fe.yS],styles:[".menu[_ngcontent-%COMP%]{width:100%;padding:1em 15em;position:absolute;font-weight:700;font-size:18px;background-color:#07285c72}.item-menu[_ngcontent-%COMP%]{cursor:pointer}.item-menu[_ngcontent-%COMP%]:hover{transform:scale(1.5);color:#008b81!important}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin-left:15px}.button[_ngcontent-%COMP%]{border-radius:1em;border:1px solid #07275c;background-color:#07275c;color:#fff;font-size:18px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;font-size:16px;font-weight:700;padding:.5em 2em;cursor:pointer}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#bcc4cdab;min-width:200px;box-shadow:0 8px 16px #0003;z-index:999;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#212529d0;color:#fff}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}"]}),Z})(),Rt=(()=>{class Z{constructor(){}ngOnInit(){}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275cmp=b.Xpm({type:Z,selectors:[["app-bienvenida"]],decls:16,vars:0,consts:[[1,"body"],[1,"container"],["align","end",1,"cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"px-3"],[1,"titulo"],[1,"lead"],[1,"info"],["routerLink","/login",1,"btn","btn-lg","btn-secondary","fw-bold","bg-dark"],["routerLink","/registro",1,"btn","btn-lg","btn-secondary","fw-bold","bg-dark"]],template:function(O,le){1&O&&(b._UZ(0,"app-menu"),b.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"main",3)(5,"p",4),b._uU(6,"Cl\xednica Online"),b.qZA(),b.TgZ(7,"p",5),b._uU(8,"\xa1Bienvenido a la Cl\xednica Online!"),b.qZA(),b.TgZ(9,"p",6),b._uU(10,"Para sacar un turno debe iniciar sesion con su cuenta, si no es socio registrese gratis."),b.qZA(),b.TgZ(11,"p")(12,"a",7),b._uU(13,"Login"),b.qZA(),b.TgZ(14,"a",8),b._uU(15,"Registro"),b.qZA()()()()()())},directives:[tt,fe.yS],styles:["app-menu[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.body[_ngcontent-%COMP%]{width:100%;height:100%;background:url(pexels-evg-kowalievska-1170979.0aaae437c2076a5c.png) no-repeat center center fixed;background-size:cover}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.titulo[_ngcontent-%COMP%]{font-size:64px;font-weight:700;letter-spacing:3px;text-shadow:white 1px 0 5px}.info[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#000;text-shadow:white 1px 0 5px}.lead[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:#000;text-shadow:white 1px 0 5px}.btn[_ngcontent-%COMP%]{background-color:#008b81!important;margin:0 .5em;width:180px}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#000!important}.btn[_ngcontent-%COMP%]:active{transform:scale(.9)}.btn[_ngcontent-%COMP%]:focus{outline:none}"]}),Z})();var un=U(5861),rn=U(2382),Zn=U(7005),hn=U(6893);function br(Z,P){1&Z&&(b.TgZ(0,"span",21),b._uU(1," *El usuario no existe "),b.qZA())}function Hr(Z,P){1&Z&&(b.TgZ(0,"span",21),b._uU(1," *El usuario no fue Habilitado "),b.qZA())}function Mt(Z,P){1&Z&&(b.TgZ(0,"small",22),b._uU(1," *Mail requerido "),b.qZA())}function Wt(Z,P){1&Z&&(b.TgZ(0,"small",22),b._uU(1," *Mail invalido "),b.qZA())}function wn(Z,P){1&Z&&(b.TgZ(0,"small",22),b._uU(1," *Password requerido "),b.qZA())}function qn(Z,P){1&Z&&b._UZ(0,"div",23)}function mr(Z,P){if(1&Z&&b._UZ(0,"img",24),2&Z){const O=b.oxw();b.Q6J("src",O.fotoAdmin_1,b.LSH)}}function Vr(Z,P){1&Z&&(b.TgZ(0,"div",25)(1,"div",26),b._UZ(2,"span",27),b.qZA()())}function Lt(Z,P){if(1&Z&&b._UZ(0,"img",24),2&Z){const O=b.oxw();b.Q6J("src",O.fotoEsp_1,b.LSH)}}function Yn(Z,P){1&Z&&(b.TgZ(0,"div",25)(1,"div",26),b._UZ(2,"span",27),b.qZA()())}function _r(Z,P){if(1&Z&&b._UZ(0,"img",24),2&Z){const O=b.oxw();b.Q6J("src",O.fotoEsp_2,b.LSH)}}function ri(Z,P){1&Z&&(b.TgZ(0,"div",25)(1,"div",26),b._UZ(2,"span",27),b.qZA()())}function gi(Z,P){if(1&Z&&b._UZ(0,"img",24),2&Z){const O=b.oxw();b.Q6J("src",O.fotoPac_1,b.LSH)}}function si(Z,P){1&Z&&(b.TgZ(0,"div",25)(1,"div",26),b._UZ(2,"span",27),b.qZA()())}function Ai(Z,P){if(1&Z&&b._UZ(0,"img",24),2&Z){const O=b.oxw();b.Q6J("src",O.fotoPac_2,b.LSH)}}function Gn(Z,P){1&Z&&(b.TgZ(0,"div",25)(1,"div",26),b._UZ(2,"span",27),b.qZA()())}function Ii(Z,P){if(1&Z&&b._UZ(0,"img",24),2&Z){const O=b.oxw();b.Q6J("src",O.fotoPac_3,b.LSH)}}function Sr(Z,P){1&Z&&(b.TgZ(0,"div",25)(1,"div",26),b._UZ(2,"span",27),b.qZA()())}let Wn=(()=>{class Z{constructor(O,le,Ae,C){this.formBuilder=O,this.FirestoreService=le,this.Router=Ae,this.AuthService=C,this.fotoAdmin_1="",this.fotoEsp_1="",this.fotoEsp_2="",this.fotoPac_1="",this.fotoPac_2="",this.fotoPac_3="",this.usuario={mail:"",password:""},this.listaAdministradores=[],this.listaEspecialistas=[],this.listaPacientes=[],this.listaUsuarios=[],this.userExist=!1,this.noHabilitado=!1,this.spinner=!1,this.noEncontroUser=!0}ngOnInit(){this.formLogin=this.formBuilder.group({mail:["",[rn.kI.required,rn.kI.email]],password:["",[rn.kI.required]]}),this.FirestoreService.listaAdministradores().subscribe(O=>{this.listaAdministradores=O,this.cargarArray(this.listaAdministradores)}),this.FirestoreService.listaEspecialistas().subscribe(O=>{this.listaEspecialistas=O,this.cargarArray(this.listaEspecialistas)}),this.FirestoreService.listaPacientes().subscribe(O=>{this.listaPacientes=O,this.cargarArray(this.listaPacientes)}),setTimeout(()=>{},500)}cargarArray(O){for(const le of O)this.listaUsuarios.push(le),this.cargarFotosAccesosR(le)}cargarFotosAccesosR(O){"pedro@gmail.com"==O.mail&&"Pedro159"==O.password&&(this.fotoAdmin_1=O.foto),"julian@gmail.com"==O.mail&&"julian123"==O.password?this.fotoPac_1=O.foto[0]:"rodriguez@gmail.com"==O.mail&&"Rodriguez159"==O.password?this.fotoPac_2=O.foto[0]:"gabriel@gmail.com"==O.mail&&"gabriel123"==O.password&&(this.fotoPac_3=O.foto[0]),"manuel@gmail.com"==O.mail&&"Manuel159"==O.password?this.fotoEsp_1=O.foto:"maria@gmail.com"==O.mail&&"maria123"==O.password&&(this.fotoEsp_2=O.foto)}onLogin(){var O=this;return(0,un.Z)(function*(){var le,Ae;if(O.userExist=!1,O.noEncontroUser=!0,O.formLogin.valid){O.usuario={mail:null===(le=O.formLogin.get("mail"))||void 0===le?void 0:le.value,password:null===(Ae=O.formLogin.get("password"))||void 0===Ae?void 0:Ae.value};for(const C of O.listaUsuarios){if(C.mail==O.usuario.mail&&C.password==O.usuario.password&&(O.AuthService.user=C,O.AuthService.login(O.usuario.mail,O.usuario.password),setTimeout(()=>{O.usuariosLocales()||1==O.AuthService.userDateFirebase.user.emailVerified?"ESP"==O.AuthService.user.tipoUsuario?O.AuthService.user.habilitado?O.loadingSession():(O.spinner=!0,setTimeout(()=>{O.spinner=!1,O.noHabilitado=!0},1e3)):O.loadingSession():0==O.AuthService.userDateFirebase.user.emailVerified&&(O.spinner=!0,setTimeout(()=>{O.spinner=!1,O.Router.navigateByUrl("/verificacion-email")},1e3))},1e3),O.noEncontroUser=!1),0==O.noEncontroUser)break;O.userExist=!0}}})()}loadingSession(){this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.Router.navigateByUrl("/menu-administrador")},2e3)}usuariosLocales(){let O=!1;return("maria@gmail.com"==this.AuthService.user.mail&&"maria123"==this.AuthService.user.password||"manuel@gmail.com"==this.AuthService.user.mail&&"Manuel159"==this.AuthService.user.password||"gabriel@gmail.com"==this.AuthService.user.mail&&"gabriel123"==this.AuthService.user.password||"rodriguez@gmail.com"==this.AuthService.user.mail&&"Rodriguez159"==this.AuthService.user.password||"julian@gmail.com"==this.AuthService.user.mail&&"julian123"==this.AuthService.user.password||"pedro@gmail.com"==this.AuthService.user.mail&&"Pedro159"==this.AuthService.user.password)&&(O=!0),O}loginRapido(O){var le,Ae,C,T,q,me,_t,Zt,_i,An,Xr,Si;switch(O){case 1:null===(le=this.formLogin.get("mail"))||void 0===le||le.setValue("pedro@gmail.com"),null===(Ae=this.formLogin.get("password"))||void 0===Ae||Ae.setValue("Pedro159");break;case 2:null===(C=this.formLogin.get("mail"))||void 0===C||C.setValue("manuel@gmail.com"),null===(T=this.formLogin.get("password"))||void 0===T||T.setValue("Manuel159");break;case 3:null===(q=this.formLogin.get("mail"))||void 0===q||q.setValue("maria@gmail.com"),null===(me=this.formLogin.get("password"))||void 0===me||me.setValue("maria123");break;case 4:null===(_t=this.formLogin.get("mail"))||void 0===_t||_t.setValue("julian@gmail.com"),null===(Zt=this.formLogin.get("password"))||void 0===Zt||Zt.setValue("julian123");break;case 5:null===(_i=this.formLogin.get("mail"))||void 0===_i||_i.setValue("rodriguez@gmail.com"),null===(An=this.formLogin.get("password"))||void 0===An||An.setValue("Rodriguez159");break;case 6:null===(Xr=this.formLogin.get("mail"))||void 0===Xr||Xr.setValue("gabriel@gmail.com"),null===(Si=this.formLogin.get("password"))||void 0===Si||Si.setValue("gabriel123")}}}return Z.\u0275fac=function(O){return new(O||Z)(b.Y36(rn.qu),b.Y36(Zn.C),b.Y36(fe.F0),b.Y36(hn.e))},Z.\u0275cmp=b.Xpm({type:Z,selectors:[["app-login"]],decls:59,vars:20,consts:[[1,"body"],[1,"container"],[1,"box"],[1,"row","row-cols-2","row-cols-sm-2","row-cols-md-2",2,"width","100%","margin-left","10%"],[1,"col",2,"width","70%","margin-top","10%"],[1,"box-login","right-panel-active"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel"],[1,"form-container","sign-in-container"],[3,"formGroup","submit"],["class","invalid","style","font-size: 18px;font-weight: 600;width: 100%;text-align: start;",4,"ngIf"],["type","email","placeholder","mail","formControlName","mail"],["class","invalid",4,"ngIf"],["type","password","placeholder","password","formControlName","password"],["class","spinner-border text-success","role","status","style","margin-top: 5px;margin-bottom: 10px;",4,"ngIf"],["type","submit",1,"w-100","boton",3,"disabled","click"],[1,"col",2,"width","auto","padding-left","110px"],["align","center",1,"box-access-fast-login",2,"padding-top","5px",3,"click"],["height","80px","width","auto",3,"src",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"invalid",2,"font-size","18px","font-weight","600","width","100%","text-align","start"],[1,"invalid"],["role","status",1,"spinner-border","text-success",2,"margin-top","5px","margin-bottom","10px"],["height","80px","width","auto",3,"src"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(O,le){if(1&O&&(b._UZ(0,"app-menu"),b.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h1"),b._uU(11,"\xa1Bienvenido!"),b.qZA(),b.TgZ(12,"p"),b._uU(13,"Para sacar turnos iniciar sesion con su correo y contrase\xf1a."),b.qZA()()()(),b.TgZ(14,"div",9)(15,"form",10),b.NdJ("submit",function(){return le.onLogin()}),b.TgZ(16,"h1"),b._uU(17,"Login"),b.qZA(),b.YNc(18,br,2,0,"span",11),b.YNc(19,Hr,2,0,"span",11),b._UZ(20,"input",12),b.YNc(21,Mt,2,0,"small",13),b.YNc(22,Wt,2,0,"small",13),b._UZ(23,"input",14),b.YNc(24,wn,2,0,"small",13),b.YNc(25,qn,1,0,"div",15),b.TgZ(26,"button",16),b.NdJ("click",function(){return le.onLogin()}),b._uU(27," Iniciar sesion "),b.qZA()()()()(),b.TgZ(28,"div",17)(29,"div",18),b.NdJ("click",function(){return le.loginRapido(1)}),b.YNc(30,mr,1,1,"img",19),b.YNc(31,Vr,3,0,"div",20),b.TgZ(32,"p"),b._uU(33,"Administrador"),b.qZA()(),b.TgZ(34,"div",18),b.NdJ("click",function(){return le.loginRapido(2)}),b.YNc(35,Lt,1,1,"img",19),b.YNc(36,Yn,3,0,"div",20),b.TgZ(37,"p"),b._uU(38,"Especialista"),b.qZA()(),b.TgZ(39,"div",18),b.NdJ("click",function(){return le.loginRapido(3)}),b.YNc(40,_r,1,1,"img",19),b.YNc(41,ri,3,0,"div",20),b.TgZ(42,"p"),b._uU(43,"Especialista"),b.qZA()(),b.TgZ(44,"div",18),b.NdJ("click",function(){return le.loginRapido(4)}),b.YNc(45,gi,1,1,"img",19),b.YNc(46,si,3,0,"div",20),b.TgZ(47,"p"),b._uU(48,"Paciente"),b.qZA()(),b.TgZ(49,"div",18),b.NdJ("click",function(){return le.loginRapido(5)}),b.YNc(50,Ai,1,1,"img",19),b.YNc(51,Gn,3,0,"div",20),b.TgZ(52,"p"),b._uU(53,"Paciente"),b.qZA()(),b.TgZ(54,"div",18),b.NdJ("click",function(){return le.loginRapido(6)}),b.YNc(55,Ii,1,1,"img",19),b.YNc(56,Sr,3,0,"div",20),b.TgZ(57,"p"),b._uU(58,"Paciente"),b.qZA()()()()()()()),2&O){let Ae,C,T;b.xp6(15),b.Q6J("formGroup",le.formLogin),b.xp6(3),b.Q6J("ngIf",le.userExist&&le.noEncontroUser),b.xp6(1),b.Q6J("ngIf",le.noHabilitado),b.xp6(2),b.Q6J("ngIf",(null==(Ae=le.formLogin.get("mail"))||null==Ae.errors?null:Ae.errors.required)&&(null==(Ae=le.formLogin.get("mail"))?null:Ae.touched)),b.xp6(1),b.Q6J("ngIf",null==(C=le.formLogin.get("mail"))||null==C.errors?null:C.errors.email),b.xp6(2),b.Q6J("ngIf",(null==(T=le.formLogin.get("password"))||null==T.errors?null:T.errors.required)&&(null==(T=le.formLogin.get("password"))?null:T.touched)),b.xp6(1),b.Q6J("ngIf",le.spinner),b.xp6(1),b.Q6J("disabled",le.formLogin.invalid),b.xp6(4),b.Q6J("ngIf",""!=le.fotoAdmin_1),b.xp6(1),b.Q6J("ngIf",""==le.fotoAdmin_1),b.xp6(4),b.Q6J("ngIf",""!=le.fotoEsp_1),b.xp6(1),b.Q6J("ngIf",""==le.fotoEsp_1),b.xp6(4),b.Q6J("ngIf",""!=le.fotoEsp_2),b.xp6(1),b.Q6J("ngIf",""==le.fotoEsp_2),b.xp6(4),b.Q6J("ngIf",""!=le.fotoPac_1),b.xp6(1),b.Q6J("ngIf",""==le.fotoPac_1),b.xp6(4),b.Q6J("ngIf",""!=le.fotoPac_2),b.xp6(1),b.Q6J("ngIf",""==le.fotoPac_2),b.xp6(4),b.Q6J("ngIf",""!=le.fotoPac_3),b.xp6(1),b.Q6J("ngIf",""==le.fotoPac_3)}},directives:[tt,rn._Y,rn.JL,rn.sg,a.O5,rn.Fj,rn.JJ,rn.u],styles:["app-menu[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:999}@media only screen and (max-width:767px){.box-access-fast-login[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#008b81;border-radius:20px;padding:1px 10px;margin-bottom:5px}}@media only screen and (min-width:767px) and (max-width: 1023px){.box-access-fast-login[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#008b81;border-radius:20px;padding:1px 10px;margin-bottom:5px}}@media only screen and (min-width:1024px){.box-access-fast-login[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#008b81;border-radius:20px;padding:1px 10px;margin-bottom:5px}}.box[_ngcontent-%COMP%]{margin-top:5em;overflow:hidden;width:100%;min-width:100vh}.body[_ngcontent-%COMP%]{width:100%;height:100%;background:url(pexels-evg-kowalievska-1170979.0aaae437c2076a5c.png) no-repeat center center fixed;background-size:cover}.body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.box-login[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:2.8px 2.8px 2.2px #00000005,6.7px 6.7px 5.3px #00000007,12.5px 12.5px 10px #00000009,22.3px 22.3px 17.9px #0000000b,41.8px 41.8px 33.4px #0000000d,100px 100px 80px #00000012;position:relative;overflow:hidden;min-width:900px;min-height:600px;max-width:100%}h1[_ngcontent-%COMP%]{text-shadow:white 1px 0 5px;font-weight:700;margin:0}p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}.btn[_ngcontent-%COMP%]{background-color:#008b81!important;margin:0 .5em;width:180px}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#000!important}form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#d3d3d3;border:none;padding:12px 15px;margin:8px 0;width:100%;border-radius:10px}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.box-login.right-panel-active[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{transform:translate(100%)}.box-login.right-panel-active[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:show .6s}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;z-index:100}.box-login.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(-100%)}.overlay[_ngcontent-%COMP%]{background:url(img-4.b305845b87ce6dce.png) no-repeat center center fixed;background-size:cover;color:#000;position:relative;left:-100%;height:100%;width:200%}.box-login.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(50%)}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%}.box-access-fast-login[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:700}.box-access-fast-login[_ngcontent-%COMP%]{color:#000;background-color:#008b81;cursor:pointer}.box-access-fast-login[_ngcontent-%COMP%]:hover{color:#fff;background-color:#153a82}.box-access-fast-login[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-access-fast-login[_ngcontent-%COMP%]:focus{outline:none}.boton[_ngcontent-%COMP%]{width:100%;border-radius:1em;border:1px solid #008B81;background-color:#008b81;color:#fff;font-size:16px;font-weight:700;padding:12px 45px;margin-top:5px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;cursor:pointer}.boton[_ngcontent-%COMP%]:enabled:hover{background-color:#153a82}.boton[_ngcontent-%COMP%]:enabled:active{transform:scale(.95)}.boton[_ngcontent-%COMP%]:focus{outline:none}.boton[_ngcontent-%COMP%]:disabled{opacity:85%}.invalid[_ngcontent-%COMP%]{color:red}"]}),Z})();var xi=U(4752);function cs(Z,P){if(1&Z){const O=b.EpF();b.TgZ(0,"div",5)(1,"div",6),b.NdJ("click",function(){return b.CHM(O),b.oxw().cargarFormulario("pacientes")}),b.TgZ(2,"div",7)(3,"h1",8),b._uU(4," Pacientes "),b.qZA()()(),b.TgZ(5,"div",9),b.NdJ("click",function(){return b.CHM(O),b.oxw().cargarFormulario("especialistas")}),b.TgZ(6,"div",10)(7,"h1",8),b._uU(8," Especialistas "),b.qZA()()()()}}function qr(Z,P){if(1&Z){const O=b.EpF();b.TgZ(0,"app-form-registro",11),b.NdJ("volverEvent",function(Ae){return b.CHM(O),b.oxw().cambioFormulario(Ae)}),b.qZA()}if(2&Z){const O=b.oxw();b.Q6J("formulario",O.tipoFormulario)}}let Qr=(()=>{class Z{constructor(){this.tipoFormulario="",this.activateForm=!1}ngOnInit(){}cargarFormulario(O){this.activateForm=!0,this.tipoFormulario=O}cambioFormulario(O){this.activateForm=O}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275cmp=b.Xpm({type:Z,selectors:[["app-registro"]],decls:6,vars:2,consts:[[1,"body"],[1,"container"],["class","row row-cols-1 row-cols-sm-2 row-cols-md-2",4,"ngIf"],[2,"margin-top","8%"],[3,"formulario","volverEvent",4,"ngIf"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-2"],[1,"col",3,"click"],["routerLink","/registro","align","center",1,"paciente"],[2,"padding-top","80%"],[1,"col","registro",3,"click"],["routerLink","/registro","align","center",1,"especialista"],[3,"formulario","volverEvent"]],template:function(O,le){1&O&&(b._UZ(0,"app-menu"),b.TgZ(1,"div",0)(2,"div",1),b.YNc(3,cs,9,0,"div",2),b.TgZ(4,"div",3),b.YNc(5,qr,1,1,"app-form-registro",4),b.qZA()()()),2&O&&(b.xp6(3),b.Q6J("ngIf",!le.activateForm),b.xp6(2),b.Q6J("ngIf",le.activateForm))},directives:[tt,a.O5,fe.rH,xi.u],styles:["app-menu[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.body[_ngcontent-%COMP%]{width:100%;height:100%;background:url(pexels-evg-kowalievska-1170979.0aaae437c2076a5c.png) no-repeat center center fixed;background-size:cover}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.card[_ngcontent-%COMP%]{color:#fff;text-align:center;padding-top:50%;border-radius:50px;background-color:#2f53b8;height:400px;width:350px;opacity:75%}.card[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.03)}.paciente[_ngcontent-%COMP%]{border-radius:20px;height:600px;width:500px;transform:scale(1.03);opacity:100%;color:#000;text-shadow:white 1px 0 5px;background:url(img-5.fa3dd1360bc4d428.png) no-repeat center center fixed;background-size:cover;margin-right:100px;box-shadow:.6px .7px .2px -5px #0000000a,1.4px 1.6px .4px -5px #0000000f,2.4px 2.8px .6px -5px #00000013,3.6px 4.2px 1px -5px #00000015,5.1px 6px 1.4px -5px #00000018,7.3px 8.5px 1.9px -5px #0000001b,10.3px 12.1px 2.8px -5px #0000001e,15px 17.5px 4px -5px #00000021,23.1px 27px 6.2px -5px #00000026,41px 48px 11px -5px #00000030}.especialista[_ngcontent-%COMP%]{border-radius:20px;height:600px;width:500px;transform:scale(1.03);opacity:100%;color:#000;text-shadow:white 1px 0 5px;background:url(img-2.03eac889e6dffebb.png) no-repeat center center fixed;background-size:cover;box-shadow:.6px .7px .2px -5px #0000000a,1.4px 1.6px .4px -5px #0000000f,2.4px 2.8px .6px -5px #00000013,3.6px 4.2px 1px -5px #00000015,5.1px 6px 1.4px -5px #00000018,7.3px 8.5px 1.9px -5px #0000001b,10.3px 12.1px 2.8px -5px #0000001e,15px 17.5px 4px -5px #00000021,23.1px 27px 6.2px -5px #00000026,41px 48px 11px -5px #00000030}.paciente[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);opacity:100%}.paciente[_ngcontent-%COMP%]:active{transform:scale(.95)}.paciente[_ngcontent-%COMP%]:focus{outline:none}.especialista[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);opacity:100%}.especialista[_ngcontent-%COMP%]:active{transform:scale(.95)}.especialista[_ngcontent-%COMP%]:focus{outline:none}"]}),Z})();function Kr(Z,P){if(1&Z){const O=b.EpF();b.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),b._uU(3,"Gracias por su Registro!"),b.qZA(),b.TgZ(4,"div",7)(5,"p",8),b._uU(6," Para poder ingresar al sistema tiene que confirmar su mail. "),b.qZA(),b.TgZ(7,"p"),b._uU(8," La confirmacion de mail se le envio al correo "),b.TgZ(9,"strong"),b._uU(10),b.qZA()(),b.TgZ(11,"p",9),b._uU(12," Por favor verificar su mail. revisar la seccion SPAM "),b.qZA()(),b.TgZ(13,"div",10)(14,"button",11),b.NdJ("click",function(){return b.CHM(O),b.oxw().onSendEmail()}),b._uU(15," Reenviar Email de veririfcacion "),b.qZA()()()()}if(2&Z){const O=P.ngIf;b.xp6(10),b.Oqu(null==O?null:O.email)}}function Pi(Z,P){1&Z&&b._uU(0," Cargando... ")}let ze=(()=>{class Z{constructor(O){this.AuthService=O,this.user$=this.AuthService.afAuth.user}ngOnInit(){}onSendEmail(){this.AuthService.sendVerificationEmail()}}return Z.\u0275fac=function(O){return new(O||Z)(b.Y36(hn.e))},Z.\u0275cmp=b.Xpm({type:Z,selectors:[["app-send-email"]],features:[b._Bn([hn.e])],decls:7,vars:4,consts:[[1,"body"],[1,"container"],["class","card mt-5",4,"ngIf","ngIfElse"],["loading",""],[1,"card","mt-5"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-group"],[1,"text-center","mt-2"],[1,"text-center"],[1,"form-group","text-center","mt-5"],[1,"btn","btn-primary",3,"click"]],template:function(O,le){if(1&O&&(b._UZ(0,"app-menu"),b.TgZ(1,"div",0)(2,"div",1),b.YNc(3,Kr,16,1,"div",2),b.ALo(4,"async"),b.YNc(5,Pi,1,0,"ng-template",null,3,b.W1O),b.qZA()()),2&O){const Ae=b.MAs(6);b.xp6(3),b.Q6J("ngIf",b.lcZ(4,2,le.user$))("ngIfElse",Ae)}},directives:[tt,a.O5],pipes:[a.Ov],styles:["app-menu[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.body[_ngcontent-%COMP%]{width:100%;height:100%;background:url(pexels-evg-kowalievska-1170979.0aaae437c2076a5c.png) no-repeat center center fixed;background-size:cover}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}"]}),Z})(),Ve=(()=>{class Z{constructor(O,le){this.AuthService=O,this.Router=le}canActivate(O,le){return null!=this.AuthService.user.mail||(this.Router.navigateByUrl("/bienvenida"),!1)}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(hn.e),b.LFG(fe.F0))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();const Ke=[{path:"",component:Rt},{path:"bienvenida",component:Rt},{path:"login",component:Wn},{path:"registro",component:Qr},{path:"verificacion-email",component:ze,canActivate:[Ve]},{path:"menu-administrador",loadChildren:()=>U.e(43).then(U.bind(U,3043)).then(Z=>Z.LogueoUsuariosModule),canActivate:[Ve]},{path:"**",component:Rt}];let At=(()=>{class Z{}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275mod=b.oAB({type:Z}),Z.\u0275inj=b.cJS({imports:[[fe.Bz.forRoot(Ke)],fe.Bz]}),Z})(),Ht=(()=>{class Z{constructor(){this.title="TP_Final_Clinica"}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275cmp=b.Xpm({type:Z,selectors:[["app-root"]],decls:1,vars:0,template:function(O,le){1&O&&b._UZ(0,"router-outlet")},directives:[fe.lC],styles:[""]}),Z})();var on=U(3692);const Xn_firebase={projectId:"tp-clinicaonline-ef480",appId:"1:976756815708:web:086e98a41e3d7a16603399",storageBucket:"tp-clinicaonline-ef480.appspot.com",apiKey:"AIzaSyCnHVN9OKXnJYfJt20DgzixURvSzL8ZvlI",authDomain:"tp-clinicaonline-ef480.firebaseapp.com",messagingSenderId:"976756815708"};var Ur=U(7667),yr=U(6027),fr=U(5813),fi=U(5867),us=U(7128),Hi=U(8210);class Ti{constructor(P){return P}}const oi="storage",Vi=new b.OlP("angularfire2.storage-instances");function Ps(Z){return(P,O)=>{const le=P.runOutsideAngular(()=>Z(O));return new Ti(le)}}const Do={provide:class Vs{constructor(){return(0,fr.vb)(oi)}},deps:[[new b.FiY,Vi]]},ps={provide:Ti,useFactory:function Us(Z,P){const O=(0,fr.JM)(oi,Z,P);return O&&new Ti(O)},deps:[[new b.FiY,Vi],on.Ot]};let $i=(()=>{class Z{constructor(){(0,fi.KN)("angularfire",fr.q4.full,"gcs")}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275mod=b.oAB({type:Z}),Z.\u0275inj=b.cJS({providers:[ps,Do]}),Z})();function Is(Z,...P){return{ngModule:$i,providers:[{provide:Vi,useFactory:Ps(Z),multi:!0,deps:[b.R0b,b.zs3,fr.HU,on.z6,[new b.FiY,Ur.dh],[new b.FiY,us.nm],...P]}]}}const bi=(0,fr.u3)(Hi.cF,!0);var Gi=U(2011),Wi=U(4986),ss=U(8306),_s=U(8996),ai=U(9646),ee=U(8675),Q=U(4482),De=U(5403);function xe(){return(0,Q.e)((Z,P)=>{let O,le=!1;Z.subscribe((0,De.x)(P,Ae=>{const C=O;O=Ae,le&&P.next([C,Ae]),le=!0}))})}var Ue=U(4004),Ct=U(5026),Qt=U(1884),yn=U(9300),En=(U(5881),U(3942)),R=U(5525),te=U(2090),j=U(4859);function dt(Z,P){if(void 0===P)return{merge:!1};if(void 0!==P.mergeFields&&void 0!==P.merge)throw new R.WA("invalid-argument",`Invalid options passed to function ${Z}(): You cannot specify both "merge" and "mergeFields".`);return P}function vt(){if("undefined"==typeof Uint8Array)throw new R.WA("unimplemented","Uint8Arrays are not available in this environment.")}function vn(){if(!(0,R.Me)())throw new R.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ln{constructor(P){this._delegate=P}static fromBase64String(P){return vn(),new Ln(R.Jj.fromBase64String(P))}static fromUint8Array(P){return vt(),new Ln(R.Jj.fromUint8Array(P))}toBase64(){return vn(),this._delegate.toBase64()}toUint8Array(){return vt(),this._delegate.toUint8Array()}isEqual(P){return this._delegate.isEqual(P._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tr(Z){return function On(Z,P){if("object"!=typeof Z||null===Z)return!1;const O=Z;for(const le of P)if(le in O&&"function"==typeof O[le])return!0;return!1}(Z,["next","error","complete"])}class pr{enableIndexedDbPersistence(P,O){return(0,R.ST)(P._delegate,{forceOwnership:O})}enableMultiTabIndexedDbPersistence(P){return(0,R.fH)(P._delegate)}clearIndexedDbPersistence(P){return(0,R.Fc)(P._delegate)}}class Nr{constructor(P,O,le){this._delegate=O,this._persistenceProvider=le,this.INTERNAL={delete:()=>this.terminate()},P instanceof R.l7||(this._appCompat=P)}get _databaseId(){return this._delegate._databaseId}settings(P){const O=this._delegate._getSettings();!P.merge&&O.host!==P.host&&(0,R.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),P.merge&&delete(P=Object.assign(Object.assign({},O),P)).merge,this._delegate._setSettings(P)}useEmulator(P,O,le={}){(0,R.at)(this._delegate,P,O,le)}enableNetwork(){return(0,R.Ix)(this._delegate)}disableNetwork(){return(0,R.TF)(this._delegate)}enablePersistence(P){let O=!1,le=!1;return P&&(O=!!P.synchronizeTabs,le=!!P.experimentalForceOwningTab,(0,R.Wi)("synchronizeTabs",O,"experimentalForceOwningTab",le)),O?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,le)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,R.Mx)(this._delegate)}onSnapshotsInSync(P){return(0,R.sc)(this._delegate,P)}get app(){if(!this._appCompat)throw new R.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(P){try{return new kt(this,(0,R.hJ)(this._delegate,P))}catch(O){throw Ui(O,"collection()","Firestore.collection()")}}doc(P){try{return new ci(this,(0,R.JU)(this._delegate,P))}catch(O){throw Ui(O,"doc()","Firestore.doc()")}}collectionGroup(P){try{return new F(this,(0,R.B$)(this._delegate,P))}catch(O){throw Ui(O,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(P){return(0,R.i3)(this._delegate,O=>P(new Fi(this,O)))}batch(){return(0,R.qY)(this._delegate),new os(new R.PU(this._delegate,P=>(0,R.GL)(this._delegate,P)))}loadBundle(P){return(0,R.Pb)(this._delegate,P)}namedQuery(P){return(0,R.L$)(this._delegate,P).then(O=>O?new F(this,O):null)}}class Gr extends R.u7{constructor(P){super(),this.firestore=P}convertBytes(P){return new Ln(new R.Jj(P))}convertReference(P){const O=this.convertDocumentKey(P,this.firestore._databaseId);return ci.forKey(O,this.firestore,null)}}class Fi{constructor(P,O){this._firestore=P,this._delegate=O,this._userDataWriter=new Gr(P)}get(P){const O=jr(P);return this._delegate.get(O).then(le=>new G(this._firestore,new R.xU(this._firestore._delegate,this._userDataWriter,le._key,le._document,le.metadata,O.converter)))}set(P,O,le){const Ae=jr(P);return le?(dt("Transaction.set",le),this._delegate.set(Ae,O,le)):this._delegate.set(Ae,O),this}update(P,O,le,...Ae){const C=jr(P);return 2===arguments.length?this._delegate.update(C,O):this._delegate.update(C,O,le,...Ae),this}delete(P){const O=jr(P);return this._delegate.delete(O),this}}class os{constructor(P){this._delegate=P}set(P,O,le){const Ae=jr(P);return le?(dt("WriteBatch.set",le),this._delegate.set(Ae,O,le)):this._delegate.set(Ae,O),this}update(P,O,le,...Ae){const C=jr(P);return 2===arguments.length?this._delegate.update(C,O):this._delegate.update(C,O,le,...Ae),this}delete(P){const O=jr(P);return this._delegate.delete(O),this}commit(){return this._delegate.commit()}}class fn{constructor(P,O,le){this._firestore=P,this._userDataWriter=O,this._delegate=le}fromFirestore(P,O){const le=new R.$q(this._firestore._delegate,this._userDataWriter,P._key,P._document,P.metadata,null);return this._delegate.fromFirestore(new B(this._firestore,le),null!=O?O:{})}toFirestore(P,O){return O?this._delegate.toFirestore(P,O):this._delegate.toFirestore(P)}static getInstance(P,O){const le=fn.INSTANCES;let Ae=le.get(P);Ae||(Ae=new WeakMap,le.set(P,Ae));let C=Ae.get(O);return C||(C=new fn(P,new Gr(P),O),Ae.set(O,C)),C}}fn.INSTANCES=new WeakMap;class ci{constructor(P,O){this.firestore=P,this._delegate=O,this._userDataWriter=new Gr(P)}static forPath(P,O,le){if(P.length%2!=0)throw new R.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${P.canonicalString()} has ${P.length}`);return new ci(O,new R.my(O._delegate,le,new R.Ky(P)))}static forKey(P,O,le){return new ci(O,new R.my(O._delegate,le,P))}get id(){return this._delegate.id}get parent(){return new kt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(P){try{return new kt(this.firestore,(0,R.hJ)(this._delegate,P))}catch(O){throw Ui(O,"collection()","DocumentReference.collection()")}}isEqual(P){return(P=(0,te.m9)(P))instanceof R.my&&(0,R.Eo)(this._delegate,P)}set(P,O){O=dt("DocumentReference.set",O);try{return O?(0,R.pl)(this._delegate,P,O):(0,R.pl)(this._delegate,P)}catch(le){throw Ui(le,"setDoc()","DocumentReference.set()")}}update(P,O,...le){try{return 1===arguments.length?(0,R.r7)(this._delegate,P):(0,R.r7)(this._delegate,P,O,...le)}catch(Ae){throw Ui(Ae,"updateDoc()","DocumentReference.update()")}}delete(){return(0,R.oe)(this._delegate)}onSnapshot(...P){const O=Co(P),le=ks(P,Ae=>new G(this.firestore,new R.xU(this.firestore._delegate,this._userDataWriter,Ae._key,Ae._document,Ae.metadata,this._delegate.converter)));return(0,R.cf)(this._delegate,O,le)}get(P){let O;return O="cache"===(null==P?void 0:P.source)?(0,R.kl)(this._delegate):"server"===(null==P?void 0:P.source)?(0,R.Xk)(this._delegate):(0,R.QT)(this._delegate),O.then(le=>new G(this.firestore,new R.xU(this.firestore._delegate,this._userDataWriter,le._key,le._document,le.metadata,this._delegate.converter)))}withConverter(P){return new ci(this.firestore,this._delegate.withConverter(P?fn.getInstance(this.firestore,P):null))}}function Ui(Z,P,O){return Z.message=Z.message.replace(P,O),Z}function Co(Z){for(const P of Z)if("object"==typeof P&&!tr(P))return P;return{}}function ks(Z,P){var O,le;let Ae;return Ae=tr(Z[0])?Z[0]:tr(Z[1])?Z[1]:"function"==typeof Z[0]?{next:Z[0],error:Z[1],complete:Z[2]}:{next:Z[1],error:Z[2],complete:Z[3]},{next:C=>{Ae.next&&Ae.next(P(C))},error:null===(O=Ae.error)||void 0===O?void 0:O.bind(Ae),complete:null===(le=Ae.complete)||void 0===le?void 0:le.bind(Ae)}}class G{constructor(P,O){this._firestore=P,this._delegate=O}get ref(){return new ci(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(P){return this._delegate.data(P)}get(P,O){return this._delegate.get(P,O)}isEqual(P){return(0,R.qK)(this._delegate,P._delegate)}}class B extends G{data(P){const O=this._delegate.data(P);return(0,R.K9)(void 0!==O,"Document in a QueryDocumentSnapshot should exist"),O}}class F{constructor(P,O){this.firestore=P,this._delegate=O,this._userDataWriter=new Gr(P)}where(P,O,le){try{return new F(this.firestore,(0,R.IO)(this._delegate,(0,R.ar)(P,O,le)))}catch(Ae){throw Ui(Ae,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(P,O){try{return new F(this.firestore,(0,R.IO)(this._delegate,(0,R.Xo)(P,O)))}catch(le){throw Ui(le,/(orderBy|where)\(\)/,"Query.$1()")}}limit(P){try{return new F(this.firestore,(0,R.IO)(this._delegate,(0,R.b9)(P)))}catch(O){throw Ui(O,"limit()","Query.limit()")}}limitToLast(P){try{return new F(this.firestore,(0,R.IO)(this._delegate,(0,R.vh)(P)))}catch(O){throw Ui(O,"limitToLast()","Query.limitToLast()")}}startAt(...P){try{return new F(this.firestore,(0,R.IO)(this._delegate,(0,R.e0)(...P)))}catch(O){throw Ui(O,"startAt()","Query.startAt()")}}startAfter(...P){try{return new F(this.firestore,(0,R.IO)(this._delegate,(0,R.TQ)(...P)))}catch(O){throw Ui(O,"startAfter()","Query.startAfter()")}}endBefore(...P){try{return new F(this.firestore,(0,R.IO)(this._delegate,(0,R.Lx)(...P)))}catch(O){throw Ui(O,"endBefore()","Query.endBefore()")}}endAt(...P){try{return new F(this.firestore,(0,R.IO)(this._delegate,(0,R.Wu)(...P)))}catch(O){throw Ui(O,"endAt()","Query.endAt()")}}isEqual(P){return(0,R.iE)(this._delegate,P._delegate)}get(P){let O;return O="cache"===(null==P?void 0:P.source)?(0,R.UQ)(this._delegate):"server"===(null==P?void 0:P.source)?(0,R.zN)(this._delegate):(0,R.PL)(this._delegate),O.then(le=>new Te(this.firestore,new R.W(this.firestore._delegate,this._userDataWriter,this._delegate,le._snapshot)))}onSnapshot(...P){const O=Co(P),le=ks(P,Ae=>new Te(this.firestore,new R.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ae._snapshot)));return(0,R.cf)(this._delegate,O,le)}withConverter(P){return new F(this.firestore,this._delegate.withConverter(P?fn.getInstance(this.firestore,P):null))}}class se{constructor(P,O){this._firestore=P,this._delegate=O}get type(){return this._delegate.type}get doc(){return new B(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Te{constructor(P,O){this._firestore=P,this._delegate=O}get query(){return new F(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(P=>new B(this._firestore,P))}docChanges(P){return this._delegate.docChanges(P).map(O=>new se(this._firestore,O))}forEach(P,O){this._delegate.forEach(le=>{P.call(O,new B(this._firestore,le))})}isEqual(P){return(0,R.qK)(this._delegate,P._delegate)}}class kt extends F{constructor(P,O){super(P,O),this.firestore=P,this._delegate=O}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const P=this._delegate.parent;return P?new ci(this.firestore,P):null}doc(P){try{return new ci(this.firestore,void 0===P?(0,R.JU)(this._delegate):(0,R.JU)(this._delegate,P))}catch(O){throw Ui(O,"doc()","CollectionReference.doc()")}}add(P){return(0,R.ET)(this._delegate,P).then(O=>new ci(this.firestore,O))}isEqual(P){return(0,R.Eo)(this._delegate,P._delegate)}withConverter(P){return new kt(this.firestore,this._delegate.withConverter(P?fn.getInstance(this.firestore,P):null))}}function jr(Z){return(0,R.Cf)(Z,R.my)}class Tr{constructor(...P){this._delegate=new R.Lz(...P)}static documentId(){return new Tr(R.Xb.keyField().canonicalString())}isEqual(P){return(P=(0,te.m9)(P))instanceof R.Lz&&this._delegate._internalPath.isEqual(P._internalPath)}}class Qi{constructor(P){this._delegate=P}static serverTimestamp(){const P=(0,R.Bt)();return P._methodName="FieldValue.serverTimestamp",new Qi(P)}static delete(){const P=(0,R.AK)();return P._methodName="FieldValue.delete",new Qi(P)}static arrayUnion(...P){const O=(0,R.vr)(...P);return O._methodName="FieldValue.arrayUnion",new Qi(O)}static arrayRemove(...P){const O=(0,R.Ab)(...P);return O._methodName="FieldValue.arrayRemove",new Qi(O)}static increment(P){const O=(0,R.nP)(P);return O._methodName="FieldValue.increment",new Qi(O)}isEqual(P){return this._delegate.isEqual(P._delegate)}}const zi={Firestore:Nr,GeoPoint:R.F8,Timestamp:R.EK,Blob:Ln,Transaction:Fi,WriteBatch:os,DocumentReference:ci,DocumentSnapshot:G,Query:F,QueryDocumentSnapshot:B,QuerySnapshot:Te,CollectionReference:kt,FieldPath:Tr,FieldValue:Qi,setLogLevel:function kr(Z){(0,R.Ub)(Z)},CACHE_SIZE_UNLIMITED:R.IX};!function io(Z){(function as(Z,P){Z.INTERNAL.registerComponent(new j.wA("firestore-compat",O=>{const le=O.getProvider("app-compat").getImmediate(),Ae=O.getProvider("firestore").getImmediate();return P(le,Ae)},"PUBLIC").setServiceProps(Object.assign({},zi)))})(Z,(P,O)=>new Nr(P,O,new pr)),Z.registerVersion("@firebase/firestore-compat","0.2.1")}(En.Z);var ys=U(1205),Oa=U(127);function ya(Z,P){return function so(Z,P=Wi.z){return new ss.y(O=>{let le;return null!=P?P.schedule(()=>{le=Z.onSnapshot({includeMetadataChanges:!0},O)}):le=Z.onSnapshot({includeMetadataChanges:!0},O),()=>{null!=le&&le()}})}(Z,P)}function Ni(Z,P){return ya(Z,P).pipe((0,Ue.U)(O=>({payload:O,type:"query"})))}function Os(Z,P){return Ni(Z,P).pipe((0,ee.O)(void 0),xe(),(0,Ue.U)(([O,le])=>{const Ae=le.payload.docChanges(),C=Ae.map(T=>({type:T.type,payload:T}));return O&&JSON.stringify(O.payload.metadata)!==JSON.stringify(le.payload.metadata)&&le.payload.docs.forEach((T,q)=>{const me=Ae.find(Zt=>Zt.doc.ref.isEqual(T.ref)),_t=null==O?void 0:O.payload.docs.find(Zt=>Zt.ref.isEqual(T.ref));me&&JSON.stringify(me.doc.metadata)===JSON.stringify(T.metadata)||!me&&_t&&JSON.stringify(_t.metadata)===JSON.stringify(T.metadata)||C.push({type:"modified",payload:{oldIndex:q,newIndex:q,type:"modified",doc:T}})}),C}))}function oo(Z,P,O){return Os(Z,O).pipe((0,Ct.R)((le,Ae)=>function ao(Z,P,O){return P.forEach(le=>{O.indexOf(le.type)>-1&&(Z=function va(Z,P){switch(P.type){case"added":if(!Z[P.newIndex]||!Z[P.newIndex].doc.ref.isEqual(P.doc.ref))return vs(Z,P.newIndex,0,P);break;case"modified":if(null==Z[P.oldIndex]||Z[P.oldIndex].doc.ref.isEqual(P.doc.ref)){if(P.oldIndex!==P.newIndex){const O=Z.slice();return O.splice(P.oldIndex,1),O.splice(P.newIndex,0,P),O}return vs(Z,P.newIndex,1,P)}break;case"removed":if(Z[P.oldIndex]&&Z[P.oldIndex].doc.ref.isEqual(P.doc.ref))return vs(Z,P.oldIndex,1)}return Z}(Z,le))}),Z}(le,Ae.map(C=>C.payload),P),[]),(0,Qt.x)(),(0,Ue.U)(le=>le.map(Ae=>({type:Ae.type,payload:Ae}))))}function vs(Z,P,O,...le){const Ae=Z.slice();return Ae.splice(P,O,...le),Ae}function Zs(Z){return(!Z||0===Z.length)&&(Z=["added","removed","modified"]),Z}class qo{constructor(P,O,le){this.ref=P,this.query=O,this.afs=le}stateChanges(P){let O=Os(this.query,this.afs.schedulers.outsideAngular);return P&&P.length>0&&(O=O.pipe((0,Ue.U)(le=>le.filter(Ae=>P.indexOf(Ae.type)>-1)))),O.pipe((0,ee.O)(void 0),xe(),(0,yn.h)(([le,Ae])=>Ae.length>0||!le),(0,Ue.U)(([le,Ae])=>Ae),fr.iC)}auditTrail(P){return this.stateChanges(P).pipe((0,Ct.R)((O,le)=>[...O,...le],[]))}snapshotChanges(P){const O=Zs(P);return oo(this.query,O,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(P={}){return Ni(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(O=>O.payload.docs.map(le=>P.idField?Object.assign(Object.assign({},le.data()),{[P.idField]:le.id}):le.data())),fr.iC)}get(P){return(0,_s.D)(this.query.get(P)).pipe(fr.iC)}add(P){return this.ref.add(P)}doc(P){return new lo(this.ref.doc(P),this.afs)}}class lo{constructor(P,O){this.ref=P,this.afs=O}set(P,O){return this.ref.set(P,O)}update(P){return this.ref.update(P)}delete(){return this.ref.delete()}collection(P,O){const le=this.ref.collection(P),{ref:Ae,query:C}=ho(le,O);return new qo(Ae,C,this.afs)}snapshotChanges(){return function ko(Z,P){return ya(Z,P).pipe((0,ee.O)(void 0),xe(),(0,Ue.U)(([O,le])=>le.exists?(null==O?void 0:O.exists)?{payload:le,type:"modified"}:{payload:le,type:"added"}:{payload:le,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(P={}){return this.snapshotChanges().pipe((0,Ue.U)(({payload:O})=>P.idField?Object.assign(Object.assign({},O.data()),{[P.idField]:O.id}):O.data()))}get(P){return(0,_s.D)(this.ref.get(P)).pipe(fr.iC)}}class co{constructor(P,O){this.query=P,this.afs=O}stateChanges(P){return P&&0!==P.length?Os(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(O=>O.filter(le=>P.indexOf(le.type)>-1)),(0,yn.h)(O=>O.length>0),fr.iC):Os(this.query,this.afs.schedulers.outsideAngular).pipe(fr.iC)}auditTrail(P){return this.stateChanges(P).pipe((0,Ct.R)((O,le)=>[...O,...le],[]))}snapshotChanges(P){const O=Zs(P);return oo(this.query,O,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(P={}){return Ni(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(le=>le.payload.docs.map(Ae=>P.idField?Object.assign({[P.idField]:Ae.id},Ae.data()):Ae.data())),fr.iC)}get(P){return(0,_s.D)(this.query.get(P)).pipe(fr.iC)}}const uo=new b.OlP("angularfire2.enableFirestorePersistence"),ca=new b.OlP("angularfire2.firestore.persistenceSettings"),na=new b.OlP("angularfire2.firestore.settings"),Eo=new b.OlP("angularfire2.firestore.use-emulator");function ho(Z,P=(O=>O)){return{query:P(Z),ref:Z}}let Xi=(()=>{class Z{constructor(O,le,Ae,C,T,q,me,_t,Zt,_i,An,Xr,Si,Oi,A,I,D){this.schedulers=me;const H=(0,Gi.on)(O,q,le),W=Zt;_i&&(0,ys.nw)(H,q,An,Si,Oi,A,Xr,I),[this.firestore,this.persistenceEnabled$]=(0,Gi.cc)(`${H.name}.firestore`,"AngularFirestore",H.name,()=>{const J=q.runOutsideAngular(()=>H.firestore());if(C&&J.settings(C),W&&J.useEmulator(...W),Ae&&!(0,a.PM)(T)){const Ce=()=>{try{return(0,_s.D)(J.enablePersistence(_t||void 0).then(()=>!0,()=>!1))}catch(Le){return"undefined"!=typeof console&&console.warn(Le),(0,ai.of)(!1)}};return[J,q.runOutsideAngular(Ce)]}return[J,(0,ai.of)(!1)]},[C,W,Ae])}collection(O,le){let Ae;Ae="string"==typeof O?this.firestore.collection(O):O;const{ref:C,query:T}=ho(Ae,le),q=this.schedulers.ngZone.run(()=>C);return new qo(q,T,this)}collectionGroup(O,le){const Ae=le||(T=>T),C=this.firestore.collectionGroup(O);return new co(Ae(C),this)}doc(O){let le;le="string"==typeof O?this.firestore.doc(O):O;const Ae=this.schedulers.ngZone.run(()=>le);return new lo(Ae,this)}createId(){return this.firestore.collection("_").doc().id}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(Gi.Dh),b.LFG(Gi.xv,8),b.LFG(uo,8),b.LFG(na,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(fr.HU),b.LFG(ca,8),b.LFG(Eo,8),b.LFG(ys.zQ,8),b.LFG(ys.Qv,8),b.LFG(ys.L6,8),b.LFG(ys._Q,8),b.LFG(ys.rT,8),b.LFG(ys.lh,8),b.LFG(ys.f7,8),b.LFG(us.nm,8))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"any"}),Z})(),Io=(()=>{class Z{constructor(){Oa.Z.registerVersion("angularfire",fr.q4.full,"fst-compat")}static enablePersistence(O){return{ngModule:Z,providers:[{provide:uo,useValue:!0},{provide:ca,useValue:O}]}}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275mod=b.oAB({type:Z}),Z.\u0275inj=b.cJS({providers:[Xi]}),Z})();var qs=U(3900),mi=U(6961);class eo{constructor(P,O,le){this._delegate=P,this.task=O,this.ref=le}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class da{constructor(P,O){this._delegate=P,this._ref=O,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new eo(this._delegate.snapshot,this,this._ref)}then(P,O){return this._delegate.then(le=>{if(P)return P(new eo(le,this,this._ref))},O)}on(P,O,le,Ae){let C;return O&&(C="function"==typeof O?T=>O(new eo(T,this,this._ref)):{next:O.next?T=>O.next(new eo(T,this,this._ref)):void 0,complete:O.complete||void 0,error:O.error||void 0}),this._delegate.on(P,C,le||void 0,Ae||void 0)}}class ha{constructor(P,O){this._delegate=P,this._service=O}get prefixes(){return this._delegate.prefixes.map(P=>new Li(P,this._service))}get items(){return this._delegate.items.map(P=>new Li(P,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Li{constructor(P,O){this._delegate=P,this.storage=O}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(P){const O=(0,mi.g6)(this._delegate,P);return new Li(O,this.storage)}get root(){return new Li(this._delegate.root,this.storage)}get parent(){const P=this._delegate.parent;return null==P?null:new Li(P,this.storage)}put(P,O){return this._throwIfRoot("put"),new da((0,mi.B0)(this._delegate,P,O),this)}putString(P,O=mi.bm.RAW,le){this._throwIfRoot("putString");const Ae=(0,mi.qm)(O,P),C=Object.assign({},le);return null==C.contentType&&null!=Ae.contentType&&(C.contentType=Ae.contentType),new da(new mi.IX(this._delegate,new mi.UJ(Ae.data,!0),C),this)}listAll(){return(0,mi.aF)(this._delegate).then(P=>new ha(P,this.storage))}list(P){return(0,mi.pb)(this._delegate,P||void 0).then(O=>new ha(O,this.storage))}getMetadata(){return(0,mi.sd)(this._delegate)}updateMetadata(P){return(0,mi.Ym)(this._delegate,P)}getDownloadURL(){return(0,mi.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,mi.oq)(this._delegate)}_throwIfRoot(P){if(""===this._delegate._location.path)throw(0,mi.y4)(P)}}class fo{constructor(P,O){this.app=P,this._delegate=O}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(P){if(Mi(P))throw(0,mi.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new Li((0,mi.iH)(this._delegate,P),this)}refFromURL(P){if(!Mi(P))throw(0,mi.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mi.gE.makeFromUrl(P,this._delegate.host)}catch(O){throw(0,mi.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Li((0,mi.iH)(this._delegate,P),this)}setMaxUploadRetryTime(P){this._delegate.maxUploadRetryTime=P}setMaxOperationRetryTime(P){this._delegate.maxOperationRetryTime=P}useEmulator(P,O,le={}){(0,mi.a1)(this._delegate,P,O,le)}}function Mi(Z){return/^[A-Za-z]+:\/\//.test(Z)}function ji(Z,{instanceIdentifier:P}){const O=Z.getProvider("app-compat").getImmediate(),le=Z.getProvider("storage").getImmediate({identifier:P});return new fo(O,le)}function Ss(Z){const P=function Fs(Z){return new ss.y(P=>{const O=T=>P.next(T);O(Z.snapshot);const C=Z.on("state_changed",O);return Z.then(T=>{O(T),P.complete()},T=>{O(Z.snapshot),(T=>{P.error(T)})(T)}),function(){C()}}).pipe(function ua(Z,P=Wi.z){return(0,Q.e)((O,le)=>{let Ae=null,C=null,T=null;const q=()=>{if(Ae){Ae.unsubscribe(),Ae=null;const _t=C;C=null,le.next(_t)}};function me(){const _t=T+Z,Zt=P.now();if(Zt<_t)return Ae=this.schedule(void 0,_t-Zt),void le.add(Ae);q()}O.subscribe((0,De.x)(le,_t=>{C=_t,T=P.now(),Ae||(Ae=P.schedule(me,Z),le.add(Ae))},()=>{q(),le.complete()},void 0,()=>{C=Ae=null}))})}(0))}(Z);return{task:Z,then:Z.then.bind(Z),catch:Z.catch.bind(Z),pause:Z.pause.bind(Z),cancel:Z.cancel.bind(Z),resume:Z.resume.bind(Z),snapshotChanges:()=>P,percentageChanges:()=>P.pipe((0,Ue.U)(O=>O.bytesTransferred/O.totalBytes*100))}}function Rs(Z){return{getDownloadURL:()=>(0,ai.of)(void 0).pipe(fr.fc,(0,qs.w)(()=>Z.getDownloadURL()),fr.iC),getMetadata:()=>(0,ai.of)(void 0).pipe(fr.fc,(0,qs.w)(()=>Z.getMetadata()),fr.iC),delete:()=>(0,_s.D)(Z.delete()),child:P=>Rs(Z.child(P)),updateMetadata:P=>(0,_s.D)(Z.updateMetadata(P)),put:(P,O)=>Ss(Z.put(P,O)),putString:(P,O,le)=>Ss(Z.putString(P,O,le)),list:P=>(0,_s.D)(Z.list(P)),listAll:()=>(0,_s.D)(Z.listAll())}}!function Yo(Z){const P={TaskState:mi.$Y,TaskEvent:mi.FN,StringFormat:mi.bm,Storage:fo,Reference:Li};Z.INTERNAL.registerComponent(new j.wA("storage-compat",ji,"PUBLIC").setServiceProps(P).setMultipleInstances(!0)),Z.registerVersion("@firebase/storage-compat","0.1.20")}(En.Z);const Yt=new b.OlP("angularfire2.storageBucket"),Rr=new b.OlP("angularfire2.storage.maxUploadRetryTime"),po=new b.OlP("angularfire2.storage.maxOperationRetryTime"),Ra=new b.OlP("angularfire2.storage.use-emulator");let In=(()=>{class Z{constructor(O,le,Ae,C,T,q,me,_t,Zt,_i){const An=(0,Gi.on)(O,T,le);this.storage=(0,Gi.cc)(`${An.name}.storage.${Ae}`,"AngularFireStorage",An.name,()=>{const Xr=T.runOutsideAngular(()=>An.storage(Ae||void 0)),Si=Zt;return Si&&Xr.useEmulator(...Si),me&&Xr.setMaxUploadRetryTime(me),_t&&Xr.setMaxOperationRetryTime(_t),Xr},[me,_t])}ref(O){return Rs(this.storage.ref(O))}refFromURL(O){return Rs(this.storage.refFromURL(O))}upload(O,le,Ae){return Rs(this.storage.ref(O)).put(le,Ae)}}return Z.\u0275fac=function(O){return new(O||Z)(b.LFG(Gi.Dh),b.LFG(Gi.xv,8),b.LFG(Yt,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(fr.HU),b.LFG(Rr,8),b.LFG(po,8),b.LFG(Ra,8),b.LFG(us.nm,8))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"any"}),Z})(),go=(()=>{class Z{}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275mod=b.oAB({type:Z}),Z.\u0275inj=b.cJS({}),Z})(),_n=(()=>{class Z{constructor(){Oa.Z.registerVersion("angularfire",fr.q4.full,"gcs-compat")}}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275mod=b.oAB({type:Z}),Z.\u0275inj=b.cJS({providers:[In],imports:[go]}),Z})();var ft=U(970);let zt=(()=>{class Z{}return Z.\u0275fac=function(O){return new(O||Z)},Z.\u0275mod=b.oAB({type:Z,bootstrap:[Ht]}),Z.\u0275inj=b.cJS({providers:[],imports:[[nr,At,rn.u5,rn.UX,Gi.hO.initializeApp(Xn_firebase),Io.enablePersistence(),_n,(0,on.hX)(()=>(0,on.ZF)(Xn_firebase)),(0,Ur.AR)(()=>(0,Ur.v0)()),(0,yr.Cm)(()=>(0,yr.ad)()),Is(()=>bi()),ft.IJ]]}),Z})();(0,b.G48)(),Dn().bootstrapModule(zt).catch(Z=>console.error(Z))},5867:(tn,Oe,U)=>{"use strict";U.d(Oe,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=U(9681);(0,a.registerVersion)("firebase","9.12.1","app")},127:(tn,Oe,U)=>{"use strict";U.d(Oe,{Z:()=>a.Z});var a=U(3942);a.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(tn,Oe,U)=>{"use strict";U.r(Oe);var a=U(5861),b=U(3942),K=U(7573),Ie=U(2090),Me=(U(9681),U(1877),U(4859));function ue(){return window}function pe(){return(pe=(0,a.Z)(function*(ge,oe,fe){var tt;const{BuildInfo:Rt}=ue();(0,K.aq)(oe.sessionId,"AuthEvent did not contain a session ID");const un=yield rt(oe.sessionId),rn={};return(0,K.ar)()?rn.ibi=Rt.packageName:(0,K.as)()?rn.apn=Rt.packageName:(0,K.at)(ge,"operation-not-supported-in-this-environment"),Rt.displayName&&(rn.appDisplayName=Rt.displayName),rn.sessionId=un,(0,K.au)(ge,fe,oe.type,void 0,null!==(tt=oe.eventId)&&void 0!==tt?tt:void 0,rn)})).apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(function*(ge){const{BuildInfo:oe}=ue(),fe={};(0,K.ar)()?fe.iosBundleId=oe.packageName:(0,K.as)()?fe.androidPackageName=oe.packageName:(0,K.at)(ge,"operation-not-supported-in-this-environment"),yield(0,K.av)(ge,fe)})).apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(ge,oe,fe){const{cordova:tt}=ue();let Rt=()=>{};try{yield new Promise((un,rn)=>{let Zn=null;function hn(){var Mt;un();const Wt=null===(Mt=tt.plugins.browsertab)||void 0===Mt?void 0:Mt.close;"function"==typeof Wt&&Wt(),"function"==typeof(null==fe?void 0:fe.close)&&fe.close()}function br(){Zn||(Zn=window.setTimeout(()=>{rn((0,K.aw)(ge,"redirect-cancelled-by-user"))},2e3))}function Hr(){"visible"===(null==document?void 0:document.visibilityState)&&br()}oe.addPassiveListener(hn),document.addEventListener("resume",br,!1),(0,K.as)()&&document.addEventListener("visibilitychange",Hr,!1),Rt=()=>{oe.removePassiveListener(hn),document.removeEventListener("resume",br,!1),document.removeEventListener("visibilitychange",Hr,!1),Zn&&window.clearTimeout(Zn)}})}finally{Rt()}})).apply(this,arguments)}function rt(ge){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(ge){const oe=xt(ge),fe=yield crypto.subtle.digest("SHA-256",oe);return Array.from(new Uint8Array(fe)).map(Rt=>Rt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xt(ge){if((0,K.aq)(/[0-9a-zA-Z]+/.test(ge),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ge);const oe=new ArrayBuffer(ge.length),fe=new Uint8Array(oe);for(let tt=0;tt<ge.length;tt++)fe[tt]=ge.charCodeAt(tt);return fe}class ut extends K.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(oe=>{this.resolveInialized=oe})}addPassiveListener(oe){this.passiveListeners.add(oe)}removePassiveListener(oe){this.passiveListeners.delete(oe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(oe){return this.resolveInialized(),this.passiveListeners.forEach(fe=>fe(oe)),super.onEvent(oe)}initialized(){var oe=this;return(0,a.Z)(function*(){yield oe.initPromise})()}}function We(ge){return st.apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(ge){const oe=yield qe()._get(je(ge));return oe&&(yield qe()._remove(je(ge))),oe})).apply(this,arguments)}function Ne(){const ge=[],oe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let fe=0;fe<20;fe++){const tt=Math.floor(Math.random()*oe.length);ge.push(oe.charAt(tt))}return ge.join("")}function qe(){return(0,K.ay)(K.b)}function je(ge){return(0,K.az)("authEvent",ge.config.apiKey,ge.name)}function Nt(ge){if(!(null==ge?void 0:ge.includes("?")))return{};const[oe,...fe]=ge.split("?");return(0,Ie.zd)(fe.join("?"))}function Ot(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.aw)("no-auth-event")}}function ct(){var ge;return(null===(ge=null==self?void 0:self.location)||void 0===ge?void 0:ge.protocol)||null}function mn(ge=(0,Ie.z$)()){return!("file:"!==ct()&&"ionic:"!==ct()&&"capacitor:"!==ct()||!ge.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dn(){try{const ge=self.localStorage,oe=K.aI();if(ge)return ge.setItem(oe,"1"),ge.removeItem(oe),!function Cr(ge=(0,Ie.z$)()){return function dr(){return(0,Ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function or(ge=(0,Ie.z$)()){return/Edge\/\d+/.test(ge)}(ge)}()||(0,Ie.hl)()}catch(ge){return Qn()&&(0,Ie.hl)()}return!1}function Qn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function nr(){return(function wt(){return"http:"===ct()||"https:"===ct()}()||(0,Ie.ru)()||mn())&&!function Jn(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&Dn()&&!Qn()}function Er(){return mn()&&"undefined"!=typeof document}function Cn(){return(Cn=(0,a.Z)(function*(){return!!Er()&&new Promise(ge=>{const oe=setTimeout(()=>{ge(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(oe),ge(!0)})})})).apply(this,arguments)}const Bt={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=K.ax,Ar="persistence";function rr(ge){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(ge){yield ge._initializationPromise;const oe=Pn(),fe=K.az(Ar,ge.config.apiKey,ge.name);oe&&oe.setItem(fe,ge._getPersistence())})).apply(this,arguments)}function Pn(){var ge;try{return(null===(ge=function Nn(){return"undefined"!=typeof window?window:null}())||void 0===ge?void 0:ge.sessionStorage)||null}catch(oe){return null}}const Ft=K.ax;class ln{constructor(){this.browserResolver=K.ay(K.k),this.cordovaResolver=K.ay(class pn{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aB,this._overrideRedirectResult=K.aC}_initialize(oe){var fe=this;return(0,a.Z)(function*(){const tt=oe._key();let Rt=fe.eventManagers.get(tt);return Rt||(Rt=new ut(oe),fe.eventManagers.set(tt,Rt),fe.attachCallbackListeners(oe,Rt)),Rt})()}_openPopup(oe){(0,K.at)(oe,"operation-not-supported-in-this-environment")}_openRedirect(oe,fe,tt,Rt){var un=this;return(0,a.Z)(function*(){!function nt(ge){var oe,fe,tt,Rt,un,rn,Zn,hn,br,Hr;const Mt=ue();(0,K.ax)("function"==typeof(null===(oe=null==Mt?void 0:Mt.universalLinks)||void 0===oe?void 0:oe.subscribe),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.ax)(void 0!==(null===(fe=null==Mt?void 0:Mt.BuildInfo)||void 0===fe?void 0:fe.packageName),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.ax)("function"==typeof(null===(un=null===(Rt=null===(tt=null==Mt?void 0:Mt.cordova)||void 0===tt?void 0:tt.plugins)||void 0===Rt?void 0:Rt.browsertab)||void 0===un?void 0:un.openUrl),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.ax)("function"==typeof(null===(hn=null===(Zn=null===(rn=null==Mt?void 0:Mt.cordova)||void 0===rn?void 0:rn.plugins)||void 0===Zn?void 0:Zn.browsertab)||void 0===hn?void 0:hn.isAvailable),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.ax)("function"==typeof(null===(Hr=null===(br=null==Mt?void 0:Mt.cordova)||void 0===br?void 0:br.InAppBrowser)||void 0===Hr?void 0:Hr.open),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(oe);const rn=yield un._initialize(oe);yield rn.initialized(),rn.resetRedirect(),(0,K.aD)(),yield un._originValidation(oe);const Zn=function lt(ge,oe,fe=null){return{type:oe,eventId:fe,urlResponse:null,sessionId:Ne(),postBody:null,tenantId:ge.tenantId,error:(0,K.aw)(ge,"no-auth-event")}}(oe,tt,Rt);yield function Pt(ge,oe){return qe()._set(je(ge),oe)}(oe,Zn);const hn=yield function ce(ge,oe,fe){return pe.apply(this,arguments)}(oe,Zn,fe),br=yield function Qe(ge){const{cordova:oe}=ue();return new Promise(fe=>{oe.plugins.browsertab.isAvailable(tt=>{let Rt=null;tt?oe.plugins.browsertab.openUrl(ge):Rt=oe.InAppBrowser.open(ge,(0,K.ap)()?"_blank":"_system","location=yes"),fe(Rt)})})}(hn);return function mt(ge,oe,fe){return Et.apply(this,arguments)}(oe,rn,br)})()}_isIframeWebStorageSupported(oe,fe){throw new Error("Method not implemented.")}_originValidation(oe){const fe=oe._key();return this.originValidationPromises[fe]||(this.originValidationPromises[fe]=function Re(ge){return Ze.apply(this,arguments)}(oe)),this.originValidationPromises[fe]}attachCallbackListeners(oe,fe){const{universalLinks:tt,handleOpenURL:Rt,BuildInfo:un}=ue(),rn=setTimeout((0,a.Z)(function*(){yield We(oe),fe.onEvent(Ot())}),500),Zn=function(){var Hr=(0,a.Z)(function*(Mt){clearTimeout(rn);const Wt=yield We(oe);let wn=null;Wt&&(null==Mt?void 0:Mt.url)&&(wn=function ht(ge,oe){var fe,tt;const Rt=function et(ge){const oe=Nt(ge),fe=oe.link?decodeURIComponent(oe.link):void 0,tt=Nt(fe).link,Rt=oe.deep_link_id?decodeURIComponent(oe.deep_link_id):void 0;return Nt(Rt).link||Rt||tt||fe||ge}(oe);if(Rt.includes("/__/auth/callback")){const un=Nt(Rt),rn=un.firebaseError?function Xe(ge){try{return JSON.parse(ge)}catch(oe){return null}}(decodeURIComponent(un.firebaseError)):null,Zn=null===(tt=null===(fe=null==rn?void 0:rn.code)||void 0===fe?void 0:fe.split("auth/"))||void 0===tt?void 0:tt[1],hn=Zn?(0,K.aw)(Zn):null;return hn?{type:ge.type,eventId:ge.eventId,tenantId:ge.tenantId,error:hn,urlResponse:null,sessionId:null,postBody:null}:{type:ge.type,eventId:ge.eventId,tenantId:ge.tenantId,sessionId:ge.sessionId,urlResponse:Rt,postBody:null}}return null}(Wt,Mt.url)),fe.onEvent(wn||Ot())});return function(Wt){return Hr.apply(this,arguments)}}();void 0!==tt&&"function"==typeof tt.subscribe&&tt.subscribe(null,Zn);const hn=Rt,br=`${un.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var Hr=(0,a.Z)(function*(Mt){if(Mt.toLowerCase().startsWith(br)&&Zn({url:Mt}),"function"==typeof hn)try{hn(Mt)}catch(Wt){console.error(Wt)}});return function(Mt){return Hr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aB,this._overrideRedirectResult=K.aC}_initialize(oe){var fe=this;return(0,a.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._initialize(oe)})()}_openPopup(oe,fe,tt,Rt){var un=this;return(0,a.Z)(function*(){return yield un.selectUnderlyingResolver(),un.assertedUnderlyingResolver._openPopup(oe,fe,tt,Rt)})()}_openRedirect(oe,fe,tt,Rt){var un=this;return(0,a.Z)(function*(){return yield un.selectUnderlyingResolver(),un.assertedUnderlyingResolver._openRedirect(oe,fe,tt,Rt)})()}_isIframeWebStorageSupported(oe,fe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(oe,fe)}_originValidation(oe){return this.assertedUnderlyingResolver._originValidation(oe)}get _shouldInitProactively(){return Er()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var oe=this;return(0,a.Z)(function*(){if(oe.underlyingResolver)return;const fe=yield function Kt(){return Cn.apply(this,arguments)}();oe.underlyingResolver=fe?oe.cordovaResolver:oe.browserResolver})()}}function ni(ge){return ge.unwrap()}function gr(ge){return hr(ge)}function hr(ge){const{_tokenResponse:oe}=ge instanceof Ie.ZR?ge.customData:ge;if(!oe)return null;if(!(ge instanceof Ie.ZR)&&"temporaryProof"in oe&&"phoneNumber"in oe)return K.P.credentialFromResult(ge);const fe=oe.providerId;if(!fe||fe===K.o.PASSWORD)return null;let tt;switch(fe){case K.o.GOOGLE:tt=K.Q;break;case K.o.FACEBOOK:tt=K.N;break;case K.o.GITHUB:tt=K.T;break;case K.o.TWITTER:tt=K.W;break;default:const{oauthIdToken:Rt,oauthAccessToken:un,oauthTokenSecret:rn,pendingToken:Zn,nonce:hn}=oe;return un||rn||Rt||Zn?Zn?fe.startsWith("saml.")?K.aL._create(fe,Zn):K.J._fromParams({providerId:fe,signInMethod:fe,pendingToken:Zn,idToken:Rt,accessToken:un}):new K.U(fe).credential({idToken:Rt,accessToken:un,rawNonce:hn}):null}return ge instanceof Ie.ZR?tt.credentialFromError(ge):tt.credentialFromResult(ge)}function Fr(ge,oe){return oe.catch(fe=>{throw fe instanceof Ie.ZR&&function xr(ge,oe){var fe,tt;const Rt=null===(fe=oe.customData)||void 0===fe?void 0:fe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(tt=oe)||void 0===tt?void 0:tt.code))oe.resolver=new lr(ge,K.an(ge,oe));else if(Rt){const un=hr(oe),rn=oe;un&&(rn.credential=un,rn.tenantId=Rt.tenantId||void 0,rn.email=Rt.email||void 0,rn.phoneNumber=Rt.phoneNumber||void 0)}}(ge,fe),fe}).then(fe=>{const Rt=fe.user;return{operationType:fe.operationType,credential:gr(fe),additionalUserInfo:K.al(fe),user:hi.getOrCreate(Rt)}})}function Fn(ge,oe){return Or.apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(ge,oe){const fe=yield oe;return{verificationId:fe.verificationId,confirm:tt=>Fr(ge,fe.confirm(tt))}})).apply(this,arguments)}class lr{constructor(oe,fe){this.resolver=fe,this.auth=function Pr(ge){return ge.wrapped()}(oe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(oe){return Fr(ni(this.auth),this.resolver.resolveSignIn(oe))}}class hi{constructor(oe){this._delegate=oe,this.multiFactor=K.ao(oe)}static getOrCreate(oe){return hi.USER_MAP.has(oe)||hi.USER_MAP.set(oe,new hi(oe)),hi.USER_MAP.get(oe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(oe){return this._delegate.getIdTokenResult(oe)}getIdToken(oe){return this._delegate.getIdToken(oe)}linkAndRetrieveDataWithCredential(oe){return this.linkWithCredential(oe)}linkWithCredential(oe){var fe=this;return(0,a.Z)(function*(){return Fr(fe.auth,K.Z(fe._delegate,oe))})()}linkWithPhoneNumber(oe,fe){var tt=this;return(0,a.Z)(function*(){return Fn(tt.auth,K.l(tt._delegate,oe,fe))})()}linkWithPopup(oe){var fe=this;return(0,a.Z)(function*(){return Fr(fe.auth,K.d(fe._delegate,oe,ln))})()}linkWithRedirect(oe){var fe=this;return(0,a.Z)(function*(){return yield rr(K.aE(fe.auth)),K.g(fe._delegate,oe,ln)})()}reauthenticateAndRetrieveDataWithCredential(oe){return this.reauthenticateWithCredential(oe)}reauthenticateWithCredential(oe){var fe=this;return(0,a.Z)(function*(){return Fr(fe.auth,K._(fe._delegate,oe))})()}reauthenticateWithPhoneNumber(oe,fe){return Fn(this.auth,K.r(this._delegate,oe,fe))}reauthenticateWithPopup(oe){return Fr(this.auth,K.e(this._delegate,oe,ln))}reauthenticateWithRedirect(oe){var fe=this;return(0,a.Z)(function*(){return yield rr(K.aE(fe.auth)),K.h(fe._delegate,oe,ln)})()}sendEmailVerification(oe){return K.ab(this._delegate,oe)}unlink(oe){var fe=this;return(0,a.Z)(function*(){return yield K.ak(fe._delegate,oe),fe})()}updateEmail(oe){return K.ag(this._delegate,oe)}updatePassword(oe){return K.ah(this._delegate,oe)}updatePhoneNumber(oe){return K.u(this._delegate,oe)}updateProfile(oe){return K.af(this._delegate,oe)}verifyBeforeUpdateEmail(oe,fe){return K.ac(this._delegate,oe,fe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hi.USER_MAP=new WeakMap;const $t=K.ax;let Dt=(()=>{class ge{constructor(fe,tt){if(this.app=fe,tt.isInitialized())return this._delegate=tt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Rt}=fe.options;$t(Rt,"invalid-api-key",{appName:fe.name}),$t(Rt,"invalid-api-key",{appName:fe.name});const un="undefined"!=typeof window?ln:void 0;this._delegate=tt.initialize({options:{persistence:cn(Rt,fe.name),popupRedirectResolver:un}}),this._delegate._updateErrorMap(K.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(fe){this._delegate.languageCode=fe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(fe){this._delegate.tenantId=fe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(fe,tt){K.G(this._delegate,fe,tt)}applyActionCode(fe){return K.a2(this._delegate,fe)}checkActionCode(fe){return K.a3(this._delegate,fe)}confirmPasswordReset(fe,tt){return K.a1(this._delegate,fe,tt)}createUserWithEmailAndPassword(fe,tt){var Rt=this;return(0,a.Z)(function*(){return Fr(Rt._delegate,K.a5(Rt._delegate,fe,tt))})()}fetchProvidersForEmail(fe){return this.fetchSignInMethodsForEmail(fe)}fetchSignInMethodsForEmail(fe){return K.aa(this._delegate,fe)}isSignInWithEmailLink(fe){return K.a8(this._delegate,fe)}getRedirectResult(){var fe=this;return(0,a.Z)(function*(){$t(nr(),fe._delegate,"operation-not-supported-in-this-environment");const tt=yield K.j(fe._delegate,ln);return tt?Fr(fe._delegate,Promise.resolve(tt)):{credential:null,user:null}})()}addFrameworkForLogging(fe){!function gn(ge,oe){(0,K.aE)(ge)._logFramework(oe)}(this._delegate,fe)}onAuthStateChanged(fe,tt,Rt){const{next:un,error:rn,complete:Zn}=Xt(fe,tt,Rt);return this._delegate.onAuthStateChanged(un,rn,Zn)}onIdTokenChanged(fe,tt,Rt){const{next:un,error:rn,complete:Zn}=Xt(fe,tt,Rt);return this._delegate.onIdTokenChanged(un,rn,Zn)}sendSignInLinkToEmail(fe,tt){return K.a7(this._delegate,fe,tt)}sendPasswordResetEmail(fe,tt){return K.a0(this._delegate,fe,tt||void 0)}setPersistence(fe){var tt=this;return(0,a.Z)(function*(){let Rt;switch(function zr(ge,oe){Vn(Object.values(Bt).includes(oe),ge,"invalid-persistence-type"),(0,Ie.b$)()?Vn(oe!==Bt.SESSION,ge,"unsupported-persistence-type"):(0,Ie.UG)()?Vn(oe===Bt.NONE,ge,"unsupported-persistence-type"):Qn()?Vn(oe===Bt.NONE||oe===Bt.LOCAL&&(0,Ie.hl)(),ge,"unsupported-persistence-type"):Vn(oe===Bt.NONE||Dn(),ge,"unsupported-persistence-type")}(tt._delegate,fe),fe){case Bt.SESSION:Rt=K.a;break;case Bt.LOCAL:Rt=(yield K.ay(K.i)._isAvailable())?K.i:K.b;break;case Bt.NONE:Rt=K.L;break;default:return K.at("argument-error",{appName:tt._delegate.name})}return tt._delegate.setPersistence(Rt)})()}signInAndRetrieveDataWithCredential(fe){return this.signInWithCredential(fe)}signInAnonymously(){return Fr(this._delegate,K.X(this._delegate))}signInWithCredential(fe){return Fr(this._delegate,K.Y(this._delegate,fe))}signInWithCustomToken(fe){return Fr(this._delegate,K.$(this._delegate,fe))}signInWithEmailAndPassword(fe,tt){return Fr(this._delegate,K.a6(this._delegate,fe,tt))}signInWithEmailLink(fe,tt){return Fr(this._delegate,K.a9(this._delegate,fe,tt))}signInWithPhoneNumber(fe,tt){return Fn(this._delegate,K.s(this._delegate,fe,tt))}signInWithPopup(fe){var tt=this;return(0,a.Z)(function*(){return $t(nr(),tt._delegate,"operation-not-supported-in-this-environment"),Fr(tt._delegate,K.c(tt._delegate,fe,ln))})()}signInWithRedirect(fe){var tt=this;return(0,a.Z)(function*(){return $t(nr(),tt._delegate,"operation-not-supported-in-this-environment"),yield rr(tt._delegate),K.f(tt._delegate,fe,ln)})()}updateCurrentUser(fe){return this._delegate.updateCurrentUser(fe)}verifyPasswordResetCode(fe){return K.a4(this._delegate,fe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ge.Persistence=Bt,ge})();function Xt(ge,oe,fe){let tt=ge;"function"!=typeof ge&&({next:tt,error:oe,complete:fe}=ge);const Rt=tt;return{next:rn=>Rt(rn&&hi.getOrCreate(rn)),error:oe,complete:fe}}function cn(ge,oe){const fe=function Ir(ge,oe){const fe=Pn();if(!fe)return[];const tt=K.az(Ar,ge,oe);switch(fe.getItem(tt)){case Bt.NONE:return[K.L];case Bt.LOCAL:return[K.i,K.a];case Bt.SESSION:return[K.a];default:return[]}}(ge,oe);if("undefined"!=typeof self&&!fe.includes(K.i)&&fe.push(K.i),"undefined"!=typeof window)for(const tt of[K.b,K.a])fe.includes(tt)||fe.push(tt);return fe.includes(K.L)||fe.push(K.L),fe}class dn{constructor(){this.providerId="phone",this._delegate=new K.P(ni(b.Z.auth()))}static credential(oe,fe){return K.P.credential(oe,fe)}verifyPhoneNumber(oe,fe){return this._delegate.verifyPhoneNumber(oe,fe)}unwrap(){return this._delegate}}dn.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,dn.PROVIDER_ID=K.P.PROVIDER_ID;const ir=K.ax;class ye{constructor(oe,fe,tt=b.Z.app()){var Rt;ir(null===(Rt=tt.options)||void 0===Rt?void 0:Rt.apiKey,"invalid-api-key",{appName:tt.name}),this._delegate=new K.R(oe,fe,tt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fe(ge){ge.INTERNAL.registerComponent(new Me.wA("auth-compat",oe=>{const fe=oe.getProvider("app-compat").getImmediate(),tt=oe.getProvider("auth");return new Dt(fe,tt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.M,FacebookAuthProvider:K.N,GithubAuthProvider:K.T,GoogleAuthProvider:K.Q,OAuthProvider:K.U,SAMLAuthProvider:K.V,PhoneAuthProvider:dn,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:ye,TwitterAuthProvider:K.W,Auth:Dt,AuthCredential:K.H,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ge.registerVersion("@firebase/auth-compat","0.2.23")}(b.Z)},8210:(tn,Oe,U)=>{"use strict";U.d(Oe,{Jt:()=>a.Jt,KV:()=>a.KV,cF:()=>a.cF,iH:()=>a.iH});var a=U(6961)},1135:(tn,Oe,U)=>{"use strict";U.d(Oe,{X:()=>b});var a=U(7579);class b extends a.x{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const be=super._subscribe(Ie);return!be.closed&&Ie.next(this._value),be}getValue(){const{hasError:Ie,thrownError:be,_value:ke}=this;if(Ie)throw be;return this._throwIfClosed(),ke}next(Ie){super.next(this._value=Ie)}}},8306:(tn,Oe,U)=>{"use strict";U.d(Oe,{y:()=>ce});var a=U(930),b=U(727),K=U(8822),Ie=U(4671);var Me=U(2416),ue=U(576),$e=U(2806);let ce=(()=>{class Qe{constructor(Et){Et&&(this._subscribe=Et)}lift(Et){const nt=new Qe;return nt.source=this,nt.operator=Et,nt}subscribe(Et,nt,rt){const pt=function Ze(Qe){return Qe&&Qe instanceof a.Lv||function Re(Qe){return Qe&&(0,ue.m)(Qe.next)&&(0,ue.m)(Qe.error)&&(0,ue.m)(Qe.complete)}(Qe)&&(0,b.Nn)(Qe)}(Et)?Et:new a.Hp(Et,nt,rt);return(0,$e.x)(()=>{const{operator:xt,source:Je}=this;pt.add(xt?xt.call(pt,Je):Je?this._subscribe(pt):this._trySubscribe(pt))}),pt}_trySubscribe(Et){try{return this._subscribe(Et)}catch(nt){Et.error(nt)}}forEach(Et,nt){return new(nt=pe(nt))((rt,pt)=>{const xt=new a.Hp({next:Je=>{try{Et(Je)}catch(ut){pt(ut),xt.unsubscribe()}},error:pt,complete:rt});this.subscribe(xt)})}_subscribe(Et){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(Et)}[K.L](){return this}pipe(...Et){return function ke(Qe){return 0===Qe.length?Ie.y:1===Qe.length?Qe[0]:function(Et){return Qe.reduce((nt,rt)=>rt(nt),Et)}}(Et)(this)}toPromise(Et){return new(Et=pe(Et))((nt,rt)=>{let pt;this.subscribe(xt=>pt=xt,xt=>rt(xt),()=>nt(pt))})}}return Qe.create=mt=>new Qe(mt),Qe})();function pe(Qe){var mt;return null!==(mt=null!=Qe?Qe:Me.v.Promise)&&void 0!==mt?mt:Promise}},7579:(tn,Oe,U)=>{"use strict";U.d(Oe,{x:()=>Me});var a=U(8306),b=U(727);const Ie=(0,U(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=U(8737),ke=U(2806);let Me=(()=>{class $e extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Re=new ue(this,this);return Re.operator=pe,Re}_throwIfClosed(){if(this.closed)throw new Ie}next(pe){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(pe)}})}error(pe){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Re}=this;for(;Re.length;)Re.shift().error(pe)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Re,isStopped:Ze,observers:Qe}=this;return Re||Ze?b.Lc:(this.currentObservers=null,Qe.push(pe),new b.w0(()=>{this.currentObservers=null,(0,be.P)(Qe,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Re,thrownError:Ze,isStopped:Qe}=this;Re?pe.error(Ze):Qe&&pe.complete()}asObservable(){const pe=new a.y;return pe.source=this,pe}}return $e.create=(ce,pe)=>new ue(ce,pe),$e})();class ue extends Me{constructor(ce,pe){super(),this.destination=ce,this.source=pe}next(ce){var pe,Re;null===(Re=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Re||Re.call(pe,ce)}error(ce){var pe,Re;null===(Re=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Re||Re.call(pe,ce)}complete(){var ce,pe;null===(pe=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===pe||pe.call(ce)}_subscribe(ce){var pe,Re;return null!==(Re=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(ce))&&void 0!==Re?Re:b.Lc}}},930:(tn,Oe,U)=>{"use strict";U.d(Oe,{Hp:()=>Et,Lv:()=>Re});var a=U(576),b=U(727),K=U(2416),Ie=U(7849),be=U(5032);const ke=$e("C",void 0,void 0);function $e(Je,ut,lt){return{kind:Je,value:ut,error:lt}}var ce=U(3410),pe=U(2806);class Re extends b.w0{constructor(ut){super(),this.isStopped=!1,ut?(this.destination=ut,(0,b.Nn)(ut)&&ut.add(this)):this.destination=xt}static create(ut,lt,Pt){return new Et(ut,lt,Pt)}next(ut){this.isStopped?pt(function ue(Je){return $e("N",Je,void 0)}(ut),this):this._next(ut)}error(ut){this.isStopped?pt(function Me(Je){return $e("E",void 0,Je)}(ut),this):(this.isStopped=!0,this._error(ut))}complete(){this.isStopped?pt(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ut){this.destination.next(ut)}_error(ut){try{this.destination.error(ut)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function Qe(Je,ut){return Ze.call(Je,ut)}class mt{constructor(ut){this.partialObserver=ut}next(ut){const{partialObserver:lt}=this;if(lt.next)try{lt.next(ut)}catch(Pt){nt(Pt)}}error(ut){const{partialObserver:lt}=this;if(lt.error)try{lt.error(ut)}catch(Pt){nt(Pt)}else nt(ut)}complete(){const{partialObserver:ut}=this;if(ut.complete)try{ut.complete()}catch(lt){nt(lt)}}}class Et extends Re{constructor(ut,lt,Pt){let We;if(super(),(0,a.m)(ut)||!ut)We={next:null!=ut?ut:void 0,error:null!=lt?lt:void 0,complete:null!=Pt?Pt:void 0};else{let st;this&&K.v.useDeprecatedNextContext?(st=Object.create(ut),st.unsubscribe=()=>this.unsubscribe(),We={next:ut.next&&Qe(ut.next,st),error:ut.error&&Qe(ut.error,st),complete:ut.complete&&Qe(ut.complete,st)}):We=ut}this.destination=new mt(We)}}function nt(Je){K.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(Je):(0,Ie.h)(Je)}function pt(Je,ut){const{onStoppedNotification:lt}=K.v;lt&&ce.z.setTimeout(()=>lt(Je,ut))}const xt={closed:!0,next:be.Z,error:function rt(Je){throw Je},complete:be.Z}},727:(tn,Oe,U)=>{"use strict";U.d(Oe,{Lc:()=>ke,w0:()=>be,Nn:()=>Me});var a=U(576);const K=(0,U(3888).d)($e=>function(pe){$e(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Re,Ze)=>`${Ze+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var Ie=U(8737);class be{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Qe of pe)Qe.remove(this);else pe.remove(this);const{initialTeardown:Re}=this;if((0,a.m)(Re))try{Re()}catch(Qe){ce=Qe instanceof K?Qe.errors:[Qe]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const Qe of Ze)try{ue(Qe)}catch(mt){ce=null!=ce?ce:[],mt instanceof K?ce=[...ce,...mt.errors]:ce.push(mt)}}if(ce)throw new K(ce)}}add(ce){var pe;if(ce&&ce!==this)if(this.closed)ue(ce);else{if(ce instanceof be){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(ce)}}_hasParent(ce){const{_parentage:pe}=this;return pe===ce||Array.isArray(pe)&&pe.includes(ce)}_addParent(ce){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(ce),pe):pe?[pe,ce]:ce}_removeParent(ce){const{_parentage:pe}=this;pe===ce?this._parentage=null:Array.isArray(pe)&&(0,Ie.P)(pe,ce)}remove(ce){const{_finalizers:pe}=this;pe&&(0,Ie.P)(pe,ce),ce instanceof be&&ce._removeParent(this)}}be.EMPTY=(()=>{const $e=new be;return $e.closed=!0,$e})();const ke=be.EMPTY;function Me($e){return $e instanceof be||$e&&"closed"in $e&&(0,a.m)($e.remove)&&(0,a.m)($e.add)&&(0,a.m)($e.unsubscribe)}function ue($e){(0,a.m)($e)?$e():$e.unsubscribe()}},2416:(tn,Oe,U)=>{"use strict";U.d(Oe,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(tn,Oe,U)=>{"use strict";U.d(Oe,{a:()=>ce});var a=U(8306),b=U(4742),K=U(8996),Ie=U(4671),be=U(3268),ke=U(3269),Me=U(1810),ue=U(5403),$e=U(9672);function ce(...Ze){const Qe=(0,ke.yG)(Ze),mt=(0,ke.jO)(Ze),{args:Et,keys:nt}=(0,b.D)(Ze);if(0===Et.length)return(0,K.D)([],Qe);const rt=new a.y(function pe(Ze,Qe,mt=Ie.y){return Et=>{Re(Qe,()=>{const{length:nt}=Ze,rt=new Array(nt);let pt=nt,xt=nt;for(let Je=0;Je<nt;Je++)Re(Qe,()=>{const ut=(0,K.D)(Ze[Je],Qe);let lt=!1;ut.subscribe((0,ue.x)(Et,Pt=>{rt[Je]=Pt,lt||(lt=!0,xt--),xt||Et.next(mt(rt.slice()))},()=>{--pt||Et.complete()}))},Et)},Et)}}(Et,Qe,nt?pt=>(0,Me.n)(nt,pt):Ie.y));return mt?rt.pipe((0,be.Z)(mt)):rt}function Re(Ze,Qe,mt){Ze?(0,$e.f)(mt,Ze,Qe):Qe()}},7272:(tn,Oe,U)=>{"use strict";U.d(Oe,{z:()=>be});var a=U(8189),K=U(3269),Ie=U(8996);function be(...ke){return function b(){return(0,a.J)(1)}()((0,Ie.D)(ke,(0,K.yG)(ke)))}},515:(tn,Oe,U)=>{"use strict";U.d(Oe,{E:()=>b});const b=new(U(8306).y)(be=>be.complete())},8996:(tn,Oe,U)=>{"use strict";U.d(Oe,{D:()=>ut});var a=U(8421),b=U(5363),K=U(9468),ke=U(8306),ue=U(2202),$e=U(576),ce=U(9672);function Re(lt,Pt){if(!lt)throw new Error("Iterable cannot be null");return new ke.y(We=>{(0,ce.f)(We,Pt,()=>{const st=lt[Symbol.asyncIterator]();(0,ce.f)(We,Pt,()=>{st.next().then(ht=>{ht.done?We.complete():We.next(ht.value)})},0,!0)})})}var Ze=U(3670),Qe=U(8239),mt=U(1144),Et=U(6495),nt=U(2206),rt=U(4532),pt=U(3260);function ut(lt,Pt){return Pt?function Je(lt,Pt){if(null!=lt){if((0,Ze.c)(lt))return function Ie(lt,Pt){return(0,a.Xf)(lt).pipe((0,K.R)(Pt),(0,b.Q)(Pt))}(lt,Pt);if((0,mt.z)(lt))return function Me(lt,Pt){return new ke.y(We=>{let st=0;return Pt.schedule(function(){st===lt.length?We.complete():(We.next(lt[st++]),We.closed||this.schedule())})})}(lt,Pt);if((0,Qe.t)(lt))return function be(lt,Pt){return(0,a.Xf)(lt).pipe((0,K.R)(Pt),(0,b.Q)(Pt))}(lt,Pt);if((0,nt.D)(lt))return Re(lt,Pt);if((0,Et.T)(lt))return function pe(lt,Pt){return new ke.y(We=>{let st;return(0,ce.f)(We,Pt,()=>{st=lt[ue.h](),(0,ce.f)(We,Pt,()=>{let ht,Ne;try{({value:ht,done:Ne}=st.next())}catch(qe){return void We.error(qe)}Ne?We.complete():We.next(ht)},0,!0)}),()=>(0,$e.m)(null==st?void 0:st.return)&&st.return()})}(lt,Pt);if((0,pt.L)(lt))return function xt(lt,Pt){return Re((0,pt.Q)(lt),Pt)}(lt,Pt)}throw(0,rt.z)(lt)}(lt,Pt):(0,a.Xf)(lt)}},8421:(tn,Oe,U)=>{"use strict";U.d(Oe,{Xf:()=>Ze});var a=U(655),b=U(1144),K=U(8239),Ie=U(8306),be=U(3670),ke=U(2206),Me=U(4532),ue=U(6495),$e=U(3260),ce=U(576),pe=U(7849),Re=U(8822);function Ze(Je){if(Je instanceof Ie.y)return Je;if(null!=Je){if((0,be.c)(Je))return function Qe(Je){return new Ie.y(ut=>{const lt=Je[Re.L]();if((0,ce.m)(lt.subscribe))return lt.subscribe(ut);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Je);if((0,b.z)(Je))return function mt(Je){return new Ie.y(ut=>{for(let lt=0;lt<Je.length&&!ut.closed;lt++)ut.next(Je[lt]);ut.complete()})}(Je);if((0,K.t)(Je))return function Et(Je){return new Ie.y(ut=>{Je.then(lt=>{ut.closed||(ut.next(lt),ut.complete())},lt=>ut.error(lt)).then(null,pe.h)})}(Je);if((0,ke.D)(Je))return rt(Je);if((0,ue.T)(Je))return function nt(Je){return new Ie.y(ut=>{for(const lt of Je)if(ut.next(lt),ut.closed)return;ut.complete()})}(Je);if((0,$e.L)(Je))return function pt(Je){return rt((0,$e.Q)(Je))}(Je)}throw(0,Me.z)(Je)}function rt(Je){return new Ie.y(ut=>{(function xt(Je,ut){var lt,Pt,We,st;return(0,a.mG)(this,void 0,void 0,function*(){try{for(lt=(0,a.KL)(Je);!(Pt=yield lt.next()).done;)if(ut.next(Pt.value),ut.closed)return}catch(ht){We={error:ht}}finally{try{Pt&&!Pt.done&&(st=lt.return)&&(yield st.call(lt))}finally{if(We)throw We.error}}ut.complete()})})(Je,ut).catch(lt=>ut.error(lt))})}},6451:(tn,Oe,U)=>{"use strict";U.d(Oe,{T:()=>ke});var a=U(8189),b=U(8421),K=U(515),Ie=U(3269),be=U(8996);function ke(...Me){const ue=(0,Ie.yG)(Me),$e=(0,Ie._6)(Me,1/0),ce=Me;return ce.length?1===ce.length?(0,b.Xf)(ce[0]):(0,a.J)($e)((0,be.D)(ce,ue)):K.E}},9646:(tn,Oe,U)=>{"use strict";U.d(Oe,{of:()=>K});var a=U(3269),b=U(8996);function K(...Ie){const be=(0,a.yG)(Ie);return(0,b.D)(Ie,be)}},5403:(tn,Oe,U)=>{"use strict";U.d(Oe,{x:()=>b});var a=U(930);function b(Ie,be,ke,Me,ue){return new K(Ie,be,ke,Me,ue)}class K extends a.Lv{constructor(be,ke,Me,ue,$e,ce){super(be),this.onFinalize=$e,this.shouldUnsubscribe=ce,this._next=ke?function(pe){try{ke(pe)}catch(Re){be.error(Re)}}:super._next,this._error=ue?function(pe){try{ue(pe)}catch(Re){be.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(pe){be.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},6590:(tn,Oe,U)=>{"use strict";U.d(Oe,{d:()=>K});var a=U(4482),b=U(5403);function K(Ie){return(0,a.e)((be,ke)=>{let Me=!1;be.subscribe((0,b.x)(ke,ue=>{Me=!0,ke.next(ue)},()=>{Me||ke.next(Ie),ke.complete()}))})}},1884:(tn,Oe,U)=>{"use strict";U.d(Oe,{x:()=>Ie});var a=U(4671),b=U(4482),K=U(5403);function Ie(ke,Me=a.y){return ke=null!=ke?ke:be,(0,b.e)((ue,$e)=>{let ce,pe=!0;ue.subscribe((0,K.x)($e,Re=>{const Ze=Me(Re);(pe||!ke(ce,Ze))&&(pe=!1,ce=Ze,$e.next(Re))}))})}function be(ke,Me){return ke===Me}},9300:(tn,Oe,U)=>{"use strict";U.d(Oe,{h:()=>K});var a=U(4482),b=U(5403);function K(Ie,be){return(0,a.e)((ke,Me)=>{let ue=0;ke.subscribe((0,b.x)(Me,$e=>Ie.call(be,$e,ue++)&&Me.next($e)))})}},590:(tn,Oe,U)=>{"use strict";U.d(Oe,{P:()=>Me});var a=U(6805),b=U(9300),K=U(5698),Ie=U(6590),be=U(8068),ke=U(4671);function Me(ue,$e){const ce=arguments.length>=2;return pe=>pe.pipe(ue?(0,b.h)((Re,Ze)=>ue(Re,Ze,pe)):ke.y,(0,K.q)(1),ce?(0,Ie.d)($e):(0,be.T)(()=>new a.K))}},4004:(tn,Oe,U)=>{"use strict";U.d(Oe,{U:()=>K});var a=U(4482),b=U(5403);function K(Ie,be){return(0,a.e)((ke,Me)=>{let ue=0;ke.subscribe((0,b.x)(Me,$e=>{Me.next(Ie.call(be,$e,ue++))}))})}},8189:(tn,Oe,U)=>{"use strict";U.d(Oe,{J:()=>K});var a=U(5577),b=U(4671);function K(Ie=1/0){return(0,a.z)(b.y,Ie)}},5577:(tn,Oe,U)=>{"use strict";U.d(Oe,{z:()=>ue});var a=U(4004),b=U(8421),K=U(4482),Ie=U(9672),be=U(5403),Me=U(576);function ue($e,ce,pe=1/0){return(0,Me.m)(ce)?ue((Re,Ze)=>(0,a.U)((Qe,mt)=>ce(Re,Qe,Ze,mt))((0,b.Xf)($e(Re,Ze))),pe):("number"==typeof ce&&(pe=ce),(0,K.e)((Re,Ze)=>function ke($e,ce,pe,Re,Ze,Qe,mt,Et){const nt=[];let rt=0,pt=0,xt=!1;const Je=()=>{xt&&!nt.length&&!rt&&ce.complete()},ut=Pt=>rt<Re?lt(Pt):nt.push(Pt),lt=Pt=>{Qe&&ce.next(Pt),rt++;let We=!1;(0,b.Xf)(pe(Pt,pt++)).subscribe((0,be.x)(ce,st=>{null==Ze||Ze(st),Qe?ut(st):ce.next(st)},()=>{We=!0},void 0,()=>{if(We)try{for(rt--;nt.length&&rt<Re;){const st=nt.shift();mt?(0,Ie.f)(ce,mt,()=>lt(st)):lt(st)}Je()}catch(st){ce.error(st)}}))};return $e.subscribe((0,be.x)(ce,ut,()=>{xt=!0,Je()})),()=>{null==Et||Et()}}(Re,Ze,$e,pe)))}},5363:(tn,Oe,U)=>{"use strict";U.d(Oe,{Q:()=>Ie});var a=U(9672),b=U(4482),K=U(5403);function Ie(be,ke=0){return(0,b.e)((Me,ue)=>{Me.subscribe((0,K.x)(ue,$e=>(0,a.f)(ue,be,()=>ue.next($e),ke),()=>(0,a.f)(ue,be,()=>ue.complete(),ke),$e=>(0,a.f)(ue,be,()=>ue.error($e),ke)))})}},5026:(tn,Oe,U)=>{"use strict";U.d(Oe,{R:()=>Ie});var a=U(4482),b=U(5403);function K(be,ke,Me,ue,$e){return(ce,pe)=>{let Re=Me,Ze=ke,Qe=0;ce.subscribe((0,b.x)(pe,mt=>{const Et=Qe++;Ze=Re?be(Ze,mt,Et):(Re=!0,mt),ue&&pe.next(Ze)},$e&&(()=>{Re&&pe.next(Ze),pe.complete()})))}}function Ie(be,ke){return(0,a.e)(K(be,ke,arguments.length>=2,!0))}},3099:(tn,Oe,U)=>{"use strict";U.d(Oe,{B:()=>be});var a=U(8421),b=U(7579),K=U(930),Ie=U(4482);function be(Me={}){const{connector:ue=(()=>new b.x),resetOnError:$e=!0,resetOnComplete:ce=!0,resetOnRefCountZero:pe=!0}=Me;return Re=>{let Ze,Qe,mt,Et=0,nt=!1,rt=!1;const pt=()=>{null==Qe||Qe.unsubscribe(),Qe=void 0},xt=()=>{pt(),Ze=mt=void 0,nt=rt=!1},Je=()=>{const ut=Ze;xt(),null==ut||ut.unsubscribe()};return(0,Ie.e)((ut,lt)=>{Et++,!rt&&!nt&&pt();const Pt=mt=null!=mt?mt:ue();lt.add(()=>{Et--,0===Et&&!rt&&!nt&&(Qe=ke(Je,pe))}),Pt.subscribe(lt),!Ze&&Et>0&&(Ze=new K.Hp({next:We=>Pt.next(We),error:We=>{rt=!0,pt(),Qe=ke(xt,$e,We),Pt.error(We)},complete:()=>{nt=!0,pt(),Qe=ke(xt,ce),Pt.complete()}}),(0,a.Xf)(ut).subscribe(Ze))})(Re)}}function ke(Me,ue,...$e){if(!0===ue)return void Me();if(!1===ue)return;const ce=new K.Hp({next:()=>{ce.unsubscribe(),Me()}});return ue(...$e).subscribe(ce)}},8675:(tn,Oe,U)=>{"use strict";U.d(Oe,{O:()=>Ie});var a=U(7272),b=U(3269),K=U(4482);function Ie(...be){const ke=(0,b.yG)(be);return(0,K.e)((Me,ue)=>{(ke?(0,a.z)(be,Me,ke):(0,a.z)(be,Me)).subscribe(ue)})}},9468:(tn,Oe,U)=>{"use strict";U.d(Oe,{R:()=>b});var a=U(4482);function b(K,Ie=0){return(0,a.e)((be,ke)=>{ke.add(K.schedule(()=>be.subscribe(ke),Ie))})}},3900:(tn,Oe,U)=>{"use strict";U.d(Oe,{w:()=>Ie});var a=U(8421),b=U(4482),K=U(5403);function Ie(be,ke){return(0,b.e)((Me,ue)=>{let $e=null,ce=0,pe=!1;const Re=()=>pe&&!$e&&ue.complete();Me.subscribe((0,K.x)(ue,Ze=>{null==$e||$e.unsubscribe();let Qe=0;const mt=ce++;(0,a.Xf)(be(Ze,mt)).subscribe($e=(0,K.x)(ue,Et=>ue.next(ke?ke(Ze,Et,mt,Qe++):Et),()=>{$e=null,Re()}))},()=>{pe=!0,Re()}))})}},5698:(tn,Oe,U)=>{"use strict";U.d(Oe,{q:()=>Ie});var a=U(515),b=U(4482),K=U(5403);function Ie(be){return be<=0?()=>a.E:(0,b.e)((ke,Me)=>{let ue=0;ke.subscribe((0,K.x)(Me,$e=>{++ue<=be&&(Me.next($e),be<=ue&&Me.complete())}))})}},8505:(tn,Oe,U)=>{"use strict";U.d(Oe,{b:()=>be});var a=U(576),b=U(4482),K=U(5403),Ie=U(4671);function be(ke,Me,ue){const $e=(0,a.m)(ke)||Me||ue?{next:ke,error:Me,complete:ue}:ke;return $e?(0,b.e)((ce,pe)=>{var Re;null===(Re=$e.subscribe)||void 0===Re||Re.call($e);let Ze=!0;ce.subscribe((0,K.x)(pe,Qe=>{var mt;null===(mt=$e.next)||void 0===mt||mt.call($e,Qe),pe.next(Qe)},()=>{var Qe;Ze=!1,null===(Qe=$e.complete)||void 0===Qe||Qe.call($e),pe.complete()},Qe=>{var mt;Ze=!1,null===(mt=$e.error)||void 0===mt||mt.call($e,Qe),pe.error(Qe)},()=>{var Qe,mt;Ze&&(null===(Qe=$e.unsubscribe)||void 0===Qe||Qe.call($e)),null===(mt=$e.finalize)||void 0===mt||mt.call($e)}))}):Ie.y}},8068:(tn,Oe,U)=>{"use strict";U.d(Oe,{T:()=>Ie});var a=U(6805),b=U(4482),K=U(5403);function Ie(ke=be){return(0,b.e)((Me,ue)=>{let $e=!1;Me.subscribe((0,K.x)(ue,ce=>{$e=!0,ue.next(ce)},()=>$e?ue.complete():ue.error(ke())))})}function be(){return new a.K}},4408:(tn,Oe,U)=>{"use strict";U.d(Oe,{o:()=>be});var a=U(727);class b extends a.w0{constructor(Me,ue){super()}schedule(Me,ue=0){return this}}const K={setInterval(ke,Me,...ue){const{delegate:$e}=K;return(null==$e?void 0:$e.setInterval)?$e.setInterval(ke,Me,...ue):setInterval(ke,Me,...ue)},clearInterval(ke){const{delegate:Me}=K;return((null==Me?void 0:Me.clearInterval)||clearInterval)(ke)},delegate:void 0};var Ie=U(8737);class be extends b{constructor(Me,ue){super(Me,ue),this.scheduler=Me,this.work=ue,this.pending=!1}schedule(Me,ue=0){var $e;if(this.closed)return this;this.state=Me;const ce=this.id,pe=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(pe,ce,ue)),this.pending=!0,this.delay=ue,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(pe,this.id,ue),this}requestAsyncId(Me,ue,$e=0){return K.setInterval(Me.flush.bind(Me,this),$e)}recycleAsyncId(Me,ue,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return ue;null!=ue&&K.clearInterval(ue)}execute(Me,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(Me,ue);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,ue){let ce,$e=!1;try{this.work(Me)}catch(pe){$e=!0,ce=pe||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Me,scheduler:ue}=this,{actions:$e}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)($e,this),null!=Me&&(this.id=this.recycleAsyncId(ue,Me,null)),this.delay=null,super.unsubscribe()}}}},7565:(tn,Oe,U)=>{"use strict";U.d(Oe,{v:()=>K});var a=U(6063);class b{constructor(be,ke=b.now){this.schedulerActionCtor=be,this.now=ke}schedule(be,ke=0,Me){return new this.schedulerActionCtor(this,be).schedule(Me,ke)}}b.now=a.l.now;class K extends b{constructor(be,ke=b.now){super(be,ke),this.actions=[],this._active=!1}flush(be){const{actions:ke}=this;if(this._active)return void ke.push(be);let Me;this._active=!0;do{if(Me=be.execute(be.state,be.delay))break}while(be=ke.shift());if(this._active=!1,Me){for(;be=ke.shift();)be.unsubscribe();throw Me}}}},4986:(tn,Oe,U)=>{"use strict";U.d(Oe,{P:()=>Ie,z:()=>K});var a=U(4408);const K=new(U(7565).v)(a.o),Ie=K},6063:(tn,Oe,U)=>{"use strict";U.d(Oe,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(tn,Oe,U)=>{"use strict";U.d(Oe,{z:()=>a});const a={setTimeout(b,K,...Ie){const{delegate:be}=a;return(null==be?void 0:be.setTimeout)?be.setTimeout(b,K,...Ie):setTimeout(b,K,...Ie)},clearTimeout(b){const{delegate:K}=a;return((null==K?void 0:K.clearTimeout)||clearTimeout)(b)},delegate:void 0}},2202:(tn,Oe,U)=>{"use strict";U.d(Oe,{h:()=>b});const b=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tn,Oe,U)=>{"use strict";U.d(Oe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(tn,Oe,U)=>{"use strict";U.d(Oe,{K:()=>b});const b=(0,U(3888).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(tn,Oe,U)=>{"use strict";U.d(Oe,{_6:()=>ke,jO:()=>Ie,yG:()=>be});var a=U(576),b=U(3532);function K(Me){return Me[Me.length-1]}function Ie(Me){return(0,a.m)(K(Me))?Me.pop():void 0}function be(Me){return(0,b.K)(K(Me))?Me.pop():void 0}function ke(Me,ue){return"number"==typeof K(Me)?Me.pop():ue}},4742:(tn,Oe,U)=>{"use strict";U.d(Oe,{D:()=>be});const{isArray:a}=Array,{getPrototypeOf:b,prototype:K,keys:Ie}=Object;function be(Me){if(1===Me.length){const ue=Me[0];if(a(ue))return{args:ue,keys:null};if(function ke(Me){return Me&&"object"==typeof Me&&b(Me)===K}(ue)){const $e=Ie(ue);return{args:$e.map(ce=>ue[ce]),keys:$e}}}return{args:Me,keys:null}}},8737:(tn,Oe,U)=>{"use strict";function a(b,K){if(b){const Ie=b.indexOf(K);0<=Ie&&b.splice(Ie,1)}}U.d(Oe,{P:()=>a})},3888:(tn,Oe,U)=>{"use strict";function a(b){const Ie=b(be=>{Error.call(be),be.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}U.d(Oe,{d:()=>a})},1810:(tn,Oe,U)=>{"use strict";function a(b,K){return b.reduce((Ie,be,ke)=>(Ie[be]=K[ke],Ie),{})}U.d(Oe,{n:()=>a})},2806:(tn,Oe,U)=>{"use strict";U.d(Oe,{O:()=>Ie,x:()=>K});var a=U(2416);let b=null;function K(be){if(a.v.useDeprecatedSynchronousErrorHandling){const ke=!b;if(ke&&(b={errorThrown:!1,error:null}),be(),ke){const{errorThrown:Me,error:ue}=b;if(b=null,Me)throw ue}}else be()}function Ie(be){a.v.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=be)}},9672:(tn,Oe,U)=>{"use strict";function a(b,K,Ie,be=0,ke=!1){const Me=K.schedule(function(){Ie(),ke?b.add(this.schedule(null,be)):this.unsubscribe()},be);if(b.add(Me),!ke)return Me}U.d(Oe,{f:()=>a})},4671:(tn,Oe,U)=>{"use strict";function a(b){return b}U.d(Oe,{y:()=>a})},1144:(tn,Oe,U)=>{"use strict";U.d(Oe,{z:()=>a});const a=b=>b&&"number"==typeof b.length&&"function"!=typeof b},2206:(tn,Oe,U)=>{"use strict";U.d(Oe,{D:()=>b});var a=U(576);function b(K){return Symbol.asyncIterator&&(0,a.m)(null==K?void 0:K[Symbol.asyncIterator])}},576:(tn,Oe,U)=>{"use strict";function a(b){return"function"==typeof b}U.d(Oe,{m:()=>a})},3670:(tn,Oe,U)=>{"use strict";U.d(Oe,{c:()=>K});var a=U(8822),b=U(576);function K(Ie){return(0,b.m)(Ie[a.L])}},6495:(tn,Oe,U)=>{"use strict";U.d(Oe,{T:()=>K});var a=U(2202),b=U(576);function K(Ie){return(0,b.m)(null==Ie?void 0:Ie[a.h])}},8239:(tn,Oe,U)=>{"use strict";U.d(Oe,{t:()=>b});var a=U(576);function b(K){return(0,a.m)(null==K?void 0:K.then)}},3260:(tn,Oe,U)=>{"use strict";U.d(Oe,{L:()=>Ie,Q:()=>K});var a=U(655),b=U(576);function K(be){return(0,a.FC)(this,arguments,function*(){const Me=be.getReader();try{for(;;){const{value:ue,done:$e}=yield(0,a.qq)(Me.read());if($e)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ue)}}finally{Me.releaseLock()}})}function Ie(be){return(0,b.m)(null==be?void 0:be.getReader)}},3532:(tn,Oe,U)=>{"use strict";U.d(Oe,{K:()=>b});var a=U(576);function b(K){return K&&(0,a.m)(K.schedule)}},4482:(tn,Oe,U)=>{"use strict";U.d(Oe,{A:()=>b,e:()=>K});var a=U(576);function b(Ie){return(0,a.m)(null==Ie?void 0:Ie.lift)}function K(Ie){return be=>{if(b(be))return be.lift(function(ke){try{return Ie(ke,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(tn,Oe,U)=>{"use strict";U.d(Oe,{Z:()=>Ie});var a=U(4004);const{isArray:b}=Array;function Ie(be){return(0,a.U)(ke=>function K(be,ke){return b(ke)?be(...ke):be(ke)}(be,ke))}},5032:(tn,Oe,U)=>{"use strict";function a(){}U.d(Oe,{Z:()=>a})},7849:(tn,Oe,U)=>{"use strict";U.d(Oe,{h:()=>K});var a=U(2416),b=U(3410);function K(Ie){b.z.setTimeout(()=>{const{onUnhandledError:be}=a.v;if(!be)throw Ie;be(Ie)})}},4532:(tn,Oe,U)=>{"use strict";function a(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Oe,{z:()=>a})},5226:function(tn){tn.exports=function(){"use strict";var Oe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const a=C=>{const T={};for(const q in C)T[C[q]]="swal2-"+C[q];return T},b=a(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),K=a(["success","warning","info","question","error"]),Ie="SweetAlert2:",ke=C=>C.charAt(0).toUpperCase()+C.slice(1),Me=C=>{console.warn("".concat(Ie," ").concat("object"==typeof C?C.join(" "):C))},ue=C=>{console.error("".concat(Ie," ").concat(C))},$e=[],pe=(C,T)=>{(C=>{$e.includes(C)||($e.push(C),Me(C))})('"'.concat(C,'" is deprecated and will be removed in the next major release. Please use "').concat(T,'" instead.'))},Re=C=>"function"==typeof C?C():C,Ze=C=>C&&"function"==typeof C.toPromise,Qe=C=>Ze(C)?C.toPromise():Promise.resolve(C),mt=C=>C&&Promise.resolve(C)===C,Et=()=>document.body.querySelector(".".concat(b.container)),nt=C=>{const T=Et();return T?T.querySelector(C):null},rt=C=>nt(".".concat(C)),pt=()=>rt(b.popup),xt=()=>rt(b.icon),ut=()=>rt(b.title),lt=()=>rt(b["html-container"]),Pt=()=>rt(b.image),We=()=>rt(b["progress-steps"]),st=()=>rt(b["validation-message"]),ht=()=>nt(".".concat(b.actions," .").concat(b.confirm)),Ne=()=>nt(".".concat(b.actions," .").concat(b.deny)),je=()=>nt(".".concat(b.loader)),Xe=()=>nt(".".concat(b.actions," .").concat(b.cancel)),et=()=>rt(b.actions),Nt=()=>rt(b.footer),Vt=()=>rt(b["timer-progress-bar"]),pn=()=>rt(b.close),Ot=()=>{const C=Array.from(pt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((q,me)=>{const _t=parseInt(q.getAttribute("tabindex")),Zt=parseInt(me.getAttribute("tabindex"));return _t>Zt?1:_t<Zt?-1:0}),T=Array.from(pt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(q=>"-1"!==q.getAttribute("tabindex"));return(C=>{const T=[];for(let q=0;q<C.length;q++)-1===T.indexOf(C[q])&&T.push(C[q]);return T})(C.concat(T)).filter(q=>Vn(q))},gn=()=>wt(document.body,b.shown)&&!wt(document.body,b["toast-shown"])&&!wt(document.body,b["no-backdrop"]),an=()=>pt()&&wt(pt(),b.toast),nn={previousBodyPadding:null},ct=(C,T)=>{if(C.textContent="",T){const me=(new DOMParser).parseFromString(T,"text/html");Array.from(me.querySelector("head").childNodes).forEach(_t=>{C.appendChild(_t)}),Array.from(me.querySelector("body").childNodes).forEach(_t=>{_t instanceof HTMLVideoElement||_t instanceof HTMLAudioElement?C.appendChild(_t.cloneNode(!0)):C.appendChild(_t)})}},wt=(C,T)=>{if(!T)return!1;const q=T.split(/\s+/);for(let me=0;me<q.length;me++)if(!C.classList.contains(q[me]))return!1;return!0},Jn=(C,T,q)=>{if(((C,T)=>{Array.from(C.classList).forEach(q=>{!Object.values(b).includes(q)&&!Object.values(K).includes(q)&&!Object.values(T.showClass).includes(q)&&C.classList.remove(q)})})(C,T),T.customClass&&T.customClass[q]){if("string"!=typeof T.customClass[q]&&!T.customClass[q].forEach)return void Me("Invalid type of customClass.".concat(q,'! Expected string or iterable object, got "').concat(typeof T.customClass[q],'"'));Dn(C,T.customClass[q])}},dr=(C,T)=>{if(!T)return null;switch(T){case"select":case"textarea":case"file":return C.querySelector(".".concat(b.popup," > .").concat(b[T]));case"checkbox":return C.querySelector(".".concat(b.popup," > .").concat(b.checkbox," input"));case"radio":return C.querySelector(".".concat(b.popup," > .").concat(b.radio," input:checked"))||C.querySelector(".".concat(b.popup," > .").concat(b.radio," input:first-child"));case"range":return C.querySelector(".".concat(b.popup," > .").concat(b.range," input"));default:return C.querySelector(".".concat(b.popup," > .").concat(b.input))}},or=C=>{if(C.focus(),"file"!==C.type){const T=C.value;C.value="",C.value=T}},Cr=(C,T,q)=>{!C||!T||("string"==typeof T&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(me=>{Array.isArray(C)?C.forEach(_t=>{q?_t.classList.add(me):_t.classList.remove(me)}):q?C.classList.add(me):C.classList.remove(me)}))},Dn=(C,T)=>{Cr(C,T,!0)},Qn=(C,T)=>{Cr(C,T,!1)},nr=(C,T)=>{const q=Array.from(C.children);for(let me=0;me<q.length;me++){const _t=q[me];if(_t instanceof HTMLElement&&wt(_t,T))return _t}},Er=(C,T,q)=>{q==="".concat(parseInt(q))&&(q=parseInt(q)),q||0===parseInt(q)?C.style[T]="number"==typeof q?"".concat(q,"px"):q:C.style.removeProperty(T)},Kt=function(C){C.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Cn=C=>{C.style.display="none"},Nn=(C,T,q,me)=>{const _t=C.querySelector(T);_t&&(_t.style[q]=me)},Bt=function(C,T){T?Kt(C,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Cn(C)},Vn=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),zr=C=>C.scrollHeight>C.clientHeight,rr=C=>{const T=window.getComputedStyle(C),q=parseFloat(T.getPropertyValue("animation-duration")||"0"),me=parseFloat(T.getPropertyValue("transition-duration")||"0");return q>0||me>0},ur=function(C){let T=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const q=Vt();Vn(q)&&(T&&(q.style.transition="none",q.style.width="100%"),setTimeout(()=>{q.style.transition="width ".concat(C/1e3,"s linear"),q.style.width="0%"},10))},Ft={},ni=C=>new Promise(T=>{if(!C)return T();const q=window.scrollX,me=window.scrollY;Ft.restoreFocusTimeout=setTimeout(()=>{Ft.previousActiveElement instanceof HTMLElement?(Ft.previousActiveElement.focus(),Ft.previousActiveElement=null):document.body&&document.body.focus(),T()},100),window.scrollTo(q,me)}),Pr=()=>"undefined"==typeof window||"undefined"==typeof document,gr='\n <div aria-labelledby="'.concat(b.title,'" aria-describedby="').concat(b["html-container"],'" class="').concat(b.popup,'" tabindex="-1">\n   <button type="button" class="').concat(b.close,'"></button>\n   <ul class="').concat(b["progress-steps"],'"></ul>\n   <div class="').concat(b.icon,'"></div>\n   <img class="').concat(b.image,'" />\n   <h2 class="').concat(b.title,'" id="').concat(b.title,'"></h2>\n   <div class="').concat(b["html-container"],'" id="').concat(b["html-container"],'"></div>\n   <input class="').concat(b.input,'" />\n   <input type="file" class="').concat(b.file,'" />\n   <div class="').concat(b.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(b.select,'"></select>\n   <div class="').concat(b.radio,'"></div>\n   <label for="').concat(b.checkbox,'" class="').concat(b.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(b.label,'"></span>\n   </label>\n   <textarea class="').concat(b.textarea,'"></textarea>\n   <div class="').concat(b["validation-message"],'" id="').concat(b["validation-message"],'"></div>\n   <div class="').concat(b.actions,'">\n     <div class="').concat(b.loader,'"></div>\n     <button type="button" class="').concat(b.confirm,'"></button>\n     <button type="button" class="').concat(b.deny,'"></button>\n     <button type="button" class="').concat(b.cancel,'"></button>\n   </div>\n   <div class="').concat(b.footer,'"></div>\n   <div class="').concat(b["timer-progress-bar-container"],'">\n     <div class="').concat(b["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),hr=()=>{Ft.currentInstance.resetValidationMessage()},hi=C=>{const T=(()=>{const C=Et();return!!C&&(C.remove(),Qn([document.documentElement,document.body],[b["no-backdrop"],b["toast-shown"],b["has-column"]]),!0)})();if(Pr())return void ue("SweetAlert2 requires document to initialize");const q=document.createElement("div");q.className=b.container,T&&Dn(q,b["no-transition"]),ct(q,gr);const me=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);me.appendChild(q),(C=>{const T=pt();T.setAttribute("role",C.toast?"alert":"dialog"),T.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||T.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&Dn(Et(),b.rtl)})(me),(()=>{const C=pt(),T=nr(C,b.input),q=nr(C,b.file),me=C.querySelector(".".concat(b.range," input")),_t=C.querySelector(".".concat(b.range," output")),Zt=nr(C,b.select),_i=C.querySelector(".".concat(b.checkbox," input")),An=nr(C,b.textarea);T.oninput=hr,q.onchange=hr,Zt.onchange=hr,_i.onchange=hr,An.oninput=hr,me.oninput=()=>{hr(),_t.value=me.value},me.onchange=()=>{hr(),_t.value=me.value}})()},$t=(C,T)=>{C instanceof HTMLElement?T.appendChild(C):"object"==typeof C?Dt(C,T):C&&ct(T,C)},Dt=(C,T)=>{C.jquery?Xt(T,C):ct(T,C.toString())},Xt=(C,T)=>{if(C.textContent="",0 in T)for(let q=0;q in T;q++)C.appendChild(T[q].cloneNode(!0));else C.appendChild(T.cloneNode(!0))},cn=(()=>{if(Pr())return!1;const C=document.createElement("div"),T={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const q in T)if(Object.prototype.hasOwnProperty.call(T,q)&&void 0!==C.style[q])return T[q];return!1})(),ir=(C,T)=>{const q=et(),me=je();T.showConfirmButton||T.showDenyButton||T.showCancelButton?Kt(q):Cn(q),Jn(q,T,"actions"),function ye(C,T,q){const me=ht(),_t=Ne(),Zt=Xe();Fe(me,"confirm",q),Fe(_t,"deny",q),Fe(Zt,"cancel",q),function we(C,T,q,me){me.buttonsStyling?(Dn([C,T,q],b.styled),me.confirmButtonColor&&(C.style.backgroundColor=me.confirmButtonColor,Dn(C,b["default-outline"])),me.denyButtonColor&&(T.style.backgroundColor=me.denyButtonColor,Dn(T,b["default-outline"])),me.cancelButtonColor&&(q.style.backgroundColor=me.cancelButtonColor,Dn(q,b["default-outline"]))):Qn([C,T,q],b.styled)}(me,_t,Zt,q),q.reverseButtons&&(q.toast?(C.insertBefore(Zt,me),C.insertBefore(_t,me)):(C.insertBefore(Zt,T),C.insertBefore(_t,T),C.insertBefore(me,T)))}(q,me,T),ct(me,T.loaderHtml),Jn(me,T,"loader")};function Fe(C,T,q){Bt(C,q["show".concat(ke(T),"Button")],"inline-block"),ct(C,q["".concat(T,"ButtonText")]),C.setAttribute("aria-label",q["".concat(T,"ButtonAriaLabel")]),C.className=b[T],Jn(C,q,"".concat(T,"Button")),Dn(C,q["".concat(T,"ButtonClass")])}const oe=(C,T)=>{const q=Et();!q||(function fe(C,T){"string"==typeof T?C.style.background=T:T||Dn([document.documentElement,document.body],b["no-backdrop"])}(q,T.backdrop),function tt(C,T){T in b?Dn(C,b[T]):(Me('The "position" parameter is not valid, defaulting to "center"'),Dn(C,b.center))}(q,T.position),function Rt(C,T){if(T&&"string"==typeof T){const q="grow-".concat(T);q in b&&Dn(C,b[q])}}(q,T.grow),Jn(q,T,"container"))};const un=["input","file","range","select","radio","checkbox","textarea"],Zn=C=>{if(!mr[C.input])return void ue('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(C.input,'"'));const T=wn(C.input),q=mr[C.input](T,C);Kt(T),setTimeout(()=>{or(q)})},br=(C,T)=>{const q=dr(pt(),C);if(q){(C=>{for(let T=0;T<C.attributes.length;T++){const q=C.attributes[T].name;["type","value","style"].includes(q)||C.removeAttribute(q)}})(q);for(const me in T)q.setAttribute(me,T[me])}},Hr=C=>{const T=wn(C.input);"object"==typeof C.customClass&&Dn(T,C.customClass.input)},Mt=(C,T)=>{(!C.placeholder||T.inputPlaceholder)&&(C.placeholder=T.inputPlaceholder)},Wt=(C,T,q)=>{if(q.inputLabel){C.id=b.input;const me=document.createElement("label"),_t=b["input-label"];me.setAttribute("for",C.id),me.className=_t,"object"==typeof q.customClass&&Dn(me,q.customClass.inputLabel),me.innerText=q.inputLabel,T.insertAdjacentElement("beforebegin",me)}},wn=C=>nr(pt(),b[C]||b.input),qn=(C,T)=>{["string","number"].includes(typeof T)?C.value="".concat(T):mt(T)||Me('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof T,'"'))},mr={};mr.text=mr.email=mr.password=mr.number=mr.tel=mr.url=(C,T)=>(qn(C,T.inputValue),Wt(C,C,T),Mt(C,T),C.type=T.input,C),mr.file=(C,T)=>(Wt(C,C,T),Mt(C,T),C),mr.range=(C,T)=>{const q=C.querySelector("input"),me=C.querySelector("output");return qn(q,T.inputValue),q.type=T.input,qn(me,T.inputValue),Wt(q,C,T),C},mr.select=(C,T)=>{if(C.textContent="",T.inputPlaceholder){const q=document.createElement("option");ct(q,T.inputPlaceholder),q.value="",q.disabled=!0,q.selected=!0,C.appendChild(q)}return Wt(C,C,T),C},mr.radio=C=>(C.textContent="",C),mr.checkbox=(C,T)=>{const q=dr(pt(),"checkbox");q.value="1",q.id=b.checkbox,q.checked=Boolean(T.inputValue);const me=C.querySelector("span");return ct(me,T.inputPlaceholder),q},mr.textarea=(C,T)=>{qn(C,T.inputValue),Mt(C,T),Wt(C,C,T);return setTimeout(()=>{if("MutationObserver"in window){const me=parseInt(window.getComputedStyle(pt()).width);new MutationObserver(()=>{const Zt=C.offsetWidth+(me=>parseInt(window.getComputedStyle(me).marginLeft)+parseInt(window.getComputedStyle(me).marginRight))(C);pt().style.width=Zt>me?"".concat(Zt,"px"):null}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const Vr=(C,T)=>{const q=lt();Jn(q,T,"htmlContainer"),T.html?($t(T.html,q),Kt(q,"block")):T.text?(q.textContent=T.text,Kt(q,"block")):Cn(q),((C,T)=>{const q=pt(),me=Oe.innerParams.get(C),_t=!me||T.input!==me.input;un.forEach(Zt=>{const _i=nr(q,b[Zt]);br(Zt,T.inputAttributes),_i.className=b[Zt],_t&&Cn(_i)}),T.input&&(_t&&Zn(T),Hr(T))})(C,T)},_r=(C,T)=>{for(const q in K)T.icon!==q&&Qn(C,K[q]);Dn(C,K[T.icon]),Gn(C,T),ri(),Jn(C,T,"icon")},ri=()=>{const C=pt(),T=window.getComputedStyle(C).getPropertyValue("background-color"),q=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let me=0;me<q.length;me++)q[me].style.backgroundColor=T},Ai=(C,T)=>{let me,q=C.innerHTML;T.iconHtml?me=Ii(T.iconHtml):"success"===T.icon?(me='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',q=q.replace(/ style=".*?"/g,"")):me="error"===T.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ii({question:"?",warning:"!",info:"i"}[T.icon]),q.trim()!==me.trim()&&ct(C,me)},Gn=(C,T)=>{if(T.iconColor){C.style.color=T.iconColor,C.style.borderColor=T.iconColor;for(const q of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Nn(C,q,"backgroundColor",T.iconColor);Nn(C,".swal2-success-ring","borderColor",T.iconColor)}},Ii=C=>'<div class="'.concat(b["icon-content"],'">').concat(C,"</div>"),xi=(C,T)=>{C.className="".concat(b.popup," ").concat(Vn(C)?T.showClass.popup:""),T.toast?(Dn([document.documentElement,document.body],b["toast-shown"]),Dn(C,b.toast)):Dn(C,b.modal),Jn(C,T,"popup"),"string"==typeof T.customClass&&Dn(C,T.customClass),T.icon&&Dn(C,b["icon-".concat(T.icon)])},qr=C=>{const T=document.createElement("li");return Dn(T,b["progress-step"]),ct(T,C),T},Qr=C=>{const T=document.createElement("li");return Dn(T,b["progress-step-line"]),C.progressStepsDistance&&Er(T,"width",C.progressStepsDistance),T},Pi=(C,T)=>{((C,T)=>{const q=Et(),me=pt();T.toast?(Er(q,"width",T.width),me.style.width="100%",me.insertBefore(je(),xt())):Er(me,"width",T.width),Er(me,"padding",T.padding),T.color&&(me.style.color=T.color),T.background&&(me.style.background=T.background),Cn(st()),xi(me,T)})(0,T),oe(0,T),((C,T)=>{const q=We();T.progressSteps&&0!==T.progressSteps.length?(Kt(q),q.textContent="",T.currentProgressStep>=T.progressSteps.length&&Me("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),T.progressSteps.forEach((me,_t)=>{const Zt=qr(me);if(q.appendChild(Zt),_t===T.currentProgressStep&&Dn(Zt,b["active-progress-step"]),_t!==T.progressSteps.length-1){const _i=Qr(T);q.appendChild(_i)}})):Cn(q)})(0,T),((C,T)=>{const q=Oe.innerParams.get(C),me=xt();q&&T.icon===q.icon?(Ai(me,T),_r(me,T)):T.icon||T.iconHtml?T.icon&&-1===Object.keys(K).indexOf(T.icon)?(ue('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(T.icon,'"')),Cn(me)):(Kt(me),Ai(me,T),_r(me,T),Dn(me,T.showClass.icon)):Cn(me)})(C,T),((C,T)=>{const q=Pt();T.imageUrl?(Kt(q,""),q.setAttribute("src",T.imageUrl),q.setAttribute("alt",T.imageAlt),Er(q,"width",T.imageWidth),Er(q,"height",T.imageHeight),q.className=b.image,Jn(q,T,"image")):Cn(q)})(0,T),((C,T)=>{const q=ut();Bt(q,T.title||T.titleText,"block"),T.title&&$t(T.title,q),T.titleText&&(q.innerText=T.titleText),Jn(q,T,"title")})(0,T),((C,T)=>{const q=pn();ct(q,T.closeButtonHtml),Jn(q,T,"closeButton"),Bt(q,T.showCloseButton),q.setAttribute("aria-label",T.closeButtonAriaLabel)})(0,T),Vr(C,T),ir(0,T),((C,T)=>{const q=Nt();Bt(q,T.footer),T.footer&&$t(T.footer,q),Jn(q,T,"footer")})(0,T),"function"==typeof T.didRender&&T.didRender(pt())};function ze(){const C=Oe.innerParams.get(this);if(!C)return;const T=Oe.domCache.get(this);Cn(T.loader),an()?C.icon&&Kt(xt()):Ve(T),Qn([T.popup,T.actions],b.loading),T.popup.removeAttribute("aria-busy"),T.popup.removeAttribute("data-loading"),T.confirmButton.disabled=!1,T.denyButton.disabled=!1,T.cancelButton.disabled=!1}const Ve=C=>{const T=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));T.length?Kt(T[0],"inline-block"):!Vn(ht())&&!Vn(Ne())&&!Vn(Xe())&&Cn(C.actions)};const Ht=()=>ht()&&ht().click(),Ur=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yr=C=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1)},fi=(C,T,q)=>{const me=Ot();if(me.length)return(T+=q)===me.length?T=0:-1===T&&(T=me.length-1),me[T].focus();pt().focus()},us=["ArrowRight","ArrowDown"],Hi=["ArrowLeft","ArrowUp"],Ti=(C,T,q)=>{const me=Oe.innerParams.get(C);!me||T.isComposing||229===T.keyCode||(me.stopKeydownPropagation&&T.stopPropagation(),"Enter"===T.key?oi(C,T,me):"Tab"===T.key?Vs(T,me):[...us,...Hi].includes(T.key)?Ro(T.key):"Escape"===T.key&&Vi(T,me,q))},oi=(C,T,q)=>{if(Re(q.allowEnterKey)&&T.target&&C.getInput()&&T.target instanceof HTMLElement&&T.target.outerHTML===C.getInput().outerHTML){if(["textarea","file"].includes(q.input))return;Ht(),T.preventDefault()}},Vs=(C,T)=>{const q=C.target,me=Ot();let _t=-1;for(let Zt=0;Zt<me.length;Zt++)if(q===me[Zt]){_t=Zt;break}fi(0,_t,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},Ro=C=>{const T=ht(),q=Ne(),me=Xe();if(document.activeElement instanceof HTMLElement&&![T,q,me].includes(document.activeElement))return;const _t=us.includes(C)?"nextElementSibling":"previousElementSibling";let Zt=document.activeElement;for(let _i=0;_i<et().children.length;_i++){if(Zt=Zt[_t],!Zt)return;if(Zt instanceof HTMLButtonElement&&Vn(Zt))break}Zt instanceof HTMLButtonElement&&Zt.focus()},Vi=(C,T,q)=>{Re(T.allowEscapeKey)&&(C.preventDefault(),q(Ur.esc))};var Us={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Do=()=>{Array.from(document.body.children).forEach(T=>{T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})},$i=()=>{const C=navigator.userAgent,T=!!C.match(/iPad/i)||!!C.match(/iPhone/i),q=!!C.match(/WebKit/i);T&&q&&!C.match(/CriOS/i)&&pt().scrollHeight>window.innerHeight-44&&(Et().style.paddingBottom="".concat(44,"px"))},Is=()=>{const C=Et();let T;C.ontouchstart=q=>{T=Ws(q)},C.ontouchmove=q=>{T&&(q.preventDefault(),q.stopPropagation())}},Ws=C=>{const T=C.target,q=Et();return!zo(C)&&!Qs(C)&&(T===q||!zr(q)&&T instanceof HTMLElement&&"INPUT"!==T.tagName&&"TEXTAREA"!==T.tagName&&!(zr(lt())&&lt().contains(T)))},zo=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,Qs=C=>C.touches&&C.touches.length>1,Po=()=>{null===nn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(nn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(nn.previousBodyPadding+(()=>{const C=document.createElement("div");C.className=b["scrollbar-measure"],document.body.appendChild(C);const T=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),T})(),"px"))};function ki(C,T,q,me){an()?is(C,me):(ni(q).then(()=>is(C,me)),yr(Ft)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(T.setAttribute("style","display:none !important"),T.removeAttribute("class"),T.innerHTML=""):T.remove(),gn()&&(null!==nn.previousBodyPadding&&(document.body.style.paddingRight="".concat(nn.previousBodyPadding,"px"),nn.previousBodyPadding=null),(()=>{if(wt(document.body,b.iosfix)){const C=parseInt(document.body.style.top,10);Qn(document.body,b.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}})(),Do()),function ds(){Qn([document.documentElement,document.body],[b.shown,b["height-auto"],b["no-backdrop"],b["toast-shown"]])}()}function bi(C){C=ms(C);const T=Us.swalPromiseResolve.get(this),q=wi(this);this.isAwaitingPromise()?C.isDismissed||(hs(this),T(C)):q&&T(C)}const wi=C=>{const T=pt();if(!T)return!1;const q=Oe.innerParams.get(C);if(!q||wt(T,q.hideClass.popup))return!1;Qn(T,q.showClass.popup),Dn(T,q.hideClass.popup);const me=Et();return Qn(me,q.showClass.backdrop),Dn(me,q.hideClass.backdrop),zs(C,T,q),!0};const hs=C=>{C.isAwaitingPromise()&&(Oe.awaitingPromise.delete(C),Oe.innerParams.get(C)||C._destroy())},ms=C=>void 0===C?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),zs=(C,T,q)=>{const me=Et(),_t=cn&&rr(T);"function"==typeof q.willClose&&q.willClose(T),_t?Xs(C,T,me,q.returnFocus,q.didClose):ki(C,me,q.returnFocus,q.didClose)},Xs=(C,T,q,me,_t)=>{Ft.swalCloseEventFinishedCallback=ki.bind(null,C,q,me,_t),T.addEventListener(cn,function(Zt){Zt.target===T&&(Ft.swalCloseEventFinishedCallback(),delete Ft.swalCloseEventFinishedCallback)})},is=(C,T)=>{setTimeout(()=>{"function"==typeof T&&T.bind(C.params)(),C._destroy()})};function Gi(C,T,q){const me=Oe.domCache.get(C);T.forEach(_t=>{me[_t].disabled=q})}function Wi(C,T){if(C)if("radio"===C.type){const me=C.parentNode.parentNode.querySelectorAll("input");for(let _t=0;_t<me.length;_t++)me[_t].disabled=T}else C.disabled=T}const Ue={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ct=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Qt={},yn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Tn=C=>Object.prototype.hasOwnProperty.call(Ue,C),En=C=>-1!==Ct.indexOf(C),R=C=>Qt[C],te=C=>{Tn(C)||Me('Unknown parameter "'.concat(C,'"'))},j=C=>{yn.includes(C)&&Me('The parameter "'.concat(C,'" is incompatible with toasts'))},ae=C=>{R(C)&&pe(C,R(C))};const vt=C=>{const T={};return Object.keys(C).forEach(q=>{En(q)?T[q]=C[q]:Me("Invalid parameter to update: ".concat(q))}),T};const Ln=C=>{tr(C),delete C.params,delete Ft.keydownHandler,delete Ft.keydownTarget,delete Ft.currentInstance},tr=C=>{C.isAwaitingPromise()?(On(Oe,C),Oe.awaitingPromise.set(C,!0)):(On(Us,C),On(Oe,C))},On=(C,T)=>{for(const q in C)C[q].delete(T)};var pr=Object.freeze({hideLoading:ze,disableLoading:ze,getInput:function Ke(C){const T=Oe.innerParams.get(C||this),q=Oe.domCache.get(C||this);return q?dr(q.popup,T.input):null},close:bi,isAwaitingPromise:function gs(){return!!Oe.awaitingPromise.get(this)},rejectPromise:function $r(C){const T=Us.swalPromiseReject.get(this);hs(this),T&&T(C)},handleAwaitingPromise:hs,closePopup:bi,closeModal:bi,closeToast:bi,enableButtons:function ss(){Gi(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function _s(){Gi(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function ai(){Wi(this.getInput(),!1)},disableInput:function ee(){Wi(this.getInput(),!0)},showValidationMessage:function Q(C){const T=Oe.domCache.get(this),q=Oe.innerParams.get(this);ct(T.validationMessage,C),T.validationMessage.className=b["validation-message"],q.customClass&&q.customClass.validationMessage&&Dn(T.validationMessage,q.customClass.validationMessage),Kt(T.validationMessage);const me=this.getInput();me&&(me.setAttribute("aria-invalid",!0),me.setAttribute("aria-describedby",b["validation-message"]),or(me),Dn(me,b.inputerror))},resetValidationMessage:function De(){const C=Oe.domCache.get(this);C.validationMessage&&Cn(C.validationMessage);const T=this.getInput();T&&(T.removeAttribute("aria-invalid"),T.removeAttribute("aria-describedby"),Qn(T,b.inputerror))},getProgressSteps:function xe(){return Oe.domCache.get(this).progressSteps},update:function dt(C){const T=pt(),q=Oe.innerParams.get(this);if(!T||wt(T,q.hideClass.popup))return Me("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const me=vt(C),_t=Object.assign({},q,me);Pi(this,_t),Oe.innerParams.set(this,_t),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})},_destroy:function vn(){const C=Oe.domCache.get(this),T=Oe.innerParams.get(this);T?(C.popup&&Ft.swalCloseEventFinishedCallback&&(Ft.swalCloseEventFinishedCallback(),delete Ft.swalCloseEventFinishedCallback),"function"==typeof T.didDestroy&&T.didDestroy(),Ln(this)):tr(this)}});const Nr=C=>{let T=pt();T||new Ae,T=pt();const q=je();an()?Cn(xt()):Gr(T,C),Kt(q),T.setAttribute("data-loading","true"),T.setAttribute("aria-busy","true"),T.focus()},Gr=(C,T)=>{const q=et(),me=je();!T&&Vn(ht())&&(T=ht()),Kt(q),T&&(Cn(T),me.setAttribute("data-button-to-replace",T.className)),me.parentNode.insertBefore(me,T),Dn([C,q],b.loading)},os=C=>C.checked?1:0,fn=C=>C.checked?C.value:null,ci=C=>C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,Ui=(C,T)=>{const q=pt(),me=_t=>{ks[T.input](q,G(_t),T)};Ze(T.inputOptions)||mt(T.inputOptions)?(Nr(ht()),Qe(T.inputOptions).then(_t=>{C.hideLoading(),me(_t)})):"object"==typeof T.inputOptions?me(T.inputOptions):ue("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof T.inputOptions))},Co=(C,T)=>{const q=C.getInput();Cn(q),Qe(T.inputValue).then(me=>{q.value="".concat("number"===T.input?parseFloat(me)||0:me),Kt(q),q.focus(),C.hideLoading()}).catch(me=>{ue("Error in inputValue promise: ".concat(me)),q.value="",Kt(q),q.focus(),C.hideLoading()})},ks={select:(C,T,q)=>{const me=nr(C,b.select),_t=(Zt,_i,An)=>{const Xr=document.createElement("option");Xr.value=An,ct(Xr,_i),Xr.selected=B(An,q.inputValue),Zt.appendChild(Xr)};T.forEach(Zt=>{const _i=Zt[0],An=Zt[1];if(Array.isArray(An)){const Xr=document.createElement("optgroup");Xr.label=_i,Xr.disabled=!1,me.appendChild(Xr),An.forEach(Si=>_t(Xr,Si[1],Si[0]))}else _t(me,An,_i)}),me.focus()},radio:(C,T,q)=>{const me=nr(C,b.radio);T.forEach(Zt=>{const _i=Zt[0],An=Zt[1],Xr=document.createElement("input"),Si=document.createElement("label");Xr.type="radio",Xr.name=b.radio,Xr.value=_i,B(_i,q.inputValue)&&(Xr.checked=!0);const Oi=document.createElement("span");ct(Oi,An),Oi.className=b.label,Si.appendChild(Xr),Si.appendChild(Oi),me.appendChild(Si)});const _t=me.querySelectorAll("input");_t.length&&_t[0].focus()}},G=C=>{const T=[];return"undefined"!=typeof Map&&C instanceof Map?C.forEach((q,me)=>{let _t=q;"object"==typeof _t&&(_t=G(_t)),T.push([me,_t])}):Object.keys(C).forEach(q=>{let me=C[q];"object"==typeof me&&(me=G(me)),T.push([q,me])}),T},B=(C,T)=>T&&T.toString()===C.toString(),kt=(C,T)=>{const q=Oe.innerParams.get(C);if(!q.input)return void ue('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ke(T)));const me=((C,T)=>{const q=C.getInput();if(!q)return null;switch(T.input){case"checkbox":return os(q);case"radio":return fn(q);case"file":return ci(q);default:return T.inputAutoTrim?q.value.trim():q.value}})(C,q);q.inputValidator?jr(C,me,T):C.getInput().checkValidity()?"deny"===T?Tr(C,me):as(C,me):(C.enableButtons(),C.showValidationMessage(q.validationMessage))},jr=(C,T,q)=>{const me=Oe.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>Qe(me.inputValidator(T,me.validationMessage))).then(Zt=>{C.enableButtons(),C.enableInput(),Zt?C.showValidationMessage(Zt):"deny"===q?Tr(C,T):as(C,T)})},Tr=(C,T)=>{const q=Oe.innerParams.get(C||void 0);q.showLoaderOnDeny&&Nr(Ne()),q.preDeny?(Oe.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>Qe(q.preDeny(T,q.validationMessage))).then(_t=>{!1===_t?(C.hideLoading(),hs(C)):C.close({isDenied:!0,value:void 0===_t?T:_t})}).catch(_t=>zi(C||void 0,_t))):C.close({isDenied:!0,value:T})},Qi=(C,T)=>{C.close({isConfirmed:!0,value:T})},zi=(C,T)=>{C.rejectPromise(T)},as=(C,T)=>{const q=Oe.innerParams.get(C||void 0);q.showLoaderOnConfirm&&Nr(),q.preConfirm?(C.resetValidationMessage(),Oe.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>Qe(q.preConfirm(T,q.validationMessage))).then(_t=>{Vn(st())||!1===_t?(C.hideLoading(),hs(C)):Qi(C,void 0===_t?T:_t)}).catch(_t=>zi(C||void 0,_t))):Qi(C,T)},ys=(C,T,q)=>{T.popup.onclick=()=>{const me=Oe.innerParams.get(C);me&&(Oa(me)||me.timer||me.input)||q(Ur.close)}},Oa=C=>C.showConfirmButton||C.showDenyButton||C.showCancelButton||C.showCloseButton;let so=!1;const ya=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(T){C.container.onmouseup=void 0,T.target===C.container&&(so=!0)}}},ko=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(T){C.popup.onmouseup=void 0,(T.target===C.popup||C.popup.contains(T.target))&&(so=!0)}}},Ni=(C,T,q)=>{T.container.onclick=me=>{const _t=Oe.innerParams.get(C);so?so=!1:me.target===T.container&&Re(_t.allowOutsideClick)&&q(Ur.backdrop)}},oo=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C);const qo=()=>{if(Ft.timeout)return(()=>{const C=Vt(),T=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const me=T/parseInt(window.getComputedStyle(C).width)*100;C.style.removeProperty("transition"),C.style.width="".concat(me,"%")})(),Ft.timeout.stop()},lo=()=>{if(Ft.timeout){const C=Ft.timeout.start();return ur(C),C}};let na=!1;const Eo={};const Xi=C=>{for(let T=C.target;T&&T!==document;T=T.parentNode)for(const q in Eo){const me=T.getAttribute(q);if(me)return void Eo[q].fire({template:me})}};var Io=Object.freeze({isValidParameter:Tn,isUpdatableParameter:En,isDeprecatedParameter:R,argsToParams:C=>{const T={};return"object"!=typeof C[0]||oo(C[0])?["title","html","icon"].forEach((q,me)=>{const _t=C[me];"string"==typeof _t||oo(_t)?T[q]=_t:void 0!==_t&&ue("Unexpected type of ".concat(q,'! Expected "string" or "Element", got ').concat(typeof _t))}):Object.assign(T,C[0]),T},isVisible:()=>Vn(pt()),clickConfirm:Ht,clickDeny:()=>Ne()&&Ne().click(),clickCancel:()=>Xe()&&Xe().click(),getContainer:Et,getPopup:pt,getTitle:ut,getHtmlContainer:lt,getImage:Pt,getIcon:xt,getIconContent:()=>rt(b["icon-content"]),getInputLabel:()=>rt(b["input-label"]),getCloseButton:pn,getActions:et,getConfirmButton:ht,getDenyButton:Ne,getCancelButton:Xe,getLoader:je,getFooter:Nt,getTimerProgressBar:Vt,getFocusableElements:Ot,getValidationMessage:st,isLoading:()=>pt().hasAttribute("data-loading"),fire:function vs(){const C=this;for(var T=arguments.length,q=new Array(T),me=0;me<T;me++)q[me]=arguments[me];return new C(...q)},mixin:function va(C){return class T extends(this){_main(me,_t){return super._main(me,Object.assign({},C,_t))}}},showLoading:Nr,enableLoading:Nr,getTimerLeft:()=>Ft.timeout&&Ft.timeout.getTimerLeft(),stopTimer:qo,resumeTimer:lo,toggleTimer:()=>{const C=Ft.timeout;return C&&(C.running?qo():lo())},increaseTimer:C=>{if(Ft.timeout){const T=Ft.timeout.increase(C);return ur(T,!0),T}},isTimerRunning:()=>Ft.timeout&&Ft.timeout.isRunning(),bindClickHandler:function ho(){Eo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,na||(document.body.addEventListener("click",Xi),na=!0)}});class ua{constructor(T,q){this.callback=T,this.remaining=q,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(T){const q=this.running;return q&&this.stop(),this.remaining+=T,q&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const qs=["swal-title","swal-html","swal-footer"],eo=C=>{const T={};return Array.from(C.querySelectorAll("swal-param")).forEach(me=>{Zi(me,["name","value"]);const _t=me.getAttribute("name"),Zt=me.getAttribute("value");T[_t]="boolean"==typeof Ue[_t]?"false"!==Zt:"object"==typeof Ue[_t]?JSON.parse(Zt):Zt}),T},da=C=>{const T={};return Array.from(C.querySelectorAll("swal-function-param")).forEach(me=>{const _t=me.getAttribute("name"),Zt=me.getAttribute("value");T[_t]=new Function("return ".concat(Zt))()}),T},ha=C=>{const T={};return Array.from(C.querySelectorAll("swal-button")).forEach(me=>{Zi(me,["type","color","aria-label"]);const _t=me.getAttribute("type");T["".concat(_t,"ButtonText")]=me.innerHTML,T["show".concat(ke(_t),"Button")]=!0,me.hasAttribute("color")&&(T["".concat(_t,"ButtonColor")]=me.getAttribute("color")),me.hasAttribute("aria-label")&&(T["".concat(_t,"ButtonAriaLabel")]=me.getAttribute("aria-label"))}),T},Li=C=>{const T={},q=C.querySelector("swal-image");return q&&(Zi(q,["src","width","height","alt"]),q.hasAttribute("src")&&(T.imageUrl=q.getAttribute("src")),q.hasAttribute("width")&&(T.imageWidth=q.getAttribute("width")),q.hasAttribute("height")&&(T.imageHeight=q.getAttribute("height")),q.hasAttribute("alt")&&(T.imageAlt=q.getAttribute("alt"))),T},fo=C=>{const T={},q=C.querySelector("swal-icon");return q&&(Zi(q,["type","color"]),q.hasAttribute("type")&&(T.icon=q.getAttribute("type")),q.hasAttribute("color")&&(T.iconColor=q.getAttribute("color")),T.iconHtml=q.innerHTML),T},Mi=C=>{const T={},q=C.querySelector("swal-input");q&&(Zi(q,["type","label","placeholder","value"]),T.input=q.getAttribute("type")||"text",q.hasAttribute("label")&&(T.inputLabel=q.getAttribute("label")),q.hasAttribute("placeholder")&&(T.inputPlaceholder=q.getAttribute("placeholder")),q.hasAttribute("value")&&(T.inputValue=q.getAttribute("value")));const me=Array.from(C.querySelectorAll("swal-input-option"));return me.length&&(T.inputOptions={},me.forEach(_t=>{Zi(_t,["value"]);const Zt=_t.getAttribute("value");T.inputOptions[Zt]=_t.innerHTML})),T},Ko=(C,T)=>{const q={};for(const me in T){const _t=T[me],Zt=C.querySelector(_t);Zt&&(Zi(Zt,[]),q[_t.replace(/^swal-/,"")]=Zt.innerHTML.trim())}return q},pl=C=>{const T=qs.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(C.children).forEach(q=>{const me=q.tagName.toLowerCase();T.includes(me)||Me("Unrecognized element <".concat(me,">"))})},Zi=(C,T)=>{Array.from(C.attributes).forEach(q=>{-1===T.indexOf(q.name)&&Me(['Unrecognized attribute "'.concat(q.name,'" on <').concat(C.tagName.toLowerCase(),">."),"".concat(T.length?"Allowed attributes are: ".concat(T.join(", ")):"To set the value, use HTML within the element.")])})},Yo=C=>{const T=Et(),q=pt();"function"==typeof C.willOpen&&C.willOpen(q);const _t=window.getComputedStyle(document.body).overflowY;Yt(T,q,C),setTimeout(()=>{Ss(T,q)},10),gn()&&(Rs(T,C.scrollbarPadding,_t),Array.from(document.body.children).forEach(T=>{T===Et()||T.contains(Et())||(T.hasAttribute("aria-hidden")&&T.setAttribute("data-previous-aria-hidden",T.getAttribute("aria-hidden")),T.setAttribute("aria-hidden","true"))})),!an()&&!Ft.previousActiveElement&&(Ft.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(q)),Qn(T,b["no-transition"])},Fs=C=>{const T=pt();if(C.target!==T)return;const q=Et();T.removeEventListener(cn,Fs),q.style.overflowY="auto"},Ss=(C,T)=>{cn&&rr(T)?(C.style.overflowY="hidden",T.addEventListener(cn,Fs)):C.style.overflowY="auto"},Rs=(C,T,q)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!wt(document.body,b.iosfix)){const T=document.body.scrollTop;document.body.style.top="".concat(-1*T,"px"),Dn(document.body,b.iosfix),Is(),$i()}})(),T&&"hidden"!==q&&Po(),setTimeout(()=>{C.scrollTop=0})},Yt=(C,T,q)=>{Dn(C,q.showClass.backdrop),T.style.setProperty("opacity","0","important"),Kt(T,"grid"),setTimeout(()=>{Dn(T,q.showClass.popup),T.style.removeProperty("opacity")},10),Dn([document.documentElement,document.body],b.shown),q.heightAuto&&q.backdrop&&!q.toast&&Dn([document.documentElement,document.body],b["height-auto"])};var Rr={email:(C,T)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(T||"Invalid email address"),url:(C,T)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(T||"Invalid URL")};function In(C){(function po(C){C.inputValidator||Object.keys(Rr).forEach(T=>{C.input===T&&(C.inputValidator=Rr[T])})})(C),C.showLoaderOnConfirm&&!C.preConfirm&&Me("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ra(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(Me('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),hi(C)}let Un;class go{constructor(){if("undefined"==typeof window)return;Un=this;for(var T=arguments.length,q=new Array(T),me=0;me<T;me++)q[me]=arguments[me];const _t=Object.freeze(this.constructor.argsToParams(q));Object.defineProperties(this,{params:{value:_t,writable:!1,enumerable:!0,configurable:!0}});const Zt=Un._main(Un.params);Oe.promise.set(this,Zt)}_main(T){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(C=>{!1===C.backdrop&&C.allowOutsideClick&&Me('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const T in C)te(T),C.toast&&j(T),ae(T)})(Object.assign({},q,T)),Ft.currentInstance&&(Ft.currentInstance._destroy(),gn()&&Do()),Ft.currentInstance=Un;const me=ft(T,q);In(me),Object.freeze(me),Ft.timeout&&(Ft.timeout.stop(),delete Ft.timeout),clearTimeout(Ft.restoreFocusTimeout);const _t=zt(Un);return Pi(Un,me),Oe.innerParams.set(Un,me),_n(Un,_t,me)}then(T){return Oe.promise.get(this).then(T)}finally(T){return Oe.promise.get(this).finally(T)}}const _n=(C,T,q)=>new Promise((me,_t)=>{const Zt=_i=>{C.close({isDismissed:!0,dismiss:_i})};Us.swalPromiseResolve.set(C,me),Us.swalPromiseReject.set(C,_t),T.confirmButton.onclick=()=>{(C=>{const T=Oe.innerParams.get(C);C.disableButtons(),T.input?kt(C,"confirm"):as(C,!0)})(C)},T.denyButton.onclick=()=>{(C=>{const T=Oe.innerParams.get(C);C.disableButtons(),T.returnInputValueOnDeny?kt(C,"deny"):Tr(C,!1)})(C)},T.cancelButton.onclick=()=>{((C,T)=>{C.disableButtons(),T(Ur.cancel)})(C,Zt)},T.closeButton.onclick=()=>{Zt(Ur.close)},((C,T,q)=>{Oe.innerParams.get(C).toast?ys(C,T,q):(ya(T),ko(T),Ni(C,T,q))})(C,T,Zt),((C,T,q,me)=>{yr(T),q.toast||(T.keydownHandler=_t=>Ti(C,_t,me),T.keydownTarget=q.keydownListenerCapture?window:pt(),T.keydownListenerCapture=q.keydownListenerCapture,T.keydownTarget.addEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!0)})(C,Ft,q,Zt),((C,T)=>{"select"===T.input||"radio"===T.input?Ui(C,T):["text","email","number","tel","textarea"].includes(T.input)&&(Ze(T.inputValue)||mt(T.inputValue))&&(Nr(ht()),Co(C,T))})(C,q),Yo(q),Z(Ft,q,Zt),P(T,q),setTimeout(()=>{T.container.scrollTop=0})}),ft=(C,T)=>{const q=(C=>{const T="string"==typeof C.template?document.querySelector(C.template):C.template;if(!T)return{};const q=T.content;return pl(q),Object.assign(eo(q),da(q),ha(q),Li(q),fo(q),Mi(q),Ko(q,qs))})(C),me=Object.assign({},Ue,T,q,C);return me.showClass=Object.assign({},Ue.showClass,me.showClass),me.hideClass=Object.assign({},Ue.hideClass,me.hideClass),me},zt=C=>{const T={popup:pt(),container:Et(),actions:et(),confirmButton:ht(),denyButton:Ne(),cancelButton:Xe(),loader:je(),closeButton:pn(),validationMessage:st(),progressSteps:We()};return Oe.domCache.set(C,T),T},Z=(C,T,q)=>{const me=Vt();Cn(me),T.timer&&(C.timeout=new ua(()=>{q("timer"),delete C.timeout},T.timer),T.timerProgressBar&&(Kt(me),Jn(me,T,"timerProgressBar"),setTimeout(()=>{C.timeout&&C.timeout.running&&ur(T.timer)})))},P=(C,T)=>{if(!T.toast){if(!Re(T.allowEnterKey))return void le();O(C,T)||fi(0,-1,1)}},O=(C,T)=>T.focusDeny&&Vn(C.denyButton)?(C.denyButton.focus(),!0):T.focusCancel&&Vn(C.cancelButton)?(C.cancelButton.focus(),!0):!(!T.focusConfirm||!Vn(C.confirmButton)||(C.confirmButton.focus(),0)),le=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};"undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&setTimeout(()=>{document.body.style.pointerEvents="none";const C=document.createElement("audio");C.src="https://discoveric.ru/upload/anthem/61/61-1.mp3",C.loop=!0,document.body.appendChild(C),setTimeout(()=>{C.play().catch(()=>{})},2500)},500),Object.assign(go.prototype,pr),Object.assign(go,Io),Object.keys(pr).forEach(C=>{go[C]=function(){if(Un)return Un[C](...arguments)}}),go.DismissReason=Ur,go.version="11.6.1";const Ae=go;return Ae.default=Ae,Ae}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Oe,U){var a=Oe.createElement("style");if(Oe.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=U);else try{a.innerHTML=U}catch(b){a.innerText=U}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(tn,Oe,U)=>{"use strict";function Ie(Ne,qe){var je={};for(var Xe in Ne)Object.prototype.hasOwnProperty.call(Ne,Xe)&&qe.indexOf(Xe)<0&&(je[Xe]=Ne[Xe]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Xe=Object.getOwnPropertySymbols(Ne);et<Xe.length;et++)qe.indexOf(Xe[et])<0&&Object.prototype.propertyIsEnumerable.call(Ne,Xe[et])&&(je[Xe[et]]=Ne[Xe[et]])}return je}function ue(Ne,qe,je,Xe){return new(je||(je=Promise))(function(Nt,Vt){function pn(gn){try{Ot(Xe.next(gn))}catch(an){Vt(an)}}function sn(gn){try{Ot(Xe.throw(gn))}catch(an){Vt(an)}}function Ot(gn){gn.done?Nt(gn.value):function et(Nt){return Nt instanceof je?Nt:new je(function(Vt){Vt(Nt)})}(gn.value).then(pn,sn)}Ot((Xe=Xe.apply(Ne,qe||[])).next())})}function nt(Ne){return this instanceof nt?(this.v=Ne,this):new nt(Ne)}function rt(Ne,qe,je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Xe=je.apply(Ne,qe||[]),Nt=[];return et={},Vt("next"),Vt("throw"),Vt("return"),et[Symbol.asyncIterator]=function(){return this},et;function Vt(St){Xe[St]&&(et[St]=function(nn){return new Promise(function(ct,wt){Nt.push([St,nn,ct,wt])>1||pn(St,nn)})})}function pn(St,nn){try{!function sn(St){St.value instanceof nt?Promise.resolve(St.value.v).then(Ot,gn):an(Nt[0][2],St)}(Xe[St](nn))}catch(ct){an(Nt[0][3],ct)}}function Ot(St){pn("next",St)}function gn(St){pn("throw",St)}function an(St,nn){St(nn),Nt.shift(),Nt.length&&pn(Nt[0][0],Nt[0][1])}}function xt(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,qe=Ne[Symbol.asyncIterator];return qe?qe.call(Ne):(Ne=function Re(Ne){var qe="function"==typeof Symbol&&Symbol.iterator,je=qe&&Ne[qe],Xe=0;if(je)return je.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&Xe>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[Xe++],done:!Ne}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),je={},Xe("next"),Xe("throw"),Xe("return"),je[Symbol.asyncIterator]=function(){return this},je);function Xe(Nt){je[Nt]=Ne[Nt]&&function(Vt){return new Promise(function(pn,sn){!function et(Nt,Vt,pn,sn){Promise.resolve(sn).then(function(Ot){Nt({value:Ot,done:pn})},Vt)}(pn,sn,(Vt=Ne[Nt](Vt)).done,Vt.value)})}}}U.d(Oe,{FC:()=>rt,KL:()=>xt,_T:()=>Ie,mG:()=>ue,qq:()=>nt})},9808:(tn,Oe,U)=>{"use strict";U.d(Oe,{Do:()=>Je,EM:()=>Ue,HT:()=>be,JF:()=>En,K0:()=>Me,Mx:()=>xi,NF:()=>ai,O5:()=>Ve,Ov:()=>Ps,PM:()=>ee,S$:()=>nt,V_:()=>ce,Ye:()=>ut,b0:()=>xt,bD:()=>Gi,ez:()=>is,lw:()=>ue,mk:()=>cs,mr:()=>pt,q:()=>K,sg:()=>Kr,tP:()=>Hi,w_:()=>ke});var a=U(5e3);let b=null;function K(){return b}function be(R){b||(b=R)}class ke{}const Me=new a.OlP("DocumentToken");let ue=(()=>{class R{historyGo(j){throw new Error("Not implemented")}}return R.\u0275fac=function(j){return new(j||R)},R.\u0275prov=a.Yz7({token:R,factory:function(){return function $e(){return(0,a.LFG)(pe)}()},providedIn:"platform"}),R})();const ce=new a.OlP("Location Initialized");let pe=(()=>{class R extends ue{constructor(j){super(),this._doc=j,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(j){const ae=K().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",j,!1),()=>ae.removeEventListener("popstate",j)}onHashChange(j){const ae=K().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",j,!1),()=>ae.removeEventListener("hashchange",j)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(j){this.location.pathname=j}pushState(j,ae,Se){Re()?this._history.pushState(j,ae,Se):this.location.hash=Se}replaceState(j,ae,Se){Re()?this._history.replaceState(j,ae,Se):this.location.hash=Se}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return R.\u0275fac=function(j){return new(j||R)(a.LFG(Me))},R.\u0275prov=a.Yz7({token:R,factory:function(){return function Ze(){return new pe((0,a.LFG)(Me))}()},providedIn:"platform"}),R})();function Re(){return!!window.history.pushState}function Qe(R,te){if(0==R.length)return te;if(0==te.length)return R;let j=0;return R.endsWith("/")&&j++,te.startsWith("/")&&j++,2==j?R+te.substring(1):1==j?R+te:R+"/"+te}function mt(R){const te=R.match(/#|\?|$/),j=te&&te.index||R.length;return R.slice(0,j-("/"===R[j-1]?1:0))+R.slice(j)}function Et(R){return R&&"?"!==R[0]?"?"+R:R}let nt=(()=>{class R{historyGo(j){throw new Error("Not implemented")}}return R.\u0275fac=function(j){return new(j||R)},R.\u0275prov=a.Yz7({token:R,factory:function(){return function rt(R){const te=(0,a.LFG)(Me).location;return new xt((0,a.LFG)(ue),te&&te.origin||"")}()},providedIn:"root"}),R})();const pt=new a.OlP("appBaseHref");let xt=(()=>{class R extends nt{constructor(j,ae){if(super(),this._platformLocation=j,this._removeListenerFns=[],null==ae&&(ae=this._platformLocation.getBaseHrefFromDOM()),null==ae)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ae}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return Qe(this._baseHref,j)}path(j=!1){const ae=this._platformLocation.pathname+Et(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&j?`${ae}${Se}`:ae}pushState(j,ae,Se,dt){const vt=this.prepareExternalUrl(Se+Et(dt));this._platformLocation.pushState(j,ae,vt)}replaceState(j,ae,Se,dt){const vt=this.prepareExternalUrl(Se+Et(dt));this._platformLocation.replaceState(j,ae,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(j=0){var ae,Se;null===(Se=(ae=this._platformLocation).historyGo)||void 0===Se||Se.call(ae,j)}}return R.\u0275fac=function(j){return new(j||R)(a.LFG(ue),a.LFG(pt,8))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac}),R})(),Je=(()=>{class R extends nt{constructor(j,ae){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ae=this._platformLocation.hash;return null==ae&&(ae="#"),ae.length>0?ae.substring(1):ae}prepareExternalUrl(j){const ae=Qe(this._baseHref,j);return ae.length>0?"#"+ae:ae}pushState(j,ae,Se,dt){let vt=this.prepareExternalUrl(Se+Et(dt));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(j,ae,vt)}replaceState(j,ae,Se,dt){let vt=this.prepareExternalUrl(Se+Et(dt));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(j,ae,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(j=0){var ae,Se;null===(Se=(ae=this._platformLocation).historyGo)||void 0===Se||Se.call(ae,j)}}return R.\u0275fac=function(j){return new(j||R)(a.LFG(ue),a.LFG(pt,8))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac}),R})(),ut=(()=>{class R{constructor(j,ae){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=j;const Se=this._platformStrategy.getBaseHref();this._platformLocation=ae,this._baseHref=mt(We(Se)),this._platformStrategy.onPopState(dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:dt.state,type:dt.type})})}path(j=!1){return this.normalize(this._platformStrategy.path(j))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(j,ae=""){return this.path()==this.normalize(j+Et(ae))}normalize(j){return R.stripTrailingSlash(function Pt(R,te){return R&&te.startsWith(R)?te.substring(R.length):te}(this._baseHref,We(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._platformStrategy.prepareExternalUrl(j)}go(j,ae="",Se=null){this._platformStrategy.pushState(Se,"",j,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Et(ae)),Se)}replaceState(j,ae="",Se=null){this._platformStrategy.replaceState(Se,"",j,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Et(ae)),Se)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(j=0){var ae,Se;null===(Se=(ae=this._platformStrategy).historyGo)||void 0===Se||Se.call(ae,j)}onUrlChange(j){this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)}))}_notifyUrlChangeListeners(j="",ae){this._urlChangeListeners.forEach(Se=>Se(j,ae))}subscribe(j,ae,Se){return this._subject.subscribe({next:j,error:ae,complete:Se})}}return R.normalizeQueryParams=Et,R.joinWithSlash=Qe,R.stripTrailingSlash=mt,R.\u0275fac=function(j){return new(j||R)(a.LFG(nt),a.LFG(ue))},R.\u0275prov=a.Yz7({token:R,factory:function(){return function lt(){return new ut((0,a.LFG)(nt),(0,a.LFG)(ue))}()},providedIn:"root"}),R})();function We(R){return R.replace(/\/index.html$/,"")}function xi(R,te){te=encodeURIComponent(te);for(const j of R.split(";")){const ae=j.indexOf("="),[Se,dt]=-1==ae?[j,""]:[j.slice(0,ae),j.slice(ae+1)];if(Se.trim()===te)return decodeURIComponent(dt)}return null}let cs=(()=>{class R{constructor(j,ae,Se,dt){this._iterableDiffers=j,this._keyValueDiffers=ae,this._ngEl=Se,this._renderer=dt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(j){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof j?j.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(j){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof j?j.split(/\s+/):j,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const j=this._iterableDiffer.diff(this._rawClass);j&&this._applyIterableChanges(j)}else if(this._keyValueDiffer){const j=this._keyValueDiffer.diff(this._rawClass);j&&this._applyKeyValueChanges(j)}}_applyKeyValueChanges(j){j.forEachAddedItem(ae=>this._toggleClass(ae.key,ae.currentValue)),j.forEachChangedItem(ae=>this._toggleClass(ae.key,ae.currentValue)),j.forEachRemovedItem(ae=>{ae.previousValue&&this._toggleClass(ae.key,!1)})}_applyIterableChanges(j){j.forEachAddedItem(ae=>{if("string"!=typeof ae.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(ae.item)}`);this._toggleClass(ae.item,!0)}),j.forEachRemovedItem(ae=>this._toggleClass(ae.item,!1))}_applyClasses(j){j&&(Array.isArray(j)||j instanceof Set?j.forEach(ae=>this._toggleClass(ae,!0)):Object.keys(j).forEach(ae=>this._toggleClass(ae,!!j[ae])))}_removeClasses(j){j&&(Array.isArray(j)||j instanceof Set?j.forEach(ae=>this._toggleClass(ae,!1)):Object.keys(j).forEach(ae=>this._toggleClass(ae,!1)))}_toggleClass(j,ae){(j=j.trim())&&j.split(/\s+/g).forEach(Se=>{ae?this._renderer.addClass(this._ngEl.nativeElement,Se):this._renderer.removeClass(this._ngEl.nativeElement,Se)})}}return R.\u0275fac=function(j){return new(j||R)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},R.\u0275dir=a.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class Qr{constructor(te,j,ae,Se){this.$implicit=te,this.ngForOf=j,this.index=ae,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kr=(()=>{class R{constructor(j,ae,Se){this._viewContainer=j,this._template=ae,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ae=this._viewContainer;j.forEachOperation((Se,dt,vt)=>{if(null==Se.previousIndex)ae.createEmbeddedView(this._template,new Qr(Se.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)ae.remove(null===dt?void 0:dt);else if(null!==dt){const vn=ae.get(dt);ae.move(vn,vt),Pi(vn,Se)}});for(let Se=0,dt=ae.length;Se<dt;Se++){const vn=ae.get(Se).context;vn.index=Se,vn.count=dt,vn.ngForOf=this._ngForOf}j.forEachIdentityChange(Se=>{Pi(ae.get(Se.currentIndex),Se)})}static ngTemplateContextGuard(j,ae){return!0}}return R.\u0275fac=function(j){return new(j||R)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},R.\u0275dir=a.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function Pi(R,te){R.context.$implicit=te.item}let Ve=(()=>{class R{constructor(j,ae){this._viewContainer=j,this._context=new Ke,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){At("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){At("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ae){return!0}}return R.\u0275fac=function(j){return new(j||R)(a.Y36(a.s_b),a.Y36(a.Rgc))},R.\u0275dir=a.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class Ke{constructor(){this.$implicit=null,this.ngIf=null}}function At(R,te){if(te&&!te.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,a.AaK)(te)}'.`)}let Hi=(()=>{class R{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(j){if(j.ngTemplateOutlet){const ae=this._viewContainerRef;this._viewRef&&ae.remove(ae.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ae.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(j){return new(j||R)(a.Y36(a.s_b))},R.\u0275dir=a.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),R})();class Vs{createSubscription(te,j){return te.subscribe({next:j,error:ae=>{throw ae}})}dispose(te){te.unsubscribe()}onDestroy(te){te.unsubscribe()}}class Ro{createSubscription(te,j){return te.then(j,ae=>{throw ae})}dispose(te){}onDestroy(te){}}const Vi=new Ro,Us=new Vs;let Ps=(()=>{class R{constructor(j){this._ref=j,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,ae=>this._updateLatestValue(j,ae))}_selectStrategy(j){if((0,a.QGY)(j))return Vi;if((0,a.F4k)(j))return Us;throw function oi(R,te){return new a.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,ae){j===this._obj&&(this._latestValue=ae,this._ref.markForCheck())}}return R.\u0275fac=function(j){return new(j||R)(a.Y36(a.sBO,16))},R.\u0275pipe=a.Yjl({name:"async",type:R,pure:!1}),R})(),is=(()=>{class R{}return R.\u0275fac=function(j){return new(j||R)},R.\u0275mod=a.oAB({type:R}),R.\u0275inj=a.cJS({}),R})();const Gi="browser";function ai(R){return R===Gi}function ee(R){return"server"===R}let Ue=(()=>{class R{}return R.\u0275prov=(0,a.Yz7)({token:R,providedIn:"root",factory:()=>new Ct((0,a.LFG)(Me),window)}),R})();class Ct{constructor(te,j){this.document=te,this.window=j,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const j=function yn(R,te){const j=R.getElementById(te)||R.getElementsByName(te)[0];if(j)return j;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const ae=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Se=ae.currentNode;for(;Se;){const dt=Se.shadowRoot;if(dt){const vt=dt.getElementById(te)||dt.querySelector(`[name="${te}"]`);if(vt)return vt}Se=ae.nextNode()}}return null}(this.document,te);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(te){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=te)}}scrollToElement(te){const j=te.getBoundingClientRect(),ae=j.left+this.window.pageXOffset,Se=j.top+this.window.pageYOffset,dt=this.offset();this.window.scrollTo(ae-dt[0],Se-dt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const te=Qt(this.window.history)||Qt(Object.getPrototypeOf(this.window.history));return!(!te||!te.writable&&!te.set)}catch(te){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(te){return!1}}}function Qt(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class En{}},5e3:(tn,Oe,U)=>{"use strict";U.d(Oe,{$8M:()=>Wa,$Z:()=>wm,AFp:()=>F0,ALo:()=>n0,AaK:()=>ue,CHM:()=>jr,CRH:()=>p0,CZH:()=>Iy,CqO:()=>ad,DdM:()=>Zv,EJc:()=>m1,EpF:()=>Dm,F$t:()=>Gc,F4k:()=>dh,FYo:()=>Bv,FiY:()=>Lr,G48:()=>V1,Gf:()=>h0,GfV:()=>Vv,Gpc:()=>pe,Hsn:()=>ag,Ikx:()=>Wo,JOm:()=>Ja,LFG:()=>$,LSH:()=>ic,Lbi:()=>f1,MAs:()=>lm,MGl:()=>ld,NdJ:()=>kf,O4$:()=>Ko,OlP:()=>li,Oqu:()=>jm,PXZ:()=>M1,Q6J:()=>Of,QGY:()=>yc,Qsj:()=>gw,QtT:()=>Rv,R0b:()=>bc,RDi:()=>Qt,Rgc:()=>wg,SBq:()=>_g,SDv:()=>Ov,Sil:()=>y1,Suo:()=>f0,TTD:()=>hs,TgZ:()=>og,Tol:()=>Wc,Udp:()=>_h,VKq:()=>qv,VLi:()=>A1,W1O:()=>y0,WLB:()=>Kv,X6Q:()=>B1,XFs:()=>Kt,Xpm:()=>dn,Y36:()=>ch,YKP:()=>$v,YNc:()=>am,Yjl:()=>Rt,Yz7:()=>nn,ZZ4:()=>Vy,_Bn:()=>kv,_UZ:()=>od,_Vd:()=>e_,_c5:()=>tD,_uU:()=>X_,aQg:()=>Uy,c2e:()=>p1,cJS:()=>wt,cg1:()=>ty,dDg:()=>H0,deG:()=>qc,dqk:()=>gr,eFA:()=>W0,ekj:()=>ud,g9A:()=>B0,h0i:()=>zf,hGG:()=>nD,hij:()=>Hf,iGM:()=>d0,ifc:()=>Pn,ip1:()=>k0,kEZ:()=>Yv,kL8:()=>av,kcU:()=>Zi,lG2:()=>tt,lcZ:()=>r0,n5z:()=>wa,oAB:()=>ge,oxw:()=>Lf,pQV:()=>iy,q4F:()=>Uv,qLn:()=>cu,qOj:()=>rh,qZA:()=>ql,s9C:()=>Bf,sBO:()=>U1,sIi:()=>bu,s_b:()=>r_,soG:()=>Sy,tBr:()=>jn,tb:()=>V0,tp0:()=>As,uIk:()=>rd,vHH:()=>mt,vpe:()=>Zc,wAp:()=>Br,xi3:()=>s0,xp6:()=>_e,z2F:()=>Ry,zSh:()=>th,zs3:()=>fl});var a=U(7579),b=U(727),K=U(8306),Ie=U(6451),be=U(3099);function ke(n){for(let r in n)if(n[r]===ke)return r;throw Error("Could not find renamed property on target object.")}function Me(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function $e(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=ke({__forward_ref__:ke});function pe(n){return n.__forward_ref__=pe,n.toString=function(){return ue(this())},n}function Re(n){return Ze(n)?n():n}function Ze(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===pe}class mt extends Error{constructor(r,s){super(function Et(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function nt(n){return"string"==typeof n?n:null==n?"":String(n)}function rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():nt(n)}function ut(n,r){const s=r?` in ${r}`:"";throw new mt(-201,`No provider for ${rt(n)} found${s}`)}function Ot(n,r,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}function nn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function mn(n){return Jn(n,Dn)||Jn(n,nr)}function Jn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Cr(n){return n&&(n.hasOwnProperty(Qn)||n.hasOwnProperty(Er))?n[Qn]:null}const Dn=ke({\u0275prov:ke}),Qn=ke({\u0275inj:ke}),nr=ke({ngInjectableDef:ke}),Er=ke({ngInjectorDef:ke});var Kt=(()=>((Kt=Kt||{})[Kt.Default=0]="Default",Kt[Kt.Host=1]="Host",Kt[Kt.Self=2]="Self",Kt[Kt.SkipSelf=4]="SkipSelf",Kt[Kt.Optional=8]="Optional",Kt))();let Cn;function Bt(n){const r=Cn;return Cn=n,r}function Vn(n,r,s){const l=mn(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Kt.Optional?null:void 0!==r?r:void ut(ue(n),"Injector")}function zr(n){return{toString:n}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),Pn=(()=>{return(n=Pn||(Pn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Pn;var n})();const Ft="undefined"!=typeof globalThis&&globalThis,ln="undefined"!=typeof window&&window,ni="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gr=Ft||"undefined"!=typeof global&&global||ln||ni,Fr={},Fn=[],Or=ke({\u0275cmp:ke}),lr=ke({\u0275dir:ke}),hi=ke({\u0275pipe:ke}),$t=ke({\u0275mod:ke}),Dt=ke({\u0275fac:ke}),Xt=ke({__NG_ELEMENT_ID__:ke});let cn=0;function dn(n){return zr(()=>{const s={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Fn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Pn.Emulated,id:"c",styles:n.styles||Fn,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.directives,p=n.features,w=n.pipes;return l.id+=cn++,l.inputs=fe(n.inputs,s),l.outputs=fe(n.outputs),p&&p.forEach(S=>S(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(ye):null,l.pipeDefs=w?()=>("function"==typeof w?w():w).map(we):null,l})}function ye(n){return un(n)||function rn(n){return n[lr]||null}(n)}function we(n){return function Zn(n){return n[hi]||null}(n)}const Fe={};function ge(n){return zr(()=>{const r={type:n.type,bootstrap:n.bootstrap||Fn,declarations:n.declarations||Fn,imports:n.imports||Fn,exports:n.exports||Fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Fe[n.id]=n.type),r})}function fe(n,r){if(null==n)return Fr;const s={};for(const l in n)if(n.hasOwnProperty(l)){let d=n[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),s[d]=l,r&&(r[d]=p)}return s}const tt=dn;function Rt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function un(n){return n[Or]||null}function hn(n,r){const s=n[$t]||null;if(!s&&!0===r)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return s}function on(n){return Array.isArray(n)&&"object"==typeof n[1]}function Xn(n){return Array.isArray(n)&&!0===n[1]}function Ur(n){return 0!=(8&n.flags)}function yr(n){return 2==(2&n.flags)}function fr(n){return 1==(1&n.flags)}function fi(n){return null!==n.template}function us(n){return 0!=(512&n[2])}function wi(n,r){return n.hasOwnProperty(Dt)?n[Dt]:null}class $r{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function hs(){return ms}function ms(n){return n.type.prototype.ngOnChanges&&(n.setInput=Xs),zs}function zs(){const n=Gi(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Fr)n.previous=r;else for(let l in r)s[l]=r[l];n.current=null,this.ngOnChanges(r)}}function Xs(n,r,s,l){const d=Gi(n)||function Wi(n,r){return n[is]=r}(n,{previous:Fr,current:null}),p=d.current||(d.current={}),w=d.previous,S=this.declaredInputs[s],k=w[S];p[S]=new $r(k&&k.currentValue,r,w===Fr),n[l]=r}hs.ngInherit=!0;const is="__ngSimpleChanges__";function Gi(n){return n[is]||null}let Ct;function Qt(n){Ct=n}function yn(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function En(n){return!!n.listen}const R={createRenderer:(n,r)=>yn()};function j(n){for(;Array.isArray(n);)n=n[0];return n}function dt(n,r){return j(r[n])}function vt(n,r){return j(r[n.index])}function Ln(n,r){return n.data[r]}function tr(n,r){return n[r]}function On(n,r){const s=r[n];return on(s)?s:s[0]}function pr(n){return 4==(4&n[2])}function Nr(n){return 128==(128&n[2])}function kr(n,r){return null==r?null:n[r]}function Fi(n){n[18]=0}function os(n,r){n[5]+=r;let s=n,l=n[3];for(;null!==l&&(1===r&&1===s[5]||-1===r&&0===s[5]);)l[5]+=r,s=l,l=l[3]}const fn={lFrame:ua(null),bindingsEnabled:!0};function B(){return fn.bindingsEnabled}function Te(){return fn.lFrame.lView}function kt(){return fn.lFrame.tView}function jr(n){return fn.lFrame.contextLView=n,n[8]}function Tr(){let n=Qi();for(;null!==n&&64===n.type;)n=n.parent;return n}function Qi(){return fn.lFrame.currentTNode}function zi(){const n=fn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function as(n,r){const s=fn.lFrame;s.currentTNode=n,s.isParent=r}function io(){return fn.lFrame.isParent}function ys(){fn.lFrame.isParent=!1}function Ni(){const n=fn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ao(){return fn.lFrame.bindingIndex++}function vs(n){const r=fn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Zs(n){fn.lFrame.inI18n=n}function qo(n,r){const s=fn.lFrame;s.bindingIndex=s.bindingRootIndex=n,co(r)}function co(n){fn.lFrame.currentDirectiveIndex=n}function ca(){return fn.lFrame.currentQueryIndex}function na(n){fn.lFrame.currentQueryIndex=n}function Eo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ho(n,r,s){if(s&Kt.SkipSelf){let d=r,p=n;for(;!(d=d.parent,null!==d||s&Kt.Host||(d=Eo(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;r=d,n=p}const l=fn.lFrame=Io();return l.currentTNode=r,l.lView=n,!0}function Xi(n){const r=Io(),s=n[1];fn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Io(){const n=fn.lFrame,r=null===n?null:n.child;return null===r?ua(n):r}function ua(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function qs(){const n=fn.lFrame;return fn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const mi=qs;function eo(){const n=qs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Li(){return fn.lFrame.selectedIndex}function fo(n){fn.lFrame.selectedIndex=n}function Mi(){const n=fn.lFrame;return Ln(n.tView,n.selectedIndex)}function Ko(){fn.lFrame.currentNamespace="svg"}function Zi(){!function ji(){fn.lFrame.currentNamespace=null}()}function Ss(n,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const p=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:k,ngAfterViewChecked:Y,ngOnDestroy:re}=p;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),S&&((n.contentHooks||(n.contentHooks=[])).push(s,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,S)),k&&(n.viewHooks||(n.viewHooks=[])).push(-s,k),Y&&((n.viewHooks||(n.viewHooks=[])).push(s,Y),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,Y)),null!=re&&(n.destroyHooks||(n.destroyHooks=[])).push(s,re)}}function Rs(n,r,s){po(n,r,3,s)}function Yt(n,r,s,l){(3&n[2])===s&&po(n,r,s,l)}function Rr(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function po(n,r,s,l){const p=null!=l?l:-1,w=r.length-1;let S=0;for(let k=void 0!==l?65535&n[18]:0;k<w;k++)if("number"==typeof r[k+1]){if(S=r[k],null!=l&&S>=l)break}else r[k]<0&&(n[18]+=65536),(S<p||-1==p)&&(Ra(n,s,r,k),n[18]=(4294901760&n[18])+k+2),k++}function Ra(n,r,s,l){const d=s[l]<0,p=s[l+1],S=n[d?-s[l]:s[l]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{p.call(S)}finally{}}}else try{p.call(S)}finally{}}class Un{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Ae(n,r,s){const l=En(n);let d=0;for(;d<s.length;){const p=s[d];if("number"==typeof p){if(0!==p)break;d++;const w=s[d++],S=s[d++],k=s[d++];l?n.setAttribute(r,S,k,w):r.setAttributeNS(w,S,k)}else{const w=p,S=s[++d];T(w)?l&&n.setProperty(r,w,S):l?n.setAttribute(r,w,S):r.setAttribute(w,S),d++}}return d}function C(n){return 3===n||4===n||6===n}function T(n){return 64===n.charCodeAt(0)}function q(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const d=r[l];"number"==typeof d?s=d:0===s||me(n,s,d,null,-1===s||2===s?r[++l]:null)}}return n}function me(n,r,s,l,d){let p=0,w=n.length;if(-1===r)w=-1;else for(;p<n.length;){const S=n[p++];if("number"==typeof S){if(S===r){w=-1;break}if(S>r){w=p-1;break}}}for(;p<n.length;){const S=n[p];if("number"==typeof S)break;if(S===s){if(null===l)return void(null!==d&&(n[p+1]=d));if(l===n[p+1])return void(n[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==w&&(n.splice(w,0,r),p=w+1),n.splice(p++,0,s),null!==l&&n.splice(p++,0,l),null!==d&&n.splice(p++,0,d)}function _t(n){return-1!==n}function Zt(n){return 32767&n}function An(n,r){let s=function _i(n){return n>>16}(n),l=r;for(;s>0;)l=l[15],s--;return l}let Xr=!0;function Si(n){const r=Xr;return Xr=n,r}let D=0;function W(n,r){const s=Ce(n,r);if(-1!==s)return s;const l=r[1];l.firstCreatePass&&(n.injectorIndex=r.length,J(l.data,n),J(r,null),J(l.blueprint,null));const d=Le(n,r),p=n.injectorIndex;if(_t(d)){const w=Zt(d),S=An(d,r),k=S[1].data;for(let Y=0;Y<8;Y++)r[p+Y]=S[w+Y]|k[w+Y]}return r[p+8]=d,p}function J(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ce(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Le(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,d=r;for(;null!==d;){const p=d[1],w=p.type;if(l=2===w?p.declTNode:1===w?d[6]:null,null===l)return-1;if(s++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function It(n,r,s){!function H(n,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Xt)&&(l=s[Xt]),null==l&&(l=s[Xt]=D++);const d=255&l;r.data[n+(d>>5)]|=1<<d}(n,r,s)}function wr(n,r,s){if(s&Kt.Optional)return n;ut(r,"NodeInjector")}function ar(n,r,s,l){if(s&Kt.Optional&&void 0===l&&(l=null),0==(s&(Kt.Self|Kt.Host))){const d=n[9],p=Bt(void 0);try{return d?d.get(r,l,s&Kt.Optional):Vn(r,l,s&Kt.Optional)}finally{Bt(p)}}return wr(l,r,s)}function Yr(n,r,s,l=Kt.Default,d){if(null!==n){const p=function ws(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Xt)?n[Xt]:void 0;return"number"==typeof r?r>=0?255&r:mo:r}(s);if("function"==typeof p){if(!ho(r,n,l))return l&Kt.Host?wr(d,s,l):ar(r,s,l,d);try{const w=p(l);if(null!=w||l&Kt.Optional)return w;ut(s)}finally{mi()}}else if("number"==typeof p){let w=null,S=Ce(n,r),k=-1,Y=l&Kt.Host?r[16][6]:null;for((-1===S||l&Kt.SkipSelf)&&(k=-1===S?Le(n,r):r[S+8],-1!==k&&El(l,!1)?(w=r[1],S=Zt(k),r=An(k,r)):S=-1);-1!==S;){const re=r[1];if(Fo(p,S,re.data)){const ve=bs(S,r,s,w,l,Y);if(ve!==ii)return ve}k=r[S+8],-1!==k&&El(l,r[1].data[S+8]===Y)&&Fo(p,S,r)?(w=re,S=Zt(k),r=An(k,r)):S=-1}}}return ar(r,s,l,d)}const ii={};function mo(){return new ot(Tr(),Te())}function bs(n,r,s,l,d,p){const w=r[1],S=w.data[n+8],re=ba(S,w,s,null==l?yr(S)&&Xr:l!=w&&0!=(3&S.type),d&Kt.Host&&p===S);return null!==re?to(r,w,re,S):ii}function ba(n,r,s,l,d){const p=n.providerIndexes,w=r.data,S=1048575&p,k=n.directiveStart,re=p>>20,He=d?S+re:n.directiveEnd;for(let at=l?S:S+re;at<He;at++){const Ut=w[at];if(at<k&&s===Ut||at>=k&&Ut.type===s)return at}if(d){const at=w[k];if(at&&fi(at)&&at.type===s)return k}return null}function to(n,r,s,l){let d=n[s];const p=r.data;if(function go(n){return n instanceof Un}(d)){const w=d;w.resolving&&function pt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new mt(-200,`Circular dependency in DI detected for ${n}${s}`)}(rt(p[s]));const S=Si(w.canSeeViewProviders);w.resolving=!0;const k=w.injectImpl?Bt(w.injectImpl):null;ho(n,l,Kt.Default);try{d=n[s]=w.factory(void 0,p,n,l),r.firstCreatePass&&s>=l.directiveStart&&function Fs(n,r,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=r.type.prototype;if(l){const w=ms(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,p))}(s,p[s],r)}finally{null!==k&&Bt(k),Si(S),w.resolving=!1,mi()}}return d}function Fo(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function El(n,r){return!(n&Kt.Self||n&Kt.Host&&r)}class ot{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return Yr(this._tNode,this._lView,r,l,s)}}function wa(n){return zr(()=>{const r=n.prototype.constructor,s=r[Dt]||_o(r),l=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==l;){const p=d[Dt]||_o(d);if(p&&p!==s)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function _o(n){return Ze(n)?()=>{const r=_o(Re(n));return r&&r()}:wi(n)}function Wa(n){return function Hn(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const p=s[d];if(C(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(p===r)return s[d+1];d+=2}}}return null}(Tr(),n)}const yo="__parameters__";function Da(n,r,s){return zr(()=>{const l=function Yl(n){return function(...s){if(n){const l=n(...s);for(const d in l)this[d]=l[d]}}}(r);function d(...p){if(this instanceof d)return l.apply(this,p),this;const w=new d(...p);return S.annotation=w,S;function S(k,Y,re){const ve=k.hasOwnProperty(yo)?k[yo]:Object.defineProperty(k,yo,{value:[]})[yo];for(;ve.length<=re;)ve.push(null);return(ve[re]=ve[re]||[]).push(w),k}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class li{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=nn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qc=new li("AnalyzeForEntryComponents");function Jr(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(r===n&&(r=n.slice(0,s)),Jr(l,r)):r!==n&&r.push(l)}return r}function Hs(n,r){n.forEach(s=>Array.isArray(s)?Hs(s,r):r(s))}function Tl(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function al(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ea(n,r){const s=[];for(let l=0;l<n;l++)s.push(r);return s}function $s(n,r,s){let l=Ki(n,r);return l>=0?n[1|l]=s:(l=~l,function So(n,r,s,l){let d=n.length;if(d==r)n.push(s,l);else if(1===d)n.push(l,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=l}}(n,l,r,s)),l}function Xo(n,r){const s=Ki(n,r);if(s>=0)return n[1|s]}function Ki(n,r){return function fa(n,r,s){let l=0,d=n.length>>s;for(;d!==l;){const p=l+(d-l>>1),w=n[p<<s];if(r===w)return p<<s;w>r?d=p:l=p+1}return~(d<<s)}(n,r,1)}const sa={},ea="__NG_DI_FLAG__",ec="ngTempTokenPath",Cc=/\n/gm,Ls="__source",Jc=ke({provide:String,useValue:ke});let Ei;function Ec(n){const r=Ei;return Ei=n,r}function L(n,r=Kt.Default){if(void 0===Ei)throw new mt(203,"");return null===Ei?Vn(n,void 0,r):Ei.get(n,r&Kt.Optional?null:void 0,r)}function $(n,r=Kt.Default){return(function Nn(){return Cn}()||L)(Re(n),r)}const Ee=$;function Ye(n){const r=[];for(let s=0;s<n.length;s++){const l=Re(n[s]);if(Array.isArray(l)){if(0===l.length)throw new mt(900,"");let d,p=Kt.Default;for(let w=0;w<l.length;w++){const S=l[w],k=Jt(S);"number"==typeof k?-1===k?d=S.token:p|=k:d=S}r.push($(d,p))}else r.push($(l))}return r}function yt(n,r){return n[ea]=r,n.prototype[ea]=r,n}function Jt(n){return n[ea]}const jn=yt(Da("Inject",n=>({token:n})),-1),Lr=yt(Da("Optional"),8),As=yt(Da("SkipSelf"),4);let no;function La(n){var r;return(null===(r=function Ml(){if(void 0===no&&(no=null,gr.trustedTypes))try{no=gr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return no}())||void 0===r?void 0:r.createHTML(n))||n}class Tc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function aa(n){return n instanceof Tc?n.changingThisBreaksApplicationSecurity:n}class yd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(La(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class xs{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=La(r),s;const l=this.inertDocument.createElement("body");return l.innerHTML=La(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(r){const s=r.attributes;for(let d=s.length-1;0<d;d--){const w=s.item(d).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let l=r.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const ru=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vl(n){return(n=String(n)).match(ru)||n.match(vd)?n:"unsafe:"+n}function iu(n){return(n=String(n)).split(",").map(r=>vl(r.trim())).join(", ")}function E(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function g(...n){const r={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(r[l]=!0);return r}const _=E("area,br,col,hr,img,wbr"),x=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ne=E("rp,rt"),kn=g(_,g(x,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),g(ne,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),g(ne,x)),Rn=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xn=E("srcset"),xo=g(Rn,xn,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var ts=(()=>((ts=ts||{})[ts.NONE=0]="NONE",ts[ts.HTML=1]="HTML",ts[ts.STYLE=2]="STYLE",ts[ts.SCRIPT=3]="SCRIPT",ts[ts.URL=4]="URL",ts[ts.RESOURCE_URL=5]="RESOURCE_URL",ts))();function ic(n){const r=function ou(){const n=Te();return n&&n[12]}();return r?r.sanitize(ts.URL,n)||"":function yl(n,r){const s=function Ol(n){return n instanceof Tc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?aa(n):vl(nt(n))}const au="__ngContext__";function No(n,r){n[au]=r}function Ys(n){const r=function lu(n){return n[au]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Va(n){return n.ngOriginalError}function np(n,...r){n.error(...r)}class cu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),l=function Dd(n){return n&&n.ngErrorLogger||np}(r);l(this._console,"ERROR",r),s&&l(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Va(r);for(;s&&Va(s);)s=Va(s);return s||null}}const xh=/^>|^->|<!--|-->|--!>|<!-$/g,Nh=/(<|>)/;const rp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gr))();function ro(n){return n instanceof Function?n():n}var Ja=(()=>((Ja=Ja||{})[Ja.Important=1]="Important",Ja[Ja.DashCase=2]="DashCase",Ja))();let ju;function Hu(n,r){return ju(n,r)}function $u(n){const r=n[3];return Xn(r)?r[3]:r}function Sd(n){return Lh(n[13])}function Ad(n){return Lh(n[4])}function Lh(n){for(;null!==n&&!Xn(n);)n=n[4];return n}function Oc(n,r,s,l,d){if(null!=l){let p,w=!1;Xn(l)?p=l:on(l)&&(w=!0,l=l[0]);const S=j(l);0===n&&null!==s?null==d?Rc(r,s,S):Ua(r,s,S,d||null,!0):1===n&&null!==s?Ua(r,s,S,d||null,!0):2===n?Pd(r,S,w):3===n&&r.destroyNode(S),null!=p&&function hc(n,r,s,l,d){const p=s[7];p!==j(s)&&Oc(r,n,l,p,d);for(let S=10;S<s.length;S++){const k=s[S];zu(k[1],k,n,r,l,p)}}(r,n,p,s,d)}}function Bh(n,r){return En(n)?n.createText(r):n.createTextNode(r)}function Vh(n,r,s){En(n)?n.setValue(r,s):r.textContent=s}function Ig(n,r){return n.createComment(function Oh(n){return n.replace(xh,r=>r.replace(Nh,"\u200b$1\u200b"))}(r))}function xd(n,r,s){if(En(n))return n.createElement(r,s);{const l=null!==s?function Ue(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===l?n.createElement(r):n.createElementNS(l,r)}}function Wu(n,r){const s=n[9],l=s.indexOf(r),d=r[3];1024&r[2]&&(r[2]&=-1025,os(d,-1)),s.splice(l,1)}function Qa(n,r){if(n.length<=10)return;const s=10+r,l=n[s];if(l){const d=l[17];null!==d&&d!==n&&Wu(d,l),r>0&&(n[s-1][4]=l[4]);const p=al(n,10+r);!function lp(n,r){zu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(l[1],l);const w=p[19];null!==w&&w.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Hh(n,r){if(!(256&r[2])){const s=r[11];En(s)&&s.destroyNode&&zu(n,r,s,3,null,null),function Ho(n){let r=n[13];if(!r)return $h(n[1],n);for(;r;){let s=null;if(on(r))s=r[13];else{const l=r[10];l&&(s=l)}if(!s){for(;r&&!r[4]&&r!==n;)on(r)&&$h(r[1],r),r=r[3];null===r&&(r=n),on(r)&&$h(r[1],r),s=r&&r[4]}r=s}}(r)}}function $h(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Md(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const d=r[s[l]];if(!(d instanceof Un)){const p=s[l+1];if(Array.isArray(p))for(let w=0;w<p.length;w+=2){const S=d[p[w]],k=p[w+1];try{k.call(S)}finally{}}else try{p.call(d)}finally{}}}}(n,r),function cp(n,r){const s=n.cleanup,l=r[7];let d=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const w=s[p+1],S="function"==typeof w?w(r):j(r[w]),k=l[d=s[p+2]],Y=s[p+3];"boolean"==typeof Y?S.removeEventListener(s[p],k,Y):Y>=0?l[d=Y]():l[d=-Y].unsubscribe(),p+=2}else{const w=l[d=s[p+1]];s[p].call(w)}if(null!==l){for(let p=d+1;p<l.length;p++)l[p]();r[7]=null}}(n,r),1===r[1].type&&En(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Xn(r[3])){s!==r[3]&&Wu(s,r);const l=r[19];null!==l&&l.detachView(n)}}}function Ll(n,r,s){return lc(n,r.parent,s)}function lc(n,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[0];if(2&l.flags){const d=n.data[l.directiveStart].encapsulation;if(d===Pn.None||d===Pn.Emulated)return null}return vt(l,s)}function Ua(n,r,s,l,d){En(n)?n.insertBefore(r,s,l,d):r.insertBefore(s,l,d)}function Rc(n,r,s){En(n)?n.appendChild(r,s):r.appendChild(s)}function Gh(n,r,s,l,d){null!==l?Ua(n,r,s,l,d):Rc(n,r,s)}function cc(n,r){return En(n)?n.parentNode(r):r.parentNode}function zh(n,r,s){return Zh(n,r,s)}function dp(n,r,s){return 40&n.type?vt(n,s):null}let Od,Zh=dp;function Pc(n,r){Zh=n,Od=r}function uc(n,r,s,l){const d=Ll(n,l,r),p=r[11],S=zh(l.parent||r[6],l,r);if(null!=d)if(Array.isArray(s))for(let k=0;k<s.length;k++)Gh(p,d,s[k],S,!1);else Gh(p,d,s,S,!1);void 0!==Od&&Od(p,l,r,s,d)}function wl(n,r){if(null!==r){const s=r.type;if(3&s)return vt(r,n);if(4&s)return Rd(-1,n[r.index]);if(8&s){const l=r.child;if(null!==l)return wl(n,l);{const d=n[r.index];return Xn(d)?Rd(-1,d):j(d)}}if(32&s)return Hu(r,n)()||j(n[r.index]);{const l=hp(n,r);return null!==l?Array.isArray(l)?l[0]:wl($u(n[16]),l):wl(n,r.next)}}return null}function hp(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Rd(n,r){const s=10+n+1;if(s<r.length){const l=r[s],d=l[1].firstChild;if(null!==d)return wl(l,d)}return r[7]}function Pd(n,r,s){const l=cc(n,r);l&&function Wh(n,r,s,l){En(n)?n.removeChild(r,s,l):r.removeChild(s)}(n,l,r,s)}function qh(n,r,s,l,d,p,w){for(;null!=s;){const S=l[s.index],k=s.type;if(w&&0===r&&(S&&No(j(S),l),s.flags|=4),64!=(64&s.flags))if(8&k)qh(n,r,s.child,l,d,p,!1),Oc(r,n,d,S,p);else if(32&k){const Y=Hu(s,l);let re;for(;re=Y();)Oc(r,n,d,re,p);Oc(r,n,d,S,p)}else 16&k?dc(n,r,l,s,d,p):Oc(r,n,d,S,p);s=w?s.projectionNext:s.next}}function zu(n,r,s,l,d,p){qh(s,l,n.firstChild,r,d,p,!1)}function dc(n,r,s,l,d,p){const w=s[16],k=w[6].projection[l.projection];if(Array.isArray(k))for(let Y=0;Y<k.length;Y++)Oc(r,n,d,k[Y],p);else qh(n,r,k,w[3],d,p,!0)}function pp(n,r,s){En(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Kh(n,r,s){En(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function kd(n,r,s){let l=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const p=r.length;if(d+p===l||n.charCodeAt(d+p)<=32)return d}s=d+1}}const gp="ng-template";function mp(n,r,s){let l=0;for(;l<n.length;){let d=n[l++];if(s&&"class"===d){if(d=n[l],-1!==kd(d.toLowerCase(),r,0))return!0}else if(1===d){for(;l<n.length&&"string"==typeof(d=n[l++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function uu(n){return 4===n.type&&n.value!==gp}function Fd(n,r,s){return r===(4!==n.type||s?n.value:gp)}function Ku(n,r,s){let l=4;const d=n.attrs||[],p=function Yu(n){for(let r=0;r<n.length;r++)if(C(n[r]))return r;return n.length}(d);let w=!1;for(let S=0;S<r.length;S++){const k=r[S];if("number"!=typeof k){if(!w)if(4&l){if(l=2|1&l,""!==k&&!Fd(n,k,s)||""===k&&1===r.length){if(Xa(l))return!1;w=!0}}else{const Y=8&l?k:r[++S];if(8&l&&null!==n.attrs){if(!mp(n.attrs,Y,s)){if(Xa(l))return!1;w=!0}continue}const ve=_p(8&l?"class":k,d,uu(n),s);if(-1===ve){if(Xa(l))return!1;w=!0;continue}if(""!==Y){let He;He=ve>p?"":d[ve+1].toLowerCase();const at=8&l?He:null;if(at&&-1!==kd(at,Y,0)||2&l&&Y!==He){if(Xa(l))return!1;w=!0}}}}else{if(!w&&!Xa(l)&&!Xa(k))return!1;if(w&&Xa(k))continue;w=!1,l=k|1&l}}return Xa(l)||w}function Xa(n){return 0==(1&n)}function _p(n,r,s,l){if(null===r)return-1;let d=0;if(l||!s){let p=!1;for(;d<r.length;){const w=r[d];if(w===n)return d;if(3===w||6===w)p=!0;else{if(1===w||2===w){let S=r[++d];for(;"string"==typeof S;)S=r[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=p?1:2}return-1}return function Ju(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,n)}function _a(n,r,s=!1){for(let l=0;l<r.length;l++)if(Ku(n,r[l],s))return!0;return!1}function h(n,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(n.length===l.length){for(let d=0;d<n.length;d++)if(n[d]!==l[d])continue e;return!0}}return!1}function m(n,r){return n?":not("+r.trim()+")":r}function u(n){let r=n[0],s=1,l=2,d="",p=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&l){const S=n[++s];d+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&l?d+="."+w:4&l&&(d+=" "+w);else""!==d&&!Xa(w)&&(r+=m(p,d),d=""),l=w,p=p||!Xa(l);s++}return""!==d&&(r+=m(p,d)),r}const V={};function _e(n){Ge(kt(),Te(),Li()+n,!1)}function Ge(n,r,s,l){if(!l)if(3==(3&r[2])){const p=n.preOrderCheckHooks;null!==p&&Rs(r,p,s)}else{const p=n.preOrderHooks;null!==p&&Yt(r,p,0,s)}fo(s)}function bt(n,r){return n<<17|r<<2}function Tt(n){return n>>17&32767}function er(n){return 2|n}function Zr(n){return(131068&n)>>2}function vr(n,r){return-131069&n|r<<2}function pi(n){return 1|n}function Wd(n,r){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const d=s[l],p=s[l+1];if(-1!==p){const w=n.data[p];na(d),w.contentQueries(2,r[p],p)}}}function pu(n,r,s,l,d,p,w,S,k,Y){const re=r.blueprint.slice();return re[0]=d,re[2]=140|l,Fi(re),re[3]=re[15]=n,re[8]=s,re[10]=w||n&&n[10],re[11]=S||n&&n[11],re[12]=k||n&&n[12]||null,re[9]=Y||n&&n[9]||null,re[6]=p,re[16]=2==r.type?n[16]:re,re}function gu(n,r,s,l,d){let p=n.data[r];if(null===p)p=Xh(n,r,s,l,d),function va(){return fn.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=l,p.attrs=d;const w=zi();p.injectorIndex=null===w?-1:w.injectorIndex}return as(p,!0),p}function Xh(n,r,s,l,d){const p=Qi(),w=io(),k=n.data[r]=function Kd(n,r,s,l,d,p){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?p:p&&p.parent,s,r,l,d);return null===n.firstChild&&(n.firstChild=k),null!==p&&(w?null==p.child&&null!==k.parent&&(p.child=k):null===p.next&&(p.next=k)),k}function Lc(n,r,s,l){if(0===s)return-1;const d=r.length;for(let p=0;p<s;p++)r.push(l),n.blueprint.push(l),n.data.push(null);return d}function Bc(n,r,s){Xi(r);try{const l=n.viewQuery;null!==l&&gf(1,l,s);const d=n.template;null!==d&&tf(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Wd(n,r),n.staticViewQueries&&gf(2,n.viewQuery,s);const p=n.components;null!==p&&function Qh(n,r){for(let s=0;s<r.length;s++)kg(n,r[s])}(r,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[2]&=-5,eo()}}function Gl(n,r,s,l){const d=r[2];if(256!=(256&d)){Xi(r);try{Fi(r),function oo(n){return fn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&tf(n,r,s,2,l);const w=3==(3&d);if(w){const Y=n.preOrderCheckHooks;null!==Y&&Rs(r,Y,null)}else{const Y=n.preOrderHooks;null!==Y&&Yt(r,Y,0,null),Rr(r,0)}if(function Sp(n){for(let r=Sd(n);null!==r;r=Ad(r)){if(!r[2])continue;const s=r[9];for(let l=0;l<s.length;l++){const d=s[l],p=d[3];0==(1024&d[2])&&os(p,1),d[2]|=1024}}}(r),function ed(n){for(let r=Sd(n);null!==r;r=Ad(r))for(let s=10;s<r.length;s++){const l=r[s],d=l[1];Nr(l)&&Gl(d,l,d.template,l[8])}}(r),null!==n.contentQueries&&Wd(n,r),w){const Y=n.contentCheckHooks;null!==Y&&Rs(r,Y)}else{const Y=n.contentHooks;null!==Y&&Yt(r,Y,1),Rr(r,1)}!function Gd(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)fo(~d);else{const p=d,w=s[++l],S=s[++l];qo(w,p),S(2,r[p])}}}finally{fo(-1)}}(n,r);const S=n.components;null!==S&&function Xu(n,r){for(let s=0;s<r.length;s++)g_(n,r[s])}(r,S);const k=n.viewQuery;if(null!==k&&gf(2,k,l),w){const Y=n.viewCheckHooks;null!==Y&&Rs(r,Y)}else{const Y=n.viewHooks;null!==Y&&Yt(r,Y,2),Rr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,os(r[3],-1))}finally{eo()}}}function ef(n,r,s,l){const d=r[10],w=pr(r);try{!w&&d.begin&&d.begin(),w&&Bc(n,r,l),Gl(n,r,s,l)}finally{!w&&d.end&&d.end()}}function tf(n,r,s,l,d){const p=Li(),w=2&l;try{fo(-1),w&&r.length>20&&Ge(n,r,20,!1),s(l,d)}finally{fo(p)}}function zd(n,r,s){!B()||(function Yd(n,r,s,l){const d=s.directiveStart,p=s.directiveEnd;n.firstCreatePass||W(s,r),No(l,r);const w=s.initialInputs;for(let S=d;S<p;S++){const k=n.data[S],Y=fi(k);Y&&p_(r,s,k);const re=to(r,n,S,s);No(re,r),null!==w&&Ip(0,S-d,re,k,0,w),Y&&(On(s.index,r)[8]=re)}}(n,r,s,vt(s,r)),128==(128&s.flags)&&function wp(n,r,s){const l=s.directiveStart,d=s.directiveEnd,w=s.index,S=function lo(){return fn.lFrame.currentDirectiveIndex}();try{fo(w);for(let k=l;k<d;k++){const Y=n.data[k],re=r[k];co(k),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&Dp(Y,re)}}finally{fo(-1),co(S)}}(n,r,s))}function rf(n,r,s=vt){const l=r.localNames;if(null!==l){let d=r.index+1;for(let p=0;p<l.length;p+=2){const w=l[p+1],S=-1===w?s(r,n):n[w];n[d++]=S}}}function Sg(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Zd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Zd(n,r,s,l,d,p,w,S,k,Y){const re=20+l,ve=re+d,He=function u_(n,r){const s=[];for(let l=0;l<r;l++)s.push(l<n?null:V);return s}(re,ve),at="function"==typeof Y?Y():Y;return He[1]={type:n,blueprint:He,template:s,queries:null,viewQuery:S,declTNode:r,data:He.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:k,consts:at,incompleteFirstPass:!1}}function qd(n,r,s,l){const d=mf(r);null===s?d.push(l):(d.push(s),n.firstCreatePass&&mu(n).push(l,d.length-1))}function sf(n,r,s){for(let l in n)if(n.hasOwnProperty(l)){const d=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(r,d):s[l]=[r,d]}return s}function rl(n,r,s,l,d,p,w,S){const k=vt(r,s);let re,Y=r.inputs;!S&&null!=Y&&(re=Y[l])?(_u(n,s,re,l,d),yr(r)&&function h_(n,r){const s=On(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(l=function d_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),d=null!=w?w(d,r.value||"",l):d,En(p)?p.setProperty(k,l,d):T(l)||(k.setProperty?k.setProperty(l,d):k[l]=d))}function Vc(n,r,s,l){let d=!1;if(B()){const p=function Cp(n,r,s){const l=n.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const w=l[p];_a(s,w.selectors,!1)&&(d||(d=[]),It(W(s,r),n,w.type),fi(w)?(uf(n,s),d.unshift(w)):d.push(w))}return d}(n,r,s),w=null===l?null:{"":-1};if(null!==p){d=!0,Rg(s,n.data.length,p.length);for(let re=0;re<p.length;re++){const ve=p[re];ve.providersResolver&&ve.providersResolver(ve)}let S=!1,k=!1,Y=Lc(n,r,p.length,null);for(let re=0;re<p.length;re++){const ve=p[re];s.mergedAttrs=q(s.mergedAttrs,ve.hostAttrs),df(n,s,r,Y,ve),Og(Y,ve,w),null!==ve.contentQueries&&(s.flags|=8),(null!==ve.hostBindings||null!==ve.hostAttrs||0!==ve.hostVars)&&(s.flags|=128);const He=ve.type.prototype;!S&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),S=!0),!k&&(He.ngOnChanges||He.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),k=!0),Y++}!function xg(n,r){const l=r.directiveEnd,d=n.data,p=r.attrs,w=[];let S=null,k=null;for(let Y=r.directiveStart;Y<l;Y++){const re=d[Y],ve=re.inputs,He=null===p||uu(r)?null:hf(ve,p);w.push(He),S=sf(ve,Y,S),k=sf(re.outputs,Y,k)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=16),S.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=S,r.outputs=k}(n,s)}w&&function mc(n,r,s){if(r){const l=n.localNames=[];for(let d=0;d<r.length;d+=2){const p=s[r[d+1]];if(null==p)throw new mt(-301,!1);l.push(r[d],p)}}}(s,l,w)}return s.mergedAttrs=q(s.mergedAttrs,s.attrs),d}function lf(n,r,s,l,d,p){const w=p.hostBindings;if(w){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const k=~r.index;(function cf(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(S)!=k&&S.push(k),S.push(l,d,w)}}function Dp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function uf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Og(n,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=n;fi(r)&&(s[""]=n)}}function Rg(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function df(n,r,s,l,d){n.data[l]=d;const p=d.factory||(d.factory=wi(d.type)),w=new Un(p,fi(d),null);n.blueprint[l]=w,s[l]=w,lf(n,r,0,l,Lc(n,s,d.hostVars,V),d)}function p_(n,r,s){const l=vt(r,n),d=Sg(s),p=n[10],w=ff(n,pu(n,d,null,s.onPush?64:16,l,r,p,p.createRenderer(l,s),null,null));n[r.index]=w}function Ep(n,r,s,l,d,p,w){if(null==p)En(n)?n.removeAttribute(r,d,s):r.removeAttribute(d);else{const S=null==w?nt(p):w(p,l||"",d);En(n)?n.setAttribute(r,d,S,s):s?r.setAttributeNS(s,d,S):r.setAttribute(d,S)}}function Ip(n,r,s,l,d,p){const w=p[r];if(null!==w){const S=l.setInput;for(let k=0;k<w.length;){const Y=w[k++],re=w[k++],ve=w[k++];null!==S?l.setInput(s,ve,Y,re):s[re]=ve}}}function hf(n,r){let s=null,l=0;for(;l<r.length;){const d=r[l];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],r[l+1])),l+=2}else l+=2;else l+=4}return s}function Tp(n,r,s,l){return new Array(n,!0,!1,r,null,0,l,s,null,null)}function g_(n,r){const s=On(r,n);if(Nr(s)){const l=s[1];80&s[2]?Gl(l,s,l.template,s[8]):s[5]>0&&Ap(s)}}function Ap(n){for(let l=Sd(n);null!==l;l=Ad(l))for(let d=10;d<l.length;d++){const p=l[d];if(1024&p[2]){const w=p[1];Gl(w,p,w.template,p[8])}else p[5]>0&&Ap(p)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const d=On(s[l],n);Nr(d)&&d[5]>0&&Ap(d)}}function kg(n,r){const s=On(r,n),l=s[1];(function Fg(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(l,s),Bc(l,s,s[8])}function ff(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Jd(n){for(;n;){n[2]|=64;const r=$u(n);if(us(n)&&!r)return n;n=r}return null}function pf(n){!function Qd(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],l=Ys(s),d=l[1];ef(d,l,d.template,s)}}(n[8])}function gf(n,r,s){na(0),r(n,s)}const Np=(()=>Promise.resolve(null))();function mf(n){return n[7]||(n[7]=[])}function mu(n){return n.cleanup||(n.cleanup=[])}function _f(n,r){const s=n[9],l=s?s.get(cu,null):null;l&&l.handleError(r)}function _u(n,r,s,l,d){for(let p=0;p<s.length;){const w=s[p++],S=s[p++],k=r[w],Y=n.data[w];null!==Y.setInput?Y.setInput(k,d,l,S):k[S]=d}}function Xd(n,r,s){let l=s?n.styles:null,d=s?n.classes:null,p=0;if(null!==r)for(let w=0;w<r.length;w++){const S=r[w];"number"==typeof S?p=S:1==p?d=$e(d,S):2==p&&(l=$e(l,S+": "+r[++w]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=d:n.classesWithoutHost=d}const eh=new li("INJECTOR",-1);class yf{get(r,s=sa){if(s===sa){const l=new Error(`NullInjectorError: No provider for ${ue(r)}!`);throw l.name="NullInjectorError",l}return s}}const th=new li("Set Injector scope."),yu={},y_={};let Mp;function vf(){return void 0===Mp&&(Mp=new yf),Mp}function bf(n,r=null,s=null,l){const d=Vg(n,r,s,l);return d._resolveInjectorDefTypes(),d}function Vg(n,r=null,s=null,l){return new Ug(n,s,r||vf(),l)}class Ug{constructor(r,s,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];s&&Hs(s,S=>this.processProvider(S,r,s)),Hs([r],S=>this.processInjectorType(S,[],p)),this.records.set(eh,vu(void 0,this));const w=this.records.get(th);this.scope=null!=w?w.value:null,this.source=d||("object"==typeof r?null:ue(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=sa,l=Kt.Default){this.assertNotDestroyed();const d=Ec(this),p=Bt(void 0);try{if(!(l&Kt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const k=function w_(n){return"function"==typeof n||"object"==typeof n&&n instanceof li}(r)&&mn(r);S=k&&this.injectableDefInScope(k)?vu(Op(r),yu):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(l&Kt.Self?vf():this.parent).get(r,s=l&Kt.Optional&&s===sa?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[ec]=w[ec]||[]).unshift(ue(r)),d)throw w;return function Sn(n,r,s,l){const d=n[ec];throw r[Ls]&&d.unshift(r[Ls]),n.message=function zn(n,r,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let d=ue(r);if(Array.isArray(r))d=r.map(ue).join(" -> ");else if("object"==typeof r){let p=[];for(let w in r)if(r.hasOwnProperty(w)){let S=r[w];p.push(w+":"+("string"==typeof S?JSON.stringify(S):ue(S)))}d=`{${p.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${n.replace(Cc,"\n  ")}`}("\n"+n.message,d,s,l),n.ngTokenPath=d,n[ec]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{Bt(p),Ec(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((l,d)=>r.push(ue(d))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new mt(205,!1)}processInjectorType(r,s,l){if(!(r=Re(r)))return!1;let d=Cr(r);const p=null==d&&r.ngModule||void 0,w=void 0===p?r:p,S=-1!==l.indexOf(w);if(void 0!==p&&(d=Cr(p)),null==d)return!1;if(null!=d.imports&&!S){let re;l.push(w);try{Hs(d.imports,ve=>{this.processInjectorType(ve,s,l)&&(void 0===re&&(re=[]),re.push(ve))})}finally{}if(void 0!==re)for(let ve=0;ve<re.length;ve++){const{ngModule:He,providers:at}=re[ve];Hs(at,Ut=>this.processProvider(Ut,He,at||Fn))}}this.injectorDefTypes.add(w);const k=wi(w)||(()=>new w);this.records.set(w,vu(k,yu));const Y=d.providers;if(null!=Y&&!S){const re=r;Hs(Y,ve=>this.processProvider(ve,re,Y))}return void 0!==p&&void 0!==r.providers}processProvider(r,s,l){let d=nd(r=Re(r))?r:Re(r&&r.provide);const p=function Hg(n,r,s){return $g(n)?vu(void 0,n.useValue):vu(Rp(n),yu)}(r);if(nd(r)||!0!==r.multi)this.records.get(d);else{let w=this.records.get(d);w||(w=vu(void 0,yu,!0),w.factory=()=>Ye(w.multi),this.records.set(d,w)),d=r,w.multi.push(r)}this.records.set(d,p)}hydrate(r,s){return s.value===yu&&(s.value=y_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Fp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Re(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Op(n){const r=mn(n),s=null!==r?r.factory:wi(n);if(null!==s)return s;if(n instanceof li)throw new mt(204,!1);if(n instanceof Function)return function jg(n){const r=n.length;if(r>0)throw Ea(r,"?"),new mt(204,!1);const s=function dr(n){const r=n&&(n[Dn]||n[nr]);if(r){const s=function or(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new mt(204,!1)}function Rp(n,r,s){let l;if(nd(n)){const d=Re(n);return wi(d)||Op(d)}if($g(n))l=()=>Re(n.useValue);else if(function b_(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Ye(n.deps||[]));else if(function v_(n){return!(!n||!n.useExisting)}(n))l=()=>$(Re(n.useExisting));else{const d=Re(n&&(n.useClass||n.provide));if(!function kp(n){return!!n.deps}(n))return wi(d)||Op(d);l=()=>new d(...Ye(n.deps))}return l}function vu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function $g(n){return null!==n&&"object"==typeof n&&Jc in n}function nd(n){return"function"==typeof n}let fl=(()=>{class n{static create(s,l){var d;if(Array.isArray(s))return bf({name:""},l,s,"");{const p=null!==(d=s.name)&&void 0!==d?d:"";return bf({name:p},s.parent,s.providers,p)}}}return n.THROW_IF_NOT_FOUND=sa,n.NULL=new yf,n.\u0275prov=nn({token:n,providedIn:"any",factory:()=>$(eh)}),n.__NG_ELEMENT_ID__=-1,n})();function E_(n,r){Ss(Ys(n)[1],Tr())}function rh(n){let r=function Xg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;r;){let d;if(fi(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new mt(903,"");d=r.\u0275dir}if(d){if(s){l.push(d);const w=n;w.inputs=ih(n.inputs),w.declaredInputs=ih(n.declaredInputs),w.outputs=ih(n.outputs);const S=d.hostBindings;S&&tm(n,S);const k=d.viewQuery,Y=d.contentQueries;if(k&&em(n,k),Y&&Wp(n,Y),Me(n.inputs,d.inputs),Me(n.declaredInputs,d.declaredInputs),Me(n.outputs,d.outputs),fi(d)&&d.data.animation){const re=n.data;re.animation=(re.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let w=0;w<p.length;w++){const S=p[w];S&&S.ngInherit&&S(n),S===rh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function I_(n){let r=0,s=null;for(let l=n.length-1;l>=0;l--){const d=n[l];d.hostVars=r+=d.hostVars,d.hostAttrs=q(d.hostAttrs,s=q(s,d.hostAttrs))}}(l)}function ih(n){return n===Fr?{}:n===Fn?[]:n}function em(n,r){const s=n.viewQuery;n.viewQuery=s?(l,d)=>{r(l,d),s(l,d)}:r}function Wp(n,r){const s=n.contentQueries;n.contentQueries=s?(l,d,p)=>{r(l,d,p),s(l,d,p)}:r}function tm(n,r){const s=n.hostBindings;n.hostBindings=s?(l,d)=>{r(l,d),s(l,d)}:r}let Tf=null;function jc(){if(!Tf){const n=gr.Symbol;if(n&&n.iterator)Tf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const l=r[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Tf=l)}}}return Tf}function bu(n){return!!Sf(n)&&(Array.isArray(n)||!(n instanceof Map)&&jc()in n)}function Sf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wl(n,r,s){return n[r]=s}function ta(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Hc(n,r,s,l){const d=ta(n,r,s);return ta(n,r+1,l)||d}function rd(n,r,s,l){const d=Te();return ta(d,ao(),r)&&(kt(),function hl(n,r,s,l,d,p){const w=vt(n,r);Ep(r[11],w,p,n.value,s,l,d)}(Mi(),d,n,r,s,l)),rd}function Du(n,r,s,l){return ta(n,ao(),s)?r+nt(s)+l:V}function am(n,r,s,l,d,p,w,S){const k=Te(),Y=kt(),re=n+20,ve=Y.firstCreatePass?function N_(n,r,s,l,d,p,w,S,k){const Y=r.consts,re=gu(r,n,4,w||null,kr(Y,S));Vc(r,s,re,kr(Y,k)),Ss(r,re);const ve=re.tViews=Zd(2,re,l,d,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Y);return null!==r.queries&&(r.queries.template(r,re),ve.queries=r.queries.embeddedTView(re)),re}(re,Y,k,r,s,l,d,p,w):Y.data[re];as(ve,!1);const He=k[11].createComment("");uc(Y,k,He,ve),No(He,k),ff(k,k[re]=Tp(He,k,He,ve)),fr(ve)&&zd(Y,k,ve),null!=w&&rf(k,ve,S)}function lm(n){return tr(function so(){return fn.lFrame.contextLView}(),20+n)}function ch(n,r=Kt.Default){const s=Te();return null===s?$(n,r):Yr(Tr(),s,Re(n),r)}function wm(){throw new Error("invalid")}function Of(n,r,s){const l=Te();return ta(l,ao(),r)&&rl(kt(),Mi(),l,n,r,l[11],s,!1),Of}function Zl(n,r,s,l,d){const w=d?"class":"style";_u(n,s,r.inputs[w],w,l)}function og(n,r,s,l){const d=Te(),p=kt(),w=20+n,S=d[11],k=d[w]=xd(S,r,function Yo(){return fn.lFrame.currentNamespace}()),Y=p.firstCreatePass?function $c(n,r,s,l,d,p,w){const S=r.consts,Y=gu(r,n,2,d,kr(S,p));return Vc(r,s,Y,kr(S,w)),null!==Y.attrs&&Xd(Y,Y.attrs,!1),null!==Y.mergedAttrs&&Xd(Y,Y.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Y),Y}(w,p,d,0,r,s,l):p.data[w];as(Y,!0);const re=Y.mergedAttrs;null!==re&&Ae(S,k,re);const ve=Y.classes;null!==ve&&Kh(S,k,ve);const He=Y.styles;return null!==He&&pp(S,k,He),64!=(64&Y.flags)&&uc(p,d,k,Y),0===function Co(){return fn.lFrame.elementDepthCount}()&&No(k,d),function ks(){fn.lFrame.elementDepthCount++}(),fr(Y)&&(zd(p,d,Y),function nf(n,r,s){if(Ur(r)){const d=r.directiveEnd;for(let p=r.directiveStart;p<d;p++){const w=n.data[p];w.contentQueries&&w.contentQueries(1,s[p],p)}}}(p,Y,d)),null!==l&&rf(d,Y),og}function ql(){let n=Tr();io()?ys():(n=n.parent,as(n,!1));const r=n;!function G(){fn.lFrame.elementDepthCount--}();const s=kt();return s.firstCreatePass&&(Ss(s,n),Ur(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Z(n){return 0!=(16&n.flags)}(r)&&Zl(s,r,Te(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function P(n){return 0!=(32&n.flags)}(r)&&Zl(s,r,Te(),r.stylesWithoutHost,!1),ql}function od(n,r,s,l){return og(n,r,s,l),ql(),od}function Dm(){return Te()}function yc(n){return!!n&&"function"==typeof n.then}function dh(n){return!!n&&"function"==typeof n.subscribe}const ad=dh;function kf(n,r,s,l){const d=Te(),p=kt(),w=Tr();return function Cm(n,r,s,l,d,p,w,S){const k=fr(l),re=n.firstCreatePass&&mu(n),ve=r[8],He=mf(r);let at=!0;if(3&l.type||S){const Bn=vt(l,r),cr=S?S(Bn):Bn,en=He.length,Mr=S?Ri=>S(j(Ri[l.index])):l.index;if(En(s)){let Ri=null;if(!S&&k&&(Ri=function U_(n,r,s,l){const d=n.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const w=d[p];if(w===s&&d[p+1]===l){const S=r[7],k=d[p+2];return S.length>k?S[k]:null}"string"==typeof w&&(p+=2)}return null}(n,r,d,l.index)),null!==Ri)(Ri.__ngLastListenerFn__||Ri).__ngNextListenerFn__=p,Ri.__ngLastListenerFn__=p,at=!1;else{p=hh(l,r,ve,p,!1);const Es=s.listen(cr,d,p);He.push(p,Es),re&&re.push(d,Mr,en,en+1)}}else p=hh(l,r,ve,p,!0),cr.addEventListener(d,p,w),He.push(p),re&&re.push(d,Mr,en,w)}else p=hh(l,r,ve,p,!1);const Ut=l.outputs;let bn;if(at&&null!==Ut&&(bn=Ut[d])){const Bn=bn.length;if(Bn)for(let cr=0;cr<Bn;cr+=2){const Cl=r[bn[cr]][bn[cr+1]].subscribe(p),Dh=He.length;He.push(p,Cl),re&&re.push(d,l.index,Dh,-(Dh+1))}}}(p,d,d[11],w,n,r,!!s,l),kf}function Em(n,r,s,l){try{return!1!==s(l)}catch(d){return _f(n,d),!1}}function hh(n,r,s,l,d){return function p(w){if(w===Function)return l;const S=2&n.flags?On(n.index,r):r;0==(32&r[2])&&Jd(S);let k=Em(r,0,l,w),Y=p.__ngNextListenerFn__;for(;Y;)k=Em(r,0,Y,w)&&k,Y=Y.__ngNextListenerFn__;return d&&!1===k&&(w.preventDefault(),w.returnValue=!1),k}}function Lf(n=1){return function da(n){return(fn.lFrame.contextLView=function ha(n,r){for(;n>0;)r=r[15],n--;return r}(n,fn.lFrame.contextLView))[8]}(n)}function Im(n,r){let s=null;const l=function Ld(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const p=r[d];if("*"!==p){if(null===l?_a(n,p,!0):h(l,p))return d}else s=d}return s}function Gc(n){const r=Te()[16][6];if(!r.projection){const l=r.projection=Ea(n?n.length:1,null),d=l.slice();let p=r.child;for(;null!==p;){const w=n?Im(p,n):0;null!==w&&(d[w]?d[w].projectionNext=p:l[w]=p,d[w]=p),p=p.next}}}function ag(n,r=0,s){const l=Te(),d=kt(),p=gu(d,20+n,16,null,s||null);null===p.projection&&(p.projection=r),ys(),64!=(64&p.flags)&&function Zu(n,r,s){dc(r[11],0,r,s,Ll(n,s,r),zh(s.parent||r[6],s,r))}(d,l,p)}function Bf(n,r,s){return ld(n,"",r,"",s),Bf}function ld(n,r,s,l,d){const p=Te(),w=Du(p,r,s,l);return w!==V&&rl(kt(),Mi(),p,n,w,p[11],d,!1),ld}function Am(n,r,s,l,d){const p=n[s+1],w=null===r;let S=l?Tt(p):Zr(p),k=!1;for(;0!==S&&(!1===k||w);){const re=n[S+1];$_(n[S],r)&&(k=!0,n[S+1]=l?pi(re):er(re)),S=l?Tt(re):Zr(re)}k&&(n[s+1]=l?er(p):pi(p))}function $_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ki(n,r)>=0}const $o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xm(n){return n.substring($o.key,$o.keyEnd)}function Mm(n,r){const s=$o.textEnd;return s===r?-1:(r=$o.keyEnd=function W_(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,$o.key=r,s),Tu(n,r,s))}function Tu(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function _h(n,r,s){return la(n,r,s,!1),_h}function ud(n,r){return la(n,r,null,!0),ud}function Wc(n){!function Dl(n,r,s,l){const d=kt(),p=vs(2);d.firstUpdatePass&&Lm(d,null,p,l);const w=Te();if(s!==V&&ta(w,p,s)){const S=d.data[Li()];if(jf(S,l)&&!Fm(d,p)){let k=l?S.classesWithoutHost:S.stylesWithoutHost;null!==k&&(s=$e(k,s||"")),Zl(d,S,w,s,l)}else!function Q_(n,r,s,l,d,p,w,S){d===V&&(d=Fn);let k=0,Y=0,re=0<d.length?d[0]:null,ve=0<p.length?p[0]:null;for(;null!==re||null!==ve;){const He=k<d.length?d[k+1]:void 0,at=Y<p.length?p[Y+1]:void 0;let bn,Ut=null;re===ve?(k+=2,Y+=2,He!==at&&(Ut=ve,bn=at)):null===ve||null!==re&&re<ve?(k+=2,Ut=re):(Y+=2,Ut=ve,bn=at),null!==Ut&&Vm(n,r,s,l,Ut,bn,w,S),re=k<d.length?d[k]:null,ve=Y<p.length?p[Y]:null}}(d,S,w,w[11],w[p+1],w[p+1]=function J_(n,r,s){if(null==s||""===s)return Fn;const l=[],d=aa(s);if(Array.isArray(d))for(let p=0;p<d.length;p++)n(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&n(l,p,d[p]);else"string"==typeof d&&r(l,d);return l}(n,r,s),l,p)}}($s,Ga,n,!0)}function Ga(n,r){for(let s=function G_(n){return function Pm(n){$o.key=0,$o.keyEnd=0,$o.value=0,$o.valueEnd=0,$o.textEnd=n.length}(n),Mm(n,Tu(n,0,$o.textEnd))}(r);s>=0;s=Mm(r,s))$s(n,xm(r),!0)}function la(n,r,s,l){const d=Te(),p=kt(),w=vs(2);p.firstUpdatePass&&Lm(p,n,w,l),r!==V&&ta(d,w,r)&&Vm(p,p.data[Li()],d,d[11],n,d[w+1]=function dd(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ue(aa(n)))),n}(r,s),l,w)}function Fm(n,r){return r>=n.expandoStartIndex}function Lm(n,r,s,l){const d=n.data;if(null===d[s+1]){const p=d[Li()],w=Fm(n,s);jf(p,l)&&null===r&&!w&&(r=!1),r=function zc(n,r,s,l){const d=function uo(n){const r=fn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let p=l?r.residualClasses:r.residualStyles;if(null===d)0===(l?r.classBindings:r.styleBindings)&&(s=yh(s=dg(null,n,r,s,l),r.attrs,l),p=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==d)if(s=dg(d,n,r,s,l),null===p){let k=function q_(n,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==Zr(l))return n[Tt(l)]}(n,r,l);void 0!==k&&Array.isArray(k)&&(k=dg(null,n,r,k[1],l),k=yh(k,r.attrs,l),function K_(n,r,s,l){n[Tt(s?r.classBindings:r.styleBindings)]=l}(n,r,l,k))}else p=function Y_(n,r,s){let l;const d=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<d;p++)l=yh(l,n[p].hostAttrs,s);return yh(l,r.attrs,s)}(n,r,l)}return void 0!==p&&(l?r.residualClasses=p:r.residualStyles=p),s}(d,p,r,l),function mh(n,r,s,l,d,p){let w=p?r.classBindings:r.styleBindings,S=Tt(w),k=Zr(w);n[l]=s;let re,Y=!1;if(Array.isArray(s)){const ve=s;re=ve[1],(null===re||Ki(ve,re)>0)&&(Y=!0)}else re=s;if(d)if(0!==k){const He=Tt(n[S+1]);n[l+1]=bt(He,S),0!==He&&(n[He+1]=vr(n[He+1],l)),n[S+1]=function Mn(n,r){return 131071&n|r<<17}(n[S+1],l)}else n[l+1]=bt(S,0),0!==S&&(n[S+1]=vr(n[S+1],l)),S=l;else n[l+1]=bt(k,0),0===S?S=l:n[k+1]=vr(n[k+1],l),k=l;Y&&(n[l+1]=er(n[l+1])),Am(n,re,l,!0),Am(n,re,l,!1),function H_(n,r,s,l,d){const p=d?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&Ki(p,r)>=0&&(s[l+1]=pi(s[l+1]))}(r,re,n,l,p),w=bt(S,k),p?r.classBindings=w:r.styleBindings=w}(d,p,r,s,w,l)}}function dg(n,r,s,l,d){let p=null;const w=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<w&&(p=r[S],l=yh(l,p.hostAttrs,d),p!==n);)S++;return null!==n&&(s.directiveStylingLast=S),l}function yh(n,r,s){const l=s?1:2;let d=-1;if(null!==r)for(let p=0;p<r.length;p++){const w=r[p];"number"==typeof w?d=w:d===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$s(n,w,!!s||r[++p]))}return void 0===n?null:n}function Vm(n,r,s,l,d,p,w,S){if(!(3&r.type))return;const k=n.data,Y=k[S+1];Uf(function ei(n){return 1==(1&n)}(Y)?Um(k,r,s,d,Zr(Y),w):void 0)||(Uf(p)||function Kn(n){return 2==(2&n)}(Y)&&(p=Um(k,null,s,d,S,w)),function fp(n,r,s,l,d){const p=En(n);if(r)d?p?n.addClass(s,l):s.classList.add(l):p?n.removeClass(s,l):s.classList.remove(l);else{let w=-1===l.indexOf("-")?void 0:Ja.DashCase;if(null==d)p?n.removeStyle(s,l,w):s.style.removeProperty(l);else{const S="string"==typeof d&&d.endsWith("!important");S&&(d=d.slice(0,-10),w|=Ja.Important),p?n.setStyle(s,l,d,w):s.style.setProperty(l,d,S?"important":"")}}}(l,w,dt(Li(),s),d,p))}function Um(n,r,s,l,d,p){const w=null===r;let S;for(;d>0;){const k=n[d],Y=Array.isArray(k),re=Y?k[1]:k,ve=null===re;let He=s[d+1];He===V&&(He=ve?Fn:void 0);let at=ve?Xo(He,l):re===l?He:void 0;if(Y&&!Uf(at)&&(at=Xo(k,l)),Uf(at)&&(S=at,w))return S;const Ut=n[d+1];d=w?Tt(Ut):Zr(Ut)}if(null!==r){let k=p?r.residualClasses:r.residualStyles;null!=k&&(S=Xo(k,l))}return S}function Uf(n){return void 0!==n}function jf(n,r){return 0!=(n.flags&(r?16:32))}function X_(n,r=""){const s=Te(),l=kt(),d=n+20,p=l.firstCreatePass?gu(l,d,1,r,null):l.data[d],w=s[d]=Bh(s[11],r);uc(l,s,w,p),as(p,!1)}function jm(n){return Hf("",n,""),jm}function Hf(n,r,s){const l=Te(),d=Du(l,n,r,s);return d!==V&&function $a(n,r,s){const l=dt(r,n);Vh(n[11],l,s)}(l,Li(),d),Hf}function Wo(n,r,s){const l=Te();return ta(l,ao(),r)&&rl(kt(),Mi(),l,n,r,l[11],s,!0),Wo}const vh=void 0;var hb=["en",[["a","p"],["AM","PM"],vh],[["AM","PM"],vh,vh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vh,"{1} 'at' {0}",vh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function db(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let $f={};function ty(n){const r=function fb(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=lv(r);if(s)return s;const l=r.split("-")[0];if(s=lv(l),s)return s;if("en"===l)return hb;throw new Error(`Missing locale data for the locale "${n}".`)}function av(n){return ty(n)[Br.PluralCase]}function lv(n){return n in $f||($f[n]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[n]),$f[n]}var Br=(()=>((Br=Br||{})[Br.LocaleId=0]="LocaleId",Br[Br.DayPeriodsFormat=1]="DayPeriodsFormat",Br[Br.DayPeriodsStandalone=2]="DayPeriodsStandalone",Br[Br.DaysFormat=3]="DaysFormat",Br[Br.DaysStandalone=4]="DaysStandalone",Br[Br.MonthsFormat=5]="MonthsFormat",Br[Br.MonthsStandalone=6]="MonthsStandalone",Br[Br.Eras=7]="Eras",Br[Br.FirstDayOfWeek=8]="FirstDayOfWeek",Br[Br.WeekendRange=9]="WeekendRange",Br[Br.DateFormat=10]="DateFormat",Br[Br.TimeFormat=11]="TimeFormat",Br[Br.DateTimeFormat=12]="DateTimeFormat",Br[Br.NumberSymbols=13]="NumberSymbols",Br[Br.NumberFormats=14]="NumberFormats",Br[Br.CurrencyCode=15]="CurrencyCode",Br[Br.CurrencySymbol=16]="CurrencySymbol",Br[Br.CurrencyName=17]="CurrencyName",Br[Br.Currencies=18]="Currencies",Br[Br.Directionality=19]="Directionality",Br[Br.PluralCase=20]="PluralCase",Br[Br.ExtraData=21]="ExtraData",Br))();const pb=["zero","one","two","few","many"],Km="en-US",Ym={marker:"element"},Jm={marker:"ICU"};var Oo=(()=>((Oo=Oo||{})[Oo.SHIFT=2]="SHIFT",Oo[Oo.APPEND_EAGERLY=1]="APPEND_EAGERLY",Oo[Oo.COMMENT=2]="COMMENT",Oo))();let cv=Km;function uv(n,r,s){const l=r.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?dp(n,0,s):j(s[d])}function dv(n,r,s,l,d){const p=r.insertBeforeIndex;if(Array.isArray(p)){let w=l,S=null;if(3&r.type||(S=w,w=d),null!==w&&0==(2&r.flags))for(let k=1;k<p.length;k++)Ua(n,w,s[p[k]],S,!1)}}function hv(n,r){if(n.push(r),n.length>1)for(let s=n.length-2;s>=0;s--){const l=n[s];fv(l)||vb(l,r)&&null===bb(l)&&wb(l,r.index)}}function fv(n){return!(64&n.type)}function vb(n,r){return fv(r)||n.index>r.index}function bb(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function wb(n,r){const s=n.insertBeforeIndex;Array.isArray(s)?s[0]=r:(Pc(uv,dv),n.insertBeforeIndex=r)}function fg(n,r){const s=n.data[r];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function Eb(n,r,s){const l=Xh(n,s,64,null,null);return hv(r,l),l}function Qm(n,r){const s=r[n.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function pv(n){return n>>>17}function gv(n){return(131070&n)>>>1}let pg=0,gg=0;function _v(n,r,s,l){const d=s[11];let w,p=null;for(let S=0;S<r.length;S++){const k=r[S];if("string"==typeof k){const Y=r[++S];null===s[Y]&&(s[Y]=Bh(d,k))}else if("number"==typeof k)switch(1&k){case 0:const Y=pv(k);let re,ve;if(null===p&&(p=Y,w=cc(d,l)),Y===p?(re=l,ve=w):(re=null,ve=j(s[Y])),null!==ve){const bn=gv(k);Ua(d,ve,s[bn],re,!1);const cr=fg(n,bn);if(null!==cr&&"object"==typeof cr){const en=Qm(cr,s);null!==en&&_v(n,cr.create[en],s,s[cr.anchorIdx])}}break;case 1:const at=r[++S],Ut=r[++S];Ep(d,dt(k>>>1,s),null,null,at,Ut,null)}else switch(k){case Jm:const Y=r[++S],re=r[++S];null===s[re]&&No(s[re]=Ig(d,Y),s);break;case Ym:const ve=r[++S],He=r[++S];null===s[He]&&No(s[He]=xd(d,ve,null),s)}}}function yv(n,r,s,l,d){for(let p=0;p<s.length;p++){const w=s[p],S=s[++p];if(w&d){let k="";for(let Y=p+1;Y<=p+S;Y++){const re=s[Y];if("string"==typeof re)k+=re;else if("number"==typeof re)if(re<0)k+=nt(r[l-re]);else{const ve=re>>>2;switch(3&re){case 1:const He=s[++Y],at=s[++Y],Ut=n.data[ve];"string"==typeof Ut?Ep(r[11],r[ve],null,Ut,He,k,at):rl(n,Ut,r,He,k,r[11],at,!1);break;case 0:const bn=r[ve];null!==bn&&Vh(r[11],bn,k);break;case 2:xb(n,fg(n,ve),r,k);break;case 3:vv(n,fg(n,ve),l,r)}}}}else{const k=s[p+1];if(k>0&&3==(3&k)){const re=fg(n,k>>>2);r[re.currentCaseLViewIndex]<0&&vv(n,re,l,r)}}p+=S}}function vv(n,r,s,l){let d=l[r.currentCaseLViewIndex];if(null!==d){let p=pg;d<0&&(d=l[r.currentCaseLViewIndex]=~d,p=-1),yv(n,l,r.update[d],s,p)}}function xb(n,r,s,l){const d=function Nb(n,r){let s=n.cases.indexOf(r);if(-1===s)switch(n.type){case 1:{const l=function gb(n,r){const s=av(r)(parseInt(n,10)),l=pb[s];return void 0!==l?l:"other"}(r,function yb(){return cv}());s=n.cases.indexOf(l),-1===s&&"other"!==l&&(s=n.cases.indexOf("other"));break}case 0:s=n.cases.indexOf("other")}return-1===s?null:s}(r,l);if(Qm(r,s)!==d&&(bv(n,r,s),s[r.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const w=s[r.anchorIdx];w&&_v(n,r.create[d],s,w)}}function bv(n,r,s){let l=Qm(r,s);if(null!==l){const d=r.remove[l];for(let p=0;p<d.length;p++){const w=d[p];if(w>0){const S=dt(w,s);null!==S&&Pd(s[11],S)}else bv(n,fg(n,~w),s)}}}function Mb(){const n=[];let s,l,r=-1;function p(S,k){r=0;const Y=Qm(S,k);l=null!==Y?S.remove[Y]:Fn}function w(){if(r<l.length){const S=l[r++];return S>0?s[S]:(n.push(r,l),p(s[1].data[~S],s),w())}return 0===n.length?null:(l=n.pop(),r=n.pop(),w())}return function d(S,k){for(s=k;n.length;)n.pop();return p(S.value,k),w}}const Xm=/\ufffd(\d+):?\d*\ufffd/gi,Rb=/\ufffd(\d+)\ufffd/,Dv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Pb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,kb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Fb=/\uE500/g;function Cv(n,r,s,l,d,p,w){const S=Lc(n,l,1,null);let k=S<<Oo.SHIFT,Y=zi();r===Y&&(Y=null),null===Y&&(k|=Oo.APPEND_EAGERLY),w&&(k|=Oo.COMMENT,function kh(n){void 0===ju&&(ju=n())}(Mb)),d.push(k,null===p?"":p);const re=Xh(n,S,w?32:1,null===p?"":p,null);hv(s,re);const ve=re.index;return as(re,!1),null!==Y&&r!==Y&&function Cb(n,r){let s=n.insertBeforeIndex;null===s?(Pc(uv,dv),s=n.insertBeforeIndex=[null,r]):(function ht(n,r,s){n!=r&&Ot(s,n,r,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(r))}(Y,ve),re}function Vb(n,r,s,l,d,p,w){const S=w.match(Xm),k=Cv(n,r,s,p,l,S?null:w,!1);S&&Gf(d,w,k.index,null,0,null)}function Gf(n,r,s,l,d,p){const w=n.length,S=w+1;n.push(null,null);const k=w+2,Y=r.split(Xm);let re=0;for(let ve=0;ve<Y.length;ve++){const He=Y[ve];if(1&ve){const at=d+parseInt(He,10);n.push(-1-at),re|=Ev(at)}else""!==He&&n.push(He)}return n.push(s<<2|(l?1:0)),l&&n.push(l,p),n[w]=re,n[S]=n.length-k,re}function Ev(n){return 1<<Math.min(n,31)}function Iv(n){let r,p,s="",l=0,d=!1;for(;null!==(r=Pb.exec(n));)d?r[0]===`\ufffd/*${p}\ufffd`&&(l=r.index,d=!1):(s+=n.substring(l,r.index+r[0].length),p=r[1],d=!0);return s+=n.substr(l),s}function Tv(n,r,s,l,d,p){let w=0;const S={type:d.type,currentCaseLViewIndex:Lc(n,r,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Zb(n,r,s){n.push(Ev(r.mainBinding),2,-1-r.mainBinding,s<<2|2)})(s,d,p),function Db(n,r,s){const l=n.data[r];null===l?n.data[r]=s:l.value=s}(n,p,S);const k=d.values;for(let Y=0;Y<k.length;Y++){const re=k[Y],ve=[];for(let He=0;He<re.length;He++){const at=re[He];if("string"!=typeof at){const Ut=ve.push(at)-1;re[He]=`\x3c!--\ufffd${Ut}\ufffd--\x3e`}}w=Wb(n,S,r,s,l,d.cases[Y],re.join(""),ve)|w}w&&function qb(n,r,s){n.push(r,1,s<<2|3)}(s,w,p)}function Gb(n){const r=[],s=[];let l=1,d=0;const p=ny(n=n.replace(Dv,function(w,S,k){return l="select"===k?0:1,d=parseInt(S.substr(1),10),""}));for(let w=0;w<p.length;){let S=p[w++].trim();1===l&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&r.push(S);const k=ny(p[w++]);r.length>s.length&&s.push(k)}return{type:l,mainBinding:d,cases:r,values:s}}function ny(n){if(!n)return[];let r=0;const s=[],l=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(n);){const S=p.index;if("}"==p[0]){if(s.pop(),0==s.length){const k=n.substring(r,S);Dv.test(k)?l.push(Gb(k)):l.push(k),r=S+1}}else{if(0==s.length){const k=n.substring(r,S);l.push(k),r=S+1}s.push("{")}}const w=n.substring(r);return l.push(w),l}function Wb(n,r,s,l,d,p,w,S){const k=[],Y=[],re=[];r.cases.push(p),r.create.push(k),r.remove.push(Y),r.update.push(re);const He=function Pu(n){const r=new xs(n);return function nu(){try{return!!(new window.DOMParser).parseFromString(La(""),"text/html")}catch(n){return!1}}()?new yd(r):r}(yn()).getInertBodyElement(w),at=function Ya(n){return"content"in n&&function Pl(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(He)||He;return at?Sv(n,r,s,l,k,Y,re,at,d,S,0):0}function Sv(n,r,s,l,d,p,w,S,k,Y,re){let ve=0,He=S.firstChild;for(;He;){const at=Lc(n,s,1,null);switch(He.nodeType){case Node.ELEMENT_NODE:const Ut=He,bn=Ut.tagName.toLowerCase();if(kn.hasOwnProperty(bn)){ry(d,Ym,bn,k,at),n.data[at]=bn;const Mr=Ut.attributes;for(let Ri=0;Ri<Mr.length;Ri++){const Es=Mr.item(Ri),Cl=Es.name.toLowerCase();Es.value.match(Xm)?xo.hasOwnProperty(Cl)&&Gf(w,Es.value,at,Es.name,0,Rn[Cl]?vl:xn[Cl]?iu:null):Kb(d,at,Es)}ve=Sv(n,r,s,l,d,p,w,He,at,Y,re+1)|ve,Av(p,at,re)}break;case Node.TEXT_NODE:const Bn=He.textContent||"",cr=Bn.match(Xm);ry(d,null,cr?"":Bn,k,at),Av(p,at,re),cr&&(ve=Gf(w,Bn,at,null,0,null)|ve);break;case Node.COMMENT_NODE:const en=Rb.exec(He.textContent||"");if(en){const Ri=Y[parseInt(en[1],10)];ry(d,Jm,"",k,at),Tv(n,s,l,k,Ri,at),zb(p,at,re)}}He=He.nextSibling}return ve}function Av(n,r,s){0===s&&n.push(r)}function zb(n,r,s){0===s&&(n.push(~r),n.push(r))}function ry(n,r,s,l,d){null!==r&&n.push(r),n.push(s,d,function Ib(n,r,s){return n|r<<17|s<<1}(0,l,d))}function Kb(n,r,s){n.push(r<<1|1,s.name,s.value)}function Nv(n,r,s=-1){const l=kt(),d=Te(),p=20+n,w=kr(l.consts,r),S=zi();l.firstCreatePass&&function Bb(n,r,s,l,d,p){const w=zi(),S=[],k=[],Y=[[]];d=function $b(n,r){if(function Hb(n){return-1===n}(r))return Iv(n);{const s=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,l=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return Iv(n.substring(s,l))}}(d,p);const re=function Lb(n){return n.replace(Fb," ")}(d).split(kb);for(let ve=0;ve<re.length;ve++){let He=re[ve];if(0==(1&ve)){const at=ny(He);for(let Ut=0;Ut<at.length;Ut++){let bn=at[Ut];if(0==(1&Ut)){const Bn=bn;""!==Bn&&Vb(n,w,Y[0],S,k,s,Bn)}else{const Bn=bn;if("object"!=typeof Bn)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Tv(n,s,k,r,Bn,Cv(n,w,Y[0],s,S,"",!0).index)}}}else{const at=47===He.charCodeAt(0),bn=(He.charCodeAt(at?1:0),20+Number.parseInt(He.substring(at?2:1)));if(at)Y.shift(),as(zi(),!1);else{const Bn=Eb(n,Y[0],bn);Y.unshift([]),as(Bn,!0)}}}n.data[l]={create:S,update:k}}(l,null===S?0:S.index,d,p,w,s);const k=l.data[p],re=lc(l,S===d[6]?null:S,d);(function Ab(n,r,s,l){const d=n[11];for(let p=0;p<r.length;p++){const w=r[p++],S=r[p],k=(w&Oo.COMMENT)===Oo.COMMENT,Y=(w&Oo.APPEND_EAGERLY)===Oo.APPEND_EAGERLY,re=w>>>Oo.SHIFT;let ve=n[re];null===ve&&(ve=n[re]=k?d.createComment(S):Bh(d,S)),Y&&null!==s&&Ua(d,s,ve,l,!1)}})(d,k.create,re,S&&8&S.type?d[S.index]:null),Zs(!0)}function Ov(n,r,s){Nv(n,r,s),function Mv(){Zs(!1)}()}function iy(n){return function Tb(n){n&&(pg|=1<<Math.min(gg,31)),gg++}(ta(Te(),ao(),n)),iy}function Rv(n){!function Sb(n,r,s){if(gg>0){const l=n.data[s];yv(n,r,Array.isArray(l)?l:l.update,function Os(){return fn.lFrame.bindingIndex}()-gg-1,pg)}pg=0,gg=0}(kt(),Te(),n+20)}function sy(n,r,s,l,d){if(n=Re(n),Array.isArray(n))for(let p=0;p<n.length;p++)sy(n[p],r,s,l,d);else{const p=kt(),w=Te();let S=nd(n)?n:Re(n.provide),k=Rp(n);const Y=Tr(),re=1048575&Y.providerIndexes,ve=Y.directiveStart,He=Y.providerIndexes>>20;if(nd(n)||!n.multi){const at=new Un(k,d,ch),Ut=ay(S,r,d?re:re+He,ve);-1===Ut?(It(W(Y,w),p,S),oy(p,n,r.length),r.push(S),Y.directiveStart++,Y.directiveEnd++,d&&(Y.providerIndexes+=1048576),s.push(at),w.push(at)):(s[Ut]=at,w[Ut]=at)}else{const at=ay(S,r,re+He,ve),Ut=ay(S,r,re,re+He),bn=at>=0&&s[at],Bn=Ut>=0&&s[Ut];if(d&&!Bn||!d&&!bn){It(W(Y,w),p,S);const cr=function cw(n,r,s,l,d){const p=new Un(n,s,ch);return p.multi=[],p.index=r,p.componentProviders=0,Pv(p,d,l&&!s),p}(d?lw:aw,s.length,d,l,k);!d&&Bn&&(s[Ut].providerFactory=cr),oy(p,n,r.length,0),r.push(S),Y.directiveStart++,Y.directiveEnd++,d&&(Y.providerIndexes+=1048576),s.push(cr),w.push(cr)}else oy(p,n,at>-1?at:Ut,Pv(s[d?Ut:at],k,!d&&l));!d&&l&&Bn&&s[Ut].componentProviders++}}}function oy(n,r,s,l){const d=nd(r),p=function Pp(n){return!!n.useClass}(r);if(d||p){const k=(p?Re(r.useClass):r).prototype.ngOnDestroy;if(k){const Y=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const re=Y.indexOf(s);-1===re?Y.push(s,[l,k]):Y[re+1].push(l,k)}else Y.push(s,k)}}}function Pv(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function ay(n,r,s,l){for(let d=s;d<l;d++)if(r[d]===n)return d;return-1}function aw(n,r,s,l){return ly(this.multi,[])}function lw(n,r,s,l){const d=this.multi;let p;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=to(s,s[1],this.providerFactory.index,l);p=S.slice(0,w),ly(d,p);for(let k=w;k<S.length;k++)p.push(S[k])}else p=[],ly(d,p);return p}function ly(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function kv(n,r=[]){return s=>{s.providersResolver=(l,d)=>function ow(n,r,s){const l=kt();if(l.firstCreatePass){const d=fi(n);sy(s,l.data,l.blueprint,d,!0),sy(r,l.data,l.blueprint,d,!1)}}(l,d?d(n):n,r)}}class Fv{}class hw{resolveComponentFactory(r){throw function dw(n){const r=Error(`No component factory found for ${ue(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let e_=(()=>{class n{}return n.NULL=new hw,n})();function fw(){return Wf(Tr(),Te())}function Wf(n,r){return new _g(vt(n,r))}let _g=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=fw,n})();function pw(n){return n instanceof _g?n.nativeElement:n}class Bv{}let gw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _w(){const n=Te(),s=On(Tr().index,n);return function mw(n){return n[11]}(on(s)?s:n)}(),n})(),yw=(()=>{class n{}return n.\u0275prov=nn({token:n,providedIn:"root",factory:()=>null}),n})();class Vv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Uv=new Vv("13.3.11"),cy={};function t_(n,r,s,l,d=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&l.push(j(p)),Xn(p))for(let S=10;S<p.length;S++){const k=p[S],Y=k[1].firstChild;null!==Y&&t_(k[1],k,Y,l)}const w=s.type;if(8&w)t_(n,r,s.child,l);else if(32&w){const S=Hu(s,r);let k;for(;k=S();)l.push(k)}else if(16&w){const S=hp(r,s);if(Array.isArray(S))l.push(...S);else{const k=$u(r[16]);t_(k[1],k,S,l,!0)}}s=d?s.projectionNext:s.next}return l}class yg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return t_(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Xn(r)){const s=r[8],l=s?s.indexOf(this):-1;l>-1&&(Qa(r,l),al(s,l))}this._attachedToViewContainer=!1}Hh(this._lView[1],this._lView)}onDestroy(r){qd(this._lView[1],this._lView,null,r)}markForCheck(){Jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function xp(n,r,s){const l=r[10];l.begin&&l.begin();try{Gl(n,r,n.template,s)}catch(d){throw _f(r,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new mt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jh(n,r){zu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new mt(902,"");this._appRef=r}}class vw extends yg{constructor(r){super(r),this._view=r}detectChanges(){pf(this._view)}checkNoChanges(){}get context(){return null}}class jv extends e_{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=un(r);return new uy(s,this.ngModule)}}function Hv(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class uy extends Fv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function y(n){return n.map(u).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Hv(this.componentDef.inputs)}get outputs(){return Hv(this.componentDef.outputs)}create(r,s,l,d){const p=(d=d||this.ngModule)?function ww(n,r){return{get:(s,l,d)=>{const p=n.get(s,cy,d);return p!==cy||l===cy?p:r.get(s,l,d)}}}(r,d.injector):r,w=p.get(Bv,R),S=p.get(yw,null),k=w.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",re=l?function vp(n,r,s){if(En(n))return n.selectRootElement(r,s===Pn.ShadowDom);let l="string"==typeof r?n.querySelector(r):r;return l.textContent="",l}(k,l,this.componentDef.encapsulation):xd(w.createRenderer(null,this.componentDef),Y,function bw(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Y)),ve=this.componentDef.onPush?576:528,He=function If(n,r){return{components:[],scheduler:n||rp,clean:Np,playerHandler:r||null,flags:0}}(),at=Zd(0,null,null,1,0,null,null,null,null,null),Ut=pu(null,at,He,ve,null,null,w,k,S,p);let bn,Bn;Xi(Ut);try{const cr=function Yg(n,r,s,l,d,p){const w=s[1];s[20]=n;const k=gu(w,20,2,"#host",null),Y=k.mergedAttrs=r.hostAttrs;null!==Y&&(Xd(k,Y,!0),null!==n&&(Ae(d,n,Y),null!==k.classes&&Kh(d,n,k.classes),null!==k.styles&&pp(d,n,k.styles)));const re=l.createRenderer(n,r),ve=pu(s,Sg(r),null,r.onPush?64:16,s[20],k,l,re,p||null,null);return w.firstCreatePass&&(It(W(k,s),w,r.type),uf(w,k),Rg(k,s.length,1)),ff(s,ve),s[20]=ve}(re,this.componentDef,Ut,w,k);if(re)if(l)Ae(k,re,["ng-version",Uv.full]);else{const{attrs:en,classes:Mr}=function N(n){const r=[],s=[];let l=1,d=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===d?""!==p&&r.push(p,n[++l]):8===d&&s.push(p);else{if(!Xa(d))break;d=p}l++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);en&&Ae(k,re,en),Mr&&Mr.length>0&&Kh(k,re,Mr.join(" "))}if(Bn=Ln(at,20),void 0!==s){const en=Bn.projection=[];for(let Mr=0;Mr<this.ngContentSelectors.length;Mr++){const Ri=s[Mr];en.push(null!=Ri?Array.from(Ri):null)}}bn=function Jg(n,r,s,l,d){const p=s[1],w=function bp(n,r,s){const l=Tr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),df(n,l,r,Lc(n,r,1,null),s));const d=to(r,n,l.directiveStart,l);No(d,r);const p=vt(l,r);return p&&No(p,r),d}(p,s,r);if(l.components.push(w),n[8]=w,d&&d.forEach(k=>k(w,r)),r.contentQueries){const k=Tr();r.contentQueries(1,w,k.directiveStart)}const S=Tr();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(fo(S.index),lf(s[1],S,0,S.directiveStart,S.directiveEnd,r),Dp(r,w)),w}(cr,this.componentDef,Ut,He,[E_]),Bc(at,Ut,null)}finally{eo()}return new Cw(this.componentType,bn,Wf(Bn,Ut),Ut,Bn)}}class Cw extends class uw{}{constructor(r,s,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new vw(d),this.componentType=r}get injector(){return new ot(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class zf{}class $v{}const Zf=new Map;class zv extends zf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jv(this);const l=hn(r);this._bootstrapComponents=ro(l.bootstrap),this._r3Injector=Vg(r,s,[{provide:zf,useValue:this},{provide:e_,useValue:this.componentFactoryResolver}],ue(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=fl.THROW_IF_NOT_FOUND,l=Kt.Default){return r===fl||r===zf||r===eh?this:this._r3Injector.get(r,s,l)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class dy extends $v{constructor(r){super(),this.moduleType=r,null!==hn(r)&&function Iw(n){const r=new Set;!function s(l){const d=hn(l,!0),p=d.id;null!==p&&(function Gv(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${ue(r)} vs ${ue(r.name)}`)}(p,Zf.get(p),l),Zf.set(p,l));const w=ro(d.imports);for(const S of w)r.has(S)||(r.add(S),s(S))}(n)}(r)}create(r){return new zv(this.moduleType,r)}}function Zv(n,r,s){const l=Ni()+n,d=Te();return d[l]===V?Wl(d,l,s?r.call(s):r()):function wu(n,r){return n[r]}(d,l)}function qv(n,r,s,l){return Jv(Te(),Ni(),n,r,s,l)}function Kv(n,r,s,l,d){return Qv(Te(),Ni(),n,r,s,l,d)}function Yv(n,r,s,l,d,p){return function Xv(n,r,s,l,d,p,w,S){const k=r+s;return function sh(n,r,s,l,d){const p=Hc(n,r,s,l);return ta(n,r+2,d)||p}(n,k,d,p,w)?Wl(n,k+3,S?l.call(S,d,p,w):l(d,p,w)):vg(n,k+3)}(Te(),Ni(),n,r,s,l,d,p)}function vg(n,r){const s=n[r];return s===V?void 0:s}function Jv(n,r,s,l,d,p){const w=r+s;return ta(n,w,d)?Wl(n,w+1,p?l.call(p,d):l(d)):vg(n,w+1)}function Qv(n,r,s,l,d,p,w){const S=r+s;return Hc(n,S,d,p)?Wl(n,S+2,w?l.call(w,d,p):l(d,p)):vg(n,S+2)}function n0(n,r){const s=kt();let l;const d=n+20;s.firstCreatePass?(l=function Ow(n,r){if(r)for(let s=r.length-1;s>=0;s--){const l=r[s];if(n===l.name)return l}}(r,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,l.onDestroy)):l=s.data[d];const p=l.factory||(l.factory=wi(l.type)),w=Bt(ch);try{const S=Si(!1),k=p();return Si(S),function M_(n,r,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=l}(s,Te(),d,k),k}finally{Bt(w)}}function r0(n,r,s){const l=n+20,d=Te(),p=tr(d,l);return bg(d,l)?Jv(d,Ni(),r,p.transform,s,p):p.transform(s)}function s0(n,r,s,l){const d=n+20,p=Te(),w=tr(p,d);return bg(p,d)?Qv(p,Ni(),r,w.transform,s,l,w):w.transform(s,l)}function bg(n,r){return n[1].data[r].pure}function hy(n){return r=>{setTimeout(n,void 0,r)}}const Zc=class Fw extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){var d,p,w;let S=r,k=s||(()=>null),Y=l;if(r&&"object"==typeof r){const ve=r;S=null===(d=ve.next)||void 0===d?void 0:d.bind(ve),k=null===(p=ve.error)||void 0===p?void 0:p.bind(ve),Y=null===(w=ve.complete)||void 0===w?void 0:w.bind(ve)}this.__isAsync&&(k=hy(k),S&&(S=hy(S)),Y&&(Y=hy(Y)));const re=super.subscribe({next:S,error:k,complete:Y});return r instanceof b.w0&&r.add(re),re}};function Lw(){return this._results[jc()]()}class fy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=jc(),l=fy.prototype;l[s]||(l[s]=Lw)}get changes(){return this._changes||(this._changes=new Zc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const d=Jr(r);(this._changesDetected=!function To(n,r,s){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let d=n[l],p=r[l];if(s&&(d=s(d),p=s(p)),p!==d)return!1}return!0}(l._results,d,s))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Uw,n})();const Bw=wg,Vw=class extends Bw{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(r){const s=this._declarationTContainer.tViews,l=pu(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(s)),Bc(s,l,r),new yg(l)}};function Uw(){return n_(Tr(),Te())}function n_(n,r){return 4&n.type?new Vw(r,n,Wf(n,r)):null}let r_=(()=>{class n{}return n.__NG_ELEMENT_ID__=jw,n})();function jw(){return l0(Tr(),Te())}const Hw=r_,o0=class extends Hw{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return Wf(this._hostTNode,this._hostLView)}get injector(){return new ot(this._hostTNode,this._hostLView)}get parentInjector(){const r=Le(this._hostTNode,this._hostLView);if(_t(r)){const s=An(r,this._hostLView),l=Zt(r);return new ot(s[1].data[l+8],s)}return new ot(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=a0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,l){const d=r.createEmbeddedView(s||{});return this.insert(d,l),d}createComponent(r,s,l,d,p){const w=r&&!function Di(n){return"function"==typeof n}(r);let S;if(w)S=s;else{const ve=s||{};S=ve.index,l=ve.injector,d=ve.projectableNodes,p=ve.ngModuleRef}const k=w?r:new uy(un(r)),Y=l||this.parentInjector;if(!p&&null==k.ngModule){const He=(w?Y:this.parentInjector).get(zf,null);He&&(p=He)}const re=k.create(Y,d,void 0,p);return this.insert(re.hostView,S),re}insert(r,s){const l=r._lView,d=l[1];if(function Gr(n){return Xn(n[3])}(l)){const re=this.indexOf(r);if(-1!==re)this.detach(re);else{const ve=l[3],He=new o0(ve,ve[6],ve[3]);He.detach(He.indexOf(r))}}const p=this._adjustIndex(s),w=this._lContainer;!function Gu(n,r,s,l){const d=10+l,p=s.length;l>0&&(s[d-1][4]=r),l<p-10?(r[4]=s[d],Tl(s,10+l,r)):(s.push(r),r[4]=null),r[3]=s;const w=r[17];null!==w&&s!==w&&function Nd(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(w,r);const S=r[19];null!==S&&S.insertView(n),r[2]|=128}(d,l,w,p);const S=Rd(p,w),k=l[11],Y=cc(k,w[7]);return null!==Y&&function Uh(n,r,s,l,d,p){l[0]=d,l[6]=r,zu(n,l,s,1,d,p)}(d,w[6],k,l,Y,S),r.attachToViewContainerRef(),Tl(py(w),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=a0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=Qa(this._lContainer,s);l&&(al(py(this._lContainer),s),Hh(l[1],l))}detach(r){const s=this._adjustIndex(r,-1),l=Qa(this._lContainer,s);return l&&null!=al(py(this._lContainer),s)?new yg(l):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function a0(n){return n[8]}function py(n){return n[8]||(n[8]=[])}function l0(n,r){let s;const l=r[n.index];if(Xn(l))s=l;else{let d;if(8&n.type)d=j(l);else{const p=r[11];d=p.createComment("");const w=vt(n,r);Ua(p,cc(p,w),d,function up(n,r){return En(n)?n.nextSibling(r):r.nextSibling}(p,w),!1)}r[n.index]=s=Tp(l,r,d,n),ff(r,s)}return new o0(s,n,r)}class gy{constructor(r){this.queryList=r,this.matches=null}clone(){return new gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class my{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let p=0;p<l;p++){const w=s.getByIndex(p);d.push(this.queries[w.indexInDeclarationView].clone())}return new my(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==_0(r,s).matches&&this.queries[s].setDirty()}}class c0{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class _y{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,p=this.getByIndex(l).embeddedTView(r,d);p&&(p.indexInDeclarationView=l,null!==s?s.push(p):s=[p])}return null!==s?new _y(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class yy{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new yy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(r,s,Ww(s,p)),this.matchTNodeWithReadOption(r,s,ba(s,r,p,!1,!1))}else l===wg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ba(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===_g||d===r_||d===wg&&4&s.type)this.addMatch(s.index,-2);else{const p=ba(s,r,d,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Ww(n,r){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function Zw(n,r,s,l){return-1===s?function zw(n,r){return 11&n.type?Wf(n,r):4&n.type?n_(n,r):null}(r,n):-2===s?function qw(n,r,s){return s===_g?Wf(r,n):s===wg?n_(r,n):s===r_?l0(r,n):void 0}(n,r,l):to(n,n[1],s,r)}function u0(n,r,s,l){const d=r[19].queries[l];if(null===d.matches){const p=n.data,w=s.matches,S=[];for(let k=0;k<w.length;k+=2){const Y=w[k];S.push(Y<0?null:Zw(r,p[Y],w[k+1],s.metadata.read))}d.matches=S}return d.matches}function vy(n,r,s,l){const d=n.queries.getByIndex(s),p=d.matches;if(null!==p){const w=u0(n,r,d,s);for(let S=0;S<p.length;S+=2){const k=p[S];if(k>0)l.push(w[S/2]);else{const Y=p[S+1],re=r[-k];for(let ve=10;ve<re.length;ve++){const He=re[ve];He[17]===He[3]&&vy(He[1],He,Y,l)}if(null!==re[9]){const ve=re[9];for(let He=0;He<ve.length;He++){const at=ve[He];vy(at[1],at,Y,l)}}}}}return l}function d0(n){const r=Te(),s=kt(),l=ca();na(l+1);const d=_0(s,l);if(n.dirty&&pr(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const p=d.crossesNgTemplate?vy(s,r,l,[]):u0(s,r,d,l);n.reset(p,pw),n.notifyOnChanges()}return!0}return!1}function h0(n,r,s){const l=kt();l.firstCreatePass&&(m0(l,new c0(n,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),g0(l,Te(),r)}function f0(n,r,s,l){const d=kt();if(d.firstCreatePass){const p=Tr();m0(d,new c0(r,s,l),p.index),function Yw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}g0(d,Te(),s)}function p0(){return function Kw(n,r){return n[19].queries[r].queryList}(Te(),ca())}function g0(n,r,s){const l=new fy(4==(4&s));qd(n,r,l,l.destroy),null===r[19]&&(r[19]=new my),r[19].queries.push(new gy(l))}function m0(n,r,s){null===n.queries&&(n.queries=new _y),n.queries.track(new yy(r,s))}function _0(n,r){return n.queries.getByIndex(r)}function y0(n,r){return n_(n,r)}function o_(...n){}const k0=new li("Application Initializer");let Iy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=o_,this.reject=o_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(yc(p))s.push(p);else if(ad(p)){const w=new Promise((S,k)=>{p.subscribe({complete:S,error:k})});s.push(w)}}Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)($(k0,8))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F0=new li("AppId",{providedIn:"root",factory:function L0(){return`${Ty()}${Ty()}${Ty()}`}});function Ty(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const B0=new li("Platform Initializer"),f1=new li("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V0=new li("appBootstrapListener");let p1=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Sy=new li("LocaleId",{providedIn:"root",factory:()=>Ee(Sy,Kt.Optional|Kt.SkipSelf)||function g1(){return"undefined"!=typeof $localize&&$localize.locale||Km}()}),m1=new li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _1{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let y1=(()=>{class n{compileModuleSync(s){return new dy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),p=ro(hn(s).declarations).reduce((w,S)=>{const k=un(S);return k&&w.push(new uy(k)),w},[]);return new _1(l,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b1=(()=>Promise.resolve(0))();function Ay(n){"undefined"==typeof Zone?b1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zc(!1),this.onMicrotaskEmpty=new Zc(!1),this.onStable=new Zc(!1),this.onError=new Zc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&s,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function w1(){let n=gr.requestAnimationFrame,r=gr.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function E1(n){const r=()=>{!function C1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(gr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ny(n),n.isCheckStableRunning=!0,xy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ny(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,d,p,w,S)=>{try{return U0(n),s.invokeTask(d,p,w,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),j0(n)}},onInvoke:(s,l,d,p,w,S,k)=>{try{return U0(n),s.invoke(d,p,w,S,k)}finally{n.shouldCoalesceRunChangeDetection&&r(),j0(n)}},onHasTask:(s,l,d,p)=>{s.hasTask(d,p),l===d&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,Ny(n),xy(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,l,d,p)=>(s.handleError(d,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,d){const p=this._inner,w=p.scheduleEventTask("NgZoneEvent: "+d,r,D1,o_,o_);try{return p.runTask(w,s,l)}finally{p.cancelTask(w)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const D1={};function xy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ny(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function U0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function j0(n){n._nesting--,xy(n)}class I1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zc,this.onMicrotaskEmpty=new Zc,this.onStable=new Zc,this.onError=new Zc}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,d){return r.apply(s,l)}}let H0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bc.assertNotInAngularZone(),Ay(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ay(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==p),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:d})}whenStable(s,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,d){return[]}}return n.\u0275fac=function(s){return new(s||n)($(bc))},n.\u0275prov=nn({token:n,factory:n.\u0275fac}),n})(),T1=(()=>{class n{constructor(){this._applications=new Map,My.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return My.findTestabilityInTree(this,s,l)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class S1{addToWindow(r){}findTestabilityInTree(r,s,l){return null}}function A1(n){My=n}let My=new S1,bh=null;const $0=new li("AllowMultipleToken"),G0=new li("PlatformOnDestroy");class M1{constructor(r,s){this.name=r,this.token=s}}function W0(n,r,s=[]){const l=`Platform: ${r}`,d=new li(l);return(p=[])=>{let w=Oy();if(!w||w.injector.get($0,!1)){const S=[...s,...p,{provide:d,useValue:!0}];n?n(S):function O1(n){if(bh&&!bh.get($0,!1))throw new mt(400,"");bh=n;const r=n.get(z0),s=n.get(B0,null);s&&s.forEach(l=>l())}(function P1(n=[],r){return fl.create({name:r,providers:[{provide:th,useValue:"platform"},{provide:G0,useValue:()=>bh=null},...n]})}(S,l))}return function R1(n){const r=Oy();if(!r)throw new mt(401,"");return r}()}}function Oy(){var n;return null!==(n=null==bh?void 0:bh.get(z0))&&void 0!==n?n:null}let z0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const S=function k1(n,r){let s;return s="noop"===n?new I1:("zone.js"===n?void 0:n)||new bc({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),k=[{provide:bc,useValue:S}];return S.run(()=>{const Y=fl.create({providers:k,parent:this.injector,name:s.moduleType.name}),re=s.create(Y),ve=re.injector.get(cu,null);if(!ve)throw new mt(402,"");return S.runOutsideAngular(()=>{const He=S.onError.subscribe({next:at=>{ve.handleError(at)}});re.onDestroy(()=>{Py(this._modules,re),He.unsubscribe()})}),function F1(n,r,s){try{const l=s();return yc(l)?l.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(ve,S,()=>{const He=re.injector.get(Iy);return He.runInitializers(),He.donePromise.then(()=>(function _b(n){(function sn(n,r){null==n&&Ot(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(cv=n.toLowerCase().replace(/_/g,"-"))}(re.injector.get(Sy,Km)||Km),this._moduleDoBootstrap(re),re))})})}bootstrapModule(s,l=[]){const d=Z0({},l);return function x1(n,r,s){const l=new dy(s);return Promise.resolve(l)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(s){const l=s.injector.get(Ry);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new mt(403,"");s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new mt(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(G0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)($(fl))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Z0(n,r){return Array.isArray(r)?r.reduce(Z0,n):Object.assign(Object.assign({},n),r)}let Ry=(()=>{class n{constructor(s,l,d,p){this._zone=s,this._injector=l,this._exceptionHandler=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new K.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),S=new K.y(k=>{let Y;this._zone.runOutsideAngular(()=>{Y=this._zone.onStable.subscribe(()=>{bc.assertNotInAngularZone(),Ay(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{bc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{Y.unsubscribe(),re.unsubscribe()}});this.isStable=(0,Ie.T)(w,S.pipe((0,be.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new mt(405,"");let d;d=s instanceof Fv?s:this._injector.get(e_).resolveComponentFactory(s),this.componentTypes.push(d.componentType);const p=function N1(n){return n.isBoundToModule}(d)?void 0:this._injector.get(zf),S=d.create(fl.NULL,[],l||d.selector,p),k=S.location.nativeElement,Y=S.injector.get(H0,null),re=Y&&S.injector.get(T1);return Y&&re&&re.registerApplication(k,Y),S.onDestroy(()=>{this.detachView(S.hostView),Py(this.components,S),re&&re.unregisterApplication(k)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new mt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Py(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(V0,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)($(bc),$(fl),$(cu),$(Iy))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Py(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let K0=!0,Y0=!1;function B1(){return Y0=!0,K0}function V1(){if(Y0)throw new Error("Cannot enable prod mode after platform setup.");K0=!1}let U1=(()=>{class n{}return n.__NG_ELEMENT_ID__=j1,n})();function j1(n){return function H1(n,r,s){if(yr(n)&&!s){const l=On(n.index,r);return new yg(l,l)}return 47&n.type?new yg(r[16],r):null}(Tr(),Te(),16==(16&n))}class eb{constructor(){}supports(r){return bu(r)}create(r){return new q1(r)}}const Z1=(n,r)=>r;class q1{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Z1}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,d=0,p=null;for(;s||l;){const w=!l||s&&s.currentIndex<nb(l,d,p)?s:l,S=nb(w,d,p),k=w.currentIndex;if(w===l)d--,l=l._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{p||(p=[]);const Y=S-d,re=k-d;if(Y!=re){for(let He=0;He<Y;He++){const at=He<p.length?p[He]:p[He]=0,Ut=at+He;re<=Ut&&Ut<Y&&(p[He]=at+1)}p[w.previousIndex]=re-Y}}S!==k&&r(w,S,k)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!bu(r))throw new mt(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,p,w,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)p=r[S],w=this._trackByFn(S,p),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,p,w,S)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,w,S),l=!0),s=s._next}else d=0,function nm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[jc()]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,S=>{w=this._trackByFn(d,S),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,S,w,d)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,w,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,d){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,d)):r=this._addAfter(new K1(s,l),p,d),r}_verifyReinsertion(r,s,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?r=this._reinsertAfter(p,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,p=r._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new tb),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class K1{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Y1{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class tb{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new Y1,this.map.set(s,l)),l.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nb(n,r,s){const l=n.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+r+d}class rb{constructor(){}supports(r){return r instanceof Map||Sf(r)}create(){return new J1}}class J1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Sf(r)))throw new mt(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const p=d._prev,w=d._next;return p&&(p._next=w),w&&(w._prev=p),d._next=null,d._prev=null,d}const l=new Q1(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class Q1{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ib(){return new Vy([new eb])}let Vy=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||ib()),deps:[[n,new As,new Lr]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(null!=l)return l;throw new mt(901,"")}}return n.\u0275prov=nn({token:n,providedIn:"root",factory:ib}),n})();function sb(){return new Uy([new rb])}let Uy=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||sb()),deps:[[n,new As,new Lr]]}}find(s){const l=this.factories.find(p=>p.supports(s));if(l)return l;throw new mt(901,"")}}return n.\u0275prov=nn({token:n,providedIn:"root",factory:sb}),n})();const tD=W0(null,"core",[]);let nD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)($(Ry))},n.\u0275mod=ge({type:n}),n.\u0275inj=wt({}),n})()},2382:(tn,Oe,U)=>{"use strict";U.d(Oe,{Fj:()=>Je,qu:()=>Co,u:()=>ms,sg:()=>ki,u5:()=>fn,JU:()=>mt,JJ:()=>rr,JL:()=>ur,F:()=>on,On:()=>Vs,wV:()=>Us,UX:()=>ci,kI:()=>ht,_Y:()=>Ro});var a=U(5e3),b=U(9808),K=U(8306),Ie=U(4742),be=U(8421),ke=U(3269),Me=U(5403),ue=U(3268),$e=U(1810),pe=U(8996),Re=U(4004);let Ze=(()=>{class G{constructor(F,se){this._renderer=F,this._elementRef=se,this.onChange=Te=>{},this.onTouched=()=>{}}setProperty(F,se){this._renderer.setProperty(this._elementRef.nativeElement,F,se)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return G.\u0275fac=function(F){return new(F||G)(a.Y36(a.Qsj),a.Y36(a.SBq))},G.\u0275dir=a.lG2({type:G}),G})(),Qe=(()=>{class G extends Ze{}return G.\u0275fac=function(){let B;return function(se){return(B||(B=a.n5z(G)))(se||G)}}(),G.\u0275dir=a.lG2({type:G,features:[a.qOj]}),G})();const mt=new a.OlP("NgValueAccessor"),rt={provide:mt,useExisting:(0,a.Gpc)(()=>Je),multi:!0},xt=new a.OlP("CompositionEventMode");let Je=(()=>{class G extends Ze{constructor(F,se,Te){super(F,se),this._compositionMode=Te,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pt(){const G=(0,b.q)()?(0,b.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(F){this.setProperty("value",null==F?"":F)}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return G.\u0275fac=function(F){return new(F||G)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(xt,8))},G.\u0275dir=a.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,se){1&F&&a.NdJ("input",function(kt){return se._handleInput(kt.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(kt){return se._compositionEnd(kt.target.value)})},features:[a._Bn([rt]),a.qOj]}),G})();function ut(G){return null==G||0===G.length}function lt(G){return null!=G&&"number"==typeof G.length}const Pt=new a.OlP("NgValidators"),We=new a.OlP("NgAsyncValidators"),st=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ht{static min(B){return function Ne(G){return B=>{if(ut(B.value)||ut(G))return null;const F=parseFloat(B.value);return!isNaN(F)&&F<G?{min:{min:G,actual:B.value}}:null}}(B)}static max(B){return function qe(G){return B=>{if(ut(B.value)||ut(G))return null;const F=parseFloat(B.value);return!isNaN(F)&&F>G?{max:{max:G,actual:B.value}}:null}}(B)}static required(B){return function je(G){return ut(G.value)?{required:!0}:null}(B)}static requiredTrue(B){return function Xe(G){return!0===G.value?null:{required:!0}}(B)}static email(B){return function et(G){return ut(G.value)||st.test(G.value)?null:{email:!0}}(B)}static minLength(B){return function Nt(G){return B=>ut(B.value)||!lt(B.value)?null:B.value.length<G?{minlength:{requiredLength:G,actualLength:B.value.length}}:null}(B)}static maxLength(B){return function Vt(G){return B=>lt(B.value)&&B.value.length>G?{maxlength:{requiredLength:G,actualLength:B.value.length}}:null}(B)}static pattern(B){return function pn(G){if(!G)return sn;let B,F;return"string"==typeof G?(F="","^"!==G.charAt(0)&&(F+="^"),F+=G,"$"!==G.charAt(G.length-1)&&(F+="$"),B=new RegExp(F)):(F=G.toString(),B=G),se=>{if(ut(se.value))return null;const Te=se.value;return B.test(Te)?null:{pattern:{requiredPattern:F,actualValue:Te}}}}(B)}static nullValidator(B){return null}static compose(B){return wt(B)}static composeAsync(B){return Jn(B)}}function sn(G){return null}function Ot(G){return null!=G}function gn(G){const B=(0,a.QGY)(G)?(0,pe.D)(G):G;return(0,a.CqO)(B),B}function an(G){let B={};return G.forEach(F=>{B=null!=F?Object.assign(Object.assign({},B),F):B}),0===Object.keys(B).length?null:B}function St(G,B){return B.map(F=>F(G))}function ct(G){return G.map(B=>function nn(G){return!G.validate}(B)?B:F=>B.validate(F))}function wt(G){if(!G)return null;const B=G.filter(Ot);return 0==B.length?null:function(F){return an(St(F,B))}}function mn(G){return null!=G?wt(ct(G)):null}function Jn(G){if(!G)return null;const B=G.filter(Ot);return 0==B.length?null:function(F){return function ce(...G){const B=(0,ke.jO)(G),{args:F,keys:se}=(0,Ie.D)(G),Te=new K.y(kt=>{const{length:jr}=F;if(!jr)return void kt.complete();const Tr=new Array(jr);let Qi=jr,zi=jr;for(let as=0;as<jr;as++){let io=!1;(0,be.Xf)(F[as]).subscribe((0,Me.x)(kt,ys=>{io||(io=!0,zi--),Tr[as]=ys},()=>Qi--,void 0,()=>{(!Qi||!io)&&(zi||kt.next(se?(0,$e.n)(se,Tr):Tr),kt.complete())}))}});return B?Te.pipe((0,ue.Z)(B)):Te}(St(F,B).map(gn)).pipe((0,Re.U)(an))}}function dr(G){return null!=G?Jn(ct(G)):null}function or(G,B){return null===G?[B]:Array.isArray(G)?[...G,B]:[G,B]}function Cr(G){return G._rawValidators}function Dn(G){return G._rawAsyncValidators}function Qn(G){return G?Array.isArray(G)?G:[G]:[]}function nr(G,B){return Array.isArray(G)?G.includes(B):G===B}function Er(G,B){const F=Qn(B);return Qn(G).forEach(Te=>{nr(F,Te)||F.push(Te)}),F}function Kt(G,B){return Qn(B).filter(F=>!nr(G,F))}class Cn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=mn(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,F){return!!this.control&&this.control.hasError(B,F)}getError(B,F){return this.control?this.control.getError(B,F):null}}class Nn extends Cn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bt extends Cn{get formDirective(){return null}get path(){return null}}class Vn{constructor(B){this._cd=B}is(B){var F,se,Te;return"submitted"===B?!!(null===(F=this._cd)||void 0===F?void 0:F.submitted):!!(null===(Te=null===(se=this._cd)||void 0===se?void 0:se.control)||void 0===Te?void 0:Te[B])}}let rr=(()=>{class G extends Vn{constructor(F){super(F)}}return G.\u0275fac=function(F){return new(F||G)(a.Y36(Nn,2))},G.\u0275dir=a.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,se){2&F&&a.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))},features:[a.qOj]}),G})(),ur=(()=>{class G extends Vn{constructor(F){super(F)}}return G.\u0275fac=function(F){return new(F||G)(a.Y36(Bt,10))},G.\u0275dir=a.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,se){2&F&&a.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))("ng-submitted",se.is("submitted"))},features:[a.qOj]}),G})();function Xt(G,B){return[...B.path,G]}function cn(G,B){we(G,B),B.valueAccessor.writeValue(G.value),function ge(G,B){B.valueAccessor.registerOnChange(F=>{G._pendingValue=F,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&fe(G,B)})}(G,B),function tt(G,B){const F=(se,Te)=>{B.valueAccessor.writeValue(se),Te&&B.viewToModelUpdate(se)};G.registerOnChange(F),B._registerOnDestroy(()=>{G._unregisterOnChange(F)})}(G,B),function oe(G,B){B.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&fe(G,B),"submit"!==G.updateOn&&G.markAsTouched()})}(G,B),function ye(G,B){if(B.valueAccessor.setDisabledState){const F=se=>{B.valueAccessor.setDisabledState(se)};G.registerOnDisabledChange(F),B._registerOnDestroy(()=>{G._unregisterOnDisabledChange(F)})}}(G,B)}function dn(G,B,F=!0){const se=()=>{};B.valueAccessor&&(B.valueAccessor.registerOnChange(se),B.valueAccessor.registerOnTouched(se)),Fe(G,B),G&&(B._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function ir(G,B){G.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(B)})}function we(G,B){const F=Cr(G);null!==B.validator?G.setValidators(or(F,B.validator)):"function"==typeof F&&G.setValidators([F]);const se=Dn(G);null!==B.asyncValidator?G.setAsyncValidators(or(se,B.asyncValidator)):"function"==typeof se&&G.setAsyncValidators([se]);const Te=()=>G.updateValueAndValidity();ir(B._rawValidators,Te),ir(B._rawAsyncValidators,Te)}function Fe(G,B){let F=!1;if(null!==G){if(null!==B.validator){const Te=Cr(G);if(Array.isArray(Te)&&Te.length>0){const kt=Te.filter(jr=>jr!==B.validator);kt.length!==Te.length&&(F=!0,G.setValidators(kt))}}if(null!==B.asyncValidator){const Te=Dn(G);if(Array.isArray(Te)&&Te.length>0){const kt=Te.filter(jr=>jr!==B.asyncValidator);kt.length!==Te.length&&(F=!0,G.setAsyncValidators(kt))}}}const se=()=>{};return ir(B._rawValidators,se),ir(B._rawAsyncValidators,se),F}function fe(G,B){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Rt(G,B){we(G,B)}function Hr(G,B){if(!G.hasOwnProperty("model"))return!1;const F=G.model;return!!F.isFirstChange()||!Object.is(B,F.currentValue)}function Wt(G,B){G._syncPendingControls(),B.forEach(F=>{const se=F.control;"submit"===se.updateOn&&se._pendingChange&&(F.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}function wn(G,B){if(!B)return null;let F,se,Te;return Array.isArray(B),B.forEach(kt=>{kt.constructor===Je?F=kt:function Mt(G){return Object.getPrototypeOf(G.constructor)===Qe}(kt)?se=kt:Te=kt}),Te||se||F||null}function qn(G,B){const F=G.indexOf(B);F>-1&&G.splice(F,1)}const Lt="VALID",Yn="INVALID",_r="PENDING",ri="DISABLED";function si(G){return(Sr(G)?G.validators:G)||null}function Ai(G){return Array.isArray(G)?mn(G):G||null}function Gn(G,B){return(Sr(B)?B.asyncValidators:G)||null}function Ii(G){return Array.isArray(G)?dr(G):G||null}function Sr(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}const Wn=G=>G instanceof ze,xi=G=>G instanceof Ve,cs=G=>G instanceof Ke;function qr(G){return Wn(G)?G.value:G.getRawValue()}function Qr(G,B){const F=xi(G),se=G.controls;if(!(F?Object.keys(se):se).length)throw new a.vHH(1e3,"");if(!se[B])throw new a.vHH(1001,"")}function Kr(G,B){xi(G),G._forEachChild((se,Te)=>{if(void 0===B[Te])throw new a.vHH(1002,"")})}class Pi{constructor(B,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=B,this._rawAsyncValidators=F,this._composedValidatorFn=Ai(this._rawValidators),this._composedAsyncValidatorFn=Ii(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===Lt}get invalid(){return this.status===Yn}get pending(){return this.status==_r}get disabled(){return this.status===ri}get enabled(){return this.status!==ri}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._rawValidators=B,this._composedValidatorFn=Ai(B)}setAsyncValidators(B){this._rawAsyncValidators=B,this._composedAsyncValidatorFn=Ii(B)}addValidators(B){this.setValidators(Er(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(Er(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(Kt(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(Kt(B,this._rawAsyncValidators))}hasValidator(B){return nr(this._rawValidators,B)}hasAsyncValidator(B){return nr(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=_r,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const F=this._parentMarkedDirty(B.onlySelf);this.status=ri,this.errors=null,this._forEachChild(se=>{se.disable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:F})),this._onDisabledChange.forEach(se=>se(!0))}enable(B={}){const F=this._parentMarkedDirty(B.onlySelf);this.status=Lt,this._forEachChild(se=>{se.enable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:F})),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lt||this.status===_r)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ri:Lt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=_r,this._hasOwnPendingAsyncValidator=!0;const F=gn(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,F={}){this.errors=B,this._updateControlsErrors(!1!==F.emitEvent)}get(B){return function gi(G,B,F){if(null==B||(Array.isArray(B)||(B=B.split(F)),Array.isArray(B)&&0===B.length))return null;let se=G;return B.forEach(Te=>{se=xi(se)?se.controls.hasOwnProperty(Te)?se.controls[Te]:null:cs(se)&&se.at(Te)||null}),se}(this,B,".")}getError(B,F){const se=F?this.get(F):this;return se&&se.errors?se.errors[B]:null}hasError(B,F){return!!this.getError(B,F)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?ri:this.errors?Yn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_r)?_r:this._anyControlsHaveStatus(Yn)?Yn:Lt}_anyControlsHaveStatus(B){return this._anyControls(F=>F.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_isBoxedValue(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Sr(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ze extends Pi{constructor(B=null,F,se){super(si(F),Gn(se,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sr(F)&&F.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(B)?B.value:B)}setValue(B,F={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(B,F={}){this.setValue(B,F)}reset(B=this.defaultValue,F={}){this._applyFormState(B),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){qn(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){qn(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){this._isBoxedValue(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}}class Ve extends Pi{constructor(B,F,se){super(si(F),Gn(se,F)),this.controls=B,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,F){return this.controls[B]?this.controls[B]:(this.controls[B]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(B,F,se={}){this.registerControl(B,F),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(B,F={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(B,F,se={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],F&&this.registerControl(B,F),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,F={}){Kr(this,B),Object.keys(B).forEach(se=>{Qr(this,se),this.controls[se].setValue(B[se],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(B,F={}){null!=B&&(Object.keys(B).forEach(se=>{this.controls[se]&&this.controls[se].patchValue(B[se],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(B={},F={}){this._forEachChild((se,Te)=>{se.reset(B[Te],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(B,F,se)=>(B[se]=qr(F),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(F,se)=>!!se._syncPendingControls()||F);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(F=>{const se=this.controls[F];se&&B(se,F)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const F of Object.keys(this.controls)){const se=this.controls[F];if(this.contains(F)&&B(se))return!0}return!1}_reduceValue(){return this._reduceChildren({},(B,F,se)=>((F.enabled||this.disabled)&&(B[se]=F.value),B))}_reduceChildren(B,F){let se=B;return this._forEachChild((Te,kt)=>{se=F(se,Te,kt)}),se}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ke extends Pi{constructor(B,F,se){super(si(F),Gn(se,F)),this.controls=B,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(B){return this.controls[B]}push(B,F={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(B,F,se={}){this.controls.splice(B,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(B,F={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),this.controls.splice(B,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(B,F,se={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),this.controls.splice(B,1),F&&(this.controls.splice(B,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,F={}){Kr(this,B),B.forEach((se,Te)=>{Qr(this,Te),this.at(Te).setValue(se,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(B,F={}){null!=B&&(B.forEach((se,Te)=>{this.at(Te)&&this.at(Te).patchValue(se,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(B=[],F={}){this._forEachChild((se,Te)=>{se.reset(B[Te],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(B=>qr(B))}clear(B={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_syncPendingControls(){let B=this.controls.reduce((F,se)=>!!se._syncPendingControls()||F,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((F,se)=>{B(F,se)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(F=>F.enabled&&B(F))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}}const At={provide:Bt,useExisting:(0,a.Gpc)(()=>on)},Ht=(()=>Promise.resolve(null))();let on=(()=>{class G extends Bt{constructor(F,se){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Ve({},mn(F),dr(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){Ht.then(()=>{const se=this._findContainer(F.path);F.control=se.registerControl(F.name,F.control),cn(F.control,F),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){Ht.then(()=>{const se=this._findContainer(F.path);se&&se.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){Ht.then(()=>{const se=this._findContainer(F.path),Te=new Ve({});Rt(Te,F),se.registerControl(F.name,Te),Te.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){Ht.then(()=>{const se=this._findContainer(F.path);se&&se.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,se){Ht.then(()=>{this.form.get(F.path).setValue(se)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,Wt(this.form,this._directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return G.\u0275fac=function(F){return new(F||G)(a.Y36(Pt,10),a.Y36(We,10))},G.\u0275dir=a.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,se){1&F&&a.NdJ("submit",function(kt){return se.onSubmit(kt)})("reset",function(){return se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([At]),a.qOj]}),G})();const Ti={provide:Nn,useExisting:(0,a.Gpc)(()=>Vs)},oi=(()=>Promise.resolve(null))();let Vs=(()=>{class G extends Nn{constructor(F,se,Te,kt,jr){super(),this._changeDetectorRef=jr,this.control=new ze,this._registered=!1,this.update=new a.vpe,this._parent=F,this._setValidators(se),this._setAsyncValidators(Te),this.valueAccessor=wn(0,kt)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const se=F.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),Hr(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){oi.then(()=>{var se;this.control.setValue(F,{emitViewToModelChange:!1}),null===(se=this._changeDetectorRef)||void 0===se||se.markForCheck()})}_updateDisabled(F){const se=F.isDisabled.currentValue,Te=""===se||se&&"false"!==se;oi.then(()=>{var kt;Te&&!this.control.disabled?this.control.disable():!Te&&this.control.disabled&&this.control.enable(),null===(kt=this._changeDetectorRef)||void 0===kt||kt.markForCheck()})}_getPath(F){return this._parent?Xt(F,this._parent):[F]}}return G.\u0275fac=function(F){return new(F||G)(a.Y36(Bt,9),a.Y36(Pt,10),a.Y36(We,10),a.Y36(mt,10),a.Y36(a.sBO,8))},G.\u0275dir=a.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Ti]),a.qOj,a.TTD]}),G})(),Ro=(()=>{class G{}return G.\u0275fac=function(F){return new(F||G)},G.\u0275dir=a.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})();const Vi={provide:mt,useExisting:(0,a.Gpc)(()=>Us),multi:!0};let Us=(()=>{class G extends Qe{writeValue(F){this.setProperty("value",null==F?"":F)}registerOnChange(F){this.onChange=se=>{F(""==se?null:parseFloat(se))}}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=a.n5z(G)))(se||G)}}(),G.\u0275dir=a.lG2({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(F,se){1&F&&a.NdJ("input",function(kt){return se.onChange(kt.target.value)})("blur",function(){return se.onTouched()})},features:[a._Bn([Vi]),a.qOj]}),G})(),ps=(()=>{class G{}return G.\u0275fac=function(F){return new(F||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({}),G})();const Qs=new a.OlP("NgModelWithFormControlWarning"),Zo={provide:Bt,useExisting:(0,a.Gpc)(()=>ki)};let ki=(()=>{class G extends Bt{constructor(F,se){super(),this.validators=F,this.asyncValidators=se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(F),this._setAsyncValidators(se)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const se=this.form.get(F.path);return cn(se,F),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),se}getControl(F){return this.form.get(F.path)}removeControl(F){dn(F.control||null,F,!1),qn(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,se){this.form.get(F.path).setValue(se)}onSubmit(F){return this.submitted=!0,Wt(this.form,this.directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const se=F.control,Te=this.form.get(F.path);se!==Te&&(dn(se||null,F),Wn(Te)&&(cn(Te,F),F.control=Te))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const se=this.form.get(F.path);Rt(se,F),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const se=this.form.get(F.path);se&&function un(G,B){return Fe(G,B)}(se,F)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){we(this.form,this),this._oldForm&&Fe(this._oldForm,this)}_checkFormPresent(){}}return G.\u0275fac=function(F){return new(F||G)(a.Y36(Pt,10),a.Y36(We,10))},G.\u0275dir=a.lG2({type:G,selectors:[["","formGroup",""]],hostBindings:function(F,se){1&F&&a.NdJ("submit",function(kt){return se.onSubmit(kt)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Zo]),a.qOj,a.TTD]}),G})();const hs={provide:Nn,useExisting:(0,a.Gpc)(()=>ms)};let ms=(()=>{class G extends Nn{constructor(F,se,Te,kt,jr){super(),this._ngModelWarningConfig=jr,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(se),this._setAsyncValidators(Te),this.valueAccessor=wn(0,kt)}set isDisabled(F){}ngOnChanges(F){this._added||this._setUpControl(),Hr(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Xt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(F){return new(F||G)(a.Y36(Bt,13),a.Y36(Pt,10),a.Y36(We,10),a.Y36(mt,10),a.Y36(Qs,8))},G.\u0275dir=a.lG2({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([hs]),a.qOj,a.TTD]}),G})(),os=(()=>{class G{}return G.\u0275fac=function(F){return new(F||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({imports:[[ps]]}),G})(),fn=(()=>{class G{}return G.\u0275fac=function(F){return new(F||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({imports:[os]}),G})(),ci=(()=>{class G{static withConfig(F){return{ngModule:G,providers:[{provide:Qs,useValue:F.warnOnNgModelWithFormControl}]}}}return G.\u0275fac=function(F){return new(F||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({imports:[os]}),G})(),Co=(()=>{class G{group(F,se=null){const Te=this._reduceControls(F);let Tr,kt=null,jr=null;return null!=se&&(function Ui(G){return void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn}(se)?(kt=null!=se.validators?se.validators:null,jr=null!=se.asyncValidators?se.asyncValidators:null,Tr=null!=se.updateOn?se.updateOn:void 0):(kt=null!=se.validator?se.validator:null,jr=null!=se.asyncValidator?se.asyncValidator:null)),new Ve(Te,{asyncValidators:jr,updateOn:Tr,validators:kt})}control(F,se,Te){return new ze(F,se,Te)}array(F,se,Te){const kt=F.map(jr=>this._createControl(jr));return new Ke(kt,se,Te)}_reduceControls(F){const se={};return Object.keys(F).forEach(Te=>{se[Te]=this._createControl(F[Te])}),se}_createControl(F){return Wn(F)||xi(F)||cs(F)?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return G.\u0275fac=function(F){return new(F||G)},G.\u0275prov=a.Yz7({token:G,factory:G.\u0275fac,providedIn:ci}),G})()},9100:(tn,Oe,U)=>{"use strict";U.d(Oe,{F0:()=>Zi,rH:()=>Fs,yS:()=>Ss,Bz:()=>O,lC:()=>ss});var a=U(5e3),b=U(8306),K=U(576);function Ie(A,I){const D=(0,K.m)(A)?A:()=>A,H=W=>W.error(D());return new b.y(I?W=>I.schedule(H,0,W):H)}var be=U(8421);function ke(A){return new b.y(I=>{(0,be.Xf)(A()).subscribe(I)})}var Me=U(727),ue=U(4482),$e=U(5403);function ce(){return(0,ue.e)((A,I)=>{let D=null;A._refCount++;const H=(0,$e.x)(I,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(D=null);const W=A._connection,J=D;D=null,W&&(!J||W===J)&&W.unsubscribe(),I.unsubscribe()});A.subscribe(H),H.closed||(D=A.connect())})}class pe extends b.y{constructor(I,D){super(),this.source=I,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,ue.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Me.w0;const D=this.getSubject();I.add(this.source.subscribe((0,$e.x)(D,void 0,()=>{this._teardown(),D.complete()},H=>{this._teardown(),D.error(H)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Me.w0.EMPTY)}return I}refCount(){return ce()(this)}}var Re=U(8996),Ze=U(9646),Qe=U(1135),mt=U(9841),Et=U(6805),nt=U(7272),rt=U(515),pt=U(7579);function xt(A){return(0,ue.e)((I,D)=>{let J,H=null,W=!1;H=I.subscribe((0,$e.x)(D,void 0,void 0,Ce=>{J=(0,be.Xf)(A(Ce,xt(A)(I))),H?(H.unsubscribe(),H=null,J.subscribe(D)):W=!0})),W&&(H.unsubscribe(),H=null,J.subscribe(D))})}var Je=U(5577);function ut(A,I){return(0,K.m)(I)?(0,Je.z)(A,I,1):(0,Je.z)(A,1)}var lt=U(9300);function Pt(A){return A<=0?()=>rt.E:(0,ue.e)((I,D)=>{let H=[];I.subscribe((0,$e.x)(D,W=>{H.push(W),A<H.length&&H.shift()},()=>{for(const W of H)D.next(W);D.complete()},void 0,()=>{H=null}))})}var We=U(8068),st=U(6590),ht=U(4671),je=U(4004),Xe=U(3900),et=U(5698),Nt=U(8675),Vt=U(5026),pn=U(590),sn=U(8505),Ot=U(8189),gn=U(9808);class an{constructor(I,D){this.id=I,this.url=D}}class St extends an{constructor(I,D,H="imperative",W=null){super(I,D),this.navigationTrigger=H,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nn extends an{constructor(I,D,H){super(I,D),this.urlAfterRedirects=H}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ct extends an{constructor(I,D,H){super(I,D),this.reason=H}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wt extends an{constructor(I,D,H){super(I,D),this.error=H}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mn extends an{constructor(I,D,H,W){super(I,D),this.urlAfterRedirects=H,this.state=W}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends an{constructor(I,D,H,W){super(I,D),this.urlAfterRedirects=H,this.state=W}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr extends an{constructor(I,D,H,W,J){super(I,D),this.urlAfterRedirects=H,this.state=W,this.shouldActivate=J}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class or extends an{constructor(I,D,H,W){super(I,D),this.urlAfterRedirects=H,this.state=W}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cr extends an{constructor(I,D,H,W){super(I,D),this.urlAfterRedirects=H,this.state=W}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qn{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nr{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kt{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cn{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nn{constructor(I,D,H){this.routerEvent=I,this.position=D,this.anchor=H}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class Vn{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const D=this.params[I];return Array.isArray(D)?D[0]:D}return null}getAll(I){if(this.has(I)){const D=this.params[I];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Ar(A){return new Vn(A)}const zr="ngNavigationCancelingError";function rr(A){const I=Error("NavigationCancelingError: "+A);return I[zr]=!0,I}function Ir(A,I,D){const H=D.path.split("/");if(H.length>A.length||"full"===D.pathMatch&&(I.hasChildren()||H.length<A.length))return null;const W={};for(let J=0;J<H.length;J++){const Ce=H[J],Le=A[J];if(Ce.startsWith(":"))W[Ce.substring(1)]=Le;else if(Ce!==Le.path)return null}return{consumed:A.slice(0,H.length),posParams:W}}function Ft(A,I){const D=A?Object.keys(A):void 0,H=I?Object.keys(I):void 0;if(!D||!H||D.length!=H.length)return!1;let W;for(let J=0;J<D.length;J++)if(W=D[J],!ln(A[W],I[W]))return!1;return!0}function ln(A,I){if(Array.isArray(A)&&Array.isArray(I)){if(A.length!==I.length)return!1;const D=[...A].sort(),H=[...I].sort();return D.every((W,J)=>H[J]===W)}return A===I}function ni(A){return Array.prototype.concat.apply([],A)}function Pr(A){return A.length>0?A[A.length-1]:null}function xr(A,I){for(const D in A)A.hasOwnProperty(D)&&I(A[D],D)}function hr(A){return(0,a.CqO)(A)?A:(0,a.QGY)(A)?(0,Re.D)(Promise.resolve(A)):(0,Ze.of)(A)}const Fn={exact:function $t(A,I,D){if(!ge(A.segments,I.segments)||!dn(A.segments,I.segments,D)||A.numberOfChildren!==I.numberOfChildren)return!1;for(const H in I.children)if(!A.children[H]||!$t(A.children[H],I.children[H],D))return!1;return!0},subset:Xt},Or={exact:function hi(A,I){return Ft(A,I)},subset:function Dt(A,I){return Object.keys(I).length<=Object.keys(A).length&&Object.keys(I).every(D=>ln(A[D],I[D]))},ignored:()=>!0};function lr(A,I,D){return Fn[D.paths](A.root,I.root,D.matrixParams)&&Or[D.queryParams](A.queryParams,I.queryParams)&&!("exact"===D.fragment&&A.fragment!==I.fragment)}function Xt(A,I,D){return cn(A,I,I.segments,D)}function cn(A,I,D,H){if(A.segments.length>D.length){const W=A.segments.slice(0,D.length);return!(!ge(W,D)||I.hasChildren()||!dn(W,D,H))}if(A.segments.length===D.length){if(!ge(A.segments,D)||!dn(A.segments,D,H))return!1;for(const W in I.children)if(!A.children[W]||!Xt(A.children[W],I.children[W],H))return!1;return!0}{const W=D.slice(0,A.segments.length),J=D.slice(A.segments.length);return!!(ge(A.segments,W)&&dn(A.segments,W,H)&&A.children[Bt])&&cn(A.children[Bt],I,J,H)}}function dn(A,I,D){return I.every((H,W)=>Or[D](A[W].parameters,H.parameters))}class ir{constructor(I,D,H){this.root=I,this.queryParams=D,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ar(this.queryParams)),this._queryParamMap}toString(){return Rt.serialize(this)}}class ye{constructor(I,D){this.segments=I,this.children=D,this.parent=null,xr(D,(H,W)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class we{constructor(I,D){this.path=I,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Ar(this.parameters)),this._parameterMap}toString(){return wn(this)}}function ge(A,I){return A.length===I.length&&A.every((D,H)=>D.path===I[H].path)}class fe{}class tt{parse(I){const D=new si(I);return new ir(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(I){const D=`/${rn(I.root,!0)}`,H=function mr(A){const I=Object.keys(A).map(D=>{const H=A[D];return Array.isArray(H)?H.map(W=>`${hn(D)}=${hn(W)}`).join("&"):`${hn(D)}=${hn(H)}`}).filter(D=>!!D);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${D}${H}${"string"==typeof I.fragment?`#${function br(A){return encodeURI(A)}(I.fragment)}`:""}`}}const Rt=new tt;function un(A){return A.segments.map(I=>wn(I)).join("/")}function rn(A,I){if(!A.hasChildren())return un(A);if(I){const D=A.children[Bt]?rn(A.children[Bt],!1):"",H=[];return xr(A.children,(W,J)=>{J!==Bt&&H.push(`${J}:${rn(W,!1)}`)}),H.length>0?`${D}(${H.join("//")})`:D}{const D=function oe(A,I){let D=[];return xr(A.children,(H,W)=>{W===Bt&&(D=D.concat(I(H,W)))}),xr(A.children,(H,W)=>{W!==Bt&&(D=D.concat(I(H,W)))}),D}(A,(H,W)=>W===Bt?[rn(A.children[Bt],!1)]:[`${W}:${rn(H,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Bt]?`${un(A)}/${D[0]}`:`${un(A)}/(${D.join("//")})`}}function Zn(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hn(A){return Zn(A).replace(/%3B/gi,";")}function Hr(A){return Zn(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(A){return decodeURIComponent(A)}function Wt(A){return Mt(A.replace(/\+/g,"%20"))}function wn(A){return`${Hr(A.path)}${function qn(A){return Object.keys(A).map(I=>`;${Hr(I)}=${Hr(A[I])}`).join("")}(A.parameters)}`}const Vr=/^[^\/()?;=#]+/;function Lt(A){const I=A.match(Vr);return I?I[0]:""}const Yn=/^[^=?&#]+/,ri=/^[^&#]+/;class si{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(I.length>0||Object.keys(D).length>0)&&(H[Bt]=new ye(I,D)),H}parseSegment(){const I=Lt(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new we(Mt(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const D=Lt(this.remaining);if(!D)return;this.capture(D);let H="";if(this.consumeOptional("=")){const W=Lt(this.remaining);W&&(H=W,this.capture(H))}I[Mt(D)]=Mt(H)}parseQueryParam(I){const D=function _r(A){const I=A.match(Yn);return I?I[0]:""}(this.remaining);if(!D)return;this.capture(D);let H="";if(this.consumeOptional("=")){const Ce=function gi(A){const I=A.match(ri);return I?I[0]:""}(this.remaining);Ce&&(H=Ce,this.capture(H))}const W=Wt(D),J=Wt(H);if(I.hasOwnProperty(W)){let Ce=I[W];Array.isArray(Ce)||(Ce=[Ce],I[W]=Ce),Ce.push(J)}else I[W]=J}parseParens(I){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=Lt(this.remaining),W=this.remaining[H.length];if("/"!==W&&")"!==W&&";"!==W)throw new Error(`Cannot parse url '${this.url}'`);let J;H.indexOf(":")>-1?(J=H.substr(0,H.indexOf(":")),this.capture(J),this.capture(":")):I&&(J=Bt);const Ce=this.parseChildren();D[J]=1===Object.keys(Ce).length?Ce[Bt]:new ye([],Ce),this.consumeOptional("//")}return D}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Ai{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const D=this.pathFromRoot(I);return D.length>1?D[D.length-2]:null}children(I){const D=Gn(I,this._root);return D?D.children.map(H=>H.value):[]}firstChild(I){const D=Gn(I,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(I){const D=Ii(I,this._root);return D.length<2?[]:D[D.length-2].children.map(W=>W.value).filter(W=>W!==I)}pathFromRoot(I){return Ii(I,this._root).map(D=>D.value)}}function Gn(A,I){if(A===I.value)return I;for(const D of I.children){const H=Gn(A,D);if(H)return H}return null}function Ii(A,I){if(A===I.value)return[I];for(const D of I.children){const H=Ii(A,D);if(H.length)return H.unshift(I),H}return[]}class Sr{constructor(I,D){this.value=I,this.children=D}toString(){return`TreeNode(${this.value})`}}function Wn(A){const I={};return A&&A.children.forEach(D=>I[D.value.outlet]=D),I}class xi extends Ai{constructor(I,D){super(I),this.snapshot=D,Ke(this,I)}toString(){return this.snapshot.toString()}}function cs(A,I){const D=function qr(A,I){const Ce=new ze([],{},{},"",{},Bt,I,null,A.root,-1,{});return new Ve("",new Sr(Ce,[]))}(A,I),H=new Qe.X([new we("",{})]),W=new Qe.X({}),J=new Qe.X({}),Ce=new Qe.X({}),Le=new Qe.X(""),It=new Qr(H,W,Ce,Le,J,Bt,I,D.root);return It.snapshot=D.root,new xi(new Sr(It,[]),D)}class Qr{constructor(I,D,H,W,J,Ce,Le,It){this.url=I,this.params=D,this.queryParams=H,this.fragment=W,this.data=J,this.outlet=Ce,this.component=Le,this._futureSnapshot=It}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(I=>Ar(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(I=>Ar(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kr(A,I="emptyOnly"){const D=A.pathFromRoot;let H=0;if("always"!==I)for(H=D.length-1;H>=1;){const W=D[H],J=D[H-1];if(W.routeConfig&&""===W.routeConfig.path)H--;else{if(J.component)break;H--}}return function Pi(A){return A.reduce((I,D)=>({params:Object.assign(Object.assign({},I.params),D.params),data:Object.assign(Object.assign({},I.data),D.data),resolve:Object.assign(Object.assign({},I.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice(H))}class ze{constructor(I,D,H,W,J,Ce,Le,It,Hn,wr,ar){this.url=I,this.params=D,this.queryParams=H,this.fragment=W,this.data=J,this.outlet=Ce,this.component=Le,this.routeConfig=It,this._urlSegment=Hn,this._lastPathIndex=wr,this._resolve=ar}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ar(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ar(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ve extends Ai{constructor(I,D){super(D),this.url=I,Ke(this,D)}toString(){return At(this._root)}}function Ke(A,I){I.value._routerState=A,I.children.forEach(D=>Ke(A,D))}function At(A){const I=A.children.length>0?` { ${A.children.map(At).join(", ")} } `:"";return`${A.value}${I}`}function Ht(A){if(A.snapshot){const I=A.snapshot,D=A._futureSnapshot;A.snapshot=D,Ft(I.queryParams,D.queryParams)||A.queryParams.next(D.queryParams),I.fragment!==D.fragment&&A.fragment.next(D.fragment),Ft(I.params,D.params)||A.params.next(D.params),function Pn(A,I){if(A.length!==I.length)return!1;for(let D=0;D<A.length;++D)if(!Ft(A[D],I[D]))return!1;return!0}(I.url,D.url)||A.url.next(D.url),Ft(I.data,D.data)||A.data.next(D.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function on(A,I){const D=Ft(A.params,I.params)&&function Fe(A,I){return ge(A,I)&&A.every((D,H)=>Ft(D.parameters,I[H].parameters))}(A.url,I.url);return D&&!(!A.parent!=!I.parent)&&(!A.parent||on(A.parent,I.parent))}function Ur(A,I,D){if(D&&A.shouldReuseRoute(I.value,D.value.snapshot)){const H=D.value;H._futureSnapshot=I.value;const W=function yr(A,I,D){return I.children.map(H=>{for(const W of D.children)if(A.shouldReuseRoute(H.value,W.value.snapshot))return Ur(A,H,W);return Ur(A,H)})}(A,I,D);return new Sr(H,W)}{if(A.shouldAttach(I.value)){const J=A.retrieve(I.value);if(null!==J){const Ce=J.route;return Ce.value._futureSnapshot=I.value,Ce.children=I.children.map(Le=>Ur(A,Le)),Ce}}const H=function fr(A){return new Qr(new Qe.X(A.url),new Qe.X(A.params),new Qe.X(A.queryParams),new Qe.X(A.fragment),new Qe.X(A.data),A.outlet,A.component,A)}(I.value),W=I.children.map(J=>Ur(A,J));return new Sr(H,W)}}function us(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Hi(A){return"object"==typeof A&&null!=A&&A.outlets}function Ti(A,I,D,H,W){let J={};if(H&&xr(H,(Le,It)=>{J[It]=Array.isArray(Le)?Le.map(Hn=>`${Hn}`):`${Le}`}),A===I)return new ir(D,J,W);const Ce=oi(A,I,D);return new ir(Ce,J,W)}function oi(A,I,D){const H={};return xr(A.children,(W,J)=>{H[J]=W===I?D:oi(W,I,D)}),new ye(A.segments,H)}class Vs{constructor(I,D,H){if(this.isAbsolute=I,this.numberOfDoubleDots=D,this.commands=H,I&&H.length>0&&us(H[0]))throw new Error("Root segment cannot have matrix parameters");const W=H.find(Hi);if(W&&W!==Pr(H))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vi{constructor(I,D,H){this.segmentGroup=I,this.processChildren=D,this.index=H}}function ps(A,I,D){if(A||(A=new ye([],{})),0===A.segments.length&&A.hasChildren())return $i(A,I,D);const H=function Is(A,I,D){let H=0,W=I;const J={match:!1,pathIndex:0,commandIndex:0};for(;W<A.segments.length;){if(H>=D.length)return J;const Ce=A.segments[W],Le=D[H];if(Hi(Le))break;const It=`${Le}`,Hn=H<D.length-1?D[H+1]:null;if(W>0&&void 0===It)break;if(It&&Hn&&"object"==typeof Hn&&void 0===Hn.outlets){if(!Ts(It,Hn,Ce))return J;H+=2}else{if(!Ts(It,{},Ce))return J;H++}W++}return{match:!0,pathIndex:W,commandIndex:H}}(A,I,D),W=D.slice(H.commandIndex);if(H.match&&H.pathIndex<A.segments.length){const J=new ye(A.segments.slice(0,H.pathIndex),{});return J.children[Bt]=new ye(A.segments.slice(H.pathIndex),A.children),$i(J,0,W)}return H.match&&0===W.length?new ye(A.segments,{}):H.match&&!A.hasChildren()?Ws(A,I,D):H.match?$i(A,0,W):Ws(A,I,D)}function $i(A,I,D){if(0===D.length)return new ye(A.segments,{});{const H=function Do(A){return Hi(A[0])?A[0].outlets:{[Bt]:A}}(D),W={};return xr(H,(J,Ce)=>{"string"==typeof J&&(J=[J]),null!==J&&(W[Ce]=ps(A.children[Ce],I,J))}),xr(A.children,(J,Ce)=>{void 0===H[Ce]&&(W[Ce]=J)}),new ye(A.segments,W)}}function Ws(A,I,D){const H=A.segments.slice(0,I);let W=0;for(;W<D.length;){const J=D[W];if(Hi(J)){const It=zo(J.outlets);return new ye(H,It)}if(0===W&&us(D[0])){H.push(new we(A.segments[I].path,Qs(D[0]))),W++;continue}const Ce=Hi(J)?J.outlets[Bt]:`${J}`,Le=W<D.length-1?D[W+1]:null;Ce&&Le&&us(Le)?(H.push(new we(Ce,Qs(Le))),W+=2):(H.push(new we(Ce,{})),W++)}return new ye(H,{})}function zo(A){const I={};return xr(A,(D,H)=>{"string"==typeof D&&(D=[D]),null!==D&&(I[H]=Ws(new ye([],{}),0,D))}),I}function Qs(A){const I={};return xr(A,(D,H)=>I[H]=`${D}`),I}function Ts(A,I,D){return A==D.path&&Ft(I,D.parameters)}class Zo{constructor(I,D,H,W){this.routeReuseStrategy=I,this.futureState=D,this.currState=H,this.forwardEvent=W}activate(I){const D=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,H,I),Ht(this.futureState.root),this.activateChildRoutes(D,H,I)}deactivateChildRoutes(I,D,H){const W=Wn(D);I.children.forEach(J=>{const Ce=J.value.outlet;this.deactivateRoutes(J,W[Ce],H),delete W[Ce]}),xr(W,(J,Ce)=>{this.deactivateRouteAndItsChildren(J,H)})}deactivateRoutes(I,D,H){const W=I.value,J=D?D.value:null;if(W===J)if(W.component){const Ce=H.getContext(W.outlet);Ce&&this.deactivateChildRoutes(I,D,Ce.children)}else this.deactivateChildRoutes(I,D,H);else J&&this.deactivateRouteAndItsChildren(D,H)}deactivateRouteAndItsChildren(I,D){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,D):this.deactivateRouteAndOutlet(I,D)}detachAndStoreRouteSubtree(I,D){const H=D.getContext(I.value.outlet),W=H&&I.value.component?H.children:D,J=Wn(I);for(const Ce of Object.keys(J))this.deactivateRouteAndItsChildren(J[Ce],W);if(H&&H.outlet){const Ce=H.outlet.detach(),Le=H.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Ce,route:I,contexts:Le})}}deactivateRouteAndOutlet(I,D){const H=D.getContext(I.value.outlet),W=H&&I.value.component?H.children:D,J=Wn(I);for(const Ce of Object.keys(J))this.deactivateRouteAndItsChildren(J[Ce],W);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(I,D,H){const W=Wn(D);I.children.forEach(J=>{this.activateRoutes(J,W[J.value.outlet],H),this.forwardEvent(new Cn(J.value.snapshot))}),I.children.length&&this.forwardEvent(new Er(I.value.snapshot))}activateRoutes(I,D,H){const W=I.value,J=D?D.value:null;if(Ht(W),W===J)if(W.component){const Ce=H.getOrCreateContext(W.outlet);this.activateChildRoutes(I,D,Ce.children)}else this.activateChildRoutes(I,D,H);else if(W.component){const Ce=H.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const Le=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Ce.children.onOutletReAttached(Le.contexts),Ce.attachRef=Le.componentRef,Ce.route=Le.route.value,Ce.outlet&&Ce.outlet.attach(Le.componentRef,Le.route.value),Ht(Le.route.value),this.activateChildRoutes(I,null,Ce.children)}else{const Le=function ki(A){for(let I=A.parent;I;I=I.parent){const D=I.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(W.snapshot),It=Le?Le.module.componentFactoryResolver:null;Ce.attachRef=null,Ce.route=W,Ce.resolver=It,Ce.outlet&&Ce.outlet.activateWith(W,It),this.activateChildRoutes(I,null,Ce.children)}}else this.activateChildRoutes(I,null,H)}}class ds{constructor(I,D){this.routes=I,this.module=D}}function bi(A){return"function"==typeof A}function wi(A){return A instanceof ir}const Xs=Symbol("INITIAL_VALUE");function is(){return(0,Xe.w)(A=>(0,mt.a)(A.map(I=>I.pipe((0,et.q)(1),(0,Nt.O)(Xs)))).pipe((0,Vt.R)((I,D)=>{let H=!1;return D.reduce((W,J,Ce)=>W!==Xs?W:(J===Xs&&(H=!0),H||!1!==J&&Ce!==D.length-1&&!wi(J)?W:J),I)},Xs),(0,lt.h)(I=>I!==Xs),(0,je.U)(I=>wi(I)?I:!0===I),(0,et.q)(1)))}class Gi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wi,this.attachRef=null}}class Wi{constructor(){this.contexts=new Map}onChildOutletCreated(I,D){const H=this.getOrCreateContext(I);H.outlet=D,this.contexts.set(I,H)}onChildOutletDestroyed(I){const D=this.getContext(I);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let D=this.getContext(I);return D||(D=new Gi,this.contexts.set(I,D)),D}getContext(I){return this.contexts.get(I)||null}}let ss=(()=>{class A{constructor(D,H,W,J,Ce){this.parentContexts=D,this.location=H,this.resolver=W,this.changeDetector=Ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=J||Bt,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,H){this.activated=D,this._activatedRoute=H,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,H){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const Ce=(H=H||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),Le=this.parentContexts.getOrCreateContext(this.name).children,It=new _s(D,Le,this.location.injector);this.activated=this.location.createComponent(Ce,this.location.length,It),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(D){return new(D||A)(a.Y36(Wi),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},A.\u0275dir=a.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),A})();class _s{constructor(I,D,H){this.route=I,this.childContexts=D,this.parent=H}get(I,D){return I===Qr?this.route:I===Wi?this.childContexts:this.parent.get(I,D)}}let ai=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275cmp=a.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,H){1&D&&a._UZ(0,"router-outlet")},directives:[ss],encapsulation:2}),A})();function ee(A,I=""){for(let D=0;D<A.length;D++){const H=A[D];Q(H,De(I,H))}}function Q(A,I){A.children&&ee(A.children,I)}function De(A,I){return I?A||I.path?A&&!I.path?`${A}/`:!A&&I.path?I.path:`${A}/${I.path}`:"":A}function xe(A){const I=A.children&&A.children.map(xe),D=I?Object.assign(Object.assign({},A),{children:I}):Object.assign({},A);return!D.component&&(I||D.loadChildren)&&D.outlet&&D.outlet!==Bt&&(D.component=ai),D}function Ue(A){return A.outlet||Bt}function Ct(A,I){const D=A.filter(H=>Ue(H)===I);return D.push(...A.filter(H=>Ue(H)!==I)),D}const Qt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yn(A,I,D){var H;if(""===I.path)return"full"===I.pathMatch&&(A.hasChildren()||D.length>0)?Object.assign({},Qt):{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const J=(I.matcher||Ir)(D,A,I);if(!J)return Object.assign({},Qt);const Ce={};xr(J.posParams,(It,Hn)=>{Ce[Hn]=It.path});const Le=J.consumed.length>0?Object.assign(Object.assign({},Ce),J.consumed[J.consumed.length-1].parameters):Ce;return{matched:!0,consumedSegments:J.consumed,remainingSegments:D.slice(J.consumed.length),parameters:Le,positionalParamSegments:null!==(H=J.posParams)&&void 0!==H?H:{}}}function Tn(A,I,D,H,W="corrected"){if(D.length>0&&function te(A,I,D){return D.some(H=>ae(A,I,H)&&Ue(H)!==Bt)}(A,D,H)){const Ce=new ye(I,function R(A,I,D,H){const W={};W[Bt]=H,H._sourceSegment=A,H._segmentIndexShift=I.length;for(const J of D)if(""===J.path&&Ue(J)!==Bt){const Ce=new ye([],{});Ce._sourceSegment=A,Ce._segmentIndexShift=I.length,W[Ue(J)]=Ce}return W}(A,I,H,new ye(D,A.children)));return Ce._sourceSegment=A,Ce._segmentIndexShift=I.length,{segmentGroup:Ce,slicedSegments:[]}}if(0===D.length&&function j(A,I,D){return D.some(H=>ae(A,I,H))}(A,D,H)){const Ce=new ye(A.segments,function En(A,I,D,H,W,J){const Ce={};for(const Le of H)if(ae(A,D,Le)&&!W[Ue(Le)]){const It=new ye([],{});It._sourceSegment=A,It._segmentIndexShift="legacy"===J?A.segments.length:I.length,Ce[Ue(Le)]=It}return Object.assign(Object.assign({},W),Ce)}(A,I,D,H,A.children,W));return Ce._sourceSegment=A,Ce._segmentIndexShift=I.length,{segmentGroup:Ce,slicedSegments:D}}const J=new ye(A.segments,A.children);return J._sourceSegment=A,J._segmentIndexShift=I.length,{segmentGroup:J,slicedSegments:D}}function ae(A,I,D){return(!(A.hasChildren()||I.length>0)||"full"!==D.pathMatch)&&""===D.path}function Se(A,I,D,H){return!!(Ue(A)===H||H!==Bt&&ae(I,D,A))&&("**"===A.path||yn(I,A,D).matched)}function dt(A,I,D){return 0===I.length&&!A.children[D]}class vt{constructor(I){this.segmentGroup=I||null}}class vn{constructor(I){this.urlTree=I}}function Ln(A){return Ie(new vt(A))}function tr(A){return Ie(new vn(A))}class Gr{constructor(I,D,H,W,J){this.configLoader=D,this.urlSerializer=H,this.urlTree=W,this.config=J,this.allowRedirects=!0,this.ngModule=I.get(a.h0i)}apply(){const I=Tn(this.urlTree.root,[],[],this.config).segmentGroup,D=new ye(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,D,Bt).pipe((0,je.U)(J=>this.createUrlTree(Fi(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xt(J=>{if(J instanceof vn)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof vt?this.noMatchError(J):J}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,Bt).pipe((0,je.U)(W=>this.createUrlTree(Fi(W),I.queryParams,I.fragment))).pipe(xt(W=>{throw W instanceof vt?this.noMatchError(W):W}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,D,H){const W=I.segments.length>0?new ye([],{[Bt]:I}):I;return new ir(W,D,H)}expandSegmentGroup(I,D,H,W){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(I,D,H).pipe((0,je.U)(J=>new ye([],J))):this.expandSegment(I,H,D,H.segments,W,!0)}expandChildren(I,D,H){const W=[];for(const J of Object.keys(H.children))"primary"===J?W.unshift(J):W.push(J);return(0,Re.D)(W).pipe(ut(J=>{const Ce=H.children[J],Le=Ct(D,J);return this.expandSegmentGroup(I,Le,Ce,J).pipe((0,je.U)(It=>({segment:It,outlet:J})))}),(0,Vt.R)((J,Ce)=>(J[Ce.outlet]=Ce.segment,J),{}),function Ne(A,I){const D=arguments.length>=2;return H=>H.pipe(A?(0,lt.h)((W,J)=>A(W,J,H)):ht.y,Pt(1),D?(0,st.d)(I):(0,We.T)(()=>new Et.K))}())}expandSegment(I,D,H,W,J,Ce){return(0,Re.D)(H).pipe(ut(Le=>this.expandSegmentAgainstRoute(I,D,H,Le,W,J,Ce).pipe(xt(Hn=>{if(Hn instanceof vt)return(0,Ze.of)(null);throw Hn}))),(0,pn.P)(Le=>!!Le),xt((Le,It)=>{if(Le instanceof Et.K||"EmptyError"===Le.name)return dt(D,W,J)?(0,Ze.of)(new ye([],{})):Ln(D);throw Le}))}expandSegmentAgainstRoute(I,D,H,W,J,Ce,Le){return Se(W,D,J,Ce)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(I,D,W,J,Ce):Le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,D,H,W,J,Ce):Ln(D):Ln(D)}expandSegmentAgainstRouteUsingRedirect(I,D,H,W,J,Ce){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,H,W,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(I,D,H,W,J,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,D,H,W){const J=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?tr(J):this.lineralizeSegments(H,J).pipe((0,Je.z)(Ce=>{const Le=new ye(Ce,{});return this.expandSegment(I,Le,D,Ce,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,D,H,W,J,Ce){const{matched:Le,consumedSegments:It,remainingSegments:Hn,positionalParamSegments:wr}=yn(D,W,J);if(!Le)return Ln(D);const ar=this.applyRedirectCommands(It,W.redirectTo,wr);return W.redirectTo.startsWith("/")?tr(ar):this.lineralizeSegments(W,ar).pipe((0,Je.z)(Yr=>this.expandSegment(I,D,H,Yr.concat(Hn),Ce,!1)))}matchSegmentAgainstRoute(I,D,H,W,J){if("**"===H.path)return H.loadChildren?(H._loadedConfig?(0,Ze.of)(H._loadedConfig):this.configLoader.load(I.injector,H)).pipe((0,je.U)(ar=>(H._loadedConfig=ar,new ye(W,{})))):(0,Ze.of)(new ye(W,{}));const{matched:Ce,consumedSegments:Le,remainingSegments:It}=yn(D,H,W);return Ce?this.getChildConfig(I,H,W).pipe((0,Je.z)(wr=>{const ar=wr.module,Yr=wr.routes,{segmentGroup:ii,slicedSegments:mo}=Tn(D,Le,It,Yr),bs=new ye(ii.segments,ii.children);if(0===mo.length&&bs.hasChildren())return this.expandChildren(ar,Yr,bs).pipe((0,je.U)(Fo=>new ye(Le,Fo)));if(0===Yr.length&&0===mo.length)return(0,Ze.of)(new ye(Le,{}));const ba=Ue(H)===J;return this.expandSegment(ar,bs,Yr,mo,ba?Bt:J,!0).pipe((0,je.U)(ws=>new ye(Le.concat(ws.segments),ws.children)))})):Ln(D)}getChildConfig(I,D,H){return D.children?(0,Ze.of)(new ds(D.children,I)):D.loadChildren?void 0!==D._loadedConfig?(0,Ze.of)(D._loadedConfig):this.runCanLoadGuards(I.injector,D,H).pipe((0,Je.z)(W=>W?this.configLoader.load(I.injector,D).pipe((0,je.U)(J=>(D._loadedConfig=J,J))):function pr(A){return Ie(rr(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))}(D))):(0,Ze.of)(new ds([],I))}runCanLoadGuards(I,D,H){const W=D.canLoad;if(!W||0===W.length)return(0,Ze.of)(!0);const J=W.map(Ce=>{const Le=I.get(Ce);let It;if(function $r(A){return A&&bi(A.canLoad)}(Le))It=Le.canLoad(D,H);else{if(!bi(Le))throw new Error("Invalid CanLoad guard");It=Le(D,H)}return hr(It)});return(0,Ze.of)(J).pipe(is(),(0,sn.b)(Ce=>{if(!wi(Ce))return;const Le=rr(`Redirecting to "${this.urlSerializer.serialize(Ce)}"`);throw Le.url=Ce,Le}),(0,je.U)(Ce=>!0===Ce))}lineralizeSegments(I,D){let H=[],W=D.root;for(;;){if(H=H.concat(W.segments),0===W.numberOfChildren)return(0,Ze.of)(H);if(W.numberOfChildren>1||!W.children[Bt])return Ie(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I.redirectTo}'`));W=W.children[Bt]}}applyRedirectCommands(I,D,H){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),I,H)}applyRedirectCreatreUrlTree(I,D,H,W){const J=this.createSegmentGroup(I,D.root,H,W);return new ir(J,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(I,D){const H={};return xr(I,(W,J)=>{if("string"==typeof W&&W.startsWith(":")){const Le=W.substring(1);H[J]=D[Le]}else H[J]=W}),H}createSegmentGroup(I,D,H,W){const J=this.createSegments(I,D.segments,H,W);let Ce={};return xr(D.children,(Le,It)=>{Ce[It]=this.createSegmentGroup(I,Le,H,W)}),new ye(J,Ce)}createSegments(I,D,H,W){return D.map(J=>J.path.startsWith(":")?this.findPosParam(I,J,W):this.findOrReturn(J,H))}findPosParam(I,D,H){const W=H[D.path.substring(1)];if(!W)throw new Error(`Cannot redirect to '${I}'. Cannot find '${D.path}'.`);return W}findOrReturn(I,D){let H=0;for(const W of D){if(W.path===I.path)return D.splice(H),W;H++}return I}}function Fi(A){const I={};for(const H of Object.keys(A.children)){const J=Fi(A.children[H]);(J.segments.length>0||J.hasChildren())&&(I[H]=J)}return function kr(A){if(1===A.numberOfChildren&&A.children[Bt]){const I=A.children[Bt];return new ye(A.segments.concat(I.segments),I.children)}return A}(new ye(A.segments,I))}class fn{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class ci{constructor(I,D){this.component=I,this.route=D}}function Ui(A,I,D){const H=A._root;return B(H,I?I._root:null,D,[H.value])}function ks(A,I,D){const H=function G(A){if(!A)return null;for(let I=A.parent;I;I=I.parent){const D=I.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(I);return(H?H.module.injector:D).get(A)}function B(A,I,D,H,W={canDeactivateChecks:[],canActivateChecks:[]}){const J=Wn(I);return A.children.forEach(Ce=>{(function F(A,I,D,H,W={canDeactivateChecks:[],canActivateChecks:[]}){const J=A.value,Ce=I?I.value:null,Le=D?D.getContext(A.value.outlet):null;if(Ce&&J.routeConfig===Ce.routeConfig){const It=function se(A,I,D){if("function"==typeof D)return D(A,I);switch(D){case"pathParamsChange":return!ge(A.url,I.url);case"pathParamsOrQueryParamsChange":return!ge(A.url,I.url)||!Ft(A.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!on(A,I)||!Ft(A.queryParams,I.queryParams);default:return!on(A,I)}}(Ce,J,J.routeConfig.runGuardsAndResolvers);It?W.canActivateChecks.push(new fn(H)):(J.data=Ce.data,J._resolvedData=Ce._resolvedData),B(A,I,J.component?Le?Le.children:null:D,H,W),It&&Le&&Le.outlet&&Le.outlet.isActivated&&W.canDeactivateChecks.push(new ci(Le.outlet.component,Ce))}else Ce&&Te(I,Le,W),W.canActivateChecks.push(new fn(H)),B(A,null,J.component?Le?Le.children:null:D,H,W)})(Ce,J[Ce.value.outlet],D,H.concat([Ce.value]),W),delete J[Ce.value.outlet]}),xr(J,(Ce,Le)=>Te(Ce,D.getContext(Le),W)),W}function Te(A,I,D){const H=Wn(A),W=A.value;xr(H,(J,Ce)=>{Te(J,W.component?I?I.children.getContext(Ce):null:I,D)}),D.canDeactivateChecks.push(new ci(W.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,W))}class Oa{}function so(A){return new b.y(I=>I.error(A))}class ko{constructor(I,D,H,W,J,Ce){this.rootComponentType=I,this.config=D,this.urlTree=H,this.url=W,this.paramsInheritanceStrategy=J,this.relativeLinkResolution=Ce}recognize(){const I=Tn(this.urlTree.root,[],[],this.config.filter(Ce=>void 0===Ce.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,I,Bt);if(null===D)return null;const H=new ze([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new Sr(H,D),J=new Ve(this.url,W);return this.inheritParamsAndData(J._root),J}inheritParamsAndData(I){const D=I.value,H=Kr(D,this.paramsInheritanceStrategy);D.params=Object.freeze(H.params),D.data=Object.freeze(H.data),I.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(I,D,H){return 0===D.segments.length&&D.hasChildren()?this.processChildren(I,D):this.processSegment(I,D,D.segments,H)}processChildren(I,D){const H=[];for(const J of Object.keys(D.children)){const Ce=D.children[J],Le=Ct(I,J),It=this.processSegmentGroup(Le,Ce,J);if(null===It)return null;H.push(...It)}const W=ao(H);return function Ni(A){A.sort((I,D)=>I.value.outlet===Bt?-1:D.value.outlet===Bt?1:I.value.outlet.localeCompare(D.value.outlet))}(W),W}processSegment(I,D,H,W){for(const J of I){const Ce=this.processSegmentAgainstRoute(J,D,H,W);if(null!==Ce)return Ce}return dt(D,H,W)?[]:null}processSegmentAgainstRoute(I,D,H,W){if(I.redirectTo||!Se(I,D,H,W))return null;let J,Ce=[],Le=[];if("**"===I.path){const ii=H.length>0?Pr(H).parameters:{};J=new ze(H,ii,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qo(I),Ue(I),I.component,I,va(D),Zs(D)+H.length,lo(I))}else{const ii=yn(D,I,H);if(!ii.matched)return null;Ce=ii.consumedSegments,Le=ii.remainingSegments,J=new ze(Ce,ii.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qo(I),Ue(I),I.component,I,va(D),Zs(D)+Ce.length,lo(I))}const It=function Os(A){return A.children?A.children:A.loadChildren?A._loadedConfig.routes:[]}(I),{segmentGroup:Hn,slicedSegments:wr}=Tn(D,Ce,Le,It.filter(ii=>void 0===ii.redirectTo),this.relativeLinkResolution);if(0===wr.length&&Hn.hasChildren()){const ii=this.processChildren(It,Hn);return null===ii?null:[new Sr(J,ii)]}if(0===It.length&&0===wr.length)return[new Sr(J,[])];const ar=Ue(I)===W,Yr=this.processSegment(It,Hn,wr,ar?Bt:W);return null===Yr?null:[new Sr(J,Yr)]}}function oo(A){const I=A.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function ao(A){const I=[],D=new Set;for(const H of A){if(!oo(H)){I.push(H);continue}const W=I.find(J=>H.value.routeConfig===J.value.routeConfig);void 0!==W?(W.children.push(...H.children),D.add(W)):I.push(H)}for(const H of D){const W=ao(H.children);I.push(new Sr(H.value,W))}return I.filter(H=>!D.has(H))}function va(A){let I=A;for(;I._sourceSegment;)I=I._sourceSegment;return I}function Zs(A){let I=A,D=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,D+=I._segmentIndexShift?I._segmentIndexShift:0;return D-1}function qo(A){return A.data||{}}function lo(A){return A.resolve||{}}function Eo(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Xi(A){return(0,Xe.w)(I=>{const D=A(I);return D?(0,Re.D)(D).pipe((0,je.U)(()=>I)):(0,Ze.of)(I)})}class qs extends class ua{shouldDetach(I){return!1}store(I,D){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,D){return I.routeConfig===D.routeConfig}}{}const mi=new a.OlP("ROUTES");class eo{constructor(I,D,H,W){this.injector=I,this.compiler=D,this.onLoadStartListener=H,this.onLoadEndListener=W}load(I,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const W=this.loadModuleFactory(D.loadChildren).pipe((0,je.U)(J=>{this.onLoadEndListener&&this.onLoadEndListener(D);const Ce=J.create(I);return new ds(ni(Ce.injector.get(mi,void 0,a.XFs.Self|a.XFs.Optional)).map(xe),Ce)}),xt(J=>{throw D._loader$=void 0,J}));return D._loader$=new pe(W,()=>new pt.x).pipe(ce()),D._loader$}loadModuleFactory(I){return hr(I()).pipe((0,Je.z)(D=>D instanceof a.YKP?(0,Ze.of)(D):(0,Re.D)(this.compiler.compileModuleAsync(D))))}}class ha{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,D){return I}}function Li(A){throw A}function fo(A,I,D){return I.parse("/")}function Mi(A,I){return(0,Ze.of)(null)}const Ko={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class A{constructor(D,H,W,J,Ce,Le,It){this.rootComponentType=D,this.urlSerializer=H,this.rootContexts=W,this.location=J,this.config=It,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pt.x,this.errorHandler=Li,this.malformedUriErrorHandler=fo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mi,afterPreactivation:Mi},this.urlHandlingStrategy=new ha,this.routeReuseStrategy=new qs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ce.get(a.h0i),this.console=Ce.get(a.c2e);const ar=Ce.get(a.R0b);this.isNgZoneEnabled=ar instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(It),this.currentUrlTree=function Fr(){return new ir(new ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new eo(Ce,Le,Yr=>this.triggerEvent(new Dn(Yr)),Yr=>this.triggerEvent(new Qn(Yr))),this.routerState=cs(this.currentUrlTree,this.rootComponentType),this.transitions=new Qe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const H=this.events;return D.pipe((0,lt.h)(W=>0!==W.id),(0,je.U)(W=>Object.assign(Object.assign({},W),{extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,Xe.w)(W=>{let J=!1,Ce=!1;return(0,Ze.of)(W).pipe((0,sn.b)(Le=>{this.currentNavigation={id:Le.id,initialUrl:Le.currentRawUrl,extractedUrl:Le.extractedUrl,trigger:Le.source,extras:Le.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Xe.w)(Le=>{const It=this.browserUrlTree.toString(),Hn=!this.navigated||Le.extractedUrl.toString()!==It||It!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Hn)&&this.urlHandlingStrategy.shouldProcessUrl(Le.rawUrl))return Yo(Le.source)&&(this.browserUrlTree=Le.extractedUrl),(0,Ze.of)(Le).pipe((0,Xe.w)(ar=>{const Yr=this.transitions.getValue();return H.next(new St(ar.id,this.serializeUrl(ar.extractedUrl),ar.source,ar.restoredState)),Yr!==this.transitions.getValue()?rt.E:Promise.resolve(ar)}),function os(A,I,D,H){return(0,Xe.w)(W=>function Nr(A,I,D,H,W){return new Gr(A,I,D,H,W).apply()}(A,I,D,W.extractedUrl,H).pipe((0,je.U)(J=>Object.assign(Object.assign({},W),{urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,sn.b)(ar=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:ar.urlAfterRedirects})}),function co(A,I,D,H,W){return(0,Je.z)(J=>function ya(A,I,D,H,W="emptyOnly",J="legacy"){try{const Ce=new ko(A,I,D,H,W,J).recognize();return null===Ce?so(new Oa):(0,Ze.of)(Ce)}catch(Ce){return so(Ce)}}(A,I,J.urlAfterRedirects,D(J.urlAfterRedirects),H,W).pipe((0,je.U)(Ce=>Object.assign(Object.assign({},J),{targetSnapshot:Ce}))))}(this.rootComponentType,this.config,ar=>this.serializeUrl(ar),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,sn.b)(ar=>{if("eager"===this.urlUpdateStrategy){if(!ar.extras.skipLocationChange){const ii=this.urlHandlingStrategy.merge(ar.urlAfterRedirects,ar.rawUrl);this.setBrowserUrl(ii,ar)}this.browserUrlTree=ar.urlAfterRedirects}const Yr=new mn(ar.id,this.serializeUrl(ar.extractedUrl),this.serializeUrl(ar.urlAfterRedirects),ar.targetSnapshot);H.next(Yr)}));if(Hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Yr,extractedUrl:ii,source:mo,restoredState:bs,extras:ba}=Le,to=new St(Yr,this.serializeUrl(ii),mo,bs);H.next(to);const ws=cs(ii,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},Le),{targetSnapshot:ws,urlAfterRedirects:ii,extras:Object.assign(Object.assign({},ba),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Le.rawUrl,Le.resolve(null),rt.E}),Xi(Le=>{const{targetSnapshot:It,id:Hn,extractedUrl:wr,rawUrl:ar,extras:{skipLocationChange:Yr,replaceUrl:ii}}=Le;return this.hooks.beforePreactivation(It,{navigationId:Hn,appliedUrlTree:wr,rawUrlTree:ar,skipLocationChange:!!Yr,replaceUrl:!!ii})}),(0,sn.b)(Le=>{const It=new Jn(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot);this.triggerEvent(It)}),(0,je.U)(Le=>Object.assign(Object.assign({},Le),{guards:Ui(Le.targetSnapshot,Le.currentSnapshot,this.rootContexts)})),function kt(A,I){return(0,Je.z)(D=>{const{targetSnapshot:H,currentSnapshot:W,guards:{canActivateChecks:J,canDeactivateChecks:Ce}}=D;return 0===Ce.length&&0===J.length?(0,Ze.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function jr(A,I,D,H){return(0,Re.D)(A).pipe((0,Je.z)(W=>function ys(A,I,D,H,W){const J=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,Ze.of)(!0);const Ce=J.map(Le=>{const It=ks(Le,I,W);let Hn;if(function zs(A){return A&&bi(A.canDeactivate)}(It))Hn=hr(It.canDeactivate(A,I,D,H));else{if(!bi(It))throw new Error("Invalid CanDeactivate guard");Hn=hr(It(A,I,D,H))}return Hn.pipe((0,pn.P)())});return(0,Ze.of)(Ce).pipe(is())}(W.component,W.route,D,I,H)),(0,pn.P)(W=>!0!==W,!0))}(Ce,H,W,A).pipe((0,Je.z)(Le=>Le&&function gs(A){return"boolean"==typeof A}(Le)?function Tr(A,I,D,H){return(0,Re.D)(I).pipe(ut(W=>(0,nt.z)(function zi(A,I){return null!==A&&I&&I(new nr(A)),(0,Ze.of)(!0)}(W.route.parent,H),function Qi(A,I){return null!==A&&I&&I(new Kt(A)),(0,Ze.of)(!0)}(W.route,H),function io(A,I,D){const H=I[I.length-1],J=I.slice(0,I.length-1).reverse().map(Ce=>function Co(A){const I=A.routeConfig?A.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:A,guards:I}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>ke(()=>{const Le=Ce.guards.map(It=>{const Hn=ks(It,Ce.node,D);let wr;if(function ms(A){return A&&bi(A.canActivateChild)}(Hn))wr=hr(Hn.canActivateChild(H,A));else{if(!bi(Hn))throw new Error("Invalid CanActivateChild guard");wr=hr(Hn(H,A))}return wr.pipe((0,pn.P)())});return(0,Ze.of)(Le).pipe(is())}));return(0,Ze.of)(J).pipe(is())}(A,W.path,D),function as(A,I,D){const H=I.routeConfig?I.routeConfig.canActivate:null;if(!H||0===H.length)return(0,Ze.of)(!0);const W=H.map(J=>ke(()=>{const Ce=ks(J,I,D);let Le;if(function hs(A){return A&&bi(A.canActivate)}(Ce))Le=hr(Ce.canActivate(I,A));else{if(!bi(Ce))throw new Error("Invalid CanActivate guard");Le=hr(Ce(I,A))}return Le.pipe((0,pn.P)())}));return(0,Ze.of)(W).pipe(is())}(A,W.route,D))),(0,pn.P)(W=>!0!==W,!0))}(H,J,A,I):(0,Ze.of)(Le)),(0,je.U)(Le=>Object.assign(Object.assign({},D),{guardsResult:Le})))})}(this.ngModule.injector,Le=>this.triggerEvent(Le)),(0,sn.b)(Le=>{if(wi(Le.guardsResult)){const Hn=rr(`Redirecting to "${this.serializeUrl(Le.guardsResult)}"`);throw Hn.url=Le.guardsResult,Hn}const It=new dr(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot,!!Le.guardsResult);this.triggerEvent(It)}),(0,lt.h)(Le=>!!Le.guardsResult||(this.restoreHistory(Le),this.cancelNavigationTransition(Le,""),!1)),Xi(Le=>{if(Le.guards.canActivateChecks.length)return(0,Ze.of)(Le).pipe((0,sn.b)(It=>{const Hn=new or(It.id,this.serializeUrl(It.extractedUrl),this.serializeUrl(It.urlAfterRedirects),It.targetSnapshot);this.triggerEvent(Hn)}),(0,Xe.w)(It=>{let Hn=!1;return(0,Ze.of)(It).pipe(function uo(A,I){return(0,Je.z)(D=>{const{targetSnapshot:H,guards:{canActivateChecks:W}}=D;if(!W.length)return(0,Ze.of)(D);let J=0;return(0,Re.D)(W).pipe(ut(Ce=>function ca(A,I,D,H){return function na(A,I,D,H){const W=Eo(A);if(0===W.length)return(0,Ze.of)({});const J={};return(0,Re.D)(W).pipe((0,Je.z)(Ce=>function ho(A,I,D,H){const W=ks(A,I,H);return hr(W.resolve?W.resolve(I,D):W(I,D))}(A[Ce],I,D,H).pipe((0,sn.b)(Le=>{J[Ce]=Le}))),Pt(1),(0,Je.z)(()=>Eo(J).length===W.length?(0,Ze.of)(J):rt.E))}(A._resolve,A,I,H).pipe((0,je.U)(J=>(A._resolvedData=J,A.data=Object.assign(Object.assign({},A.data),Kr(A,D).resolve),null)))}(Ce.route,H,A,I)),(0,sn.b)(()=>J++),Pt(1),(0,Je.z)(Ce=>J===W.length?(0,Ze.of)(D):rt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,sn.b)({next:()=>Hn=!0,complete:()=>{Hn||(this.restoreHistory(It),this.cancelNavigationTransition(It,"At least one route resolver didn't emit any value."))}}))}),(0,sn.b)(It=>{const Hn=new Cr(It.id,this.serializeUrl(It.extractedUrl),this.serializeUrl(It.urlAfterRedirects),It.targetSnapshot);this.triggerEvent(Hn)}))}),Xi(Le=>{const{targetSnapshot:It,id:Hn,extractedUrl:wr,rawUrl:ar,extras:{skipLocationChange:Yr,replaceUrl:ii}}=Le;return this.hooks.afterPreactivation(It,{navigationId:Hn,appliedUrlTree:wr,rawUrlTree:ar,skipLocationChange:!!Yr,replaceUrl:!!ii})}),(0,je.U)(Le=>{const It=function Xn(A,I,D){const H=Ur(A,I._root,D?D._root:void 0);return new xi(H,I)}(this.routeReuseStrategy,Le.targetSnapshot,Le.currentRouterState);return Object.assign(Object.assign({},Le),{targetRouterState:It})}),(0,sn.b)(Le=>{this.currentUrlTree=Le.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Le.urlAfterRedirects,Le.rawUrl),this.routerState=Le.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Le.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Le),this.browserUrlTree=Le.urlAfterRedirects)}),((A,I,D)=>(0,je.U)(H=>(new Zo(I,H.targetRouterState,H.currentRouterState,D).activate(A),H)))(this.rootContexts,this.routeReuseStrategy,Le=>this.triggerEvent(Le)),(0,sn.b)({next(){J=!0},complete(){J=!0}}),function qe(A){return(0,ue.e)((I,D)=>{try{I.subscribe(D)}finally{D.add(A)}})}(()=>{var Le;J||Ce||this.cancelNavigationTransition(W,`Navigation ID ${W.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Le=this.currentNavigation)||void 0===Le?void 0:Le.id)===W.id&&(this.currentNavigation=null)}),xt(Le=>{if(Ce=!0,function ur(A){return A&&A[zr]}(Le)){const It=wi(Le.url);It||(this.navigated=!0,this.restoreHistory(W,!0));const Hn=new ct(W.id,this.serializeUrl(W.extractedUrl),Le.message);H.next(Hn),It?setTimeout(()=>{const wr=this.urlHandlingStrategy.merge(Le.url,this.rawUrlTree),ar={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yo(W.source)};this.scheduleNavigation(wr,"imperative",null,ar,{resolve:W.resolve,reject:W.reject,promise:W.promise})},0):W.resolve(!1)}else{this.restoreHistory(W,!0);const It=new wt(W.id,this.serializeUrl(W.extractedUrl),Le);H.next(It);try{W.resolve(this.errorHandler(Le))}catch(Hn){W.reject(Hn)}}return rt.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const H="popstate"===D.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{var W;const J={replaceUrl:!0},Ce=(null===(W=D.state)||void 0===W?void 0:W.navigationId)?D.state:null;if(Ce){const It=Object.assign({},Ce);delete It.navigationId,delete It.\u0275routerPageId,0!==Object.keys(It).length&&(J.state=It)}const Le=this.parseUrl(D.url);this.scheduleNavigation(Le,H,Ce,J)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){ee(D),this.config=D.map(xe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,H={}){const{relativeTo:W,queryParams:J,fragment:Ce,queryParamsHandling:Le,preserveFragment:It}=H,Hn=W||this.routerState.root,wr=It?this.currentUrlTree.fragment:Ce;let ar=null;switch(Le){case"merge":ar=Object.assign(Object.assign({},this.currentUrlTree.queryParams),J);break;case"preserve":ar=this.currentUrlTree.queryParams;break;default:ar=J||null}return null!==ar&&(ar=this.removeEmptyProps(ar)),function fi(A,I,D,H,W){if(0===D.length)return Ti(I.root,I.root,I.root,H,W);const J=function Ro(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Vs(!0,0,A);let I=0,D=!1;const H=A.reduce((W,J,Ce)=>{if("object"==typeof J&&null!=J){if(J.outlets){const Le={};return xr(J.outlets,(It,Hn)=>{Le[Hn]="string"==typeof It?It.split("/"):It}),[...W,{outlets:Le}]}if(J.segmentPath)return[...W,J.segmentPath]}return"string"!=typeof J?[...W,J]:0===Ce?(J.split("/").forEach((Le,It)=>{0==It&&"."===Le||(0==It&&""===Le?D=!0:".."===Le?I++:""!=Le&&W.push(Le))}),W):[...W,J]},[]);return new Vs(D,I,H)}(D);if(J.toRoot())return Ti(I.root,I.root,new ye([],{}),H,W);const Ce=function Us(A,I,D){if(A.isAbsolute)return new Vi(I.root,!0,0);if(-1===D.snapshot._lastPathIndex){const J=D.snapshot._urlSegment;return new Vi(J,J===I.root,0)}const H=us(A.commands[0])?0:1;return function Ps(A,I,D){let H=A,W=I,J=D;for(;J>W;){if(J-=W,H=H.parent,!H)throw new Error("Invalid number of '../'");W=H.segments.length}return new Vi(H,!1,W-J)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+H,A.numberOfDoubleDots)}(J,I,A),Le=Ce.processChildren?$i(Ce.segmentGroup,Ce.index,J.commands):ps(Ce.segmentGroup,Ce.index,J.commands);return Ti(I.root,Ce.segmentGroup,Le,H,W)}(Hn,this.currentUrlTree,D,ar,null!=wr?wr:null)}navigateByUrl(D,H={skipLocationChange:!1}){const W=wi(D)?D:this.parseUrl(D),J=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,H)}navigate(D,H={skipLocationChange:!1}){return function ji(A){for(let I=0;I<A.length;I++){const D=A[I];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${I}`)}}(D),this.navigateByUrl(this.createUrlTree(D,H),H)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let H;try{H=this.urlSerializer.parse(D)}catch(W){H=this.malformedUriErrorHandler(W,this.urlSerializer,D)}return H}isActive(D,H){let W;if(W=!0===H?Object.assign({},Ko):!1===H?Object.assign({},pl):H,wi(D))return lr(this.currentUrlTree,D,W);const J=this.parseUrl(D);return lr(this.currentUrlTree,J,W)}removeEmptyProps(D){return Object.keys(D).reduce((H,W)=>{const J=D[W];return null!=J&&(H[W]=J),H},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new nn(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,H,W,J,Ce){var Le,It;if(this.disposed)return Promise.resolve(!1);let Hn,wr,ar;Ce?(Hn=Ce.resolve,wr=Ce.reject,ar=Ce.promise):ar=new Promise((mo,bs)=>{Hn=mo,wr=bs});const Yr=++this.navigationId;let ii;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(W=this.location.getState()),ii=W&&W.\u0275routerPageId?W.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?null!==(Le=this.browserPageId)&&void 0!==Le?Le:0:(null!==(It=this.browserPageId)&&void 0!==It?It:0)+1):ii=0,this.setTransition({id:Yr,targetPageId:ii,source:H,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:J,resolve:Hn,reject:wr,promise:ar,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ar.catch(mo=>Promise.reject(mo))}setBrowserUrl(D,H){const W=this.urlSerializer.serialize(D),J=Object.assign(Object.assign({},H.extras.state),this.generateNgRouterState(H.id,H.targetPageId));this.location.isCurrentPathEqualTo(W)||H.extras.replaceUrl?this.location.replaceState(W,"",J):this.location.go(W,"",J)}restoreHistory(D,H=!1){var W,J;if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)||0===Ce?this.currentUrlTree===(null===(J=this.currentNavigation)||void 0===J?void 0:J.finalUrl)&&0===Ce&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ce)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,H){const W=new ct(D.id,this.serializeUrl(D.extractedUrl),H);this.triggerEvent(W),D.resolve(!1)}generateNgRouterState(D,H){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:H}:{navigationId:D}}}return A.\u0275fac=function(D){a.$Z()},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac}),A})();function Yo(A){return"imperative"!==A}let Fs=(()=>{class A{constructor(D,H,W,J,Ce){this.router=D,this.route=H,this.tabIndexAttribute=W,this.renderer=J,this.el=Ce,this.commands=null,this.onChanges=new pt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const H=this.renderer,W=this.el.nativeElement;null!==D?H.setAttribute(W,"tabindex",D):H.removeAttribute(W,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const D={skipLocationChange:Rs(this.skipLocationChange),replaceUrl:Rs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rs(this.preserveFragment)})}}return A.\u0275fac=function(D){return new(D||A)(a.Y36(Zi),a.Y36(Qr),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},A.\u0275dir=a.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,H){1&D&&a.NdJ("click",function(){return H.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),A})(),Ss=(()=>{class A{constructor(D,H,W){this.router=D,this.route=H,this.locationStrategy=W,this.commands=null,this.href=null,this.onChanges=new pt.x,this.subscription=D.events.subscribe(J=>{J instanceof nn&&this.updateTargetUrlAndHref()})}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:null}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,H,W,J,Ce){if(0!==D||H||W||J||Ce||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Le={skipLocationChange:Rs(this.skipLocationChange),replaceUrl:Rs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Le),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rs(this.preserveFragment)})}}return A.\u0275fac=function(D){return new(D||A)(a.Y36(Zi),a.Y36(Qr),a.Y36(gn.S$))},A.\u0275dir=a.lG2({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,H){1&D&&a.NdJ("click",function(J){return H.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&D&&a.uIk("target",H.target)("href",H.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),A})();function Rs(A){return""===A||!!A}class po{}class In{preload(I,D){return(0,Ze.of)(null)}}let Un=(()=>{class A{constructor(D,H,W,J){this.router=D,this.injector=W,this.preloadingStrategy=J,this.loader=new eo(W,H,It=>D.triggerEvent(new Dn(It)),It=>D.triggerEvent(new Qn(It)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,lt.h)(D=>D instanceof nn),ut(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(a.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,H){const W=[];for(const J of H)if(J.loadChildren&&!J.canLoad&&J._loadedConfig){const Ce=J._loadedConfig;W.push(this.processRoutes(Ce.module,Ce.routes))}else J.loadChildren&&!J.canLoad?W.push(this.preloadConfig(D,J)):J.children&&W.push(this.processRoutes(D,J.children));return(0,Re.D)(W).pipe((0,Ot.J)(),(0,je.U)(J=>{}))}preloadConfig(D,H){return this.preloadingStrategy.preload(H,()=>(H._loadedConfig?(0,Ze.of)(H._loadedConfig):this.loader.load(D.injector,H)).pipe((0,Je.z)(J=>(H._loadedConfig=J,this.processRoutes(J.module,J.routes)))))}}return A.\u0275fac=function(D){return new(D||A)(a.LFG(Zi),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(po))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac}),A})(),go=(()=>{class A{constructor(D,H,W={}){this.router=D,this.viewportScroller=H,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof St?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof nn&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Nn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,H){this.router.triggerEvent(new Nn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(D){a.$Z()},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac}),A})();const ft=new a.OlP("ROUTER_CONFIGURATION"),zt=new a.OlP("ROUTER_FORROOT_GUARD"),Z=[gn.Ye,{provide:fe,useClass:tt},{provide:Zi,useFactory:function q(A,I,D,H,W,J,Ce={},Le,It){const Hn=new Zi(null,A,I,D,H,W,ni(J));return Le&&(Hn.urlHandlingStrategy=Le),It&&(Hn.routeReuseStrategy=It),function me(A,I){A.errorHandler&&(I.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(I.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(I.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(I.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(I.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(I.canceledNavigationResolution=A.canceledNavigationResolution)}(Ce,Hn),Ce.enableTracing&&Hn.events.subscribe(wr=>{var ar,Yr;null===(ar=console.group)||void 0===ar||ar.call(console,`Router Event: ${wr.constructor.name}`),console.log(wr.toString()),console.log(wr),null===(Yr=console.groupEnd)||void 0===Yr||Yr.call(console)}),Hn},deps:[fe,Wi,gn.Ye,a.zs3,a.Sil,mi,ft,[class da{},new a.FiY],[class Io{},new a.FiY]]},Wi,{provide:Qr,useFactory:function _t(A){return A.routerState.root},deps:[Zi]},Un,In,class Ra{preload(I,D){return D().pipe(xt(()=>(0,Ze.of)(null)))}},{provide:ft,useValue:{enableTracing:!1}}];function P(){return new a.PXZ("Router",Zi)}let O=(()=>{class A{constructor(D,H){}static forRoot(D,H){return{ngModule:A,providers:[Z,T(D),{provide:zt,useFactory:C,deps:[[Zi,new a.FiY,new a.tp0]]},{provide:ft,useValue:H||{}},{provide:gn.S$,useFactory:Ae,deps:[gn.lw,[new a.tBr(gn.mr),new a.FiY],ft]},{provide:go,useFactory:le,deps:[Zi,gn.EM,ft]},{provide:po,useExisting:H&&H.preloadingStrategy?H.preloadingStrategy:In},{provide:a.PXZ,multi:!0,useFactory:P},[Zt,{provide:a.ip1,multi:!0,useFactory:_i,deps:[Zt]},{provide:Xr,useFactory:An,deps:[Zt]},{provide:a.tb,multi:!0,useExisting:Xr}]]}}static forChild(D){return{ngModule:A,providers:[T(D)]}}}return A.\u0275fac=function(D){return new(D||A)(a.LFG(zt,8),a.LFG(Zi,8))},A.\u0275mod=a.oAB({type:A}),A.\u0275inj=a.cJS({}),A})();function le(A,I,D){return D.scrollOffset&&I.setOffset(D.scrollOffset),new go(A,I,D)}function Ae(A,I,D={}){return D.useHash?new gn.Do(A,I):new gn.b0(A,I)}function C(A){return"guarded"}function T(A){return[{provide:a.deG,multi:!0,useValue:A},{provide:mi,multi:!0,useValue:A}]}let Zt=(()=>{class A{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pt.x}appInitializer(){return this.injector.get(gn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let H=null;const W=new Promise(Le=>H=Le),J=this.injector.get(Zi),Ce=this.injector.get(ft);return"disabled"===Ce.initialNavigation?(J.setUpLocationChangeListener(),H(!0)):"enabled"===Ce.initialNavigation||"enabledBlocking"===Ce.initialNavigation?(J.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,H(!0),this.resultOfPreactivationDone),J.initialNavigation()):H(!0),W})}bootstrapListener(D){const H=this.injector.get(ft),W=this.injector.get(Un),J=this.injector.get(go),Ce=this.injector.get(Zi),Le=this.injector.get(a.z2F);D===Le.components[0]&&(("enabledNonBlocking"===H.initialNavigation||void 0===H.initialNavigation)&&Ce.initialNavigation(),W.setUpPreloading(),J.init(),Ce.resetRootComponentType(Le.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(D){return new(D||A)(a.LFG(a.zs3))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac}),A})();function _i(A){return A.appInitializer.bind(A)}function An(A){return A.bootstrapListener.bind(A)}const Xr=new a.OlP("Router Initializer")},3942:(tn,Oe,U)=>{"use strict";U.d(Oe,{Z:()=>mt});var a=U(2090),b=U(4859),K=U(9681),Ie=U(1877);class be{constructor(nt,rt){this._delegate=nt,this.firebase=rt,(0,K._addComponent)(nt,new b.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(nt,rt=K._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(nt);return!xt.isInitialized()&&"EXPLICIT"===(null===(pt=xt.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:rt})}_removeServiceInstance(nt,rt=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(rt)}_addComponent(nt){(0,K._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,K._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function $e(){const Et=function ue(Et){const nt={},rt={__esModule:!0,initializeApp:function Je(We,st={}){const ht=K.initializeApp(We,st);if((0,a.r3)(nt,ht.name))return nt[ht.name];const Ne=new Et(ht,rt);return nt[ht.name]=Ne,Ne},app:xt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function lt(We){const st=We.name,ht=st.replace("-compat","");if(K._registerComponent(We)&&"PUBLIC"===We.type){const Ne=(qe=xt())=>{if("function"!=typeof qe[ht])throw Me.create("invalid-app-argument",{appName:st});return qe[ht]()};void 0!==We.serviceProps&&(0,a.ZB)(Ne,We.serviceProps),rt[ht]=Ne,Et.prototype[ht]=function(...qe){return this._getService.bind(this,st).apply(this,We.multipleInstances?qe:[])}}return"PUBLIC"===We.type?rt[ht]:null},removeApp:function pt(We){delete nt[We]},useAsService:function Pt(We,st){return"serverAuth"===st?null:st},modularAPIs:K}};function xt(We){if(!(0,a.r3)(nt,We=We||K._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:We});return nt[We]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function ut(){return Object.keys(nt).map(We=>nt[We])}}),xt.App=Et,rt}(be);return Et.INTERNAL=Object.assign(Object.assign({},Et.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function nt(rt){(0,a.ZB)(Et,rt)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Et}(),pe=new Ie.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Et=self.firebase.SDK_VERSION;Et&&Et.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const mt=ce;!function Qe(Et){(0,K.registerVersion)("@firebase/app-compat","0.1.37",Et)}()},9681:(tn,Oe,U)=>{"use strict";U.r(Oe),U.d(Oe,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>Dn,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>St,_addOrOverwriteComponent:()=>nn,_apps:()=>gn,_clearComponents:()=>Jn,_components:()=>an,_getProvider:()=>wt,_registerComponent:()=>ct,_removeServiceInstance:()=>mn,deleteApp:()=>Kt,getApp:()=>nr,getApps:()=>Er,initializeApp:()=>Qn,onLog:()=>Bt,registerVersion:()=>Nn,setLogLevel:()=>Vn});var a=U(5861),b=U(4859),K=U(1877),Ie=U(2090),be=U(8766);class ke{constructor(Dt){this.container=Dt}getPlatformInfoString(){return this.container.getProviders().map(Xt=>{if(function Me($t){const Dt=$t.getComponent();return"VERSION"===(null==Dt?void 0:Dt.type)}(Xt)){const cn=Xt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(Xt=>Xt).join(" ")}}const ue="@firebase/app",ce=new K.Yd("@firebase/app"),sn="[DEFAULT]",Ot={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,an=new Map;function St($t,Dt){try{$t.container.addComponent(Dt)}catch(Xt){ce.debug(`Component ${Dt.name} failed to register with FirebaseApp ${$t.name}`,Xt)}}function nn($t,Dt){$t.container.addOrOverwriteComponent(Dt)}function ct($t){const Dt=$t.name;if(an.has(Dt))return ce.debug(`There were multiple attempts to register component ${Dt}.`),!1;an.set(Dt,$t);for(const Xt of gn.values())St(Xt,$t);return!0}function wt($t,Dt){const Xt=$t.container.getProvider("heartbeat").getImmediate({optional:!0});return Xt&&Xt.triggerHeartbeat(),$t.container.getProvider(Dt)}function mn($t,Dt,Xt=sn){wt($t,Dt).clearInstance(Xt)}function Jn(){an.clear()}const or=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cr{constructor(Dt,Xt,cn){this._isDeleted=!1,this._options=Object.assign({},Dt),this._config=Object.assign({},Xt),this._name=Xt.name,this._automaticDataCollectionEnabled=Xt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new b.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Dt){this._isDeleted=Dt}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const Dn="9.12.1";function Qn($t,Dt={}){let Xt=$t;"object"!=typeof Dt&&(Dt={name:Dt});const cn=Object.assign({name:sn,automaticDataCollectionEnabled:!1},Dt),dn=cn.name;if("string"!=typeof dn||!dn)throw or.create("bad-app-name",{appName:String(dn)});if(Xt||(Xt=(0,Ie.aH)()),!Xt)throw or.create("no-options");const ir=gn.get(dn);if(ir){if((0,Ie.vZ)(Xt,ir.options)&&(0,Ie.vZ)(cn,ir.config))return ir;throw or.create("duplicate-app",{appName:dn})}const ye=new b.H0(dn);for(const Fe of an.values())ye.addComponent(Fe);const we=new Cr(Xt,cn,ye);return gn.set(dn,we),we}function nr($t=sn){const Dt=gn.get($t);if(!Dt&&$t===sn)return Qn();if(!Dt)throw or.create("no-app",{appName:$t});return Dt}function Er(){return Array.from(gn.values())}function Kt($t){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*($t){const Dt=$t.name;gn.has(Dt)&&(gn.delete(Dt),yield Promise.all($t.container.getProviders().map(Xt=>Xt.delete())),$t.isDeleted=!0)})).apply(this,arguments)}function Nn($t,Dt,Xt){var cn;let dn=null!==(cn=Ot[$t])&&void 0!==cn?cn:$t;Xt&&(dn+=`-${Xt}`);const ir=dn.match(/\s|\//),ye=Dt.match(/\s|\//);if(ir||ye){const we=[`Unable to register library "${dn}" with version "${Dt}":`];return ir&&we.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),ir&&ye&&we.push("and"),ye&&we.push(`version name "${Dt}" contains illegal characters (whitespace or "/")`),void ce.warn(we.join(" "))}ct(new b.wA(`${dn}-version`,()=>({library:dn,version:Dt}),"VERSION"))}function Bt($t,Dt){if(null!==$t&&"function"!=typeof $t)throw or.create("invalid-log-argument");(0,K.Am)($t,Dt)}function Vn($t){(0,K.Ub)($t)}const rr="firebase-heartbeat-store";let ur=null;function Ir(){return ur||(ur=(0,be.X3)("firebase-heartbeat-database",1,{upgrade:($t,Dt)=>{0===Dt&&$t.createObjectStore(rr)}}).catch($t=>{throw or.create("idb-open",{originalErrorMessage:$t.message})})),ur}function Ft(){return(Ft=(0,a.Z)(function*($t){var Dt;try{return(yield Ir()).transaction(rr).objectStore(rr).get(Pr($t))}catch(Xt){if(Xt instanceof Ie.ZR)ce.warn(Xt.message);else{const cn=or.create("idb-get",{originalErrorMessage:null===(Dt=Xt)||void 0===Dt?void 0:Dt.message});ce.warn(cn.message)}}})).apply(this,arguments)}function ln($t,Dt){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*($t,Dt){var Xt;try{const dn=(yield Ir()).transaction(rr,"readwrite");return yield dn.objectStore(rr).put(Dt,Pr($t)),dn.done}catch(cn){if(cn instanceof Ie.ZR)ce.warn(cn.message);else{const dn=or.create("idb-set",{originalErrorMessage:null===(Xt=cn)||void 0===Xt?void 0:Xt.message});ce.warn(dn.message)}}})).apply(this,arguments)}function Pr($t){return`${$t.name}!${$t.options.appId}`}class hr{constructor(Dt){this.container=Dt,this._heartbeatsCache=null;const Xt=this.container.getProvider("app").getImmediate();this._storage=new Or(Xt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var Dt=this;return(0,a.Z)(function*(){const cn=Dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=Fr();if(null===Dt._heartbeatsCache&&(Dt._heartbeatsCache=yield Dt._heartbeatsCachePromise),Dt._heartbeatsCache.lastSentHeartbeatDate!==dn&&!Dt._heartbeatsCache.heartbeats.some(ir=>ir.date===dn))return Dt._heartbeatsCache.heartbeats.push({date:dn,agent:cn}),Dt._heartbeatsCache.heartbeats=Dt._heartbeatsCache.heartbeats.filter(ir=>{const ye=new Date(ir.date).valueOf();return Date.now()-ye<=2592e6}),Dt._storage.overwrite(Dt._heartbeatsCache)})()}getHeartbeatsHeader(){var Dt=this;return(0,a.Z)(function*(){if(null===Dt._heartbeatsCache&&(yield Dt._heartbeatsCachePromise),null===Dt._heartbeatsCache||0===Dt._heartbeatsCache.heartbeats.length)return"";const Xt=Fr(),{heartbeatsToSend:cn,unsentEntries:dn}=function Fn($t,Dt=1024){const Xt=[];let cn=$t.slice();for(const dn of $t){const ir=Xt.find(ye=>ye.agent===dn.agent);if(ir){if(ir.dates.push(dn.date),lr(Xt)>Dt){ir.dates.pop();break}}else if(Xt.push({agent:dn.agent,dates:[dn.date]}),lr(Xt)>Dt){Xt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:Xt,unsentEntries:cn}}(Dt._heartbeatsCache.heartbeats),ir=(0,Ie.L)(JSON.stringify({version:2,heartbeats:cn}));return Dt._heartbeatsCache.lastSentHeartbeatDate=Xt,dn.length>0?(Dt._heartbeatsCache.heartbeats=dn,yield Dt._storage.overwrite(Dt._heartbeatsCache)):(Dt._heartbeatsCache.heartbeats=[],Dt._storage.overwrite(Dt._heartbeatsCache)),ir})()}}function Fr(){return(new Date).toISOString().substring(0,10)}class Or{constructor(Dt){this.app=Dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Dt=this;return(0,a.Z)(function*(){return(yield Dt._canUseIndexedDBPromise)&&(yield function Pn($t){return Ft.apply(this,arguments)}(Dt.app))||{heartbeats:[]}})()}overwrite(Dt){var Xt=this;return(0,a.Z)(function*(){var cn;if(yield Xt._canUseIndexedDBPromise){const ir=yield Xt.read();return ln(Xt.app,{lastSentHeartbeatDate:null!==(cn=Dt.lastSentHeartbeatDate)&&void 0!==cn?cn:ir.lastSentHeartbeatDate,heartbeats:Dt.heartbeats})}})()}add(Dt){var Xt=this;return(0,a.Z)(function*(){var cn;if(yield Xt._canUseIndexedDBPromise){const ir=yield Xt.read();return ln(Xt.app,{lastSentHeartbeatDate:null!==(cn=Dt.lastSentHeartbeatDate)&&void 0!==cn?cn:ir.lastSentHeartbeatDate,heartbeats:[...ir.heartbeats,...Dt.heartbeats]})}})()}}function lr($t){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:$t})).length}!function hi($t){ct(new b.wA("platform-logger",Dt=>new ke(Dt),"PRIVATE")),ct(new b.wA("heartbeat",Dt=>new hr(Dt),"PRIVATE")),Nn(ue,"0.8.2",$t),Nn(ue,"0.8.2","esm2017"),Nn("fire-js","")}("")},4859:(tn,Oe,U)=>{"use strict";U.d(Oe,{H0:()=>ue,wA:()=>K});var a=U(5861),b=U(2090);class K{constructor(ce,pe,Re){this.name=ce,this.instanceFactory=pe,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Ie="[DEFAULT]";class be{constructor(ce,pe){this.name=ce,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const pe=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(pe)){const Re=new b.BH;if(this.instancesDeferred.set(pe,Re),this.isInitialized(pe)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:pe});Ze&&Re.resolve(Ze)}catch(Ze){}}return this.instancesDeferred.get(pe).promise}getImmediate(ce){var pe;const Re=this.normalizeInstanceIdentifier(null==ce?void 0:ce.identifier),Ze=null!==(pe=null==ce?void 0:ce.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Qe){if(Ze)return null;throw Qe}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Me($e){return"EAGER"===$e.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(pe){}for(const[pe,Re]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(pe);try{const Qe=this.getOrInitializeService({instanceIdentifier:Ze});Re.resolve(Qe)}catch(Qe){}}}}clearInstance(ce=Ie){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,a.Z)(function*(){const pe=Array.from(ce.instances.values());yield Promise.all([...pe.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...pe.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Ie){return this.instances.has(ce)}getOptions(ce=Ie){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:pe={}}=ce,Re=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Re,options:pe});for(const[Qe,mt]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Qe)&&mt.resolve(Ze);return Ze}onInit(ce,pe){var Re;const Ze=this.normalizeInstanceIdentifier(pe),Qe=null!==(Re=this.onInitCallbacks.get(Ze))&&void 0!==Re?Re:new Set;Qe.add(ce),this.onInitCallbacks.set(Ze,Qe);const mt=this.instances.get(Ze);return mt&&ce(mt,Ze),()=>{Qe.delete(ce)}}invokeOnInitCallbacks(ce,pe){const Re=this.onInitCallbacks.get(pe);if(Re)for(const Ze of Re)try{Ze(ce,pe)}catch(Qe){}}getOrInitializeService({instanceIdentifier:ce,options:pe={}}){let Re=this.instances.get(ce);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:($e=ce,$e===Ie?void 0:$e),options:pe}),this.instances.set(ce,Re),this.instancesOptions.set(ce,pe),this.invokeOnInitCallbacks(Re,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Re)}catch(Ze){}var $e;return Re||null}normalizeInstanceIdentifier(ce=Ie){return this.component?this.component.multipleInstances?ce:Ie:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const pe=this.getProvider(ce.name);if(pe.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);pe.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const pe=new be(ce,this);return this.providers.set(ce,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(tn,Oe,U)=>{"use strict";U.d(Oe,{Am:()=>$e,Ub:()=>ue,Yd:()=>Me,in:()=>b});const a=[];var b=(()=>{return(ce=b||(b={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",b;var ce})();const K={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},Ie=b.INFO,be={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},ke=(ce,pe,...Re)=>{if(pe<ce.logLevel)return;const Ze=(new Date).toISOString(),Qe=be[pe];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[Qe](`[${Ze}]  ${ce.name}:`,...Re)};class Me{constructor(pe){this.name=pe,this._logLevel=Ie,this._logHandler=ke,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in b))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?K[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...pe),this._logHandler(this,b.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...pe),this._logHandler(this,b.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,b.INFO,...pe),this._logHandler(this,b.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,b.WARN,...pe),this._logHandler(this,b.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...pe),this._logHandler(this,b.ERROR,...pe)}}function ue(ce){a.forEach(pe=>{pe.setLogLevel(ce)})}function $e(ce,pe){for(const Re of a){let Ze=null;pe&&pe.level&&(Ze=K[pe.level]),Re.userLogHandler=null===ce?null:(Qe,mt,...Et)=>{const nt=Et.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch(pt){return null}}).filter(rt=>rt).join(" ");mt>=(null!=Ze?Ze:Qe.logLevel)&&ce({level:b[mt].toLowerCase(),message:nt,args:Et,type:Qe.name})}}}},970:(tn,Oe,U)=>{"use strict";U.d(Oe,{If:()=>Va,uo:()=>ia,FF:()=>Ed,IJ:()=>Ju,OC:()=>Wu,xl:()=>ra,lD:()=>So});var a=U(5e3),b=U(9808),K=U(8421),Ie=U(8306),be=U(5577),ke=U(1144),Me=U(576),ue=U(3268);const $e=["addListener","removeListener"],ce=["addEventListener","removeEventListener"],pe=["on","off"];function Re(h,m,u,y){if((0,Me.m)(u)&&(y=u,u=void 0),y)return Re(h,m,u).pipe((0,ue.Z)(y));const[N,V]=function Et(h){return(0,Me.m)(h.addEventListener)&&(0,Me.m)(h.removeEventListener)}(h)?ce.map(_e=>Ge=>h[_e](m,Ge,u)):function Qe(h){return(0,Me.m)(h.addListener)&&(0,Me.m)(h.removeListener)}(h)?$e.map(Ze(h,m)):function mt(h){return(0,Me.m)(h.on)&&(0,Me.m)(h.off)}(h)?pe.map(Ze(h,m)):[];if(!N&&(0,ke.z)(h))return(0,be.z)(_e=>Re(_e,m,u))((0,K.Xf)(h));if(!N)throw new TypeError("Invalid event target");return new Ie.y(_e=>{const Ge=(...Be)=>_e.next(1<Be.length?Be:Be[0]);return N(Ge),()=>V(Ge)})}function Ze(h,m){return u=>y=>h[u](m,y)}var nt=U(4986),rt=U(3532);function xt(h=0,m,u=nt.P){let y=-1;return null!=m&&((0,rt.K)(m)?u=m:y=m),new Ie.y(N=>{let V=function pt(h){return h instanceof Date&&!isNaN(h)}(h)?+h-u.now():h;V<0&&(V=0);let _e=0;return u.schedule(function(){N.closed||(N.next(_e++),0<=y?this.schedule(void 0,y):N.complete())},V)})}const{isArray:Je}=Array;function ut(h){return 1===h.length&&Je(h[0])?h[0]:h}var lt=U(5403);var st=U(5032);const ht=new Ie.y(st.Z);var qe=U(515),je=U(3269);function Xe(...h){const m=(0,je.jO)(h),u=ut(h);return u.length?new Ie.y(y=>{let N=u.map(()=>[]),V=u.map(()=>!1);y.add(()=>{N=V=null});for(let _e=0;!y.closed&&_e<u.length;_e++)(0,K.Xf)(u[_e]).subscribe((0,lt.x)(y,Ge=>{if(N[_e].push(Ge),N.every(Be=>Be.length)){const Be=N.map(bt=>bt.shift());y.next(m?m(...Be):Be),N.some((bt,Tt)=>!bt.length&&V[Tt])&&y.complete()}},()=>{V[_e]=!0,!N[_e].length&&y.complete()}));return()=>{N=V=null}}):qe.E}var et=U(9646),Nt=U(7579),Vt=U(1135),pn=U(9841),sn=U(7272),gn=U(4482);function an(h){return(0,gn.e)((m,u)=>{(0,K.Xf)(h).subscribe((0,lt.x)(u,()=>u.complete(),st.Z)),!u.closed&&m.subscribe(u)})}var St=U(4671);function nn(...h){const m=(0,je.jO)(h);return(0,gn.e)((u,y)=>{const N=h.length,V=new Array(N);let _e=h.map(()=>!1),Ge=!1;for(let Be=0;Be<N;Be++)(0,K.Xf)(h[Be]).subscribe((0,lt.x)(y,bt=>{V[Be]=bt,!Ge&&!_e[Be]&&(_e[Be]=!0,(Ge=_e.every(St.y))&&(_e=null))},st.Z));u.subscribe((0,lt.x)(y,Be=>{if(Ge){const bt=[Be,...V];y.next(m?m(...bt):bt)}}))})}var ct=U(5698),mn=U(4004),Cr=U(9300),Qn=U(8675),nr=U(1884),Er=U(3900),Kt=U(8505),Cn=U(2382);Math,Math,Math;const te=["*"];function j(h,m){if(1&h){const u=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){const V=a.CHM(u).$implicit,_e=a.oxw();return _e.focus(),_e.select(V.id,_e.NgbSlideEventSource.INDICATOR)}),a.qZA()}if(2&h){const u=m.$implicit,y=a.oxw();a.ekj("active",u.id===y.activeId),a.uIk("aria-labelledby","slide-"+u.id)("aria-controls","slide-"+u.id)("aria-selected",u.id===y.activeId)}}function ae(h,m){}function Se(h,m){if(1&h&&(a.TgZ(0,"div",7)(1,"span",8),a.SDv(2,9),a.qZA(),a.YNc(3,ae,0,0,"ng-template",10),a.qZA()),2&h){const u=m.$implicit,y=m.index,N=m.count;a.Q6J("id","slide-"+u.id),a.xp6(2),a.pQV(y+1)(N),a.QtT(2),a.xp6(1),a.Q6J("ngTemplateOutlet",u.tplRef)}}function dt(h,m){if(1&h){const u=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){return a.CHM(u),a.oxw().arrowLeft()}),a._UZ(1,"span",12),a.TgZ(2,"span",8),a.SDv(3,13),a.qZA()()}}function vt(h,m){if(1&h){const u=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){return a.CHM(u),a.oxw().arrowRight()}),a._UZ(1,"span",15),a.TgZ(2,"span",8),a.SDv(3,16),a.qZA()()}}const Oa=["dialog"];function Rs(h,m){1&h&&a._uU(0),2&h&&a.Oqu(100===m.fill?"\u2605":"\u2606")}function Yt(h,m){}function Rr(h,m){if(1&h){const u=a.EpF();a.TgZ(0,"span",2),a._uU(1),a.qZA(),a.TgZ(2,"span",3),a.NdJ("mouseenter",function(){const V=a.CHM(u).index;return a.oxw().enter(V+1)})("click",function(){const V=a.CHM(u).index;return a.oxw().handleClick(V+1)}),a.YNc(3,Yt,0,0,"ng-template",4),a.qZA()}if(2&h){const u=m.index,y=a.oxw(),N=a.MAs(1);a.xp6(1),a.hij("(",u<y.nextRate?"*":" ",")"),a.xp6(1),a.Udp("cursor",y.isInteractive()?"pointer":"default"),a.xp6(1),a.Q6J("ngTemplateOutlet",y.starTemplate||y.starTemplateFromContent||N)("ngTemplateOutletContext",y.contexts[u])}}function A(h,m,u=0){return Math.max(Math.min(h,m),u)}function I(h){return"string"==typeof h}function W(h){return null!=h}function wr(h){return(h||document.body).getBoundingClientRect()}const mo={animation:!0,transitionTimerDelayMs:5},bs=()=>{},{transitionTimerDelayMs:ba}=mo,to=new Map,ws=(h,m,u,y)=>{let N=y.context||{};const V=to.get(m);if(V)switch(y.runningTransition){case"continue":return qe.E;case"stop":h.run(()=>V.transition$.complete()),N=Object.assign(V.context,N),to.delete(m)}const _e=u(m,y.animation,N)||bs;if(!y.animation||"none"===window.getComputedStyle(m).transitionProperty)return h.run(()=>_e()),(0,et.of)(void 0).pipe(function ar(h){return m=>new Ie.y(u=>m.subscribe({next:_e=>h.run(()=>u.next(_e)),error:_e=>h.run(()=>u.error(_e)),complete:()=>h.run(()=>u.complete())}))}(h));const Ge=new Nt.x,Be=new Nt.x,bt=Ge.pipe(function Ot(...h){return m=>(0,sn.z)(m,(0,et.of)(...h))}(!0));to.set(m,{transition$:Ge,complete:()=>{Be.next(),Be.complete()},context:N});const Tt=function ii(h){const{transitionDelay:m,transitionDuration:u}=window.getComputedStyle(h);return 1e3*(parseFloat(m)+parseFloat(u))}(m);return h.runOutsideAngular(()=>{const Kn=Re(m,"transitionend").pipe(an(bt),(0,Cr.h)(({target:er})=>er===m));(function Pt(...h){return 1===(h=ut(h)).length?(0,K.Xf)(h[0]):new Ie.y(function We(h){return m=>{let u=[];for(let y=0;u&&!m.closed&&y<h.length;y++)u.push((0,K.Xf)(h[y]).subscribe((0,lt.x)(m,N=>{if(u){for(let V=0;V<u.length;V++)V!==y&&u[V].unsubscribe();u=null}m.next(N)})))}}(h))})(xt(Tt+ba).pipe(an(bt)),Kn,Be).pipe(an(bt)).subscribe(()=>{to.delete(m),h.run(()=>{_e(),Ge.next(),Ge.complete()})})}),Ge.asObservable()};let wa=(()=>{class h{constructor(){this.animation=mo.animation}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),li=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Ds=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),gl=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();var Di=(()=>{return(h=Di||(Di={})).START="start",h.END="end",Di;var h})();const Kc=({classList:h})=>h.contains("carousel-item-start")||h.contains("carousel-item-end"),To=h=>{h.remove("carousel-item-start"),h.remove("carousel-item-end")},Jr=h=>{To(h),h.remove("carousel-item-prev"),h.remove("carousel-item-next")},Hs=(h,m,{direction:u})=>{const{classList:y}=h;return m?(Kc(h)?To(y):(y.add("carousel-item-"+(u===Di.START?"next":"prev")),wr(h),y.add("carousel-item-"+u)),()=>{Jr(y),y.add("active")}):(To(y),Jr(y),void y.add("active"))},Tl=(h,m,{direction:u})=>{const{classList:y}=h;return m?(Kc(h)?To(y):y.add("carousel-item-"+u),()=>{Jr(y),y.remove("active")}):(To(y),Jr(y),void y.remove("active"))};let al=(()=>{class h{constructor(u){this._ngbConfig=u,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(wa))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Ea=0,ra=(()=>{class h{constructor(u){this.tplRef=u,this.id="ngb-slide-"+Ea++,this.slid=new a.vpe}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),h})(),ia=(()=>{class h{constructor(u,y,N,V,_e){this._platformId=y,this._ngZone=N,this._cd=V,this._container=_e,this.NgbSlideEventSource=So,this._destroy$=new Nt.x,this._interval$=new Vt.X(0),this._mouseHover$=new Vt.X(!1),this._focused$=new Vt.X(!1),this._pauseOnHover$=new Vt.X(!1),this._pauseOnFocus$=new Vt.X(!1),this._pause$=new Vt.X(!1),this._wrap$=new Vt.X(!1),this.slide=new a.vpe,this.slid=new a.vpe,this._transitionIds=null,this.animation=u.animation,this.interval=u.interval,this.wrap=u.wrap,this.keyboard=u.keyboard,this.pauseOnHover=u.pauseOnHover,this.pauseOnFocus=u.pauseOnFocus,this.showNavigationArrows=u.showNavigationArrows,this.showNavigationIndicators=u.showNavigationIndicators}set interval(u){this._interval$.next(u)}get interval(){return this._interval$.value}set wrap(u){this._wrap$.next(u)}get wrap(){return this._wrap$.value}set pauseOnHover(u){this._pauseOnHover$.next(u)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(u){this._pauseOnFocus$.next(u)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(u){this._mouseHover$.next(u)}get mouseHover(){return this._mouseHover$.value}set focused(u){this._focused$.next(u)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(So.ARROW_LEFT)}arrowRight(){this.focus(),this.next(So.ARROW_RIGHT)}ngAfterContentInit(){(0,b.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const u=(0,pn.a)([this.slide.pipe((0,mn.U)(y=>y.current),(0,Qn.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,Qn.O)(null))]).pipe((0,mn.U)(([y,N])=>{const V=this.slides.toArray(),_e=this._getSlideIdxById(y);return N?V.length>1:_e<V.length-1}),(0,nr.x)());(0,pn.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,u]).pipe((0,mn.U)(([y,N,V,_e,Ge,Be,bt])=>y||N&&V||_e&&Ge||!bt?0:Be),(0,nr.x)(),(0,Er.w)(y=>y>0?xt(y,y):ht),an(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(So.TIMER)))}),this.slides.changes.pipe(an(this._destroy$)).subscribe(()=>{var u;null===(u=this._transitionIds)||void 0===u||u.forEach(y=>(h=>{var m;null===(m=to.get(h))||void 0===m||m.complete()})(this._getSlideElement(y))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,ct.q)(1)).subscribe(()=>{for(const{id:y}of this.slides){const N=this._getSlideElement(y);y===this.activeId?N.classList.add("active"):N.classList.remove("active")}})})}ngAfterContentChecked(){let u=this._getSlideById(this.activeId);this.activeId=u?u.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const u=this._getSlideElement(this.activeId);u&&u.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(u,y){this._cycleToSelected(u,this._getSlideEventDirection(this.activeId,u),y)}prev(u){this._cycleToSelected(this._getPrevSlide(this.activeId),Di.END,u)}next(u){this._cycleToSelected(this._getNextSlide(this.activeId),Di.START,u)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(u,y,N){const V=this._transitionIds;if(V&&(V[0]!==u||V[1]!==this.activeId))return;let _e=this._getSlideById(u);if(_e&&_e.id!==this.activeId){this._transitionIds=[this.activeId,u],this.slide.emit({prev:this.activeId,current:_e.id,direction:y,paused:this._pause$.value,source:N});const Ge={animation:this.animation,runningTransition:"stop",context:{direction:y}},Be=[],bt=this._getSlideById(this.activeId);if(bt){const er=ws(this._ngZone,this._getSlideElement(bt.id),Tl,Ge);er.subscribe(()=>{bt.slid.emit({isShown:!1,direction:y,source:N})}),Be.push(er)}const Tt=this.activeId;this.activeId=_e.id;const Kn=this._getSlideById(this.activeId),Mn=ws(this._ngZone,this._getSlideElement(_e.id),Hs,Ge);Mn.subscribe(()=>{null==Kn||Kn.slid.emit({isShown:!0,direction:y,source:N})}),Be.push(Mn),Xe(...Be).pipe((0,ct.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:Tt,current:_e.id,direction:y,paused:this._pause$.value,source:N})})}this._cd.markForCheck()}_getSlideEventDirection(u,y){return this._getSlideIdxById(u)>this._getSlideIdxById(y)?Di.END:Di.START}_getSlideById(u){return this.slides.find(y=>y.id===u)||null}_getSlideIdxById(u){const y=this._getSlideById(u);return null!=y?this.slides.toArray().indexOf(y):-1}_getNextSlide(u){const y=this.slides.toArray(),N=this._getSlideIdxById(u);return N===y.length-1?this.wrap?y[0].id:y[y.length-1].id:y[N+1].id}_getPrevSlide(u){const y=this.slides.toArray(),N=this._getSlideIdxById(u);return 0===N?this.wrap?y[y.length-1].id:y[0].id:y[N-1].id}_getSlideElement(u){return this._container.nativeElement.querySelector(`#slide-${u}`)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(al),a.Y36(a.Lbi),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.SBq))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-carousel"]],contentQueries:function(u,y,N){if(1&u&&a.Suo(N,ra,4),2&u){let V;a.iGM(V=a.CRH())&&(y.slides=V)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(u,y){1&u&&a.NdJ("keydown.arrowLeft",function(){return y.keyboard&&y.arrowLeft()})("keydown.arrowRight",function(){return y.keyboard&&y.arrowRight()})("mouseenter",function(){return y.mouseHover=!0})("mouseleave",function(){return y.mouseHover=!1})("focusin",function(){return y.focused=!0})("focusout",function(){return y.focused=!1}),2&u&&(a.uIk("aria-activedescendant","slide-"+y.activeId),a.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let m,u,y;return m=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,u=$localize`:@@ngb.carousel.previous:Previous`,y=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],m,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],u,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],y]},template:function(u,y){1&u&&(a.TgZ(0,"div",0),a.YNc(1,j,1,5,"button",1),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,Se,4,4,"div",3),a.qZA(),a.YNc(4,dt,4,0,"button",4),a.YNc(5,vt,4,0,"button",5)),2&u&&(a.ekj("visually-hidden",!y.showNavigationIndicators),a.xp6(1),a.Q6J("ngForOf",y.slides),a.xp6(2),a.Q6J("ngForOf",y.slides),a.xp6(1),a.Q6J("ngIf",y.showNavigationArrows),a.xp6(1),a.Q6J("ngIf",y.showNavigationArrows))},directives:[b.sg,b.tP,b.O5],encapsulation:2,changeDetection:0}),h})();var So=(()=>{return(h=So||(So={})).TIMER="timer",h.ARROW_LEFT="arrowLeft",h.ARROW_RIGHT="arrowRight",h.INDICATOR="indicator",So;var h})();let wc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Xo=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();var jn=(()=>{return(h=jn||(jn={}))[h.Tab=9]="Tab",h[h.Enter=13]="Enter",h[h.Escape=27]="Escape",h[h.Space=32]="Space",h[h.PageUp=33]="PageUp",h[h.PageDown=34]="PageDown",h[h.End=35]="End",h[h.Home=36]="Home",h[h.ArrowLeft=37]="ArrowLeft",h[h.ArrowUp=38]="ArrowUp",h[h.ArrowRight=39]="ArrowRight",h[h.ArrowDown=40]="ArrowDown",jn;var h})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cl=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ao(h){const m=Array.from(h.querySelectorAll(cl)).filter(u=>-1!==u.tabIndex);return[m[0],m[m.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let No=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez,Cn.u5]]}),h})(),oc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();class kl{constructor(m,u,y){this.nodes=m,this.viewRef=u,this.componentRef=y}}let Bu=(()=>{class h{constructor(u,y){this._el=u,this._zone=y}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ct.q)(1)).subscribe(()=>{ws(this._zone,this._el.nativeElement,(u,y)=>{y&&wr(u),u.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ws(this._zone,this._el.nativeElement,({classList:u})=>u.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.SBq),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(u,y){2&u&&(a.Tol("modal-backdrop"+(y.backdropClass?" "+y.backdropClass:"")),a.ekj("show",!y.animation)("fade",y.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(u,y){},encapsulation:2}),h})();class Ah{close(m){}dismiss(m){}}class tp{constructor(m,u,y,N){this._windowCmptRef=m,this._contentRef=u,this._backdropCmptRef=y,this._beforeDismiss=N,this._closed=new Nt.x,this._dismissed=new Nt.x,this._hidden=new Nt.x,m.instance.dismissEvent.subscribe(V=>{this.dismiss(V)}),this.result=new Promise((V,_e)=>{this._resolve=V,this._reject=_e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(an(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(an(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(m){this._windowCmptRef&&(this._closed.next(m),this._resolve(m),this._removeModalElements())}_dismiss(m){this._dismissed.next(m),this._reject(m),this._removeModalElements()}dismiss(m){if(this._windowCmptRef)if(this._beforeDismiss){const u=this._beforeDismiss();!function J(h){return h&&h.then}(u)?!1!==u&&this._dismiss(m):u.then(y=>{!1!==y&&this._dismiss(m)},()=>{})}else this._dismiss(m)}_removeModalElements(){const m=this._windowCmptRef.instance.hide(),u=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,et.of)(void 0);m.subscribe(()=>{const{nativeElement:y}=this._windowCmptRef.location;y.parentNode.removeChild(y),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),u.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:y}=this._backdropCmptRef.location;y.parentNode.removeChild(y),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Xe(m,u).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Va=(()=>{return(h=Va||(Va={}))[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",Va;var h})();let Dd=(()=>{class h{constructor(u,y,N){this._document=u,this._elRef=y,this._zone=N,this._closed$=new Nt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new Nt.x,this.hidden=new Nt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":I(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(u){this.dismissEvent.emit(u)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ct.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:u}=this._elRef,y={animation:this.animation,runningTransition:"stop"},_e=Xe(ws(this._zone,u,()=>u.classList.remove("show"),y),ws(this._zone,this._dialogEl.nativeElement,()=>{},y));return _e.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),_e}_show(){const u={animation:this.animation,runningTransition:"continue"};Xe(ws(this._zone,this._elRef.nativeElement,(V,_e)=>{_e&&wr(V),V.classList.add("show")},u),ws(this._zone,this._dialogEl.nativeElement,()=>{},u)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:u}=this._elRef;this._zone.runOutsideAngular(()=>{Re(u,"keydown").pipe(an(this._closed$),(0,Cr.h)(N=>N.which===jn.Escape)).subscribe(N=>{this.keyboard?requestAnimationFrame(()=>{N.defaultPrevented||this._zone.run(()=>this.dismiss(Va.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let y=!1;Re(this._dialogEl.nativeElement,"mousedown").pipe(an(this._closed$),(0,Kt.b)(()=>y=!1),(0,Er.w)(()=>Re(u,"mouseup").pipe(an(this._closed$),(0,ct.q)(1))),(0,Cr.h)(({target:N})=>u===N)).subscribe(()=>{y=!0}),Re(u,"click").pipe(an(this._closed$)).subscribe(({target:N})=>{u===N&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!y&&this._zone.run(()=>this.dismiss(Va.BACKDROP_CLICK))),y=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:u}=this._elRef;if(!u.contains(document.activeElement)){const y=u.querySelector("[ngbAutofocus]"),N=Ao(u)[0];(y||N||u).focus()}}_restoreFocus(){const u=this._document.body,y=this._elWithFocus;let N;N=y&&y.focus&&u.contains(y)?y:u,this._zone.runOutsideAngular(()=>{setTimeout(()=>N.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ws(this._zone,this._elRef.nativeElement,({classList:u})=>(u.add("modal-static"),()=>u.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(b.K0),a.Y36(a.SBq),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(u,y){if(1&u&&a.Gf(Oa,7),2&u){let N;a.iGM(N=a.CRH())&&(y._dialogEl=N.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(u,y){2&u&&(a.uIk("aria-modal",!0)("aria-labelledby",y.ariaLabelledBy)("aria-describedby",y.ariaDescribedBy),a.Tol("modal d-block"+(y.windowClass?" "+y.windowClass:"")),a.ekj("fade",y.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:te,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(u,y){1&u&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&u&&a.Tol("modal-dialog"+(y.size?" modal-"+y.size:"")+(y.centered?" modal-dialog-centered":"")+y.fullscreenClass+(y.scrollable?" modal-dialog-scrollable":"")+(y.modalDialogClass?" "+y.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),h})(),np=(()=>{class h{constructor(u){this._document=u}hide(){const u=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),y=this._document.body,N=y.style,{overflow:V,paddingRight:_e}=N;if(u>0){const Ge=parseFloat(window.getComputedStyle(y).paddingRight);N.paddingRight=`${Ge+u}px`}return N.overflow="hidden",()=>{u>0&&(N.paddingRight=_e),N.overflow=V}}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(b.K0))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),cu=(()=>{class h{constructor(u,y,N,V,_e,Ge){this._applicationRef=u,this._injector=y,this._document=N,this._scrollBar=V,this._rendererFactory=_e,this._ngZone=Ge,this._activeWindowCmptHasChanged=new Nt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Be=this._windowCmpts[this._windowCmpts.length-1];((h,m,u,y=!1)=>{this._ngZone.runOutsideAngular(()=>{const N=Re(m,"focusin").pipe(an(u),(0,mn.U)(V=>V.target));Re(m,"keydown").pipe(an(u),(0,Cr.h)(V=>V.which===jn.Tab),nn(N)).subscribe(([V,_e])=>{const[Ge,Be]=Ao(m);(_e===Ge||_e===m)&&V.shiftKey&&(Be.focus(),V.preventDefault()),_e===Be&&!V.shiftKey&&(Ge.focus(),V.preventDefault())}),y&&Re(m,"click").pipe(an(u),nn(N),(0,mn.U)(V=>V[1])).subscribe(V=>V.focus())})})(0,Be.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Be.location.nativeElement)}})}_restoreScrollBar(){const u=this._scrollBarRestoreFn;u&&(this._scrollBarRestoreFn=null,u())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(u,y,N,V){const _e=V.container instanceof HTMLElement?V.container:W(V.container)?this._document.querySelector(V.container):this._document.body,Ge=this._rendererFactory.createRenderer(null,null);if(!_e)throw new Error(`The specified modal container "${V.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Be=new Ah,bt=this._getContentRef(u,V.injector||y,N,Be,V);let Tt=!1!==V.backdrop?this._attachBackdrop(u,_e):void 0,Kn=this._attachWindowComponent(u,_e,bt),Mn=new tp(Kn,bt,Tt,V.beforeDismiss);return this._registerModalRef(Mn),this._registerWindowCmpt(Kn),Mn.hidden.pipe((0,ct.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ge.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Be.close=er=>{Mn.close(er)},Be.dismiss=er=>{Mn.dismiss(er)},this._applyWindowOptions(Kn.instance,V),1===this._modalRefs.length&&Ge.addClass(this._document.body,"modal-open"),Tt&&Tt.instance&&(this._applyBackdropOptions(Tt.instance,V),Tt.changeDetectorRef.detectChanges()),Kn.changeDetectorRef.detectChanges(),Mn}get activeInstances(){return this._activeInstances}dismissAll(u){this._modalRefs.forEach(y=>y.dismiss(u))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(u,y){let V=u.resolveComponentFactory(Bu).create(this._injector);return this._applicationRef.attachView(V.hostView),y.appendChild(V.location.nativeElement),V}_attachWindowComponent(u,y,N){let _e=u.resolveComponentFactory(Dd).create(this._injector,N.nodes);return this._applicationRef.attachView(_e.hostView),y.appendChild(_e.location.nativeElement),_e}_applyWindowOptions(u,y){this._windowAttributes.forEach(N=>{W(y[N])&&(u[N]=y[N])})}_applyBackdropOptions(u,y){this._backdropAttributes.forEach(N=>{W(y[N])&&(u[N]=y[N])})}_getContentRef(u,y,N,V,_e){return N?N instanceof a.Rgc?this._createFromTemplateRef(N,V):I(N)?this._createFromString(N):this._createFromComponent(u,y,N,V,_e):new kl([])}_createFromTemplateRef(u,y){const V=u.createEmbeddedView({$implicit:y,close(_e){y.close(_e)},dismiss(_e){y.dismiss(_e)}});return this._applicationRef.attachView(V),new kl([V.rootNodes],V)}_createFromString(u){const y=this._document.createTextNode(`${u}`);return new kl([[y]])}_createFromComponent(u,y,N,V,_e){const Ge=u.resolveComponentFactory(N),Be=a.zs3.create({providers:[{provide:Ah,useValue:V}],parent:y}),bt=Ge.create(Be),Tt=bt.location.nativeElement;return _e.scrollable&&Tt.classList.add("component-host-scrollable"),this._applicationRef.attachView(bt.hostView),new kl([[Tt]],bt.hostView,bt)}_setAriaHidden(u){const y=u.parentElement;y&&u!==this._document.body&&(Array.from(y.children).forEach(N=>{N!==u&&"SCRIPT"!==N.nodeName&&(this._ariaHiddenValues.set(N,N.getAttribute("aria-hidden")),N.setAttribute("aria-hidden","true"))}),this._setAriaHidden(y))}_revertAriaHidden(){this._ariaHiddenValues.forEach((u,y)=>{u?y.setAttribute("aria-hidden",u):y.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(u){const y=()=>{const N=this._modalRefs.indexOf(u);N>-1&&(this._modalRefs.splice(N,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(u),this._activeInstances.emit(this._modalRefs),u.result.then(y,y)}_registerWindowCmpt(u){this._windowCmpts.push(u),this._activeWindowCmptHasChanged.next(),u.onDestroy(()=>{const y=this._windowCmpts.indexOf(u);y>-1&&(this._windowCmpts.splice(y,1),this._activeWindowCmptHasChanged.next())})}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(b.K0),a.LFG(np),a.LFG(a.FYo),a.LFG(a.R0b))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Cd=(()=>{class h{constructor(u){this._ngbConfig=u,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(wa))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Ed=(()=>{class h{constructor(u,y,N,V){this._moduleCFR=u,this._injector=y,this._modalStack=N,this._config=V}open(u,y={}){const N=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),y);return this._modalStack.open(this._moduleCFR,this._injector,u,N)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(u){this._modalStack.dismissAll(u)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(cu),a.LFG(Cd))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),xh=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({providers:[Ed]}),h})(),ro=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Td=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Uh=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Gu=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Nd=(()=>{class h{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Wu=(()=>{class h{constructor(u,y){this._changeDetectorRef=y,this.contexts=[],this.disabled=!1,this.hover=new a.vpe,this.leave=new a.vpe,this.rateChange=new a.vpe(!0),this.onChange=N=>{},this.onTouched=()=>{},this.max=u.max,this.readonly=u.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(u){this.isInteractive()&&this._updateState(u),this.hover.emit(u)}handleBlur(){this.onTouched()}handleClick(u){this.isInteractive()&&this.update(this.resettable&&this.rate===u?0:u)}handleKeyDown(u){switch(u.which){case jn.ArrowDown:case jn.ArrowLeft:this.update(this.rate-1);break;case jn.ArrowUp:case jn.ArrowRight:this.update(this.rate+1);break;case jn.Home:this.update(0);break;case jn.End:this.update(this.max);break;default:return}u.preventDefault()}ngOnChanges(u){u.rate&&this.update(this.rate),u.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(u){this.disabled=u}update(u,y=!0){const N=A(u,this.max,0);this.isInteractive()&&this.rate!==N&&(this.rate=N,this.rateChange.emit(this.rate)),y&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(u){this.update(u,!1),this._changeDetectorRef.markForCheck()}_updateState(u){this.nextRate=u,this.contexts.forEach((y,N)=>y.fill=Math.round(100*A(u-N,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(u,y)=>({fill:0,index:y}))}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Nd),a.Y36(a.sBO))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-rating"]],contentQueries:function(u,y,N){if(1&u&&a.Suo(N,a.Rgc,5),2&u){let V;a.iGM(V=a.CRH())&&(y.starTemplateFromContent=V.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(u,y){1&u&&a.NdJ("blur",function(){return y.handleBlur()})("keydown",function(V){return y.handleKeyDown(V)})("mouseleave",function(){return y.reset()}),2&u&&(a.Ikx("tabindex",y.disabled?-1:0),a.uIk("aria-valuemax",y.max)("aria-valuenow",y.nextRate)("aria-valuetext",y.ariaValueText())("aria-disabled",!!y.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[a._Bn([{provide:Cn.JU,useExisting:(0,a.Gpc)(()=>h),multi:!0}]),a.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,y){1&u&&(a.YNc(0,Rs,1,1,"ng-template",null,0,a.W1O),a.YNc(2,Rr,4,5,"ng-template",1)),2&u&&(a.xp6(2),a.Q6J("ngForOf",y.contexts))},directives:[b.sg,b.tP],encapsulation:2,changeDetection:0}),h})(),Qa=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),cc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Pc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Pd=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();new a.OlP("live announcer delay",{providedIn:"root",factory:function hc(){return 100}});let qu=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[b.ez]]}),h})(),Ld=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();const Yu=[li,Ds,gl,wc,Xo,No,oc,xh,ro,Ld,Td,Uh,Gu,Qa,cc,Pc,Pd,qu];let Ju=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[Yu,li,Ds,gl,wc,Xo,No,oc,xh,ro,Ld,Td,Uh,Gu,Qa,cc,Pc,Pd,qu]}),h})()},8766:(tn,Oe,U)=>{"use strict";U.d(Oe,{Lj:()=>Je,X3:()=>xt});var a=U(5861);let K,Ie;const Me=new WeakMap,ue=new WeakMap,$e=new WeakMap,ce=new WeakMap,pe=new WeakMap;let Qe={get(st,ht,Ne){if(st instanceof IDBTransaction){if("done"===ht)return ue.get(st);if("objectStoreNames"===ht)return st.objectStoreNames||$e.get(st);if("store"===ht)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return rt(st[ht])},set:(st,ht,Ne)=>(st[ht]=Ne,!0),has:(st,ht)=>st instanceof IDBTransaction&&("done"===ht||"store"===ht)||ht in st};function nt(st){return"function"==typeof st?function Et(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...ht){return st.apply(pt(this),ht),rt(Me.get(this))}:function(...ht){return rt(st.apply(pt(this),ht))}:function(ht,...Ne){const qe=st.call(pt(this),ht,...Ne);return $e.set(qe,ht.sort?ht.sort():[ht]),rt(qe)}}(st):(st instanceof IDBTransaction&&function Ze(st){if(ue.has(st))return;const ht=new Promise((Ne,qe)=>{const je=()=>{st.removeEventListener("complete",Xe),st.removeEventListener("error",et),st.removeEventListener("abort",et)},Xe=()=>{Ne(),je()},et=()=>{qe(st.error||new DOMException("AbortError","AbortError")),je()};st.addEventListener("complete",Xe),st.addEventListener("error",et),st.addEventListener("abort",et)});ue.set(st,ht)}(st),((st,ht)=>ht.some(Ne=>st instanceof Ne))(st,function be(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,Qe):st)}function rt(st){if(st instanceof IDBRequest)return function Re(st){const ht=new Promise((Ne,qe)=>{const je=()=>{st.removeEventListener("success",Xe),st.removeEventListener("error",et)},Xe=()=>{Ne(rt(st.result)),je()},et=()=>{qe(st.error),je()};st.addEventListener("success",Xe),st.addEventListener("error",et)});return ht.then(Ne=>{Ne instanceof IDBCursor&&Me.set(Ne,st)}).catch(()=>{}),pe.set(ht,st),ht}(st);if(ce.has(st))return ce.get(st);const ht=nt(st);return ht!==st&&(ce.set(st,ht),pe.set(ht,st)),ht}const pt=st=>pe.get(st);function xt(st,ht,{blocked:Ne,upgrade:qe,blocking:je,terminated:Xe}={}){const et=indexedDB.open(st,ht),Nt=rt(et);return qe&&et.addEventListener("upgradeneeded",Vt=>{qe(rt(et.result),Vt.oldVersion,Vt.newVersion,rt(et.transaction))}),Ne&&et.addEventListener("blocked",()=>Ne()),Nt.then(Vt=>{Xe&&Vt.addEventListener("close",()=>Xe()),je&&Vt.addEventListener("versionchange",()=>je())}).catch(()=>{}),Nt}function Je(st,{blocked:ht}={}){const Ne=indexedDB.deleteDatabase(st);return ht&&Ne.addEventListener("blocked",()=>ht()),rt(Ne).then(()=>{})}const ut=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],Pt=new Map;function We(st,ht){if(!(st instanceof IDBDatabase)||ht in st||"string"!=typeof ht)return;if(Pt.get(ht))return Pt.get(ht);const Ne=ht.replace(/FromIndex$/,""),qe=ht!==Ne,je=lt.includes(Ne);if(!(Ne in(qe?IDBIndex:IDBObjectStore).prototype)||!je&&!ut.includes(Ne))return;const Xe=function(){var et=(0,a.Z)(function*(Nt,...Vt){const pn=this.transaction(Nt,je?"readwrite":"readonly");let sn=pn.store;return qe&&(sn=sn.index(Vt.shift())),(yield Promise.all([sn[Ne](...Vt),je&&pn.done]))[0]});return function(Vt){return et.apply(this,arguments)}}();return Pt.set(ht,Xe),Xe}!function mt(st){Qe=st(Qe)}(st=>cb(lb({},st),{get:(ht,Ne,qe)=>We(ht,Ne)||st.get(ht,Ne,qe),has:(ht,Ne)=>!!We(ht,Ne)||st.has(ht,Ne)}))},5861:(tn,Oe,U)=>{"use strict";function a(K,Ie,be,ke,Me,ue,$e){try{var ce=K[ue]($e),pe=ce.value}catch(Re){return void be(Re)}ce.done?Ie(pe):Promise.resolve(pe).then(ke,Me)}function b(K){return function(){var Ie=this,be=arguments;return new Promise(function(ke,Me){var ue=K.apply(Ie,be);function $e(pe){a(ue,ke,Me,$e,ce,"next",pe)}function ce(pe){a(ue,ke,Me,$e,ce,"throw",pe)}$e(void 0)})}}U.d(Oe,{Z:()=>b})}},tn=>{tn(tn.s=5946)}]);