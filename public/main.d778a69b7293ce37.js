var iD=Object.defineProperty,sD=Object.defineProperties,oD=Object.getOwnPropertyDescriptors,sb=Object.getOwnPropertySymbols,aD=Object.prototype.hasOwnProperty,lD=Object.prototype.propertyIsEnumerable,ob=(Zt,xe,j)=>xe in Zt?iD(Zt,xe,{enumerable:!0,configurable:!0,writable:!0,value:j}):Zt[xe]=j,ab=(Zt,xe)=>{for(var j in xe||(xe={}))aD.call(xe,j)&&ob(Zt,j,xe[j]);if(sb)for(var j of sb(xe))lD.call(xe,j)&&ob(Zt,j,xe[j]);return Zt},lb=(Zt,xe)=>sD(Zt,oD(xe));(self.webpackChunkTP_Final_Clinica=self.webpackChunkTP_Final_Clinica||[]).push([[179],{7128:(Zt,xe,j)=>{"use strict";j.d(xe,{nm:()=>Gn});var p=j(5813),ve=(j(5e3),j(3692),j(5867),j(5861)),ke=j(9681),Ne=j(4859),ae=j(2090),Ue=j(1877);const oe=new Map,de={activated:!1,tokenObservers:[]},Re={initialized:!1,enabled:!1};function He(je){return oe.get(je)||de}function qe(je,Oe){oe.set(je,Oe)}function ft(){return Re}class ot{constructor(Oe,We,Dt,kt,Xt){if(this.operation=Oe,this.retryPolicy=We,this.getWaitDuration=Dt,this.lowerBound=kt,this.upperBound=Xt,this.pending=null,this.nextErrorWaitInterval=kt,kt>Xt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Oe){var We=this;return(0,ve.Z)(function*(){We.stop();try{We.pending=new ae.BH,yield function at(je){return new Promise(Oe=>{setTimeout(Oe,je)})}(We.getNextRun(Oe)),We.pending.resolve(),yield We.pending.promise,We.pending=new ae.BH,yield We.operation(),We.pending.resolve(),yield We.pending.promise,We.process(!0).catch(()=>{})}catch(Dt){We.retryPolicy(Dt)?We.process(!1).catch(()=>{}):We.stop()}})()}getNextRun(Oe){if(Oe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const We=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),We}}}const Ve=new ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ut(je){if(!He(je).activated)throw Ve.create("use-before-activation",{appName:je.name})}function Le(je,Oe){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,ve.Z)(function*({url:je,body:Oe},We){var Dt,kt;const Xt={"Content-Type":"application/json"},zn=We.getImmediate({optional:!0});if(zn){const Vi=yield zn.getHeartbeatsHeader();Vi&&(Xt["X-Firebase-Client"]=Vi)}const jr={method:"POST",body:JSON.stringify(Oe),headers:Xt};let yr,vi;try{yr=yield fetch(je,jr)}catch(Vi){throw Ve.create("fetch-network-error",{originalErrorMessage:null===(Dt=Vi)||void 0===Dt?void 0:Dt.message})}if(200!==yr.status)throw Ve.create("fetch-status-error",{httpStatus:yr.status});try{vi=yield yr.json()}catch(Vi){throw Ve.create("fetch-parse-error",{originalErrorMessage:null===(kt=Vi)||void 0===kt?void 0:kt.message})}const bi=vi.ttl.match(/^([\d.]+)(s)$/);if(!bi||!bi[2]||isNaN(Number(bi[1])))throw Ve.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${vi.ttl}`});const Ns=1e3*Number(bi[1]),es=Date.now();return{token:vi.token,expireTimeMillis:es+Ns,issuedAtTimeMillis:es}})).apply(this,arguments)}function Lt(je,Oe){const{projectId:We,appId:Dt,apiKey:kt}=je.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${We}/apps/${Dt}:exchangeDebugToken?key=${kt}`,body:{debug_token:Oe}}}const Xe="firebase-app-check-store";let en=null;function cn(){return en||(en=new Promise((je,Oe)=>{var We;try{const Dt=indexedDB.open("firebase-app-check-database",1);Dt.onsuccess=kt=>{je(kt.target.result)},Dt.onerror=kt=>{var Xt;Oe(Ve.create("storage-open",{originalErrorMessage:null===(Xt=kt.target.error)||void 0===Xt?void 0:Xt.message}))},Dt.onupgradeneeded=kt=>{0===kt.oldVersion&&kt.target.result.createObjectStore(Xe,{keyPath:"compositeKey"})}}catch(Dt){Oe(Ve.create("storage-open",{originalErrorMessage:null===(We=Dt)||void 0===We?void 0:We.message}))}}),en)}function _r(){return(_r=(0,ve.Z)(function*(je,Oe){const Dt=(yield cn()).transaction(Xe,"readwrite"),Xt=Dt.objectStore(Xe).put({compositeKey:je,value:Oe});return new Promise((zn,jr)=>{Xt.onsuccess=yr=>{zn()},Dt.onerror=yr=>{var vi;jr(Ve.create("storage-set",{originalErrorMessage:null===(vi=yr.target.error)||void 0===vi?void 0:vi.message}))}})})).apply(this,arguments)}const rr=new Ue.Yd("@firebase/app-check");function Qt(je,Oe){return(0,ae.hl)()?function Yt(je,Oe){return function Xn(je,Oe){return _r.apply(this,arguments)}(function vn(je){return`${je.options.appId}-${je.name}`}(je),Oe)}(je,Oe).catch(We=>{rr.warn(`Failed to write token to IndexedDB. Error: ${We}`)}):Promise.resolve()}function Gt(){return ft().enabled}function nr(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ve.Z)(function*(){const je=ft();if(je.enabled&&je.token)return je.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tr={error:"UNKNOWN_ERROR"};function Wr(je){return ae.US.encodeString(JSON.stringify(je),!1)}function zr(je){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,ve.Z)(function*(je,Oe=!1){const We=je.app;ut(We);const Dt=He(We);let Xt,kt=Dt.token;if(kt&&!Cr(kt)&&(qe(We,Object.assign(Object.assign({},Dt),{token:void 0})),kt=void 0),!kt){const yr=yield Dt.cachedTokenPromise;yr&&(Cr(yr)?kt=yr:yield Qt(We,void 0))}if(!Oe&&kt&&Cr(kt))return{token:kt.token};let jr,zn=!1;if(Gt()){Dt.exchangeTokenPromise||(Dt.exchangeTokenPromise=Le(Lt(We,yield nr()),je.heartbeatServiceProvider).finally(()=>{Dt.exchangeTokenPromise=void 0}),zn=!0);const yr=yield Dt.exchangeTokenPromise;return yield Qt(We,yr),qe(We,Object.assign(Object.assign({},Dt),{token:yr})),{token:yr.token}}try{Dt.exchangeTokenPromise||(Dt.exchangeTokenPromise=Dt.provider.getToken().finally(()=>{Dt.exchangeTokenPromise=void 0}),zn=!0),kt=yield Dt.exchangeTokenPromise}catch(yr){"appCheck/throttled"===yr.code?rr.warn(yr.message):rr.error(yr),Xt=yr}return kt?Xt?jr=Cr(kt)?{token:kt.token,internalError:Xt}:ur(Xt):(jr={token:kt.token},qe(We,Object.assign(Object.assign({},Dt),{token:kt})),yield Qt(We,kt)):jr=ur(Xt),zn&&lr(We,jr),jr})).apply(this,arguments)}function nn(je,Oe){const We=He(je),Dt=We.tokenObservers.filter(kt=>kt.next!==Oe);0===Dt.length&&We.tokenRefresher&&We.tokenRefresher.isRunning()&&We.tokenRefresher.stop(),qe(je,Object.assign(Object.assign({},We),{tokenObservers:Dt}))}function _i(je){const{app:Oe}=je,We=He(Oe);let Dt=We.tokenRefresher;Dt||(Dt=function Ur(je){const{app:Oe}=je;return new ot((0,ve.Z)(function*(){let Dt;if(Dt=He(Oe).token?yield zr(je,!0):yield zr(je),Dt.error)throw Dt.error;if(Dt.internalError)throw Dt.internalError}),()=>!0,()=>{const We=He(Oe);if(We.token){let Dt=We.token.issuedAtTimeMillis+.5*(We.token.expireTimeMillis-We.token.issuedAtTimeMillis)+3e5;return Dt=Math.min(Dt,We.token.expireTimeMillis-3e5),Math.max(0,Dt-Date.now())}return 0},3e4,96e4)}(je),qe(Oe,Object.assign(Object.assign({},We),{tokenRefresher:Dt}))),!Dt.isRunning()&&We.isTokenAutoRefreshEnabled&&Dt.start()}function lr(je,Oe){const We=He(je).tokenObservers;for(const Dt of We)try{"EXTERNAL"===Dt.type&&null!=Oe.error?Dt.error(Oe.error):Dt.next(Oe)}catch(kt){}}function Cr(je){return je.expireTimeMillis-Date.now()>0}function ur(je){return{token:Wr(Tr),error:je}}class Ar{constructor(Oe,We){this.app=Oe,this.heartbeatServiceProvider=We}_delete(){const{tokenObservers:Oe}=He(this.app);for(const We of Oe)nn(this.app,We.next);return Promise.resolve()}}const Un="app-check-internal";!function xr(){(0,ke._registerComponent)(new Ne.wA("app-check",je=>function Pn(je,Oe){return new Ar(je,Oe)}(je.getProvider("app").getImmediate(),je.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((je,Oe,We)=>{je.getProvider(Un).initialize()})),(0,ke._registerComponent)(new Ne.wA(Un,je=>function Sr(je){return{getToken:Oe=>zr(je,Oe),addTokenListener:Oe=>function St(je,Oe,We,Dt){const{app:kt}=je,Xt=He(kt),zn={next:We,error:Dt,type:Oe};if(qe(kt,Object.assign(Object.assign({},Xt),{tokenObservers:[...Xt.tokenObservers,zn]})),Xt.token&&Cr(Xt.token)){const jr=Xt.token;Promise.resolve().then(()=>{We({token:jr.token}),_i(je)}).catch(()=>{})}Xt.cachedTokenPromise.then(()=>_i(je))}(je,"INTERNAL",Oe),removeTokenListener:Oe=>nn(je.app,Oe)}}(je.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ke.registerVersion)("@firebase/app-check","0.5.15")}();class Gn{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Zt,xe,j)=>{"use strict";j.d(xe,{Ot:()=>Ie,ZF:()=>Je,hX:()=>He,z6:()=>ve});var p=j(5867),f=j(5e3),Z=j(5813);class Ie{constructor(ot){return ot}}class ve{constructor(){return(0,p.C6)()}}const ae=new f.OlP("angularfire2._apps"),Ue={provide:Ie,useFactory:function Ne(ze){return ze&&1===ze.length?ze[0]:new Ie((0,p.Mq)())},deps:[[new f.FiY,ae]]},oe={provide:ve,deps:[[new f.FiY,ae]]};function de(ze){return(ot,at)=>{const Tt=ot.runOutsideAngular(()=>ze(at));return new Ie(Tt)}}let Re=(()=>{class ze{constructor(at){(0,p.KN)("angularfire",Z.q4.full,"core"),(0,p.KN)("angularfire",Z.q4.full,"app"),(0,p.KN)("angular",f.q4F.full,at.toString())}}return ze.\u0275fac=function(at){return new(at||ze)(f.LFG(f.Lbi))},ze.\u0275mod=f.oAB({type:ze}),ze.\u0275inj=f.cJS({providers:[Ue,oe]}),ze})();function He(ze,...ot){return{ngModule:Re,providers:[{provide:ae,useFactory:de(ze),multi:!0,deps:[f.R0b,f.zs3,Z.HU,...ot]}]}}const Je=(0,Z.u3)(p.ZF,!0)},7667:(Zt,xe,j)=>{"use strict";j.d(xe,{dh:()=>He,v0:()=>Lt,AR:()=>ze});var p=j(5813),f=j(5e3),Z=j(3692),Ie=j(5867),ve=j(7128),ke=j(7573);j(2090),j(9681),j(1877),j(4859);class Re{constructor(_t){return _t}}class He{constructor(){return(0,p.vb)("auth")}}const ft=new f.OlP("angularfire2.auth-instances");function Je(Bt){return(_t,qt)=>{const tn=_t.runOutsideAngular(()=>Bt(qt));return new Re(tn)}}const tt={provide:He,deps:[[new f.FiY,ft]]},ct={provide:Re,useFactory:function bt(Bt,_t){const qt=(0,p.JM)("auth",Bt,_t);return qt&&new Re(qt)},deps:[[new f.FiY,ft],Z.Ot]};let Et=(()=>{class Bt{constructor(){(0,Ie.KN)("angularfire",p.q4.full,"auth")}}return Bt.\u0275fac=function(qt){return new(qt||Bt)},Bt.\u0275mod=f.oAB({type:Bt}),Bt.\u0275inj=f.cJS({providers:[ct,tt]}),Bt})();function ze(Bt,..._t){return{ngModule:Et,providers:[{provide:ft,useFactory:Je(Bt),multi:!0,deps:[f.R0b,f.zs3,p.HU,Z.z6,[new f.FiY,ve.nm],..._t]}]}}const Lt=(0,p.u3)(ke.n,!0)},1205:(Zt,xe,j)=>{"use strict";j.d(xe,{zQ:()=>Ze,rT:()=>Te,f7:()=>Le,L6:()=>st,_Q:()=>ut,lh:()=>$e,Qv:()=>Ve,nw:()=>Ke});var p=j(5e3),f=j(7579),Z=j(9646),Ie=j(8306),ve=j(8996),ke=j(6451),Ne=j(6063);class ae extends f.x{constructor(wt=1/0,Mt=1/0,Xe=Ne.l){super(),this._bufferSize=wt,this._windowTime=Mt,this._timestampProvider=Xe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Mt===1/0,this._bufferSize=Math.max(1,wt),this._windowTime=Math.max(1,Mt)}next(wt){const{isStopped:Mt,_buffer:Xe,_infiniteTimeWindow:pt,_timestampProvider:en,_windowTime:cn}=this;Mt||(Xe.push(wt),!pt&&Xe.push(en.now()+cn)),this._trimBuffer(),super.next(wt)}_subscribe(wt){this._throwIfClosed(),this._trimBuffer();const Mt=this._innerSubscribe(wt),{_infiniteTimeWindow:Xe,_buffer:pt}=this,en=pt.slice();for(let cn=0;cn<en.length&&!wt.closed;cn+=Xe?1:2)wt.next(en[cn]);return this._checkFinalizedStatuses(wt),Mt}_trimBuffer(){const{_bufferSize:wt,_timestampProvider:Mt,_buffer:Xe,_infiniteTimeWindow:pt}=this,en=(pt?1:2)*wt;if(wt<1/0&&en<Xe.length&&Xe.splice(0,Xe.length-en),!pt){const cn=Mt.now();let gn=0;for(let Yt=1;Yt<Xe.length&&Xe[Yt]<=cn;Yt+=2)gn=Yt;gn&&Xe.splice(0,gn+1)}}}var Ue=j(3099);function oe(Lt,wt,Mt){let Xe,pt=!1;return Lt&&"object"==typeof Lt?({bufferSize:Xe=1/0,windowTime:wt=1/0,refCount:pt=!1,scheduler:Mt}=Lt):Xe=null!=Lt?Lt:1/0,(0,Ue.B)({connector:()=>new ae(Xe,wt,Mt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:pt})}var de=j(3900),Re=j(576);function He(Lt,wt){return(0,Re.m)(wt)?(0,de.w)(()=>Lt,wt):(0,de.w)(()=>Lt)}var qe=j(5363),ft=j(4004),bt=j(590),Je=j(9468),tt=j(9300),ct=j(5813),Et=j(2011),ze=j(9808),ot=j(7128);j(127);const Ve=new p.OlP("angularfire2.auth.use-emulator"),st=new p.OlP("angularfire2.auth.settings"),ut=new p.OlP("angularfire2.auth.tenant-id"),Te=new p.OlP("angularfire2.auth.langugage-code"),$e=new p.OlP("angularfire2.auth.use-device-language"),Le=new p.OlP("angularfire.auth.persistence"),Ke=(Lt,wt,Mt,Xe,pt,en,cn,gn)=>(0,Et.cc)(`${Lt.name}.auth`,"AngularFireAuth",Lt.name,()=>{const Yt=wt.runOutsideAngular(()=>Lt.auth());if(Mt&&Yt.useEmulator(...Mt),Xe&&(Yt.tenantId=Xe),Yt.languageCode=pt,en&&Yt.useDeviceLanguage(),cn)for(const[Cn,Hn]of Object.entries(cn))Yt.settings[Cn]=Hn;return gn&&Yt.setPersistence(gn),Yt},[Mt,Xe,pt,en,cn,gn]);let Ze=(()=>{class Lt{constructor(Mt,Xe,pt,en,cn,gn,Yt,Cn,Hn,Xn,_r,tr){const Nr=new f.x,vn=(0,Z.of)(void 0).pipe((0,qe.Q)(cn.outsideAngular),(0,de.w)(()=>en.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5881)))),(0,ft.U)(()=>(0,Et.on)(Mt,en,Xe)),(0,ft.U)(rr=>Ke(rr,en,gn,Cn,Hn,Xn,Yt,_r)),oe({bufferSize:1,refCount:!1}));if((0,ze.PM)(pt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Z.of)(null);else{vn.pipe((0,bt.P)()).subscribe();const ir=vn.pipe((0,de.w)(Ln=>Ln.getRedirectResult().then(Bn=>Bn,()=>null)),ct.iC,oe({bufferSize:1,refCount:!1})),Rr=vn.pipe((0,de.w)(Ln=>new Ie.y(Bn=>({unsubscribe:en.runOutsideAngular(()=>Ln.onAuthStateChanged(Gt=>Bn.next(Gt),Gt=>Bn.error(Gt),()=>Bn.complete()))})))),Qt=vn.pipe((0,de.w)(Ln=>new Ie.y(Bn=>({unsubscribe:en.runOutsideAngular(()=>Ln.onIdTokenChanged(Gt=>Bn.next(Gt),Gt=>Bn.error(Gt),()=>Bn.complete()))}))));this.authState=ir.pipe(He(Rr),(0,Je.R)(cn.outsideAngular),(0,qe.Q)(cn.insideAngular)),this.user=ir.pipe(He(Qt),(0,Je.R)(cn.outsideAngular),(0,qe.Q)(cn.insideAngular)),this.idToken=this.user.pipe((0,de.w)(Ln=>Ln?(0,ve.D)(Ln.getIdToken()):(0,Z.of)(null))),this.idTokenResult=this.user.pipe((0,de.w)(Ln=>Ln?(0,ve.D)(Ln.getIdTokenResult()):(0,Z.of)(null))),this.credential=(0,ke.T)(ir,Nr,this.authState.pipe((0,tt.h)(Ln=>!Ln))).pipe((0,ft.U)(Ln=>(null==Ln?void 0:Ln.user)?Ln:null),(0,Je.R)(cn.outsideAngular),(0,qe.Q)(cn.insideAngular))}return(0,Et.pX)(this,vn,en,{spy:{apply:(rr,ir,Rr)=>{(rr.startsWith("signIn")||rr.startsWith("createUser"))&&Rr.then(Qt=>Nr.next(Qt))}}})}}return Lt.\u0275fac=function(Mt){return new(Mt||Lt)(p.LFG(Et.Dh),p.LFG(Et.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(ct.HU),p.LFG(Ve,8),p.LFG(st,8),p.LFG(ut,8),p.LFG(Te,8),p.LFG($e,8),p.LFG(Le,8),p.LFG(ot.nm,8))},Lt.\u0275prov=p.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"any"}),Lt})()},2011:(Zt,xe,j)=>{"use strict";j.d(xe,{Dh:()=>ae,GT:()=>ke,cc:()=>qe,hO:()=>He,on:()=>oe,pX:()=>ve,xv:()=>Ue});var p=j(5e3),f=j(127),Z=j(5813);Zt=j.hmd(Zt);const Ie=["ngOnDestroy"],ve=(tt,ct,Et,ze={})=>new Proxy(tt,{get:(ot,at)=>Et.runOutsideAngular(()=>{var Tt;if(tt[at])return(null===(Tt=null==ze?void 0:ze.spy)||void 0===Tt?void 0:Tt.get)&&ze.spy.get(at,tt[at]),tt[at];if(Ie.indexOf(at)>-1)return()=>{};const Ve=ct.toPromise().then(st=>{const ut=st&&st[at];return"function"==typeof ut?ut.bind(st):ut&&ut.then?ut.then(Te=>Et.run(()=>Te)):Et.run(()=>ut)});return new Proxy(()=>{},{get:(st,ut)=>Ve[ut],apply:(st,ut,Te)=>Ve.then($e=>{var Le;const Ke=$e&&$e(...Te);return(null===(Le=null==ze?void 0:ze.spy)||void 0===Le?void 0:Le.apply)&&ze.spy.apply(at,Te,Ke),Ke})})})}),ke=(tt,ct)=>{ct.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(ze=>{Object.defineProperty(tt.prototype,ze,Object.getOwnPropertyDescriptor(Et.prototype||Et,ze))})})};class Ne{constructor(ct){return ct}}const ae=new p.OlP("angularfire2.app.options"),Ue=new p.OlP("angularfire2.app.name");function oe(tt,ct,Et){const ot="object"==typeof Et&&Et||{};ot.name=ot.name||"string"==typeof Et&&Et||"[DEFAULT]";const Tt=f.Z.apps.filter(Ve=>Ve&&Ve.name===ot.name)[0]||ct.runOutsideAngular(()=>f.Z.initializeApp(tt,ot));try{JSON.stringify(tt)!==JSON.stringify(Tt.options)&&de("error",`${Tt.name} Firebase App already initialized with different options${Zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new Ne(Tt)}const de=(tt,...ct)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[tt](...ct)},Re={provide:Ne,useFactory:oe,deps:[ae,p.R0b,[new p.FiY,Ue]]};let He=(()=>{class tt{constructor(Et){f.Z.registerVersion("angularfire",Z.q4.full,"core"),f.Z.registerVersion("angularfire",Z.q4.full,"app-compat"),f.Z.registerVersion("angular",p.q4F.full,Et.toString())}static initializeApp(Et,ze){return{ngModule:tt,providers:[{provide:ae,useValue:Et},{provide:Ue,useValue:ze}]}}}return tt.\u0275fac=function(Et){return new(Et||tt)(p.LFG(p.Lbi))},tt.\u0275mod=p.oAB({type:tt}),tt.\u0275inj=p.cJS({providers:[Re]}),tt})();function qe(tt,ct,Et,ze,ot){const[,at,Tt]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===tt)||[];if(at)return function ft(tt,ct){try{return tt.toString()===ct.toString()}catch(Et){return tt===ct}}(ot,Tt)||(Je("error",`${ct} was already initialized on the ${Et} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:ot,was:Tt})),at;{const Ve=ze();return globalThis.\u0275AngularfireInstanceCache.push([tt,Ve,ot]),Ve}}const bt=!!Zt.hot,Je=(tt,...ct)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[tt](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6027:(Zt,xe,j)=>{"use strict";j.d(xe,{gg:()=>Te,ET:()=>Nr,hJ:()=>Rr,BS:()=>Cn,JU:()=>Mr,ad:()=>Ar,Cm:()=>pt});var p=j(5813),f=j(5e3),Z=j(7667),Ie=j(3692),ve=j(5867),ke=j(7128),Ne=j(5525),ae=j(8306),Ue=j(4004),oe={includeMetadataChanges:!1};function ut(It,Ht){return void 0===Ht&&(Ht={}),function Tt(It){return function de(It,Ht){return void 0===Ht&&(Ht=oe),new ae.y(function(Sn){return{unsubscribe:(0,Ne.cf)(It,Ht,{next:Sn.next.bind(Sn),error:Sn.error.bind(Sn),complete:Sn.complete.bind(Sn)})}})}(It,{includeMetadataChanges:!0}).pipe((0,Ue.U)(function(Ht){return Ht.docs}))}(It).pipe((0,Ue.U)(function(Sn){return Sn.map(function(Un){return function qe(It,Ht){void 0===Ht&&(Ht={});var Sn=It.data();return!It.exists()||"object"!=typeof Sn||null===Sn||Ht.idField&&(Sn[Ht.idField]=It.id),Sn}(Un,Ht)})}))}class Te{constructor(Ht){return Ht}}const $e="firestore",Ze=new f.OlP("angularfire2.firestore-instances");function Lt(It){return(Ht,Sn)=>{const Un=Ht.runOutsideAngular(()=>It(Sn));return new Te(Un)}}const wt={provide:class Le{constructor(){return(0,p.vb)($e)}},deps:[[new f.FiY,Ze]]},Mt={provide:Te,useFactory:function Nt(It,Ht){const Sn=(0,p.JM)($e,It,Ht);return Sn&&new Te(Sn)},deps:[[new f.FiY,Ze],Ie.Ot]};let Xe=(()=>{class It{constructor(){(0,ve.KN)("angularfire",p.q4.full,"fst")}}return It.\u0275fac=function(Sn){return new(Sn||It)},It.\u0275mod=f.oAB({type:It}),It.\u0275inj=f.cJS({providers:[Mt,wt]}),It})();function pt(It,...Ht){return{ngModule:Xe,providers:[{provide:Ze,useFactory:Lt(It),multi:!0,deps:[f.R0b,f.zs3,p.HU,Ie.z6,[new f.FiY,Z.dh],[new f.FiY,ke.nm],...Ht]}]}}const Cn=(0,p.u3)(ut,!0),Nr=(0,p.u3)(Ne.ET,!0),Rr=(0,p.u3)(Ne.hJ,!0),Mr=(0,p.u3)(Ne.JU,!0),Ar=(0,p.u3)(Ne.ad,!0)},5813:(Zt,xe,j)=>{"use strict";j.d(xe,{q4:()=>Ea,iC:()=>Fs,fc:()=>iu,HU:()=>Mo,vb:()=>la,JM:()=>Cu,u3:()=>Ku});var p=j(5e3),f=j(5867),Z=j(5861),Ie=j(9681),ve=j(2090),ke=j(4859),Ne=j(1877),ae=j(8766);const Ue="@firebase/installations",oe="0.5.15",Re=`w:${oe}`,He="FIS_v2",ct=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(k){return k instanceof ve.ZR&&k.code.includes("request-failed")}function ze({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function ot(k){return{token:k.token,requestStatus:2,expiresIn:$e(k.expiresIn),creationTime:Date.now()}}function at(k,U){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,Z.Z)(function*(k,U){const ye=(yield U.json()).error;return ct.create("request-failed",{requestName:k,serverCode:ye.code,serverMessage:ye.message,serverStatus:ye.status})})).apply(this,arguments)}function Ve({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function st(k,{refreshToken:U}){const te=Ve(k);return te.append("Authorization",function Le(k){return`${He} ${k}`}(U)),te}function ut(k){return Te.apply(this,arguments)}function Te(){return(Te=(0,Z.Z)(function*(k){const U=yield k();return U.status>=500&&U.status<600?k():U})).apply(this,arguments)}function $e(k){return Number(k.replace("s","000"))}function Ke(k,U){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,Z.Z)(function*({appConfig:k,heartbeatServiceProvider:U},{fid:te}){const ye=ze(k),Ge=Ve(k),ht=U.getImmediate({optional:!0});if(ht){const mr=yield ht.getHeartbeatsHeader();mr&&Ge.append("x-firebase-client",mr)}const yn={method:"POST",headers:Ge,body:JSON.stringify({fid:te,authVersion:He,appId:k.appId,sdkVersion:Re})},kn=yield ut(()=>fetch(ye,yn));if(kn.ok){const mr=yield kn.json();return{fid:mr.fid||te,registrationStatus:2,refreshToken:mr.refreshToken,authToken:ot(mr.authToken)}}throw yield at("Create Installation",kn)})).apply(this,arguments)}function Nt(k){return new Promise(U=>{setTimeout(U,k)})}const wt=/^[cdef][\w-]{21}$/;function Xe(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const te=function pt(k){return function Lt(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return wt.test(te)?te:""}catch(k){return""}}function en(k){return`${k.appName}!${k.appId}`}const cn=new Map;function gn(k,U){const te=en(k);Hn(te,U),function Xn(k,U){const te=function tr(){return!_r&&"BroadcastChannel"in self&&(_r=new BroadcastChannel("[Firebase] FID Change"),_r.onmessage=k=>{Hn(k.data.key,k.data.fid)}),_r}();te&&te.postMessage({key:k,fid:U}),function Nr(){0===cn.size&&_r&&(_r.close(),_r=null)}()}(te,U)}function Hn(k,U){const te=cn.get(k);if(te)for(const ye of te)ye(U)}let _r=null;const ir="firebase-installations-store";let Rr=null;function Qt(){return Rr||(Rr=(0,ae.X3)("firebase-installations-database",1,{upgrade:(k,U)=>{0===U&&k.createObjectStore(ir)}})),Rr}function Ln(k,U){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,Z.Z)(function*(k,U){const te=en(k),Ge=(yield Qt()).transaction(ir,"readwrite"),ht=Ge.objectStore(ir),$t=yield ht.get(te);return yield ht.put(U,te),yield Ge.done,(!$t||$t.fid!==U.fid)&&gn(k,U.fid),U})).apply(this,arguments)}function Gt(k){return nr.apply(this,arguments)}function nr(){return(nr=(0,Z.Z)(function*(k){const U=en(k),ye=(yield Qt()).transaction(ir,"readwrite");yield ye.objectStore(ir).delete(U),yield ye.done})).apply(this,arguments)}function Mr(k,U){return li.apply(this,arguments)}function li(){return(li=(0,Z.Z)(function*(k,U){const te=en(k),Ge=(yield Qt()).transaction(ir,"readwrite"),ht=Ge.objectStore(ir),$t=yield ht.get(te),yn=U($t);return void 0===yn?yield ht.delete(te):yield ht.put(yn,te),yield Ge.done,yn&&(!$t||$t.fid!==yn.fid)&&gn(k,yn.fid),yn})).apply(this,arguments)}function Tr(k){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,Z.Z)(function*(k){let U;const te=yield Mr(k.appConfig,ye=>{const Ge=zr(ye),ht=Kn(k,Ge);return U=ht.registrationPromise,ht.installationEntry});return""===te.fid?{installationEntry:yield U}:{installationEntry:te,registrationPromise:U}})).apply(this,arguments)}function zr(k){return Cr(k||{fid:Xe(),registrationStatus:0})}function Kn(k,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(ct.create("app-offline"))};const te={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},ye=function St(k,U){return nn.apply(this,arguments)}(k,te);return{installationEntry:te,registrationPromise:ye}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:_i(k)}:{installationEntry:U}}function nn(){return(nn=(0,Z.Z)(function*(k,U){try{const te=yield Ke(k,U);return Ln(k.appConfig,te)}catch(te){throw Et(te)&&409===te.customData.serverCode?yield Gt(k.appConfig):yield Ln(k.appConfig,{fid:U.fid,registrationStatus:0}),te}})).apply(this,arguments)}function _i(k){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,Z.Z)(function*(k){let U=yield lr(k.appConfig);for(;1===U.registrationStatus;)yield Nt(100),U=yield lr(k.appConfig);if(0===U.registrationStatus){const{installationEntry:te,registrationPromise:ye}=yield Tr(k);return ye||te}return U})).apply(this,arguments)}function lr(k){return Mr(k,U=>{if(!U)throw ct.create("installation-not-found");return Cr(U)})}function Cr(k){return function ur(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Ar(k,U){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,Z.Z)(function*({appConfig:k,heartbeatServiceProvider:U},te){const ye=Sr(k,te),Ge=st(k,te),ht=U.getImmediate({optional:!0});if(ht){const mr=yield ht.getHeartbeatsHeader();mr&&Ge.append("x-firebase-client",mr)}const yn={method:"POST",headers:Ge,body:JSON.stringify({installation:{sdkVersion:Re,appId:k.appId}})},kn=yield ut(()=>fetch(ye,yn));if(kn.ok)return ot(yield kn.json());throw yield at("Generate Auth Token",kn)})).apply(this,arguments)}function Sr(k,{fid:U}){return`${ze(k)}/${U}/authTokens:generate`}function er(k){return ci.apply(this,arguments)}function ci(){return(ci=(0,Z.Z)(function*(k,U=!1){let te;const ye=yield Mr(k.appConfig,ht=>{if(!Zn(ht))throw ct.create("not-registered");const $t=ht.authToken;if(!U&&pe($t))return ht;if(1===$t.requestStatus)return te=Bt(k,U),ht;{if(!navigator.onLine)throw ct.create("app-offline");const yn=Fe(ht);return te=tn(k,yn),yn}});return te?yield te:ye.authToken})).apply(this,arguments)}function Bt(k,U){return _t.apply(this,arguments)}function _t(){return(_t=(0,Z.Z)(function*(k,U){let te=yield qt(k.appConfig);for(;1===te.authToken.requestStatus;)yield Nt(100),te=yield qt(k.appConfig);const ye=te.authToken;return 0===ye.requestStatus?er(k,U):ye})).apply(this,arguments)}function qt(k){return Mr(k,U=>{if(!Zn(U))throw ct.create("not-registered");return function he(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function tn(k,U){return rn.apply(this,arguments)}function rn(){return(rn=(0,Z.Z)(function*(k,U){try{const te=yield Ar(k,U),ye=Object.assign(Object.assign({},U),{authToken:te});return yield Ln(k.appConfig,ye),te}catch(te){if(!Et(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const ye=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Ln(k.appConfig,ye)}else yield Gt(k.appConfig);throw te}})).apply(this,arguments)}function Zn(k){return void 0!==k&&2===k.registrationStatus}function pe(k){return 2===k.requestStatus&&!function me(k){const U=Date.now();return U<k.creationTime||k.creationTime+k.expiresIn<U+36e5}(k)}function Fe(k){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:U})}function ce(){return(ce=(0,Z.Z)(function*(k){const U=k,{installationEntry:te,registrationPromise:ye}=yield Tr(U);return ye?ye.catch(console.error):er(U).catch(console.error),te.fid})).apply(this,arguments)}function Ot(){return(Ot=(0,Z.Z)(function*(k,U=!1){const te=k;return yield sn(te),(yield er(te,U)).token})).apply(this,arguments)}function sn(k){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,Z.Z)(function*(k){const{registrationPromise:U}=yield Tr(k);U&&(yield U)})).apply(this,arguments)}function xr(k){return ct.create("missing-app-config-values",{valueName:k})}const Gr="installations",Gn=k=>{const U=k.getProvider("app").getImmediate(),te=function Un(k){if(!k||!k.options)throw xr("App Configuration");if(!k.name)throw xr("App Name");const U=["projectId","apiKey","appId"];for(const te of U)if(!k.options[te])throw xr(te);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(U);return{app:U,appConfig:te,heartbeatServiceProvider:(0,Ie._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},dr=k=>{const U=k.getProvider("app").getImmediate(),te=(0,Ie._getProvider)(U,Gr).getImmediate();return{getId:()=>function ie(k){return ce.apply(this,arguments)}(te),getToken:Ge=>function Ye(k){return Ot.apply(this,arguments)}(te,Ge)}};(function ei(){(0,Ie._registerComponent)(new ke.wA(Gr,Gn,"PUBLIC")),(0,Ie._registerComponent)(new ke.wA("installations-internal",dr,"PRIVATE"))})(),(0,Ie.registerVersion)(Ue,oe),(0,Ie.registerVersion)(Ue,oe,"esm2017");const yi="@firebase/remote-config",pr=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class es{constructor(U,te,ye,Ge){this.client=U,this.storage=te,this.storageCache=ye,this.logger=Ge}isCachedDataFresh(U,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ye=Date.now()-te,Ge=ye<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ye}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${Ge}.`),Ge}fetch(U){var te=this;return(0,Z.Z)(function*(){const[ye,Ge]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(Ge&&te.isCachedDataFresh(U.cacheMaxAgeMillis,ye))return Ge;U.eTag=Ge&&Ge.eTag;const ht=yield te.client.fetch(U),$t=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ht.status&&$t.push(te.storage.setLastSuccessfulFetchResponse(ht)),yield Promise.all($t),ht})()}}function Vi(k=navigator){return k.languages&&k.languages[0]||k.language}class di{constructor(U,te,ye,Ge,ht,$t){this.firebaseInstallations=U,this.sdkVersion=te,this.namespace=ye,this.projectId=Ge,this.apiKey=ht,this.appId=$t}fetch(U){var te=this;return(0,Z.Z)(function*(){var ye,Ge,ht;const[$t,yn]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),mr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Dr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},ar={sdk_version:te.sdkVersion,app_instance_id:$t,app_instance_id_token:yn,app_id:te.appId,language_code:Vi()},ds={method:"POST",headers:Dr,body:JSON.stringify(ar)},vo=fetch(mr,ds),Dl=new Promise((bo,wo)=>{U.signal.addEventListener(()=>{const Aa=new Error("The operation was aborted.");Aa.name="AbortError",wo(Aa)})});let ul;try{yield Promise.race([vo,Dl]),ul=yield vo}catch(bo){let wo="fetch-client-network";throw"AbortError"===(null===(ye=bo)||void 0===ye?void 0:ye.name)&&(wo="fetch-timeout"),pr.create(wo,{originalErrorMessage:null===(Ge=bo)||void 0===Ge?void 0:Ge.message})}let Sa=ul.status;const ua=ul.headers.get("ETag")||void 0;let cl,ou;if(200===ul.status){let bo;try{bo=yield ul.json()}catch(wo){throw pr.create("fetch-client-parse",{originalErrorMessage:null===(ht=wo)||void 0===ht?void 0:ht.message})}cl=bo.entries,ou=bo.state}if("INSTANCE_STATE_UNSPECIFIED"===ou?Sa=500:"NO_CHANGE"===ou?Sa=304:("NO_TEMPLATE"===ou||"EMPTY_CONFIG"===ou)&&(cl={}),304!==Sa&&200!==Sa)throw pr.create("fetch-status",{httpStatus:Sa});return{status:Sa,eTag:ua,config:cl}})()}}class ls{constructor(U,te){this.client=U,this.storage=te}fetch(U){var te=this;return(0,Z.Z)(function*(){const ye=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(U,ye)})()}attemptFetch(U,{throttleEndTimeMillis:te,backoffCount:ye}){var Ge=this;return(0,Z.Z)(function*(){yield function ho(k,U){return new Promise((te,ye)=>{const Ge=Math.max(U-Date.now(),0),ht=setTimeout(te,Ge);k.addEventListener(()=>{clearTimeout(ht),ye(pr.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,te);try{const ht=yield Ge.client.fetch(U);return yield Ge.storage.deleteThrottleMetadata(),ht}catch(ht){if(!function Xo(k){if(!(k instanceof ve.ZR&&k.customData))return!1;const U=Number(k.customData.httpStatus);return 429===U||500===U||503===U||504===U}(ht))throw ht;const $t={throttleEndTimeMillis:Date.now()+(0,ve.$s)(ye),backoffCount:ye+1};return yield Ge.storage.setThrottleMetadata($t),Ge.attemptFetch(U,$t)}})()}}class Uo{constructor(U,te,ye,Ge,ht){this.app=U,this._client=te,this._storageCache=ye,this._storage=Ge,this._logger=ht,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ms(k,U){var te;const ye=k.target.error||void 0;return pr.create(U,{originalErrorMessage:ye&&(null===(te=ye)||void 0===te?void 0:te.message)})}const ts="app_namespace_store";class io{constructor(U,te,ye,Ge=function ea(){return new Promise((k,U)=>{var te;try{const ye=indexedDB.open("firebase_remote_config",1);ye.onerror=Ge=>{U(Ms(Ge,"storage-open"))},ye.onsuccess=Ge=>{k(Ge.target.result)},ye.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(ts,{keyPath:"compositeKey"})}}catch(ye){U(pr.create("storage-open",{originalErrorMessage:null===(te=ye)||void 0===te?void 0:te.message}))}})}()){this.appId=U,this.appName=te,this.namespace=ye,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var te=this;return(0,Z.Z)(function*(){const ye=yield te.openDbPromise;return new Promise((Ge,ht)=>{var $t;const kn=ye.transaction([ts],"readonly").objectStore(ts),mr=te.createCompositeKey(U);try{const Dr=kn.get(mr);Dr.onerror=ar=>{ht(Ms(ar,"storage-get"))},Dr.onsuccess=ar=>{const ds=ar.target.result;Ge(ds?ds.value:void 0)}}catch(Dr){ht(pr.create("storage-get",{originalErrorMessage:null===($t=Dr)||void 0===$t?void 0:$t.message}))}})})()}set(U,te){var ye=this;return(0,Z.Z)(function*(){const Ge=yield ye.openDbPromise;return new Promise((ht,$t)=>{var yn;const mr=Ge.transaction([ts],"readwrite").objectStore(ts),Dr=ye.createCompositeKey(U);try{const ar=mr.put({compositeKey:Dr,value:te});ar.onerror=ds=>{$t(Ms(ds,"storage-set"))},ar.onsuccess=()=>{ht()}}catch(ar){$t(pr.create("storage-set",{originalErrorMessage:null===(yn=ar)||void 0===yn?void 0:yn.message}))}})})()}delete(U){var te=this;return(0,Z.Z)(function*(){const ye=yield te.openDbPromise;return new Promise((Ge,ht)=>{var $t;const kn=ye.transaction([ts],"readwrite").objectStore(ts),mr=te.createCompositeKey(U);try{const Dr=kn.delete(mr);Dr.onerror=ar=>{ht(Ms(ar,"storage-delete"))},Dr.onsuccess=()=>{Ge()}}catch(Dr){ht(pr.create("storage-delete",{originalErrorMessage:null===($t=Dr)||void 0===$t?void 0:$t.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class Vs{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,Z.Z)(function*(){const te=U.storage.getLastFetchStatus(),ye=U.storage.getLastSuccessfulFetchTimestampMillis(),Ge=U.storage.getActiveConfig(),ht=yield te;ht&&(U.lastFetchStatus=ht);const $t=yield ye;$t&&(U.lastSuccessfulFetchTimestampMillis=$t);const yn=yield Ge;yn&&(U.activeConfig=yn)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Pi(){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,Z.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(k){return!1}})).apply(this,arguments)}!function pa(){(0,Ie._registerComponent)(new ke.wA("remote-config",function k(U,{instanceIdentifier:te}){const ye=U.getProvider("app").getImmediate(),Ge=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pr.create("registration-window");if(!(0,ve.hl)())throw pr.create("indexed-db-unavailable");const{projectId:ht,apiKey:$t,appId:yn}=ye.options;if(!ht)throw pr.create("registration-project-id");if(!$t)throw pr.create("registration-api-key");if(!yn)throw pr.create("registration-app-id");const kn=new io(yn,ye.name,te=te||"firebase"),mr=new Vs(kn),Dr=new Ne.Yd(yi);Dr.logLevel=Ne.in.ERROR;const ar=new di(Ge,Ie.SDK_VERSION,te,ht,$t,yn),ds=new ls(ar,kn),vo=new es(ds,kn,mr,Dr),Dl=new Uo(ye,vo,mr,kn,Dr);return function We(k){const U=(0,ve.m9)(k);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(Dl),Dl},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(yi,"0.3.14"),(0,Ie.registerVersion)(yi,"0.3.14","esm2017")}();const Ni="/firebase-messaging-sw.js",Jr="/firebase-cloud-messaging-push-scope",vr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ns="google.c.a.c_id",oi="google.c.a.c_l",Gs="google.c.a.ts",Wi="google.c.a.e";var rs=(()=>{return(k=rs||(rs={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",rs;var k})();function Di(k){const U=new Uint8Array(k);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jo(k){const te=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ye=atob(te),Ge=new Uint8Array(ye.length);for(let ht=0;ht<ye.length;++ht)Ge[ht]=ye.charCodeAt(ht);return Ge}const hi="fcm_token_details_db",K="fcm_token_object_Store";function _e(k){return Se.apply(this,arguments)}function Se(){return Se=(0,Z.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ht=>ht.name).includes(hi))return null;let U=null;return(yield(0,ae.X3)(hi,5,{upgrade:(ye=(0,Z.Z)(function*(Ge,ht,$t,yn){var kn;if(ht<2||!Ge.objectStoreNames.contains(K))return;const mr=yn.objectStore(K),Dr=yield mr.index("fcmSenderId").get(k);if(yield mr.clear(),Dr)if(2===ht){const ar=Dr;if(!ar.auth||!ar.p256dh||!ar.endpoint)return;U={token:ar.fcmToken,createTime:null!==(kn=ar.createTime)&&void 0!==kn?kn:Date.now(),subscriptionOptions:{auth:ar.auth,p256dh:ar.p256dh,endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:"string"==typeof ar.vapidKey?ar.vapidKey:Di(ar.vapidKey)}}}else if(3===ht){const ar=Dr;U={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:Di(ar.auth),p256dh:Di(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:Di(ar.vapidKey)}}}else if(4===ht){const ar=Dr;U={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:Di(ar.auth),p256dh:Di(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:Di(ar.vapidKey)}}}}),function(ht,$t,yn,kn){return ye.apply(this,arguments)})})).close(),yield(0,ae.Lj)(hi),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),Be(U)?U:null;var ye}),Se.apply(this,arguments)}function Be(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:U}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const pn="firebase-messaging-store";let fn=null;function mn(){return fn||(fn=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(k,U)=>{0===U&&k.createObjectStore(pn)}})),fn}function F(k){return Q.apply(this,arguments)}function Q(){return(Q=(0,Z.Z)(function*(k){const U=gt(k),ye=yield(yield mn()).transaction(pn).objectStore(pn).get(U);if(ye)return ye;{const Ge=yield _e(k.appConfig.senderId);if(Ge)return yield V(k,Ge),Ge}})).apply(this,arguments)}function V(k,U){return ne.apply(this,arguments)}function ne(){return(ne=(0,Z.Z)(function*(k,U){const te=gt(k),Ge=(yield mn()).transaction(pn,"readwrite");return yield Ge.objectStore(pn).put(U,te),yield Ge.done,U})).apply(this,arguments)}function De(k){return lt.apply(this,arguments)}function lt(){return(lt=(0,Z.Z)(function*(k){const U=gt(k),ye=(yield mn()).transaction(pn,"readwrite");yield ye.objectStore(pn).delete(U),yield ye.done})).apply(this,arguments)}function gt({appConfig:k}){return k.appId}const bn=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function En(k,U){return In.apply(this,arguments)}function In(){return(In=(0,Z.Z)(function*(k,U){var te;const ye=yield zi(k),Ge=Ii(U),ht={method:"POST",headers:ye,body:JSON.stringify(Ge)};let $t;try{$t=yield(yield fetch(Ui(k.appConfig),ht)).json()}catch(yn){throw bn.create("token-subscribe-failed",{errorInfo:null===(te=yn)||void 0===te?void 0:te.toString()})}if($t.error)throw bn.create("token-subscribe-failed",{errorInfo:$t.error.message});if(!$t.token)throw bn.create("token-subscribe-no-token");return $t.token})).apply(this,arguments)}function sr(k,U){return cr.apply(this,arguments)}function cr(){return(cr=(0,Z.Z)(function*(k,U){var te;const ye=yield zi(k),Ge=Ii(U.subscriptionOptions),ht={method:"PATCH",headers:ye,body:JSON.stringify(Ge)};let $t;try{$t=yield(yield fetch(`${Ui(k.appConfig)}/${U.token}`,ht)).json()}catch(yn){throw bn.create("token-update-failed",{errorInfo:null===(te=yn)||void 0===te?void 0:te.toString()})}if($t.error)throw bn.create("token-update-failed",{errorInfo:$t.error.message});if(!$t.token)throw bn.create("token-update-no-token");return $t.token})).apply(this,arguments)}function Pr(k,U){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,Z.Z)(function*(k,U){var te;const Ge={method:"DELETE",headers:yield zi(k)};try{const $t=yield(yield fetch(`${Ui(k.appConfig)}/${U}`,Ge)).json();if($t.error)throw bn.create("token-unsubscribe-failed",{errorInfo:$t.error.message})}catch(ht){throw bn.create("token-unsubscribe-failed",{errorInfo:null===(te=ht)||void 0===te?void 0:te.toString()})}})).apply(this,arguments)}function Ui({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function zi(k){return ln.apply(this,arguments)}function ln(){return(ln=(0,Z.Z)(function*({appConfig:k,installations:U}){const te=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function Ii({p256dh:k,auth:U,endpoint:te,vapidKey:ye}){const Ge={web:{endpoint:te,auth:U,p256dh:k}};return ye!==vr&&(Ge.web.applicationPubKey=ye),Ge}const fo=6048e5;function Ws(k){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,Z.Z)(function*(k){const U=yield ti(k.swRegistration,k.vapidKey),te={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:U.endpoint,auth:Di(U.getKey("auth")),p256dh:Di(U.getKey("p256dh"))},ye=yield F(k.firebaseDependencies);if(ye){if(Es(ye.subscriptionOptions,te))return Date.now()>=ye.createTime+fo?P(k,{token:ye.token,createTime:Date.now(),subscriptionOptions:te}):ye.token;try{yield Pr(k.firebaseDependencies,ye.token)}catch(Ge){console.warn(Ge)}return we(k.firebaseDependencies,te)}return we(k.firebaseDependencies,te)})).apply(this,arguments)}function H(k){return L.apply(this,arguments)}function L(){return(L=(0,Z.Z)(function*(k){const U=yield F(k.firebaseDependencies);U&&(yield Pr(k.firebaseDependencies,U.token),yield De(k.firebaseDependencies));const te=yield k.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()})).apply(this,arguments)}function P(k,U){return re.apply(this,arguments)}function re(){return(re=(0,Z.Z)(function*(k,U){try{const te=yield sr(k.firebaseDependencies,U),ye=Object.assign(Object.assign({},U),{token:te,createTime:Date.now()});return yield V(k.firebaseDependencies,ye),te}catch(te){throw yield H(k),te}})).apply(this,arguments)}function we(k,U){return At.apply(this,arguments)}function At(){return(At=(0,Z.Z)(function*(k,U){const ye={token:yield En(k,U),createTime:Date.now(),subscriptionOptions:U};return yield V(k,ye),ye.token})).apply(this,arguments)}function ti(k,U){return hr.apply(this,arguments)}function hr(){return(hr=(0,Z.Z)(function*(k,U){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jo(U)})})).apply(this,arguments)}function Es(k,U){return U.vapidKey===k.vapidKey&&U.endpoint===k.endpoint&&U.auth===k.auth&&U.p256dh===k.p256dh}function ji(k){const U={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function us(k,U){if(!U.notification)return;k.notification={};const te=U.notification.title;te&&(k.notification.title=te);const ye=U.notification.body;ye&&(k.notification.body=ye);const Ge=U.notification.image;Ge&&(k.notification.image=Ge)}(U,k),function so(k,U){!U.data||(k.data=U.data)}(U,k),function po(k,U){var te,ye,Ge,ht,$t;if(!U.fcmOptions&&!(null===(te=U.notification)||void 0===te?void 0:te.click_action))return;k.fcmOptions={};const yn=null!==(Ge=null===(ye=U.fcmOptions)||void 0===ye?void 0:ye.link)&&void 0!==Ge?Ge:null===(ht=U.notification)||void 0===ht?void 0:ht.click_action;yn&&(k.fcmOptions.link=yn);const kn=null===($t=U.fcmOptions)||void 0===$t?void 0:$t.analytics_label;kn&&(k.fcmOptions.analyticsLabel=kn)}(U,k),U}function ml(k){return"object"==typeof k&&!!k&&ns in k}function go(k,U){const te=[];for(let ye=0;ye<k.length;ye++)te.push(k.charAt(ye)),ye<U.length&&te.push(U.charAt(ye));return te.join("")}function ta(k){return bn.create("missing-app-config-values",{valueName:k})}go("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),go("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ki{constructor(U,te,ye){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function ol(k){if(!k||!k.options)throw ta("App Configuration Object");if(!k.name)throw ta("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:te}=k;for(const ye of U)if(!te[ye])throw ta(ye);return{appName:k.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:Ge,installations:te,analyticsProvider:ye}}_delete(){return Promise.resolve()}}function Ys(k){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,Z.Z)(function*(k){var U;try{k.swRegistration=yield navigator.serviceWorker.register(Ni,{scope:Jr}),k.swRegistration.update().catch(()=>{})}catch(te){throw bn.create("failed-service-worker-registration",{browserErrorMessage:null===(U=te)||void 0===U?void 0:U.message})}})).apply(this,arguments)}function So(k,U){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,Z.Z)(function*(k,U){if(!U&&!k.swRegistration&&(yield Ys(k)),U||!k.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");k.swRegistration=U}})).apply(this,arguments)}function al(k,U){return mo.apply(this,arguments)}function mo(){return(mo=(0,Z.Z)(function*(k,U){U?k.vapidKey=U:k.vapidKey||(k.vapidKey=vr)})).apply(this,arguments)}function oo(){return(oo=(0,Z.Z)(function*(k,U){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield al(k,null==U?void 0:U.vapidKey),yield So(k,null==U?void 0:U.serviceWorkerRegistration),Ws(k)})).apply(this,arguments)}function ni(k,U,te){return ao.apply(this,arguments)}function ao(){return(ao=(0,Z.Z)(function*(k,U,te){const ye=Ka(U);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(ye,{message_id:te[ns],message_name:te[oi],message_time:te[Gs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ka(k){switch(k){case rs.NOTIFICATION_CLICKED:return"notification_open";case rs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Is(){return(Is=(0,Z.Z)(function*(k,U){const te=U.data;if(!te.isFirebaseMessaging)return;k.onMessageHandler&&te.messageType===rs.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(ji(te)):k.onMessageHandler.next(ji(te)));const ye=te.data;ml(ye)&&"1"===ye[Wi]&&(yield ni(k,te.messageType,ye))})).apply(this,arguments)}const Ao="@firebase/messaging",$o=k=>{const U=new ki(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function ga(k,U){return Is.apply(this,arguments)}(U,te)),U},Za=k=>{const U=k.getProvider("messaging").getImmediate();return{getToken:ye=>function Fa(k,U){return oo.apply(this,arguments)}(U,ye)}};function La(){return na.apply(this,arguments)}function na(){return(na=(0,Z.Z)(function*(){try{yield(0,ve.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Go(){(0,Ie._registerComponent)(new ke.wA("messaging",$o,"PUBLIC")),(0,Ie._registerComponent)(new ke.wA("messaging-internal",Za,"PRIVATE")),(0,Ie.registerVersion)(Ao,"0.9.19"),(0,Ie.registerVersion)(Ao,"0.9.19","esm2017")}();const Zi="analytics",_a="firebase_id",Mi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vt="https://www.googletagmanager.com/gtag/js",br=new Ne.Yd("@firebase/analytics");function _o(k){return Promise.all(k.map(U=>U.catch(te=>te)))}function xo(k,U){const te=document.createElement("script");te.src=`${Vt}?l=${k}&id=${U}`,te.async=!0,document.head.appendChild(te)}function Nn(k,U,te,ye,Ge,ht){return yo.apply(this,arguments)}function yo(){return(yo=(0,Z.Z)(function*(k,U,te,ye,Ge,ht){const $t=ye[Ge];try{if($t)yield U[$t];else{const kn=(yield _o(te)).find(mr=>mr.measurementId===Ge);kn&&(yield U[kn.appId])}}catch(yn){br.error(yn)}k("config",Ge,ht)})).apply(this,arguments)}function dn(k,U,te,ye,Ge){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,Z.Z)(function*(k,U,te,ye,Ge){try{let ht=[];if(Ge&&Ge.send_to){let $t=Ge.send_to;Array.isArray($t)||($t=[$t]);const yn=yield _o(te);for(const kn of $t){const mr=yn.find(ar=>ar.measurementId===kn),Dr=mr&&U[mr.appId];if(!Dr){ht=[];break}ht.push(Dr)}}0===ht.length&&(ht=Object.values(U)),yield Promise.all(ht),k("event",ye,Ge||{})}catch(ht){br.error(ht)}})).apply(this,arguments)}function _l(k){const U=window.document.getElementsByTagName("script");for(const te of Object.values(U))if(te.src&&te.src.includes(Vt)&&te.src.includes(k))return te;return null}const zs=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),J=new class M{constructor(U={},te=1e3){this.throttleMetadata=U,this.intervalMillis=te}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,te){this.throttleMetadata[U]=te}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function be(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function Ct(k){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,Z.Z)(function*(k){var U;const{appId:te,apiKey:ye}=k,Ge={method:"GET",headers:be(ye)},ht=Mi.replace("{app-id}",te),$t=yield fetch(ht,Ge);if(200!==$t.status&&304!==$t.status){let yn="";try{const kn=yield $t.json();(null===(U=kn.error)||void 0===U?void 0:U.message)&&(yn=kn.error.message)}catch(kn){}throw zs.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:yn})}return $t.json()})).apply(this,arguments)}function Oi(k){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,Z.Z)(function*(k,U=J,te){const{appId:ye,apiKey:Ge,measurementId:ht}=k.options;if(!ye)throw zs.create("no-app-id");if(!Ge){if(ht)return{measurementId:ht,appId:ye};throw zs.create("no-api-key")}const $t=U.getThrottleMetadata(ye)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yn=new I;return setTimeout((0,Z.Z)(function*(){yn.abort()}),void 0!==te?te:6e4),Ti({appId:ye,apiKey:Ge,measurementId:ht},$t,yn,U)})).apply(this,arguments)}function Ti(k,U,te){return qs.apply(this,arguments)}function qs(){return(qs=(0,Z.Z)(function*(k,{throttleEndTimeMillis:U,backoffCount:te},ye,Ge=J){var ht,$t;const{appId:yn,measurementId:kn}=k;try{yield Si(ye,U)}catch(mr){if(kn)return br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kn} provided in the "measurementId" field in the local Firebase config. [${null===(ht=mr)||void 0===ht?void 0:ht.message}]`),{appId:yn,measurementId:kn};throw mr}try{const mr=yield Ct(k);return Ge.deleteThrottleMetadata(yn),mr}catch(mr){const Dr=mr;if(!S(Dr)){if(Ge.deleteThrottleMetadata(yn),kn)return br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kn} provided in the "measurementId" field in the local Firebase config. [${null==Dr?void 0:Dr.message}]`),{appId:yn,measurementId:kn};throw mr}const ar=503===Number(null===($t=null==Dr?void 0:Dr.customData)||void 0===$t?void 0:$t.httpStatus)?(0,ve.$s)(te,Ge.intervalMillis,30):(0,ve.$s)(te,Ge.intervalMillis),ds={throttleEndTimeMillis:Date.now()+ar,backoffCount:te+1};return Ge.setThrottleMetadata(yn,ds),br.debug(`Calling attemptFetch again in ${ar} millis`),Ti(k,ds,ye,Ge)}})).apply(this,arguments)}function Si(k,U){return new Promise((te,ye)=>{const Ge=Math.max(U-Date.now(),0),ht=setTimeout(te,Ge);k.addEventListener(()=>{clearTimeout(ht),ye(zs.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function S(k){if(!(k instanceof ve.ZR&&k.customData))return!1;const U=Number(k.customData.httpStatus);return 429===U||500===U||503===U||504===U}class I{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let C,Fr;function $(){return($=(0,Z.Z)(function*(k,U,te,ye,Ge){if(Ge&&Ge.global)k("event",te,ye);else{const ht=yield U;k("event",te,Object.assign(Object.assign({},ye),{send_to:ht}))}})).apply(this,arguments)}function ss(k){Fr=k}function cs(k){C=k}function va(){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,Z.Z)(function*(){var k;if(!(0,ve.hl)())return br.warn(zs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(U){return br.warn(zs.create("indexeddb-unavailable",{errorInfo:null===(k=U)||void 0===k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function os(){return(os=(0,Z.Z)(function*(k,U,te,ye,Ge,ht,$t){var yn;const kn=Oi(k);kn.then(vo=>{te[vo.measurementId]=vo.appId,k.options.measurementId&&vo.measurementId!==k.options.measurementId&&br.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${vo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vo=>br.error(vo)),U.push(kn);const mr=va().then(vo=>{if(vo)return ye.getId()}),[Dr,ar]=yield Promise.all([kn,mr]);_l(ht)||xo(ht,Dr.measurementId),Fr&&(Ge("consent","default",Fr),ss(void 0)),Ge("js",new Date);const ds=null!==(yn=null==$t?void 0:$t.config)&&void 0!==yn?yn:{};return ds.origin="firebase",ds.update=!0,null!=ar&&(ds[_a]=ar),Ge("config",Dr.measurementId,ds),C&&(Ge("set",C),cs(void 0)),Dr.measurementId})).apply(this,arguments)}class Js{constructor(U){this.app=U}_delete(){return delete nt[this.app.options.appId],Promise.resolve()}}let nt={},ba=[];const Ss={};let lo,ys,ra="dataLayer",wa=!1;function Gu(k,U,te){!function Ba(){const k=[];if((0,ve.ru)()&&k.push("This is a browser extension environment."),(0,ve.zI)()||k.push("Cookies are not available."),k.length>0){const U=k.map((ye,Ge)=>`(${Ge+1}) ${ye}`).join(" "),te=zs.create("invalid-analytics-context",{errorInfo:U});br.warn(te.message)}}();const ye=k.options.appId;if(!ye)throw zs.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw zs.create("no-api-key");br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nt[ye])throw zs.create("already-exists",{id:ye});if(!wa){!function _n(k){let U=[];Array.isArray(window[k])?U=window[k]:window[k]=U}(ra);const{wrappedGtag:ht,gtagCore:$t}=function is(k,U,te,ye,Ge){let ht=function(...$t){window[ye].push(arguments)};return window[Ge]&&"function"==typeof window[Ge]&&(ht=window[Ge]),window[Ge]=function Ut(k,U,te,ye){function ht(){return(ht=(0,Z.Z)(function*($t,yn,kn){try{"event"===$t?yield dn(k,U,te,yn,kn):"config"===$t?yield Nn(k,U,te,ye,yn,kn):"consent"===$t?k("consent","update",kn):k("set",yn)}catch(mr){br.error(mr)}})).apply(this,arguments)}return function Ge($t,yn,kn){return ht.apply(this,arguments)}}(ht,k,U,te),{gtagCore:ht,wrappedGtag:window[Ge]}}(nt,ba,Ss,ra,"gtag");ys=ht,lo=$t,wa=!0}return nt[ye]=function js(k,U,te,ye,Ge,ht,$t){return os.apply(this,arguments)}(k,ba,Ss,U,lo,ra,te),new Js(k)}function Wu(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,Z.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(k){return!1}})).apply(this,arguments)}const wr="@firebase/analytics";!function fi(){(0,Ie._registerComponent)(new ke.wA(Zi,(U,{options:te})=>Gu(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,Ie._registerComponent)(new ke.wA("analytics-internal",function k(U){try{const te=U.getProvider(Zi).getImmediate();return{logEvent:(ye,Ge,ht)=>function ks(k,U,te,ye){k=(0,ve.m9)(k),function B(k,U,te,ye,Ge){return $.apply(this,arguments)}(ys,nt[k.app.options.appId],U,te,ye).catch(Ge=>br.error(Ge))}(te,ye,Ge,ht)}}catch(te){throw zs.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,Ie.registerVersion)(wr,"0.8.3"),(0,Ie.registerVersion)(wr,"0.8.3","esm2017")}();var vl=j(4408),Or=j(7565);const Vl=new class As extends Or.v{}(class No extends vl.o{constructor(U,te){super(U,te),this.scheduler=U,this.work=te}schedule(U,te=0){return te>0?super.schedule(U,te):(this.delay=te,this.state=U,this.scheduler.flush(this),this)}execute(U,te){return te>0||this.closed?super.execute(U,te):this._execute(U,te)}requestAsyncId(U,te,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(U,te,ye):(U.flush(this),0)}});var oa=j(4986),aa=j(8306),Ca=j(8505),co=j(5363),Ul=j(9468);const Ea=new p.GfV("7.4.1"),Qs="__angularfire_symbol__analyticsIsSupportedValue",bs="__angularfire_symbol__analyticsIsSupported",zo="__angularfire_symbol__remoteConfigIsSupportedValue",ws="__angularfire_symbol__remoteConfigIsSupported",Qa="__angularfire_symbol__messagingIsSupportedValue",qo="__angularfire_symbol__messagingIsSupported";function Cu(k,U,te){if(U){if(1===U.length)return U[0];const ht=U.filter($t=>$t.app===te);if(1===ht.length)return ht[0]}return te.container.getProvider(k).getImmediate({optional:!0})}globalThis[bs]||(globalThis[bs]=Wu().then(k=>globalThis[Qs]=k).catch(()=>globalThis[Qs]=!1)),globalThis[qo]||(globalThis[qo]=La().then(k=>globalThis[Qa]=k).catch(()=>globalThis[Qa]=!1)),globalThis[ws]||(globalThis[ws]=Pi().then(k=>globalThis[zo]=k).catch(()=>globalThis[zo]=!1));const la=(k,U)=>{const te=U?[U]:(0,f.C6)(),ye=[];return te.forEach(Ge=>{Ge.container.getProvider(k).instances.forEach($t=>{ye.includes($t)||ye.push($t)})}),ye};function Ua(){}class wl{constructor(U,te=Vl){this.zone=U,this.delegate=te}now(){return this.delegate.now()}schedule(U,te,ye){const Ge=this.zone;return this.delegate.schedule(function($t){Ge.runGuarded(()=>{U.apply(this,[$t])})},te,ye)}}class Ta{constructor(U){this.zone=U,this.task=null}call(U,te){const ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)),te.pipe((0,Ca.b)({next:ye,complete:ye,error:ye})).subscribe(U).add(ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mo=(()=>{class k{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new wl(Zone.current)),this.insideAngular=te.run(()=>new wl(Zone.current,oa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(te){return new(te||k)(p.LFG(p.R0b))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Oo(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Hl(k){return Oo().ngZone.runOutsideAngular(()=>k())}function ja(k){return Oo().ngZone.run(()=>k())}function iu(k){return k.pipe((0,co.Q)(Oo().outsideAngular))}function Fs(k){return Oo(),function qu(k){return function(te){return(te=te.lift(new Ta(k.ngZone))).pipe((0,Ul.R)(k.outsideAngular),(0,co.Q)(k.insideAngular))}}(Oo())(k)}const pi=(k,U)=>function(){const ye=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),ja(()=>k.apply(void 0,ye))},Ku=(k,U)=>function(){let te;const ye=arguments;for(let ht=0;ht<arguments.length;ht++)"function"==typeof ye[ht]&&(U&&(te||(te=ja(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)))),ye[ht]=pi(ye[ht],te));const Ge=Hl(()=>k.apply(this,ye));if(!U){if(Ge instanceof aa.y){const ht=Oo();return Ge.pipe((0,Ul.R)(ht.outsideAngular),(0,co.Q)(ht.insideAngular))}return ja(()=>Ge)}return Ge instanceof aa.y?Ge.pipe(Fs):Ge instanceof Promise?ja(()=>new Promise((ht,$t)=>Ge.then(yn=>ja(()=>ht(yn)),yn=>ja(()=>$t(yn))))):"function"==typeof Ge&&te?function(){return setTimeout(()=>{te&&"scheduled"===te.state&&te.invoke()},10),Ge.apply(this,arguments)}:ja(()=>Ge)}},7573:(Zt,xe,j)=>{"use strict";j.d(xe,{$:()=>Ui,A:()=>de,B:()=>qe,G:()=>dr,H:()=>jn,J:()=>ls,L:()=>pe,M:()=>Kr,N:()=>wi,P:()=>oa,Q:()=>ns,R:()=>uo,T:()=>oi,U:()=>vr,V:()=>rs,W:()=>Di,X:()=>_e,Y:()=>an,Z:()=>En,_:()=>sr,a:()=>N,a0:()=>Ws,a1:()=>H,a2:()=>P,a3:()=>we,a4:()=>ti,a5:()=>Es,a6:()=>us,a7:()=>so,a8:()=>ml,a9:()=>go,aA:()=>ds,aB:()=>yn,aC:()=>ja,aD:()=>Hl,aE:()=>Rt,aI:()=>be,aL:()=>Wi,aa:()=>Ys,ab:()=>So,ac:()=>al,af:()=>ni,ag:()=>Ka,ah:()=>ga,ak:()=>pn,al:()=>Ya,an:()=>Vt,ao:()=>yo,ap:()=>Er,aq:()=>ut,ar:()=>on,as:()=>sn,at:()=>Et,au:()=>Cl,av:()=>Sa,aw:()=>ze,ax:()=>Ve,ay:()=>$e,az:()=>me,b:()=>zs,c:()=>ws,d:()=>Va,e:()=>qo,f:()=>Fs,g:()=>te,h:()=>Ku,i:()=>Yi,j:()=>ht,k:()=>jd,l:()=>yl,m:()=>Hh,n:()=>Hd,o:()=>ae,r:()=>vl,s:()=>Da,u:()=>Vl});var p=j(5861),f=j(2090),Z=j(9681),Ie=j(1877),ve=j(655),ke=j(4859);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const qe=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ft=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bt=new f.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new Ie.Yd("@firebase/auth");function ct(E,...y){tt.logLevel<=Ie.in.ERROR&&tt.error(`Auth (${Z.SDK_VERSION}): ${E}`,...y)}function Et(E,...y){throw Tt(E,...y)}function ze(E,...y){return Tt(E,...y)}function ot(E,y,v){const A=Object.assign(Object.assign({},ft()),{[y]:v});return new f.LL("auth","Firebase",A).create(y,{appName:E.name})}function at(E,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&Et(E,"argument-error"),ot(E,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tt(E,...y){if("string"!=typeof E){const v=y[0],A=[...y.slice(1)];return A[0]&&(A[0].appName=E.name),E._errorFactory.create(v,...A)}return bt.create(E,...y)}function Ve(E,y,...v){if(!E)throw Tt(y,...v)}function st(E){const y="INTERNAL ASSERTION FAILED: "+E;throw ct(y),new Error(y)}function ut(E,y){E||st(y)}const Te=new Map;function $e(E){ut(E instanceof Function,"Expected a class definition");let y=Te.get(E);return y?(ut(y instanceof E,"Instance stored in cache mismatched with class"),y):(y=new E,Te.set(E,y),y)}function Ze(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Nt(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Xe{constructor(y,v){this.shortDelay=y,this.longDelay=v,ut(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,f.uI)()||(0,f.b$)()}get(){return function wt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,f.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pt(E,y){ut(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class en{static initialize(y,v,A){this.fetchImpl=y,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gn=new Xe(3e4,6e4);function Yt(E,y){return E.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:E.tenantId}):y}function Cn(E,y,v,A){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(E,y,v,A,X={}){return Xn(E,X,(0,p.Z)(function*(){let le={},et={};A&&("GET"===y?et=A:le={body:JSON.stringify(A)});const Ft=(0,f.xO)(Object.assign({key:E.config.apiKey},et)).slice(1),Rn=yield E._getAdditionalHeaders();return Rn["Content-Type"]="application/json",E.languageCode&&(Rn["X-Firebase-Locale"]=E.languageCode),en.fetch()(vn(E,E.config.apiHost,v,Ft),Object.assign({method:y,headers:Rn,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Xn(E,y,v){return _r.apply(this,arguments)}function _r(){return(_r=(0,p.Z)(function*(E,y,v){E._canInitEmulator=!1;const A=Object.assign(Object.assign({},cn),y);try{const X=new rr(E),le=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const et=yield le.json();if("needConfirmation"in et)throw ir(E,"account-exists-with-different-credential",et);if(le.ok&&!("errorMessage"in et))return et;{const Ft=le.ok?et.errorMessage:et.error.message,[Rn,Tn]=Ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rn)throw ir(E,"credential-already-in-use",et);if("EMAIL_EXISTS"===Rn)throw ir(E,"email-already-in-use",et);if("USER_DISABLED"===Rn)throw ir(E,"user-disabled",et);const An=A[Rn]||Rn.toLowerCase().replace(/[_\s]+/g,"-");if(Tn)throw ot(E,An,Tn);Et(E,An)}}catch(X){if(X instanceof f.ZR)throw X;Et(E,"network-request-failed")}})).apply(this,arguments)}function tr(E,y,v,A){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,p.Z)(function*(E,y,v,A,X={}){const le=yield Cn(E,y,v,A,X);return"mfaPendingCredential"in le&&Et(E,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function vn(E,y,v,A){const X=`${y}${v}?${A}`;return E.config.emulator?pt(E.config,X):`${E.config.apiScheme}://${X}`}class rr{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(ze(this.auth,"network-request-failed")),gn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ir(E,y,v){const A={appName:E.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const X=ze(E,y,A);return X.customData._tokenResponse=v,X}function Qt(){return(Qt=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Ln(E,y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Gt(E,y){return nr.apply(this,arguments)}function nr(){return(nr=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Mr(E){if(E)try{const y=new Date(Number(E));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Wr(){return(Wr=(0,p.Z)(function*(E,y=!1){const v=(0,f.m9)(E),A=yield v.getIdToken(y),X=Kn(A);Ve(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const le="object"==typeof X.firebase?X.firebase:void 0,et=null==le?void 0:le.sign_in_provider;return{claims:X,token:A,authTime:Mr(zr(X.auth_time)),issuedAtTime:Mr(zr(X.iat)),expirationTime:Mr(zr(X.exp)),signInProvider:et||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function zr(E){return 1e3*Number(E)}function Kn(E){var y;const[v,A,X]=E.split(".");if(void 0===v||void 0===A||void 0===X)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const le=(0,f.tV)(A);return le?JSON.parse(le):(ct("Failed to decode base64 JWT payload"),null)}catch(le){return ct("Caught error parsing JWT payload as JSON",null===(y=le)||void 0===y?void 0:y.toString()),null}}function nn(E,y){return _i.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(E,y,v=!1){if(v)return y;try{return yield y}catch(A){throw A instanceof f.ZR&&Ur(A)&&E.auth.currentUser===E&&(yield E.auth.signOut()),A}})).apply(this,arguments)}function Ur({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class lr{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(y);this.timerId=setTimeout((0,p.Z)(function*(){yield v.iteration()}),A)}iteration(){var y=this;return(0,p.Z)(function*(){var v;try{yield y.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(v=A)||void 0===v?void 0:v.code)&&y.schedule(!0))}y.schedule()})()}}class Cr{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mr(this.lastLoginAt),this.creationTime=Mr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ur(E){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(E){var y;const v=E.auth,A=yield E.getIdToken(),X=yield nn(E,Gt(v,{idToken:A}));Ve(null==X?void 0:X.users.length,v,"internal-error");const le=X.users[0];E._notifyReloadListener(le);const et=(null===(y=le.providerUserInfo)||void 0===y?void 0:y.length)?ci(le.providerUserInfo):[],Ft=er(E.providerData,et),An=!!E.isAnonymous&&!(E.email&&le.passwordHash||(null==Ft?void 0:Ft.length)),hs={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:Ft,metadata:new Cr(le.createdAt,le.lastLoginAt),isAnonymous:An};Object.assign(E,hs)})).apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(E){const y=(0,f.m9)(E);yield ur(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function er(E,y){return[...E.filter(A=>!y.some(X=>X.providerId===A.providerId)),...y]}function ci(E){return E.map(y=>{var{providerId:v}=y,A=(0,ve._T)(y,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function _t(){return(_t=(0,p.Z)(function*(E,y){const v=yield Xn(E,{},(0,p.Z)(function*(){const A=(0,f.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:X,apiKey:le}=E.config,et=vn(E,X,"/v1/token",`key=${le}`),Ft=yield E._getAdditionalHeaders();return Ft["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(et,{method:"POST",headers:Ft,body:A})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ve(y.idToken,"internal-error"),Ve(void 0!==y.idToken,"internal-error"),Ve(void 0!==y.refreshToken,"internal-error");const v="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function St(E){const y=Kn(E);return Ve(y,"internal-error"),Ve(void 0!==y.exp,"internal-error"),Ve(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var A=this;return(0,p.Z)(function*(){return Ve(!A.accessToken||A.refreshToken,y,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(y,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var A=this;return(0,p.Z)(function*(){const{accessToken:X,refreshToken:le,expiresIn:et}=yield function Bt(E,y){return _t.apply(this,arguments)}(y,v);A.updateTokensAndExpiration(X,le,Number(et))})()}updateTokensAndExpiration(y,v,A){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(y,v){const{refreshToken:A,accessToken:X,expirationTime:le}=v,et=new qt;return A&&(Ve("string"==typeof A,"internal-error",{appName:y}),et.refreshToken=A),X&&(Ve("string"==typeof X,"internal-error",{appName:y}),et.accessToken=X),le&&(Ve("number"==typeof le,"internal-error",{appName:y}),et.expirationTime=le),et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return st("not implemented")}}function tn(E,y){Ve("string"==typeof E||void 0===E,"internal-error",{appName:y})}class rn{constructor(y){var{uid:v,auth:A,stsTokenManager:X}=y,le=(0,ve._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Cr(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,p.Z)(function*(){const A=yield nn(v,v.stsTokenManager.getToken(v.auth,y));return Ve(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(y){return function Tr(E){return Wr.apply(this,arguments)}(this,y)}reload(){return function Pn(E){return Sr.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ve(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new rn(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var A=this;return(0,p.Z)(function*(){let X=!1;y.idToken&&y.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(y),X=!0),v&&(yield ur(A)),yield A.auth._persistUserIfCurrent(A),X&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var y=this;return(0,p.Z)(function*(){const v=yield y.getIdToken();return yield nn(y,function Rr(E,y){return Qt.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var A,X,le,et,Ft,Rn,Tn,An;const hs=null!==(A=v.displayName)&&void 0!==A?A:void 0,el=null!==(X=v.email)&&void 0!==X?X:void 0,Ro=null!==(le=v.phoneNumber)&&void 0!==le?le:void 0,ec=null!==(et=v.photoURL)&&void 0!==et?et:void 0,Po=null!==(Ft=v.tenantId)&&void 0!==Ft?Ft:void 0,tc=null!==(Rn=v._redirectEventId)&&void 0!==Rn?Rn:void 0,uu=null!==(Tn=v.createdAt)&&void 0!==Tn?Tn:void 0,nc=null!==(An=v.lastLoginAt)&&void 0!==An?An:void 0,{uid:Zo,emailVerified:qc,isAnonymous:Tl,providerData:Kc,stsTokenManager:Ls}=v;Ve(Zo&&Ls,y,"internal-error");const Lr=qt.fromJSON(this.name,Ls);Ve("string"==typeof Zo,y,"internal-error"),tn(hs,y.name),tn(el,y.name),Ve("boolean"==typeof qc,y,"internal-error"),Ve("boolean"==typeof Tl,y,"internal-error"),tn(Ro,y.name),tn(ec,y.name),tn(Po,y.name),tn(tc,y.name),tn(uu,y.name),tn(nc,y.name);const Zc=new rn({uid:Zo,auth:y,email:el,emailVerified:qc,displayName:hs,isAnonymous:Tl,photoURL:ec,phoneNumber:Ro,tenantId:Po,stsTokenManager:Lr,createdAt:uu,lastLoginAt:nc});return Kc&&Array.isArray(Kc)&&(Zc.providerData=Kc.map(cu=>Object.assign({},cu))),tc&&(Zc._redirectEventId=tc),Zc}static _fromIdTokenResponse(y,v,A=!1){return(0,p.Z)(function*(){const X=new qt;X.updateFromServerResponse(v);const le=new rn({uid:v.localId,auth:y,stsTokenManager:X,isAnonymous:A});return yield ur(le),le})()}}const pe=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(v,A){var X=this;return(0,p.Z)(function*(){X.storage[v]=A})()}_get(v){var A=this;return(0,p.Z)(function*(){const X=A.storage[v];return void 0===X?null:X})()}_remove(v){var A=this;return(0,p.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return E.type="NONE",E})();function me(E,y,v){return`firebase:${E}:${y}:${v}`}class Fe{constructor(y,v,A){this.persistence=y,this.auth=v,this.userKey=A;const{config:X,name:le}=this.auth;this.fullUserKey=me(this.userKey,X.apiKey,le),this.fullPersistenceKey=me("persistence",X.apiKey,le),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,p.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?rn._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,p.Z)(function*(){if(v.persistence===y)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,A="authUser"){return(0,p.Z)(function*(){if(!v.length)return new Fe($e(pe),y,A);const X=(yield Promise.all(v.map(function(){var Tn=(0,p.Z)(function*(An){if(yield An._isAvailable())return An});return function(An){return Tn.apply(this,arguments)}}()))).filter(Tn=>Tn);let le=X[0]||$e(pe);const et=me(A,y.config.apiKey,y.name);let Ft=null;for(const Tn of v)try{const An=yield Tn._get(et);if(An){const hs=rn._fromJSON(y,An);Tn!==le&&(Ft=hs),le=Tn;break}}catch(An){}const Rn=X.filter(Tn=>Tn._shouldAllowMigration);return le._shouldAllowMigration&&Rn.length?(le=Rn[0],Ft&&(yield le._set(et,Ft.toJSON())),yield Promise.all(v.map(function(){var Tn=(0,p.Z)(function*(An){if(An!==le)try{yield An._remove(et)}catch(hs){}});return function(An){return Tn.apply(this,arguments)}}())),new Fe(le,y,A)):new Fe(le,y,A)})()}}function he(E){const y=E.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ot(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ie(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Jt(y))return"Blackberry";if($n(y))return"Webos";if(ce(y))return"Safari";if((y.includes("chrome/")||Ye(y))&&!y.includes("edge/"))return"Chrome";if(sn(y))return"Android";{const A=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function ie(E=(0,f.z$)()){return/firefox\//i.test(E)}function ce(E=(0,f.z$)()){const y=E.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Ye(E=(0,f.z$)()){return/crios\//i.test(E)}function Ot(E=(0,f.z$)()){return/iemobile/i.test(E)}function sn(E=(0,f.z$)()){return/android/i.test(E)}function Jt(E=(0,f.z$)()){return/blackberry/i.test(E)}function $n(E=(0,f.z$)()){return/webos/i.test(E)}function on(E=(0,f.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Er(E=(0,f.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Ht(E=(0,f.z$)()){return on(E)||sn(E)||$n(E)||Jt(E)||/windows phone/i.test(E)||Ot(E)}function Un(E,y=[]){let v;switch(E){case"Browser":v=he((0,f.z$)());break;case"Worker":v=`${he((0,f.z$)())}-${E}`;break;default:v=E}const A=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${Z.SDK_VERSION}/${A}`}class xr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,v){const A=le=>new Promise((et,Ft)=>{try{et(y(le))}catch(Rn){Ft(Rn)}});A.onAbort=v,this.queue.push(A);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(y){var v=this;return(0,p.Z)(function*(){var A;if(v.auth.currentUser===y)return;const X=[];try{for(const le of v.queue)yield le(y),le.onAbort&&X.push(le.onAbort)}catch(le){X.reverse();for(const et of X)try{et()}catch(Ft){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=le)||void 0===A?void 0:A.message})}})()}}class Gr{constructor(y,v,A){this.app=y,this.heartbeatServiceProvider=v,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gn(this),this.idTokenSubscription=new Gn(this),this.beforeStateQueue=new xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(y,v){var A=this;return v&&(this._popupRedirectResolver=$e(v)),this._initializationPromise=this.queue((0,p.Z)(function*(){var X,le;if(!A._deleted&&(A.persistenceManager=yield Fe.create(A,y),!A._deleted)){if(null===(X=A._popupRedirectResolver)||void 0===X?void 0:X._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(et){}yield A.initializeCurrentUser(v),A.lastNotifiedUid=(null===(le=A.currentUser)||void 0===le?void 0:le.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,p.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v,!0)}})()}initializeCurrentUser(y){var v=this;return(0,p.Z)(function*(){var A;const X=yield v.assertedPersistence.getCurrentUser();let le=X,et=!1;if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ft=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,Rn=null==le?void 0:le._redirectEventId,Tn=yield v.tryRedirectSignIn(y);(!Ft||Ft===Rn)&&(null==Tn?void 0:Tn.user)&&(le=Tn.user,et=!0)}if(!le)return v.directlySetCurrentUser(null);if(!le._redirectEventId){if(et)try{yield v.beforeStateQueue.runMiddleware(le)}catch(Ft){le=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ft))}return le?v.reloadAndSetCurrentUserOrClear(le):v.directlySetCurrentUser(null)}return Ve(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===le._redirectEventId?v.directlySetCurrentUser(le):v.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(y){var v=this;return(0,p.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch(X){yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,p.Z)(function*(){var A;try{yield ur(y)}catch(X){if("auth/network-request-failed"!==(null===(A=X)||void 0===A?void 0:A.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Mt(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var y=this;return(0,p.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,p.Z)(function*(){const A=y?(0,f.m9)(y):null;return A&&Ve(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(y,v=!1){var A=this;return(0,p.Z)(function*(){if(!A._deleted)return y&&Ve(A.tenantId===y.tenantId,A,"tenant-id-mismatch"),v||(yield A.beforeStateQueue.runMiddleware(y)),A.queue((0,p.Z)(function*(){yield A.directlySetCurrentUser(y),A.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,p.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var v=this;return this.queue((0,p.Z)(function*(){yield v.assertedPersistence.setPersistence($e(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new f.LL("auth","Firebase",y())}onAuthStateChanged(y,v,A){return this.registerStateListener(this.authStateSubscription,y,v,A)}beforeAuthStateChanged(y,v){return this.beforeStateQueue.pushCallback(y,v)}onIdTokenChanged(y,v,A){return this.registerStateListener(this.idTokenSubscription,y,v,A)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var A=this;return(0,p.Z)(function*(){const X=yield A.getOrInitRedirectPersistenceManager(v);return null===y?X.removeCurrentUser():X.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,p.Z)(function*(){if(!v.redirectPersistenceManager){const A=y&&$e(y)||v._popupRedirectResolver;Ve(A,v,"argument-error"),v.redirectPersistenceManager=yield Fe.create(v,[$e(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,p.Z)(function*(){var A,X;return v._isInitialized&&(yield v.queue((0,p.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===y?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,p.Z)(function*(){if(y===v.currentUser)return v.queue((0,p.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,A,X){if(this._deleted)return()=>{};const le="function"==typeof v?v:v.next.bind(v),et=this._isInitialized?Promise.resolve():this._initializationPromise;return Ve(et,this,"internal-error"),et.then(()=>le(this.currentUser)),"function"==typeof v?y.addObserver(v,A,X):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,p.Z)(function*(){v.currentUser&&v.currentUser!==y&&v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh(),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,p.Z)(function*(){var v;const A={"X-Client-Version":y.clientVersion};y.app.options.appId&&(A["X-Firebase-gmpid"]=y.app.options.appId);const X=yield null===(v=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return X&&(A["X-Firebase-Client"]=X),A})()}}function Rt(E){return(0,f.m9)(E)}class Gn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,f.ne)(v=>this.observer=v)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dr(E,y,v){const A=Rt(E);Ve(A._canInitEmulator,A,"emulator-config-failed"),Ve(/^https?:\/\//.test(y),A,"invalid-emulator-scheme");const X=!!(null==v?void 0:v.disableWarnings),le=ei(y),{host:et,port:Ft}=function yi(E){const y=ei(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(y.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(A);if(X){const le=X[1];return{host:le,port:si(A.substr(le.length+1))}}{const[le,et]=A.split(":");return{host:le,port:si(et)}}}(y);A.config.emulator={url:`${le}//${et}${null===Ft?"":`:${Ft}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:et,port:Ft,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function Gi(){function E(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function ei(E){const y=E.indexOf(":");return y<0?"":E.substr(0,y+1)}function si(E){if(!E)return null;const y=Number(E);return isNaN(y)?null:y}class jn{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return st("not implemented")}_getIdTokenResponse(y){return st("not implemented")}_linkToIdToken(y,v){return st("not implemented")}_getReauthenticationResolver(y){return st("not implemented")}}function Ri(E,y){return pr.apply(this,arguments)}function pr(){return(pr=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:resetPassword",Yt(E,y))})).apply(this,arguments)}function Vn(E,y){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Xi(E,y){return ui.apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:update",Yt(E,y))})).apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(function*(E,y){return tr(E,"POST","/v1/accounts:signInWithPassword",Yt(E,y))})).apply(this,arguments)}function xi(E,y){return je.apply(this,arguments)}function je(){return(je=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:sendOobCode",Yt(E,y))})).apply(this,arguments)}function Oe(E,y){return We.apply(this,arguments)}function We(){return(We=(0,p.Z)(function*(E,y){return xi(E,y)})).apply(this,arguments)}function Dt(E,y){return kt.apply(this,arguments)}function kt(){return(kt=(0,p.Z)(function*(E,y){return xi(E,y)})).apply(this,arguments)}function Xt(E,y){return zn.apply(this,arguments)}function zn(){return(zn=(0,p.Z)(function*(E,y){return xi(E,y)})).apply(this,arguments)}function jr(E,y){return yr.apply(this,arguments)}function yr(){return(yr=(0,p.Z)(function*(E,y){return xi(E,y)})).apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(E,y){return tr(E,"POST","/v1/accounts:signInWithEmailLink",Yt(E,y))})).apply(this,arguments)}function es(){return(es=(0,p.Z)(function*(E,y){return tr(E,"POST","/v1/accounts:signInWithEmailLink",Yt(E,y))})).apply(this,arguments)}class Vi extends jn{constructor(y,v,A,X=null){super("password",A),this._email=y,this._password=v,this._tenantId=X}static _fromEmailAndPassword(y,v){return new Vi(y,v,"password")}static _fromEmailAndCode(y,v,A=null){return new Vi(y,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,p.Z)(function*(){switch(v.signInMethod){case"password":return function Jn(E,y){return Yr.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function vi(E,y){return bi.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:Et(y,"internal-error")}})()}_linkToIdToken(y,v){var A=this;return(0,p.Z)(function*(){switch(A.signInMethod){case"password":return Vn(y,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Ns(E,y){return es.apply(this,arguments)}(y,{idToken:v,email:A._email,oobCode:A._password});default:Et(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function di(E,y){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(E,y){return tr(E,"POST","/v1/accounts:signInWithIdp",Yt(E,y))})).apply(this,arguments)}class ls extends jn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new ls(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):Et("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:X}=v,le=(0,ve._T)(v,["providerId","signInMethod"]);if(!A||!X)return null;const et=new ls(A,X);return et.idToken=le.idToken||void 0,et.accessToken=le.accessToken||void 0,et.secret=le.secret,et.nonce=le.nonce,et.pendingToken=le.pendingToken||null,et}_getIdTokenResponse(y){return di(y,this.buildRequest())}_linkToIdToken(y,v){const A=this.buildRequest();return A.idToken=v,di(y,A)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,di(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,f.xO)(v)}return y}}function no(E,y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:sendVerificationCode",Yt(E,y))})).apply(this,arguments)}function Ms(){return(Ms=(0,p.Z)(function*(E,y){return tr(E,"POST","/v1/accounts:signInWithPhoneNumber",Yt(E,y))})).apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(E,y){const v=yield tr(E,"POST","/v1/accounts:signInWithPhoneNumber",Yt(E,y));if(v.temporaryProof)throw ir(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ro={USER_NOT_FOUND:"user-not-found"};function io(){return(io=(0,p.Z)(function*(E,y){return tr(E,"POST","/v1/accounts:signInWithPhoneNumber",Yt(E,Object.assign(Object.assign({},y),{operation:"REAUTH"})),ro)})).apply(this,arguments)}class Vs extends jn{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new Vs({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new Vs({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function Uo(E,y){return Ms.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function ts(E,y){return Bs.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function ea(E,y){return io.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:A,verificationCode:X}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:A,code:X}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:A,phoneNumber:X,temporaryProof:le}=y;return A||v||X||le?new Vs({verificationId:v,verificationCode:A,phoneNumber:X,temporaryProof:le}):null}}class mi{constructor(y){var v,A,X,le,et,Ft;const Rn=(0,f.zd)((0,f.pd)(y)),Tn=null!==(v=Rn.apiKey)&&void 0!==v?v:null,An=null!==(A=Rn.oobCode)&&void 0!==A?A:null,hs=function pa(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Rn.mode)&&void 0!==X?X:null);Ve(Tn&&An&&hs,"argument-error"),this.apiKey=Tn,this.operation=hs,this.code=An,this.continueUrl=null!==(le=Rn.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(et=Rn.languageCode)&&void 0!==et?et:null,this.tenantId=null!==(Ft=Rn.tenantId)&&void 0!==Ft?Ft:null}static parseLink(y){const v=function Os(E){const y=(0,f.zd)((0,f.pd)(E)).link,v=y?(0,f.zd)((0,f.pd)(y)).deep_link_id:null,A=(0,f.zd)((0,f.pd)(E)).deep_link_id;return(A?(0,f.zd)((0,f.pd)(A)).link:null)||A||v||y||E}(y);try{return new mi(v)}catch(A){return null}}}let Kr=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,A){return Vi._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const X=mi.parseLink(A);return Ve(X,"argument-error"),Vi._fromEmailAndCode(v,X.code,X.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Ni{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Jr extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class vr extends Jr{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return Ve("providerId"in v&&"signInMethod"in v,"argument-error"),ls._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ve(y.idToken||y.accessToken,"argument-error"),ls._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return vr.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return vr.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:X,pendingToken:le,nonce:et,providerId:Ft}=y;if(!A&&!X&&!v&&!le||!Ft)return null;try{return new vr(Ft)._credential({idToken:v,accessToken:A,nonce:et,pendingToken:le})}catch(Rn){return null}}}let wi=(()=>{class E extends Jr{constructor(){super("facebook.com")}static credential(v){return ls._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(A){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ns=(()=>{class E extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return ls._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:X}=v;if(!A&&!X)return null;try{return E.credential(A,X)}catch(le){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),oi=(()=>{class E extends Jr{constructor(){super("github.com")}static credential(v){return ls._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(A){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Wi extends jn{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return di(y,this.buildRequest())}_linkToIdToken(y,v){const A=this.buildRequest();return A.idToken=v,di(y,A)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,di(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:X,pendingToken:le}=v;return A&&X&&le&&A===X?new Wi(A,le):null}static _create(y,v){return new Wi(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rs extends Ni{constructor(y){Ve(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return rs.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return rs.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const v=Wi.fromJSON(y);return Ve(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:v,providerId:A}=y;if(!v||!A)return null;try{return Wi._create(A,v)}catch(X){return null}}}let Di=(()=>{class E extends Jr{constructor(){super("twitter.com")}static credential(v,A){return ls._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:X}=v;if(!A||!X)return null;try{return E.credential(A,X)}catch(le){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function jo(E,y){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(E,y){return tr(E,"POST","/v1/accounts:signUp",Yt(E,y))})).apply(this,arguments)}class G{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,A,X=!1){return(0,p.Z)(function*(){const le=yield rn._fromIdTokenResponse(y,A,X),et=K(A);return new G({user:le,providerId:et,_tokenResponse:A,operationType:v})})()}static _forOperation(y,v,A){return(0,p.Z)(function*(){yield y._updateTokensIfNecessary(A,!0);const X=K(A);return new G({user:y,providerId:X,_tokenResponse:A,operationType:v})})()}}function K(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function _e(E){return Se.apply(this,arguments)}function Se(){return(Se=(0,p.Z)(function*(E){var y;const v=Rt(E);if(yield v._initializationPromise,null===(y=v.currentUser)||void 0===y?void 0:y.isAnonymous)return new G({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield jo(v,{returnSecureToken:!0}),X=yield G._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class Be extends f.ZR{constructor(y,v,A,X){var le;super(v.code,v.message),this.operationType=A,this.user=X,Object.setPrototypeOf(this,Be.prototype),this.customData={appName:y.name,tenantId:null!==(le=y.tenantId)&&void 0!==le?le:void 0,_serverResponse:v.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(y,v,A,X){return new Be(y,v,A,X)}}function yt(E,y,v,A){return("reauthenticate"===y?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Be._fromErrorAndOperation(E,le,y,A):le})}function Wt(E){return new Set(E.map(({providerId:y})=>y).filter(y=>!!y))}function pn(E,y){return fn.apply(this,arguments)}function fn(){return(fn=(0,p.Z)(function*(E,y){const v=(0,f.m9)(E);yield Q(!0,v,y);const{providerUserInfo:A}=yield Ln(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),X=Wt(A||[]);return v.providerData=v.providerData.filter(le=>X.has(le.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function mn(E,y){return F.apply(this,arguments)}function F(){return(F=(0,p.Z)(function*(E,y,v=!1){const A=yield nn(E,y._linkToIdToken(E.auth,yield E.getIdToken()),v);return G._forOperation(E,"link",A)})).apply(this,arguments)}function Q(E,y,v){return V.apply(this,arguments)}function V(){return(V=(0,p.Z)(function*(E,y,v){yield ur(y);const X=!1===E?"provider-already-linked":"no-such-provider";Ve(Wt(y.providerData).has(v)===E,y.auth,X)})).apply(this,arguments)}function ne(E,y){return De.apply(this,arguments)}function De(){return(De=(0,p.Z)(function*(E,y,v=!1){var A;const{auth:X}=E,le="reauthenticate";try{const et=yield nn(E,yt(X,le,y,E),v);Ve(et.idToken,X,"internal-error");const Ft=Kn(et.idToken);Ve(Ft,X,"internal-error");const{sub:Rn}=Ft;return Ve(E.uid===Rn,X,"user-mismatch"),G._forOperation(E,le,et)}catch(et){throw"auth/user-not-found"===(null===(A=et)||void 0===A?void 0:A.code)&&Et(X,"user-mismatch"),et}})).apply(this,arguments)}function lt(E,y){return gt.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(E,y,v=!1){const A="signIn",X=yield yt(E,A,y),le=yield G._fromIdTokenResponse(E,A,X);return v||(yield E._updateCurrentUser(le.user)),le})).apply(this,arguments)}function an(E,y){return bn.apply(this,arguments)}function bn(){return(bn=(0,p.Z)(function*(E,y){return lt(Rt(E),y)})).apply(this,arguments)}function En(E,y){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)(function*(E,y){const v=(0,f.m9)(E);return yield Q(!1,v,y.providerId),mn(v,y)})).apply(this,arguments)}function sr(E,y){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(E,y){return ne((0,f.m9)(E),y)})).apply(this,arguments)}function Pr(E,y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,p.Z)(function*(E,y){return tr(E,"POST","/v1/accounts:signInWithCustomToken",Yt(E,y))})).apply(this,arguments)}function Ui(E,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(E,y){const v=Rt(E),A=yield Pr(v,{token:y,returnSecureToken:!0}),X=yield G._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class ln{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?Ii._fromServerResponse(y,v):Et(y,"internal-error")}}class Ii extends ln{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new Ii(v)}}function fo(E,y,v){var A;Ve((null===(A=v.url)||void 0===A?void 0:A.length)>0,E,"invalid-continue-uri"),Ve(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ve(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(Ve(v.android.packageName.length>0,E,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function Ws(E,y,v){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E),X={requestType:"PASSWORD_RESET",email:y};v&&fo(A,X,v),yield Dt(A,X)})).apply(this,arguments)}function H(E,y,v){return L.apply(this,arguments)}function L(){return(L=(0,p.Z)(function*(E,y,v){yield Ri((0,f.m9)(E),{oobCode:y,newPassword:v})})).apply(this,arguments)}function P(E,y){return re.apply(this,arguments)}function re(){return(re=(0,p.Z)(function*(E,y){yield Xi((0,f.m9)(E),{oobCode:y})})).apply(this,arguments)}function we(E,y){return At.apply(this,arguments)}function At(){return(At=(0,p.Z)(function*(E,y){const v=(0,f.m9)(E),A=yield Ri(v,{oobCode:y}),X=A.requestType;switch(Ve(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ve(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ve(A.mfaInfo,v,"internal-error");default:Ve(A.email,v,"internal-error")}let le=null;return A.mfaInfo&&(le=ln._fromServerResponse(Rt(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:le},operation:X}})).apply(this,arguments)}function ti(E,y){return hr.apply(this,arguments)}function hr(){return(hr=(0,p.Z)(function*(E,y){const{data:v}=yield we((0,f.m9)(E),y);return v.email})).apply(this,arguments)}function Es(E,y,v){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(E,y,v){const A=Rt(E),X=yield jo(A,{returnSecureToken:!0,email:y,password:v}),le=yield G._fromIdTokenResponse(A,"signIn",X);return yield A._updateCurrentUser(le.user),le})).apply(this,arguments)}function us(E,y,v){return an((0,f.m9)(E),Kr.credential(y,v))}function so(E,y,v){return po.apply(this,arguments)}function po(){return(po=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E),X={requestType:"EMAIL_SIGNIN",email:y};Ve(v.handleCodeInApp,A,"argument-error"),v&&fo(A,X,v),yield Xt(A,X)})).apply(this,arguments)}function ml(E,y){const v=mi.parseLink(y);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function go(E,y,v){return ol.apply(this,arguments)}function ol(){return(ol=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E),X=Kr.credentialWithLink(y,v||Ze());return Ve(X._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),an(A,X)})).apply(this,arguments)}function ta(E,y){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:createAuthUri",Yt(E,y))})).apply(this,arguments)}function Ys(E,y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,p.Z)(function*(E,y){const A={identifier:y,continueUri:Nt()?Ze():"http://localhost"},{signinMethods:X}=yield ta((0,f.m9)(E),A);return X||[]})).apply(this,arguments)}function So(E,y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(E,y){const v=(0,f.m9)(E),X={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};y&&fo(v.auth,X,y);const{email:le}=yield Oe(v.auth,X);le!==E.email&&(yield E.reload())})).apply(this,arguments)}function al(E,y,v){return mo.apply(this,arguments)}function mo(){return(mo=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:y};v&&fo(A.auth,le,v);const{email:et}=yield jr(A.auth,le);et!==E.email&&(yield E.reload())})).apply(this,arguments)}function Fa(E,y){return oo.apply(this,arguments)}function oo(){return(oo=(0,p.Z)(function*(E,y){return Cn(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ni(E,y){return ao.apply(this,arguments)}function ao(){return(ao=(0,p.Z)(function*(E,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const A=(0,f.m9)(E),le={idToken:yield A.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},et=yield nn(A,Fa(A.auth,le));A.displayName=et.displayName||null,A.photoURL=et.photoUrl||null;const Ft=A.providerData.find(({providerId:Rn})=>"password"===Rn);Ft&&(Ft.displayName=A.displayName,Ft.photoURL=A.photoURL),yield A._updateTokensIfNecessary(et)})).apply(this,arguments)}function Ka(E,y){return Is((0,f.m9)(E),y,null)}function ga(E,y){return Is((0,f.m9)(E),null,y)}function Is(E,y,v){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,p.Z)(function*(E,y,v){const{auth:A}=E,le={idToken:yield E.getIdToken(),returnSecureToken:!0};y&&(le.email=y),v&&(le.password=v);const et=yield nn(E,Vn(A,le));yield E._updateTokensIfNecessary(et,!0)})).apply(this,arguments)}class $o{constructor(y,v,A={}){this.isNewUser=y,this.providerId=v,this.profile=A}}class Za extends $o{constructor(y,v,A,X){super(y,v,A),this.username=X}}class Go extends $o{constructor(y,v){super(y,"facebook.com",v)}}class La extends Za{constructor(y,v){super(y,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class na extends $o{constructor(y,v){super(y,"google.com",v)}}class ll extends Za{constructor(y,v,A){super(y,"twitter.com",v,A)}}function Ya(E){const{user:y,_tokenResponse:v}=E;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function qi(E){var y,v;if(!E)return null;const{providerId:A}=E,X=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},le=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!A&&(null==E?void 0:E.idToken)){const et=null===(v=null===(y=Kn(E.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(et)return new $o(le,"anonymous"!==et&&"custom"!==et?et:null)}if(!A)return null;switch(A){case"facebook.com":return new Go(le,X);case"github.com":return new La(le,X);case"google.com":return new na(le,X);case"twitter.com":return new ll(le,X,E.screenName||null);case"custom":case"anonymous":return new $o(le,null);default:return new $o(le,A,X)}}(v)}class Ts{constructor(y,v,A){this.type=y,this.credential=v,this.auth=A}static _fromIdtoken(y,v){return new Ts("enroll",y,v)}static _fromMfaPendingCredential(y){return new Ts("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,A;if(null==y?void 0:y.multiFactorSession){if(null===(v=y.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Ts._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(A=y.multiFactorSession)||void 0===A?void 0:A.idToken)return Ts._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Mi{constructor(y,v,A){this.session=y,this.hints=v,this.signInResolver=A}static _fromError(y,v){const A=Rt(y),X=v.customData._serverResponse,le=(X.mfaInfo||[]).map(Ft=>ln._fromServerResponse(A,Ft));Ve(X.mfaPendingCredential,A,"internal-error");const et=Ts._fromMfaPendingCredential(X.mfaPendingCredential);return new Mi(et,le,function(){var Ft=(0,p.Z)(function*(Rn){const Tn=yield Rn._process(A,et);delete X.mfaInfo,delete X.mfaPendingCredential;const An=Object.assign(Object.assign({},X),{idToken:Tn.idToken,refreshToken:Tn.refreshToken});switch(v.operationType){case"signIn":const hs=yield G._fromIdTokenResponse(A,v.operationType,An);return yield A._updateCurrentUser(hs.user),hs;case"reauthenticate":return Ve(v.user,A,"internal-error"),G._forOperation(v.user,v.operationType,An);default:Et(A,"internal-error")}});return function(Rn){return Ft.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,p.Z)(function*(){return v.signInResolver(y)})()}}function Vt(E,y){var v;const A=(0,f.m9)(E),X=y;return Ve(y.customData.operationType,A,"argument-error"),Ve(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),Mi._fromError(A,X)}function br(E,y){return Cn(E,"POST","/v2/accounts/mfaEnrollment:start",Yt(E,y))}class _n{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>ln._fromServerResponse(y.auth,A)))})}static _fromUser(y){return new _n(y)}getSession(){var y=this;return(0,p.Z)(function*(){return Ts._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,v){var A=this;return(0,p.Z)(function*(){const X=y,le=yield A.getSession(),et=yield nn(A.user,X._process(A.user.auth,le,v));return yield A.user._updateTokensIfNecessary(et),A.user.reload()})()}unenroll(y){var v=this;return(0,p.Z)(function*(){var A;const X="string"==typeof y?y:y.uid,le=yield v.user.getIdToken(),et=yield nn(v.user,function xo(E,y){return Cn(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(E,y))}(v.user.auth,{idToken:le,mfaEnrollmentId:X}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ft})=>Ft!==X),yield v.user._updateTokensIfNecessary(et);try{yield v.user.reload()}catch(Ft){if("auth/user-token-expired"!==(null===(A=Ft)||void 0===A?void 0:A.code))throw Ft}})()}}const Nn=new WeakMap;function yo(E){const y=(0,f.m9)(E);return Nn.has(y)||Nn.set(y,_n._fromUser(y)),Nn.get(y)}const dn="__sak";class Qe{constructor(y,v){this.storageRetriever=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(dn,"1"),this.storage.removeItem(dn),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const zs=(()=>{class E extends Qe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,A)=>this.onStorageEvent(v,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ut(){const E=(0,f.z$)();return ce(E)||on(E)}()&&function Sn(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=Ht(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const X=this.storage.getItem(A),le=this.localCache[A];X!==le&&v(A,le,X)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((Ft,Rn,Tn)=>{this.notifyListeners(Ft,Tn)});const X=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ft=this.storage.getItem(X);if(v.newValue!==Ft)null!==v.newValue?this.storage.setItem(X,v.newValue):this.storage.removeItem(X);else if(this.localCache[X]===v.newValue&&!A)return}const le=()=>{const Ft=this.storage.getItem(X);!A&&this.localCache[X]===Ft||this.notifyListeners(X,Ft)},et=this.storage.getItem(X);!function It(){return(0,f.w1)()&&10===document.documentMode}()||et===v.newValue||v.newValue===v.oldValue?le():setTimeout(le,10)}notifyListeners(v,A){this.localCache[v]=A;const X=this.listeners[v];if(X)for(const le of Array.from(X))le(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var X=()=>super._set,le=this;return(0,p.Z)(function*(){yield X().call(le,v,A),le.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,X=this;return(0,p.Z)(function*(){const le=yield A().call(X,v);return X.localCache[v]=JSON.stringify(le),le})()}_remove(v){var A=()=>super._remove,X=this;return(0,p.Z)(function*(){yield A().call(X,v),delete X.localCache[v]})()}}return E.type="LOCAL",E})(),N=(()=>{class E extends Qe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return E.type="SESSION",E})();let J=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(le=>le.isListeningto(v));if(A)return A;const X=new E(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,p.Z)(function*(){const X=v,{eventId:le,eventType:et,data:Ft}=X.data,Rn=A.handlersMap[et];if(!(null==Rn?void 0:Rn.size))return;X.ports[0].postMessage({status:"ack",eventId:le,eventType:et});const Tn=Array.from(Rn).map(function(){var hs=(0,p.Z)(function*(el){return el(X.origin,Ft)});return function(el){return hs.apply(this,arguments)}}()),An=yield function M(E){return Promise.all(E.map(function(){var y=(0,p.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return y.apply(this,arguments)}}()))}(Tn);X.ports[0].postMessage({status:"done",eventId:le,eventType:et,response:An})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function be(E="",y=10){let v="";for(let A=0;A<y;A++)v+=Math.floor(10*Math.random());return E+v}class Ct{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,A=50){var X=this;return(0,p.Z)(function*(){const le="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let et,Ft;return new Promise((Rn,Tn)=>{const An=be("",20);le.port1.start();const hs=setTimeout(()=>{Tn(new Error("unsupported_event"))},A);Ft={messageChannel:le,onMessage(el){const Ro=el;if(Ro.data.eventId===An)switch(Ro.data.status){case"ack":clearTimeout(hs),et=setTimeout(()=>{Tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(et),Rn(Ro.data.response);break;default:clearTimeout(hs),clearTimeout(et),Tn(new Error("invalid_response"))}}},X.handlers.add(Ft),le.port1.addEventListener("message",Ft.onMessage),X.target.postMessage({eventType:y,eventId:An,data:v},[le.port2])}).finally(()=>{Ft&&X.removeMessageHandler(Ft)})})()}}function Kt(){return window}function Mn(){return void 0!==Kt().WorkerGlobalScope&&"function"==typeof Kt().importScripts}function qs(){return(qs=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const I="firebaseLocalStorageDb",B="firebaseLocalStorage",$="fbase_key";class q{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ge(E,y){return E.transaction([B],y?"readwrite":"readonly").objectStore(B)}function vt(){const E=indexedDB.open(I,1);return new Promise((y,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const A=E.result;try{A.createObjectStore(B,{keyPath:$})}catch(X){v(X)}}),E.addEventListener("success",(0,p.Z)(function*(){const A=E.result;A.objectStoreNames.contains(B)?y(A):(A.close(),yield function Me(){const E=indexedDB.deleteDatabase(I);return new q(E).toPromise()}(),y(yield vt()))}))})}function On(E,y,v){return gr.apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(E,y,v){const A=ge(E,!0).put({[$]:y,value:v});return new q(A).toPromise()})).apply(this,arguments)}function kr(){return(kr=(0,p.Z)(function*(E,y){const v=ge(E,!1).get(y),A=yield new q(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Fr(E,y){const v=ge(E,!0).delete(y);return new q(v).toPromise()}const Yi=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,p.Z)(function*(){return v.db||(v.db=yield vt()),v.db})()}_withRetries(v){var A=this;return(0,p.Z)(function*(){let X=0;for(;;)try{const le=yield A._openDb();return yield v(le)}catch(le){if(X++>3)throw le;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,p.Z)(function*(){return Mn()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,p.Z)(function*(){v.receiver=J._getInstance(function S(){return Mn()?self:null}()),v.receiver._subscribe("keyChanged",function(){var A=(0,p.Z)(function*(X,le){return{keyProcessed:(yield v._poll()).includes(le.key)}});return function(X,le){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,p.Z)(function*(X,le){return["keyChanged"]});return function(X,le){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,p.Z)(function*(){var A,X;if(v.activeServiceWorker=yield function Ti(){return qs.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ct(v.activeServiceWorker);const le=yield v.sender._send("ping",{},800);!le||(null===(A=le[0])||void 0===A?void 0:A.fulfilled)&&(null===(X=le[0])||void 0===X?void 0:X.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,p.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Si(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch(X){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const v=yield vt();return yield On(v,dn,"1"),yield Fr(v,dn),!0}catch(v){}return!1})()}_withPendingWrite(v){var A=this;return(0,p.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var X=this;return(0,p.Z)(function*(){return X._withPendingWrite((0,p.Z)(function*(){return yield X._withRetries(le=>On(le,v,A)),X.localCache[v]=A,X.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,p.Z)(function*(){const X=yield A._withRetries(le=>function qn(E,y){return kr.apply(this,arguments)}(le,v));return A.localCache[v]=X,X})()}_remove(v){var A=this;return(0,p.Z)(function*(){return A._withPendingWrite((0,p.Z)(function*(){return yield A._withRetries(X=>Fr(X,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,p.Z)(function*(){const A=yield v._withRetries(et=>{const Ft=ge(et,!1).getAll();return new q(Ft).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const X=[],le=new Set;for(const{fbase_key:et,value:Ft}of A)le.add(et),JSON.stringify(v.localCache[et])!==JSON.stringify(Ft)&&(v.notifyListeners(et,Ft),X.push(et));for(const et of Object.keys(v.localCache))v.localCache[et]&&!le.has(et)&&(v.notifyListeners(et,null),X.push(et));return X})()}notifyListeners(v,A){this.localCache[v]=A;const X=this.listeners[v];if(X)for(const le of Array.from(X))le(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function js(E,y){return Cn(E,"POST","/v2/accounts/mfaSignIn:start",Yt(E,y))}function nt(){return(nt=(0,p.Z)(function*(E){return(yield Cn(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ss(E){return new Promise((y,v)=>{const A=document.createElement("script");A.setAttribute("src",E),A.onload=y,A.onerror=X=>{const le=ze("internal-error");le.customData=X,v(le)},A.type="text/javascript",A.charset="UTF-8",function ba(){var E,y;return null!==(y=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==y?y:document}().appendChild(A)})}function ra(E){return`__${E}${Math.floor(1e6*Math.random())}`}const ys=1e12;class wa{constructor(y){this.auth=y,this.counter=ys,this._widgets=new Map}render(y,v){const A=this.counter;return this._widgets.set(A,new ru(y,this.auth.name,v||{})),this.counter++,A}reset(y){var v;const A=y||ys;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(y){var v;return(null===(v=this._widgets.get(y||ys))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,p.Z)(function*(){var A;return null===(A=v._widgets.get(y||ys))||void 0===A||A.execute(),""})()}}class ru{constructor(y,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof y?document.getElementById(y):y;Ve(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ba(E){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<E;A++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}(50);const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gu=ra("rcb"),kd=new Xe(3e4,6e4);class Wu{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(y=Kt().grecaptcha)||void 0===y?void 0:y.render)}load(y,v=""){return Ve(function Ja(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(v),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Kt().grecaptcha):new Promise((A,X)=>{const le=Kt().setTimeout(()=>{X(ze(y,"network-request-failed"))},kd.get());Kt()[Gu]=()=>{Kt().clearTimeout(le),delete Kt()[Gu];const Ft=Kt().grecaptcha;if(!Ft)return void X(ze(y,"internal-error"));const Rn=Ft.render;Ft.render=(Tn,An)=>{const hs=Rn(Tn,An);return this.counter++,hs},this.hostLanguage=v,A(Ft)},Ss(`https://www.google.com/recaptcha/api.js??${(0,f.xO)({onload:Gu,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(le),X(ze(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var v;return!!(null===(v=Kt().grecaptcha)||void 0===v?void 0:v.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fd{load(y){return(0,p.Z)(function*(){return new wa(y)})()}clearedOneInstance(){}}const vs="recaptcha",zu={theme:"light",type:"image"};class uo{constructor(y,v=Object.assign({},zu),A){this.parameters=v,this.type=vs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rt(A),this.isInvisible="invisible"===this.parameters.size,Ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof y?document.getElementById(y):y;Ve(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fd:new Wu,this.validateStartingState()}verify(){var y=this;return(0,p.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),A=y.getAssertedRecaptcha();return A.getResponse(v)||new Promise(le=>{const et=Ft=>{!Ft||(y.tokenChangeListeners.delete(et),le(Ft))};y.tokenChangeListeners.add(et),y.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ve(!this.parameters.sitekey,this.auth,"argument-error"),Ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof y)y(v);else if("string"==typeof y){const A=Kt()[y];"function"==typeof A&&A(v)}}}assertNotDestroyed(){Ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,p.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,p.Z)(function*(){Ve(Nt()&&!Mn(),y.auth,"internal-error"),yield function Li(){let E=null;return new Promise(y=>{"complete"!==document.readyState?(E=()=>y(),window.addEventListener("load",E)):y()}).catch(y=>{throw E&&window.removeEventListener("load",E),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function Js(E){return nt.apply(this,arguments)}(y.auth);Ve(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ks{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=Vs._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function Da(E,y,v){return wr.apply(this,arguments)}function wr(){return(wr=(0,p.Z)(function*(E,y,v){const A=Rt(E),X=yield Or(A,y,(0,f.m9)(v));return new ks(X,le=>an(A,le))})).apply(this,arguments)}function yl(E,y,v){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E);yield Q(!1,A,"phone");const X=yield Or(A.auth,y,(0,f.m9)(v));return new ks(X,le=>En(A,le))})).apply(this,arguments)}function vl(E,y,v){return No.apply(this,arguments)}function No(){return(No=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E),X=yield Or(A.auth,y,(0,f.m9)(v));return new ks(X,le=>sr(A,le))})).apply(this,arguments)}function Or(E,y,v){return As.apply(this,arguments)}function As(){return(As=(0,p.Z)(function*(E,y,v){var A;const X=yield v.verify();try{let le;if(Ve("string"==typeof X,E,"argument-error"),Ve(v.type===vs,E,"argument-error"),le="string"==typeof y?{phoneNumber:y}:y,"session"in le){const et=le.session;if("phoneNumber"in le)return Ve("enroll"===et.type,E,"internal-error"),(yield br(E,{idToken:et.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ve("signin"===et.type,E,"internal-error");const Ft=(null===(A=le.multiFactorHint)||void 0===A?void 0:A.uid)||le.multiFactorUid;return Ve(Ft,E,"missing-multi-factor-info"),(yield js(E,{mfaPendingCredential:et.credential,mfaEnrollmentId:Ft,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:et}=yield no(E,{phoneNumber:le.phoneNumber,recaptchaToken:X});return et}}finally{v._reset()}})).apply(this,arguments)}function Vl(E,y){return sa.apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(E,y){yield mn((0,f.m9)(E),y)})).apply(this,arguments)}let oa=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=Rt(v)}verifyPhoneNumber(v,A){return Or(this.auth,v,(0,f.m9)(A))}static credential(v,A){return Vs._fromVerification(v,A)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:X}=v;return A&&X?Vs._fromTokenResponse(A,X):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function aa(E,y){return y?$e(y):(Ve(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Ca extends jn{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return di(y,this._buildIdpRequest())}_linkToIdToken(y,v){return di(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return di(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function co(E){return lt(E.auth,new Ca(E),E.bypassAuthState)}function Ul(E){const{auth:y,user:v}=E;return Ve(v,y,"internal-error"),ne(v,new Ca(E),E.bypassAuthState)}function Ea(E){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(E){const{auth:y,user:v}=E;return Ve(v,y,"internal-error"),mn(v,new Ca(E),E.bypassAuthState)})).apply(this,arguments)}class bs{constructor(y,v,A,X,le=!1){this.auth=y,this.resolver=A,this.user=X,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,p.Z)(function*(A,X){y.pendingPromise={resolve:A,reject:X};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(le){y.reject(le)}});return function(A,X){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,p.Z)(function*(){const{urlResponse:A,sessionId:X,postBody:le,tenantId:et,error:Ft,type:Rn}=y;if(Ft)return void v.reject(Ft);const Tn={auth:v.auth,requestUri:A,sessionId:X,tenantId:et||void 0,postBody:le||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Rn)(Tn))}catch(An){v.reject(An)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return co;case"linkViaPopup":case"linkViaRedirect":return Ea;case"reauthViaPopup":case"reauthViaRedirect":return Ul;default:Et(this.auth,"internal-error")}}resolve(y){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zo=new Xe(2e3,1e4);function ws(E,y,v){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(E,y,v){const A=Rt(E);at(E,y,Ni);const X=aa(A,v);return new Ia(A,"signInViaPopup",y,X).executeNotNull()})).apply(this,arguments)}function qo(E,y,v){return bl.apply(this,arguments)}function bl(){return(bl=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E);at(A.auth,y,Ni);const X=aa(A.auth,v);return new Ia(A.auth,"reauthViaPopup",y,X,A).executeNotNull()})).apply(this,arguments)}function Va(E,y,v){return jl.apply(this,arguments)}function jl(){return(jl=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E);at(A.auth,y,Ni);const X=aa(A.auth,v);return new Ia(A.auth,"linkViaPopup",y,X,A).executeNotNull()})).apply(this,arguments)}let Ia=(()=>{class E extends bs{constructor(v,A,X,le,et){super(v,A,le,et),this.provider=X,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,p.Z)(function*(){const A=yield v.execute();return Ve(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,p.Z)(function*(){ut(1===v.filter.length,"Popup operations only handle one event");const A=be();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,X;this.pollId=(null===(X=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===X?void 0:X.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,zo.get())};v()}}return E.currentPopupAction=null,E})();const la=new Map;class Ua extends bs{constructor(y,v,A=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,p.Z)(function*(){let A=la.get(v.auth._key());if(!A){try{const le=(yield function wl(E,y){return Ta.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;A=()=>Promise.resolve(le)}catch(X){A=()=>Promise.reject(X)}la.set(v.auth._key(),A)}return v.bypassAuthState||la.set(v.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,A=this;return(0,p.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(A,y);if("unknown"!==y.type){if(y.eventId){const X=yield A.auth._redirectUserForId(y.eventId);if(X)return A.user=X,v().call(A,y);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Ta(){return(Ta=(0,p.Z)(function*(E,y){const v=su(y),A=iu(E);if(!(yield A._isAvailable()))return!1;const X="true"===(yield A._get(v));return yield A._remove(v),X})).apply(this,arguments)}function Mo(E,y){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(function*(E,y){return iu(E)._set(su(y),"true")})).apply(this,arguments)}function Hl(){la.clear()}function ja(E,y){la.set(E._key(),y)}function iu(E){return $e(E._redirectPersistence)}function su(E){return me("pendingRedirect",E.config.apiKey,E.name)}function Fs(E,y,v){return function qu(E,y,v){return pi.apply(this,arguments)}(E,y,v)}function pi(){return(pi=(0,p.Z)(function*(E,y,v){const A=Rt(E);at(E,y,Ni);const X=aa(A,v);return yield Mo(X,A),X._openRedirect(A,y,"signInViaRedirect")})).apply(this,arguments)}function Ku(E,y,v){return function k(E,y,v){return U.apply(this,arguments)}(E,y,v)}function U(){return(U=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E);at(A.auth,y,Ni);const X=aa(A.auth,v);yield Mo(X,A.auth);const le=yield mr(A);return X._openRedirect(A.auth,y,"reauthViaRedirect",le)})).apply(this,arguments)}function te(E,y,v){return function ye(E,y,v){return Ge.apply(this,arguments)}(E,y,v)}function Ge(){return(Ge=(0,p.Z)(function*(E,y,v){const A=(0,f.m9)(E);at(A.auth,y,Ni);const X=aa(A.auth,v);yield Q(!1,A,y.providerId),yield Mo(X,A.auth);const le=yield mr(A);return X._openRedirect(A.auth,y,"linkViaRedirect",le)})).apply(this,arguments)}function ht(E,y){return $t.apply(this,arguments)}function $t(){return($t=(0,p.Z)(function*(E,y){return yield Rt(E)._initializationPromise,yn(E,y,!1)})).apply(this,arguments)}function yn(E,y){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(E,y,v=!1){const A=Rt(E),X=aa(A,y),et=yield new Ua(A,X,v).execute();return et&&!v&&(delete et.user._redirectEventId,yield A._persistUserIfCurrent(et.user),yield A._setRedirectUser(null,y)),et})).apply(this,arguments)}function mr(E){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,p.Z)(function*(E){const y=be(`${E.uid}:::`);return E._redirectEventId=y,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),y})).apply(this,arguments)}class ds{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(y,A)&&(v=!0,this.sendToConsumer(y,A),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function ul(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dl(E);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var A;if(y.error&&!Dl(y)){const X=(null===(A=y.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(ze(this.auth,X))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const A=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&A}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vo(y))}saveEventToCache(y){this.cachedEventUids.add(vo(y)),this.lastProcessedEventTime=Date.now()}}function vo(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(y=>y).join("-")}function Dl({type:E,error:y}){return"unknown"===E&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Sa(E){return ua.apply(this,arguments)}function ua(){return(ua=(0,p.Z)(function*(E,y={}){return Cn(E,"GET","/v1/projects",y)})).apply(this,arguments)}const cl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ou=/^https?/;function wo(){return(wo=(0,p.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:y}=yield Sa(E);for(const v of y)try{if(Aa(v))return}catch(A){}Et(E,"unauthorized-domain")})).apply(this,arguments)}function Aa(E){const y=Ze(),{protocol:v,hostname:A}=new URL(y);if(E.startsWith("chrome-extension://")){const et=new URL(E);return""===et.hostname&&""===A?"chrome-extension:"===v&&E.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&et.hostname===A}if(!ou.test(v))return!1;if(cl.test(E))return A===E;const X=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(A)}const cp=new Xe(3e4,6e4);function Ha(){const E=Kt().___jsl;if(null==E?void 0:E.H)for(const y of Object.keys(E.H))if(E.H[y].r=E.H[y].r||[],E.H[y].L=E.H[y].L||[],E.H[y].r=[...E.H[y].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let Eu=null;function Bc(E){return Eu=Eu||function Ld(E){return new Promise((y,v)=>{var A,X,le;function et(){Ha(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Ha(),v(ze(E,"network-request-failed"))},timeout:cp.get()})}if(null===(X=null===(A=Kt().gapi)||void 0===A?void 0:A.iframes)||void 0===X?void 0:X.Iframe)y(gapi.iframes.getContext());else{if(!(null===(le=Kt().gapi)||void 0===le?void 0:le.load)){const Ft=ra("iframefcb");return Kt()[Ft]=()=>{gapi.load?et():v(ze(E,"network-request-failed"))},Ss(`https://apis.google.com/js/api.js?onload=${Ft}`).catch(Rn=>v(Rn))}et()}}).catch(y=>{throw Eu=null,y})}(E),Eu}const Vc=new Xe(5e3,15e3),$l={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bd(E){const y=E.config;Ve(y.authDomain,E,"auth-domain-config-required");const v=y.emulator?pt(y,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,A={apiKey:y.apiKey,appName:E.name,v:Z.SDK_VERSION},X=Xa.get(E.config.apiHost);X&&(A.eid=X);const le=E._getFrameworks();return le.length&&(A.fw=le.join(",")),`${v}?${(0,f.xO)(A).slice(1)}`}function Zu(){return Zu=(0,p.Z)(function*(E){const y=yield Bc(E),v=Kt().gapi;return Ve(v,E,"internal-error"),y.open({where:document.body,url:Bd(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$l,dontclear:!0},A=>new Promise(function(){var X=(0,p.Z)(function*(le,et){yield A.restyle({setHideOnLeave:!1});const Ft=ze(E,"network-request-failed"),Rn=Kt().setTimeout(()=>{et(Ft)},Vc.get());function Tn(){Kt().clearTimeout(Rn),le(A)}A.ping(Tn).then(Tn,()=>{et(Ft)})});return function(le,et){return X.apply(this,arguments)}}()))}),Zu.apply(this,arguments)}const Yu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qu{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Cl(E,y,v,A,X,le){Ve(E.config.authDomain,E,"auth-domain-config-required"),Ve(E.config.apiKey,E,"invalid-api-key");const et={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:A,v:Z.SDK_VERSION,eventId:X};if(y instanceof Ni){y.setDefaultLanguage(E.languageCode),et.providerId=y.providerId||"",(0,f.xb)(y.getCustomParameters())||(et.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Rn,Tn]of Object.entries(le||{}))et[Rn]=Tn}if(y instanceof Jr){const Rn=y.getScopes().filter(Tn=>""!==Tn);Rn.length>0&&(et.scopes=Rn.join(","))}E.tenantId&&(et.tid=E.tenantId);const Ft=et;for(const Rn of Object.keys(Ft))void 0===Ft[Rn]&&delete Ft[Rn];return`${function Ko({config:E}){return E.emulator?pt(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,f.xO)(Ft).slice(1)}`}const El="webStorageSupport",jd=class lu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N,this._completeRedirectFn=yn,this._overrideRedirectResult=ja}_openPopup(y,v,A,X){var le=this;return(0,p.Z)(function*(){var et;ut(null===(et=le.eventManagers[y._key()])||void 0===et?void 0:et.manager,"_initialize() not called before _openPopup()");const Ft=Cl(y,v,A,Ze(),X);return function Xu(E,y,v,A=500,X=600){const le=Math.max((window.screen.availHeight-X)/2,0).toString(),et=Math.max((window.screen.availWidth-A)/2,0).toString();let Ft="";const Rn=Object.assign(Object.assign({},Yu),{width:A.toString(),height:X.toString(),top:le,left:et}),Tn=(0,f.z$)().toLowerCase();v&&(Ft=Ye(Tn)?"_blank":v),ie(Tn)&&(y=y||"http://localhost",Rn.scrollbars="yes");const An=Object.entries(Rn).reduce((el,[Ro,ec])=>`${el}${Ro}=${ec},`,"");if(function qr(E=(0,f.z$)()){var y;return on(E)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(Tn)&&"_self"!==Ft)return function Uh(E,y){const v=document.createElement("a");v.href=E,v.target=y;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(y||"",Ft),new Qu(null);const hs=window.open(y||"",Ft,An);Ve(hs,E,"popup-blocked");try{hs.focus()}catch(el){}return new Qu(hs)}(y,Ft,be())})()}_openRedirect(y,v,A,X){var le=this;return(0,p.Z)(function*(){return yield le._originValidation(y),function Oi(E){Kt().location.href=E}(Cl(y,v,A,Ze(),X)),new Promise(()=>{})})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:X,promise:le}=this.eventManagers[v];return X?Promise.resolve(X):(ut(le,"If manager is not set, promise should be"),le)}const A=this.initAndGetManager(y);return this.eventManagers[v]={promise:A},A.catch(()=>{delete this.eventManagers[v]}),A}initAndGetManager(y){var v=this;return(0,p.Z)(function*(){const A=yield function Uc(E){return Zu.apply(this,arguments)}(y),X=new ds(y);return A.register("authEvent",le=>(Ve(null==le?void 0:le.authEvent,y,"invalid-auth-event"),{status:X.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:X},v.iframes[y._key()]=A,X})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(El,{type:El},X=>{var le;const et=null===(le=null==X?void 0:X[0])||void 0===le?void 0:le[El];void 0!==et&&v(!!et),Et(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function bo(E){return wo.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ht()||ce()||on()}};class $c extends class Iu{constructor(y){this.factorId=y}_process(y,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,A);case"signin":return this._finalizeSignIn(y,v.credential);default:return st("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new $c(y)}_finalizeEnroll(y,v,A){return function _o(E,y){return Cn(E,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(E,y))}(y,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function os(E,y){return Cn(E,"POST","/v2/accounts/mfaSignIn:finalize",Yt(E,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hh=(()=>{class E{constructor(){}static assertion(v){return $c._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var Tu="@firebase/auth",Gc="0.20.10";class dp{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,p.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(A=>{var X;y((null===(X=A)||void 0===X?void 0:X.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hp=(0,f.Pz)("authIdTokenMaxAge")||300;let $h=null;const Il=E=>function(){var y=(0,p.Z)(function*(v){const A=v&&(yield v.getIdTokenResult()),X=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(X&&X>hp)return;const le=null==A?void 0:A.token;$h!==le&&($h=le,yield fetch(E,{method:le?"POST":"DELETE",headers:le?{Authorization:`Bearer ${le}`}:{}}))});return function(v){return y.apply(this,arguments)}}();function Hd(E=(0,Z.getApp)()){const y=(0,Z._getProvider)(E,"auth");if(y.isInitialized())return y.getImmediate();const v=function Le(E,y){const v=(0,Z._getProvider)(E,"auth");if(v.isInitialized()){const X=v.getImmediate(),le=v.getOptions();if((0,f.vZ)(le,null!=y?y:{}))return X;Et(X,"already-initialized")}return v.initialize({options:y})}(E,{popupRedirectResolver:jd,persistence:[Yi,zs,N]}),A=(0,f.Pz)("authTokenSyncURL");if(A){const le=Il(A);(function Fi(E,y,v){(0,f.m9)(E).beforeAuthStateChanged(y,v)})(v,le,()=>le(v.currentUser)),function Wo(E,y,v,A){(0,f.m9)(E).onIdTokenChanged(y,v,A)}(v,et=>le(et))}const X=(0,f.q4)("auth");return X&&dr(v,`http://${X}`),v}!function Wc(E){(0,Z._registerComponent)(new ke.wA("auth",(y,{options:v})=>{const A=y.getProvider("app").getImmediate(),X=y.getProvider("heartbeat"),{apiKey:le,authDomain:et}=A.options;return((Ft,Rn)=>{Ve(le&&!le.includes(":"),"invalid-api-key",{appName:Ft.name}),Ve(!(null==et?void 0:et.includes(":")),"argument-error",{appName:Ft.name});const Tn={apiKey:le,authDomain:et,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Un(E)},An=new Gr(Ft,Rn,Tn);return function Ke(E,y){const v=(null==y?void 0:y.persistence)||[],A=(Array.isArray(v)?v:[v]).map($e);(null==y?void 0:y.errorMap)&&E._updateErrorMap(y.errorMap),E._initializeWithPersistence(A,null==y?void 0:y.popupRedirectResolver)}(An,v),An})(A,X)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,A)=>{y.getProvider("auth-internal").initialize()})),(0,Z._registerComponent)(new ke.wA("auth-internal",y=>{const v=Rt(y.getProvider("auth").getImmediate());return new dp(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Z.registerVersion)(Tu,Gc,function Ds(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Z.registerVersion)(Tu,Gc,"esm2017")}("Browser")},5525:(Zt,xe,j)=>{"use strict";j.d(xe,{u7:()=>ip,Jj:()=>pl,IX:()=>Mh,my:()=>fs,xU:()=>kc,Lz:()=>vu,WA:()=>Ut,F8:()=>eu,$q:()=>sl,W:()=>fa,EK:()=>Si,PU:()=>Dm,l7:()=>Ca,Ky:()=>q,Xb:()=>$,Cf:()=>Qr,K9:()=>yo,Me:()=>yl,yq:()=>_o,Wi:()=>gu,ET:()=>b_,Ab:()=>A_,vr:()=>S_,Fc:()=>Ad,hJ:()=>pm,B$:()=>Kf,at:()=>Nc,oe:()=>ly,AK:()=>I_,TF:()=>gm,JU:()=>Zf,ST:()=>Td,fH:()=>Sd,Ix:()=>xd,Wu:()=>ny,Lx:()=>ty,qY:()=>ps,GL:()=>Bh,QT:()=>y_,kl:()=>iy,Xk:()=>sy,PL:()=>oy,UQ:()=>wm,zN:()=>sp,ad:()=>Rh,nP:()=>cy,b9:()=>ey,vh:()=>h_,Pb:()=>Nd,L$:()=>hg,cf:()=>w_,sc:()=>vg,Xo:()=>c_,IO:()=>Q_,iE:()=>Nh,Eo:()=>dg,i3:()=>E_,Bt:()=>T_,pl:()=>ay,Ub:()=>Mi,qK:()=>__,TQ:()=>g_,e0:()=>p_,r7:()=>v_,Mx:()=>n_,ar:()=>X_});var ae,p=j(5861),f=j(9681),Z=j(4859),Ie=j(1877),ve=j(2090),ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ne={},Ue=Ue||{},oe=ke||self;function de(){}function Re(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function He(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ft="closure_uid_"+(1e9*Math.random()>>>0),bt=0;function Je(i,e,t){return i.call.apply(i.bind,arguments)}function tt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,o),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function ct(i,e,t){return(ct=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:tt).apply(null,arguments)}function Et(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ze(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,d,m){for(var b=Array(arguments.length-2),x=2;x<arguments.length;x++)b[x-2]=arguments[x];return e.prototype[d].apply(o,b)}}function ot(){this.s=this.s,this.o=this.o}var Tt={};ot.prototype.s=!1,ot.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function qe(i){return Object.prototype.hasOwnProperty.call(i,ft)&&i[ft]||(i[ft]=++bt)}(this);delete Tt[i]}},ot.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ve=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function st(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function ut(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Re(o)){const d=i.length||0,m=o.length||0;i.length=d+m;for(let b=0;b<m;b++)i[d+b]=o[b]}else i.push(o)}}function Te(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var $e=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{oe.addEventListener("test",de,e),oe.removeEventListener("test",de,e)}catch(t){}return i}();function Le(i){return/^[\s\xa0]*$/.test(i)}var Ke=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ze(i,e){return i<e?-1:i>e?1:0}function Nt(){var i=oe.navigator;return i&&(i=i.userAgent)?i:""}function Lt(i){return-1!=Nt().indexOf(i)}function wt(i){return wt[" "](i),i}wt[" "]=de;var Hn,i,Xe=Lt("Opera"),pt=Lt("Trident")||Lt("MSIE"),en=Lt("Edge"),cn=en||pt,gn=Lt("Gecko")&&!(-1!=Nt().toLowerCase().indexOf("webkit")&&!Lt("Edge"))&&!(Lt("Trident")||Lt("MSIE"))&&!Lt("Edge"),Yt=-1!=Nt().toLowerCase().indexOf("webkit")&&!Lt("Edge");function Cn(){var i=oe.document;return i?i.documentMode:void 0}e:{var Xn="",_r=(i=Nt(),gn?/rv:([^\);]+)(\)|;)/.exec(i):en?/Edge\/([\d\.]+)/.exec(i):pt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Yt?/WebKit\/(\S+)/.exec(i):Xe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(_r&&(Xn=_r?_r[1]:""),pt){var tr=Cn();if(null!=tr&&tr>parseFloat(Xn)){Hn=String(tr);break e}}Hn=Xn}var Nr={};var Rr=oe.document&&pt&&(Cn()||parseInt(Hn,10))||void 0;function Qt(i,e){if(Te.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(gn){e:{try{wt(e.nodeName);var d=!0;break e}catch(m){}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ln[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Qt.X.h.call(this)}}ze(Qt,Te);var Ln={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function nr(i,e,t,o,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=d,this.key=++Gt,this.ba=this.ea=!1}function Mr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function li(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Tr(i){const e={};for(const t in i)e[t]=i[t];return e}const Wr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zr(i,e){let t,o;for(let d=1;d<arguments.length;d++){for(t in o=arguments[d],o)i[t]=o[t];for(let m=0;m<Wr.length;m++)t=Wr[m],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Kn(i){this.src=i,this.g={},this.h=0}function St(i,e){var t=e.type;if(t in i.g){var m,o=i.g[t],d=Ve(o,e);(m=0<=d)&&Array.prototype.splice.call(o,d,1),m&&(Mr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function nn(i,e,t,o){for(var d=0;d<i.length;++d){var m=i[d];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==o)return d}return-1}Kn.prototype.add=function(i,e,t,o,d){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var b=nn(i,e,o,d);return-1<b?(e=i[b],t||(e.ea=!1)):((e=new nr(e,this.src,m,!!o,d)).ea=t,i.push(e)),e};var _i="closure_lm_"+(1e6*Math.random()|0),Ur={};function lr(i,e,t,o,d){if(o&&o.once)return Ar(i,e,t,o,d);if(Array.isArray(e)){for(var m=0;m<e.length;m++)lr(i,e[m],t,o,d);return null}return t=qt(t),i&&i[Bn]?i.N(e,t,He(o)?!!o.capture:!!o,d):Cr(i,e,t,!1,o,d)}function Cr(i,e,t,o,d,m){if(!e)throw Error("Invalid event type");var b=He(d)?!!d.capture:!!d,x=Bt(i);if(x||(i[_i]=x=new Kn(i)),(t=x.add(e,t,o,b,m)).proxy)return t;if(o=function ur(){const e=ci;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)$e||(d=b),void 0===d&&(d=!1),i.addEventListener(e.toString(),o,d);else if(i.attachEvent)i.attachEvent(er(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Ar(i,e,t,o,d){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Ar(i,e[m],t,o,d);return null}return t=qt(t),i&&i[Bn]?i.O(e,t,He(o)?!!o.capture:!!o,d):Cr(i,e,t,!0,o,d)}function Pn(i,e,t,o,d){if(Array.isArray(e))for(var m=0;m<e.length;m++)Pn(i,e[m],t,o,d);else o=He(o)?!!o.capture:!!o,t=qt(t),i&&i[Bn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=nn(m=i.g[e],t,o,d))&&(Mr(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=Bt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nn(e,t,o,d)),(t=-1<i?e[i]:null)&&Sr(t))}function Sr(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Bn])St(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(er(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Bt(e))?(St(t,i),0==t.h&&(t.src=null,e[_i]=null)):Mr(i)}}}function er(i){return i in Ur?Ur[i]:Ur[i]="on"+i}function ci(i,e){if(i.ba)i=!0;else{e=new Qt(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Sr(i),i=t.call(o,e)}return i}function Bt(i){return(i=i[_i])instanceof Kn?i:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(i){return"function"==typeof i?i:(i[_t]||(i[_t]=function(e){return i.handleEvent(e)}),i[_t])}function tn(){ot.call(this),this.i=new Kn(this),this.P=this,this.I=null}function rn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Te(e,i);else if(e instanceof Te)e.target=e.target||i;else{var d=e;zr(e=new Te(o,i),d)}if(d=!0,t)for(var m=t.length-1;0<=m;m--){var b=e.g=t[m];d=Zn(b,o,!0,e)&&d}if(d=Zn(b=e.g=i,o,!0,e)&&d,d=Zn(b,o,!1,e)&&d,t)for(m=0;m<t.length;m++)d=Zn(b=e.g=t[m],o,!1,e)&&d}function Zn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,m=0;m<e.length;++m){var b=e[m];if(b&&!b.ba&&b.capture==t){var x=b.listener,W=b.ha||b.src;b.ea&&St(i.i,b),d=!1!==x.call(W,o)&&d}}return d&&!o.defaultPrevented}ze(tn,ot),tn.prototype[Bn]=!0,tn.prototype.removeEventListener=function(i,e,t,o){Pn(this,i,e,t,o)},tn.prototype.M=function(){if(tn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Mr(t[o]);delete i.g[e],i.h--}}this.I=null},tn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},tn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var pe=oe.JSON.stringify;function me(){var i=$n;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ot,he=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ie,i=>i.reset());class ie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ce(i){oe.setTimeout(()=>{throw i},0)}function Ye(i,e){Ot||function sn(){var i=oe.Promise.resolve(void 0);Ot=function(){i.then(on)}}(),Jt||(Ot(),Jt=!0),$n.add(i,e)}var Jt=!1,$n=new class Fe{constructor(){this.h=this.g=null}add(e,t){const o=he.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function on(){for(var i;i=me();){try{i.h.call(i.g)}catch(t){ce(t)}var e=he;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Jt=!1}function Er(i,e){tn.call(this),this.h=i||1,this.g=e||oe,this.j=ct(this.lb,this),this.l=Date.now()}function qr(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function It(i,e,t){if("function"==typeof i)t&&(i=ct(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ct(i.handleEvent,i)}return 2147483647<Number(e)?-1:oe.setTimeout(i,e||0)}function Ht(i){i.g=It(()=>{i.g=null,i.i&&(i.i=!1,Ht(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ze(Er,tn),(ae=Er.prototype).ca=!1,ae.R=null,ae.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),rn(this,"tick"),this.ca&&(qr(this),this.start()))}},ae.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ae.M=function(){Er.X.M.call(this),qr(this),delete this.g};class Sn extends ot{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ht(this)}M(){super.M(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(i){ot.call(this),this.h=i,this.g={}}ze(Un,ot);var xr=[];function Gr(i,e,t,o){Array.isArray(t)||(t&&(xr[0]=t.toString()),t=xr);for(var d=0;d<t.length;d++){var m=lr(e,t[d],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Rt(i){li(i.g,function(e,t){this.g.hasOwnProperty(t)&&Sr(e)},i),i.g={}}function Gn(){this.g=!0}function yi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var d=o[1];if(Array.isArray(d)&&!(1>d.length)){var m=d[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var b=1;b<d.length;b++)d[b]=""}}}return pe(t)}catch(x){return e}}(i,t)+(o?" "+o:"")})}Un.prototype.M=function(){Un.X.M.call(this),Rt(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gn.prototype.Aa=function(){this.g=!1},Gn.prototype.info=function(){};var jn={},Ri=null;function pr(){return Ri=Ri||new tn}function Vn(i){Te.call(this,jn.Pa,i)}function Ei(i){const e=pr();rn(e,new Vn(e,i))}function Xi(i,e){Te.call(this,jn.STAT_EVENT,i),this.stat=e}function ui(i){const e=pr();rn(e,new Xi(e,i))}function Jn(i,e){Te.call(this,jn.Qa,i),this.size=e}function Yr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){i()},e)}jn.Pa="serverreachability",ze(Vn,Te),jn.STAT_EVENT="statevent",ze(Xi,Te),jn.Qa="timingevent",ze(Jn,Te);var xi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},je={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Oe(){}function Dt(){}Oe.prototype.h=null;var jr,kt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Xt(){Te.call(this,"d")}function zn(){Te.call(this,"c")}function yr(){}function vi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Un(this),this.O=Ns,this.T=new Er(i=cn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}ze(Xt,Te),ze(zn,Te),ze(yr,Oe),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},jr=new yr;var Ns=45e3,es={},Vi={};function di(i,e,t){i.K=1,i.v=wi(Pi(e)),i.s=t,i.P=!0,ho(i,null)}function ho(i,e){i.F=Date.now(),Ks(i),i.A=Pi(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Se(t.i,"t",o),i.C=0,t=i.l.H,i.h=new bi,i.g=ga(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Sn(ct(i.La,i,i.g),i.N)),Gr(i.S,i.g,"readystatechange",i.ib),e=i.H?Tr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Ei(1),function dr(i,e,t,o,d,m){i.info(function(){if(i.g)if(m)for(var b="",x=m.split("&"),W=0;W<x.length;W++){var Y=x[W].split("=");if(1<Y.length){var ue=Y[0];Y=Y[1];var Ae=ue.split("_");b=2<=Ae.length&&"type"==Ae[1]?b+(ue+"=")+Y+"&":b+(ue+"=redacted&")}}else b=null;else b=m;return"XMLHTTP REQ ("+o+") [attempt "+d+"]: "+e+"\n"+t+"\n"+b})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Xo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function ls(i,e,t){let d,o=!0;for(;!i.I&&i.C<t.length;){if(d=no(i,t),d==Vi){4==e&&(i.o=4,ui(14),o=!1),yi(i.j,i.m,null,"[Incomplete Response]");break}if(d==es){i.o=4,ui(15),yi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}yi(i.j,i.m,d,null),ro(i,d)}Xo(i)&&d!=Vi&&d!=es&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,ui(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ps(e),e.K=!0,ui(11))):(yi(i.j,i.m,t,"[Invalid Chunked Response]"),Bs(i),ts(i))}function no(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Vi:(t=Number(e.substring(t,o)),isNaN(t)?es:(o+=1)+t>e.length?Vi:(e=e.substr(o,t),i.C=o+t,e))}function Ks(i){i.V=Date.now()+i.O,Uo(i,i.O)}function Uo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Yr(ct(i.gb,i),e)}function Ms(i){i.B&&(oe.clearTimeout(i.B),i.B=null)}function ts(i){0==i.l.G||i.I||Fa(i.l,i)}function Bs(i){Ms(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,qr(i.T),Rt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ro(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Q(t.h,i)))if(!i.J&&Q(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(Y){o=null}if(Array.isArray(o)&&3==o.length){var d=o;if(0==d[0])e:if(t.u)t.Ba=d[1],0<t.Ba-t.T&&37500>d[2]&&t.L&&0==t.A&&!t.v&&(t.v=Yr(ct(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;mo(t),po(t)}So(t),ui(18)}if(1>=F(t.h)&&t.ja){try{t.ja()}catch(Y){}t.ja=void 0}}else ni(t,11)}else if((i.J||t.g==i)&&mo(t),!Le(e))for(d=t.Fa.g.parse(e),e=0;e<d.length;e++){let Y=d[e];if(t.T=Y[0],Y=Y[1],2==t.G)if("c"==Y[0]){t.I=Y[1],t.ka=Y[2];const ue=Y[3];null!=ue&&(t.ma=ue,t.j.info("VER="+t.ma));const Ae=Y[4];null!=Ae&&(t.Ca=Ae,t.j.info("SVER="+t.Ca));const dt=Y[5];null!=dt&&"number"==typeof dt&&0<dt&&(t.J=o=1.5*dt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Pt=i.g;if(Pt){const jt=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jt){var m=o.h;m.g||-1==jt.indexOf("spdy")&&-1==jt.indexOf("quic")&&-1==jt.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(V(m,m.h),m.h=null))}if(o.D){const Fn=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fn&&(o.za=Fn,vr(o.F,o.D,Fn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var b=i;if((o=t).sa=Ka(o,o.H?o.ka:null,o.V),b.J){ne(o.h,b);var x=b,W=o.J;W&&x.setTimeout(W),x.B&&(Ms(x),Ks(x)),o.g=b}else Ho(o);0<t.i.length&&go(t)}else"stop"!=Y[0]&&"close"!=Y[0]||ni(t,7);else 3==t.G&&("stop"==Y[0]||"close"==Y[0]?"stop"==Y[0]?ni(t,7):so(t):"noop"!=Y[0]&&t.l&&t.l.wa(Y),t.A=0)}Ei(4)}catch(Y){}}function Vs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Re(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function io(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(Re(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function ea(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Re(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),d=o.length,m=0;m<d;m++)e.call(void 0,o[m],t&&t[m],i)}(ae=vi.prototype).setTimeout=function(i){this.O=i},ae.ib=function(i){i=i.target;const e=this.L;e&&3==At(i)?e.l():this.La(i)},ae.La=function(i){try{if(i==this.g)e:{const ue=At(this.g);var e=this.g.Ea();const Ae=this.g.aa();if(!(3>ue)&&(3!=ue||cn||this.g&&(this.h.h||this.g.fa()||ti(this.g)))){this.I||4!=ue||7==e||Ei(8==e||0>=Ae?3:2),Ms(this);var t=this.g.aa();this.Y=t;t:if(Xo(this)){var o=ti(this.g);i="";var d=o.length,m=4==At(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bs(this),ts(this);var b="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==d-1});o.splice(0,d),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.fa();if(this.i=200==t,function ei(i,e,t,o,d,m,b){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+m+" "+b})}(this.j,this.u,this.A,this.m,this.U,ue,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var x,W=this.g;if((x=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(x)){var Y=x;break t}}Y=null}if(!(t=Y)){this.i=!1,this.o=3,ui(12),Bs(this),ts(this);break e}yi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ro(this,t)}this.P?(ls(this,ue,b),cn&&this.i&&3==ue&&(Gr(this.S,this.T,"tick",this.hb),this.T.start())):(yi(this.j,this.m,b,null),ro(this,b)),4==ue&&Bs(this),this.i&&!this.I&&(4==ue?Fa(this.l,this):(this.i=!1,Ks(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),Bs(this),ts(this)}}}catch(ue){}},ae.hb=function(){if(this.g){var i=At(this.g),e=this.g.fa();this.C<e.length&&(Ms(this),ls(this,i,e),this.i&&4!=i&&Ks(this))}},ae.cancel=function(){this.I=!0,Bs(this)},ae.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function si(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ei(3),ui(17)),Bs(this),this.o=2,ts(this)):Uo(this,this.V-i)};var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mi(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof mi){this.h=void 0!==e?e:i.h,Kr(this,i.j),this.s=i.s,this.g=i.g,Ni(this,i.m),this.l=i.l,e=i.i;var t=new hi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Jr(this,t),this.o=i.o}else i&&(t=String(i).match(pa))?(this.h=!!e,Kr(this,t[1]||"",!0),this.s=ns(t[2]||""),this.g=ns(t[3]||"",!0),Ni(this,t[4]),this.l=ns(t[5]||"",!0),Jr(this,t[6]||"",!0),this.o=ns(t[7]||"")):(this.h=!!e,this.i=new hi(null,this.h))}function Pi(i){return new mi(i)}function Kr(i,e,t){i.j=t?ns(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ni(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Jr(i,e,t){e instanceof hi?(i.i=e,function yt(i,e){e&&!i.j&&(G(i),i.i=null,i.g.forEach(function(t,o){var d=o.toLowerCase();o!=d&&(K(this,o),Se(this,d,t))},i)),i.j=e}(i.i,i.h)):(t||(e=oi(e,Di)),i.i=new hi(e,i.h))}function vr(i,e,t){i.i.set(e,t)}function wi(i){return vr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ns(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function oi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Gs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Gs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}mi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(oi(e,Wi,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(oi(e,Wi,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(oi(t,"/"==t.charAt(0)?rs:Rs,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",oi(t,jo)),i.join("")};var Wi=/[#\/\?@]/g,Rs=/[#\?:]/g,rs=/[#\?]/g,Di=/[#\?@]/g,jo=/#/g;function hi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function G(i){i.g||(i.g=new Map,i.h=0,i.i&&function Os(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),d=null;if(0<=o){var m=i[t].substring(0,o);d=i[t].substring(o+1)}else m=i[t];e(m,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function K(i,e){G(i),e=Be(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function _e(i,e){return G(i),e=Be(i,e),i.g.has(e)}function Se(i,e,t){K(i,e),0<t.length&&(i.i=null,i.g.set(Be(i,e),st(t)),i.h+=t.length)}function Be(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function pn(i){this.l=i||fn,i=oe.PerformanceNavigationTiming?0<(i=oe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(oe.g&&oe.g.Ga&&oe.g.Ga()&&oe.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ae=hi.prototype).add=function(i,e){G(this),this.i=null,i=Be(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ae.forEach=function(i,e){G(this),this.g.forEach(function(t,o){t.forEach(function(d){i.call(e,d,o,this)},this)},this)},ae.oa=function(){G(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const d=i[o];for(let m=0;m<d.length;m++)t.push(e[o])}return t},ae.W=function(i){G(this);let e=[];if("string"==typeof i)_e(this,i)&&(e=e.concat(this.g.get(Be(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ae.set=function(i,e){return G(this),this.i=null,_e(this,i=Be(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ae.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const m=encodeURIComponent(String(o)),b=this.W(o);for(o=0;o<b.length;o++){var d=m;""!==b[o]&&(d+="="+encodeURIComponent(String(b[o]))),i.push(d)}}return this.i=i.join("&")};var fn=10;function mn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function F(i){return i.h?1:i.g?i.g.size:0}function Q(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function V(i,e){i.g?i.g.add(e):i.h=e}function ne(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function De(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return st(i.i)}function lt(){}function gt(){this.g=new lt}function an(i,e,t){const o=t||"";try{Vs(i,function(d,m){let b=d;He(d)&&(b=pe(d)),e.push(o+m+"="+encodeURIComponent(b))})}catch(d){throw e.push(o+"type="+encodeURIComponent("_badmap")),d}}function En(i,e,t,o,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(o)}catch(m){}}function In(i){this.l=i.ac||null,this.j=i.jb||!1}function sr(i,e){tn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=cr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pn.prototype.cancel=function(){if(this.i=De(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},lt.prototype.stringify=function(i){return oe.JSON.stringify(i,void 0)},lt.prototype.parse=function(i){return oe.JSON.parse(i,void 0)},ze(In,Oe),In.prototype.g=function(){return new sr(this.l,this.j)},In.prototype.i=function(i){return function(){return i}}({}),ze(sr,tn);var cr=0;function Pr(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Qn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ui(i)}function Ui(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ae=sr.prototype).open=function(i,e){if(this.readyState!=cr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ui(this)},ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||oe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qn(this)),this.readyState=cr},ae.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==oe.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pr(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ae.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Qn(this):Ui(this),3==this.readyState&&Pr(this)}},ae.Va=function(i){this.g&&(this.response=this.responseText=i,Qn(this))},ae.Ua=function(i){this.g&&(this.response=i,Qn(this))},ae.ga=function(){this.g&&Qn(this)},ae.setRequestHeader=function(i,e){this.v.append(i,e)},ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var zi=oe.JSON.parse;function ln(i){tn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ii,this.K=this.L=!1}ze(ln,tn);var Ii="",fo=/^https?$/i,Ws=["POST","PUT"];function H(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,L(i),re(i)}function L(i){i.D||(i.D=!0,rn(i,"complete"),rn(i,"error"))}function P(i){if(i.h&&void 0!==Ue&&(!i.C[1]||4!=At(i)||2!=i.aa()))if(i.v&&4==At(i))It(i.Ha,0,i);else if(rn(i,"readystatechange"),4==At(i)){i.h=!1;try{const x=i.aa();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===x){var d=String(i.H).match(pa)[1]||null;if(!d&&oe.self&&oe.self.location){var m=oe.self.location.protocol;d=m.substr(0,m.length-1)}o=!fo.test(d?d.toLowerCase():"")}t=o}if(t)rn(i,"complete"),rn(i,"success");else{i.m=6;try{var b=2<At(i)?i.g.statusText:""}catch(W){b=""}i.j=b+" ["+i.aa()+"]",L(i)}}finally{re(i)}}}function re(i,e){if(i.g){we(i);const t=i.g,o=i.C[0]?de:null;i.g=null,i.C=null,e||rn(i,"ready");try{t.onreadystatechange=o}catch(d){}}}function we(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(oe.clearTimeout(i.A),i.A=null)}function At(i){return i.g?i.g.readyState:0}function ti(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ii:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function hr(i){let e="";return li(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Es(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=hr(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):vr(i,e,t))}function ji(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function us(i){this.Ca=0,this.i=[],this.j=new Gn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ji("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ji("baseRetryDelayMs",5e3,i),this.bb=ji("retryDelaySeedMs",1e4,i),this.$a=ji("forwardChannelMaxRetries",2,i),this.ta=ji("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new pn(i&&i.concurrentRequestLimit),this.Fa=new gt,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function so(i){if(ml(i),3==i.G){var e=i.U++,t=Pi(i.F);vr(t,"SID",i.I),vr(t,"RID",e),vr(t,"TYPE","terminate"),ki(i,t),(e=new vi(i,i.j,e,void 0)).K=2,e.v=wi(Pi(t)),t=!1,oe.navigator&&oe.navigator.sendBeacon&&(t=oe.navigator.sendBeacon(e.v.toString(),"")),!t&&oe.Image&&((new Image).src=e.v,t=!0),t||(e.g=ga(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ks(e)}ao(i)}function po(i){i.g&&(Ps(i),i.g.cancel(),i.g=null)}function ml(i){po(i),i.u&&(oe.clearTimeout(i.u),i.u=null),mo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&oe.clearTimeout(i.m),i.m=null)}function go(i){mn(i.h)||i.m||(i.m=!0,Ye(i.Ja,i),i.C=0)}function ta(i,e){var t;t=e?e.m:i.U++;const o=Pi(i.F);vr(o,"SID",i.I),vr(o,"RID",t),vr(o,"AID",i.T),ki(i,o),i.o&&i.s&&Es(o,i.o,i.s),t=new vi(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Ys(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),V(i.h,t),di(t,o,e)}function ki(i,e){i.ia&&li(i.ia,function(t,o){vr(e,o,t)}),i.l&&Vs({},function(t,o){vr(e,o,t)})}function Ys(i,e,t){t=Math.min(i.i.length,t);var o=i.l?ct(i.l.Ra,i.l,i):null;e:{var d=i.i;let m=-1;for(;;){const b=["count="+t];-1==m?0<t?(m=d[0].h,b.push("ofs="+m)):m=0:b.push("ofs="+m);let x=!0;for(let W=0;W<t;W++){let Y=d[W].h;const ue=d[W].g;if(Y-=m,0>Y)m=Math.max(0,d[W].h-100),x=!1;else try{an(ue,b,"req"+Y+"_")}catch(Ae){o&&o(ue)}}if(x){o=b.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Ho(i){i.g||i.u||(i.Z=1,Ye(i.Ia,i),i.A=0)}function So(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Yr(ct(i.Ia,i),oo(i,i.A)),i.A++,0))}function Ps(i){null!=i.B&&(oe.clearTimeout(i.B),i.B=null)}function al(i){i.g=new vi(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Pi(i.sa);vr(e,"RID","rpc"),vr(e,"SID",i.I),vr(e,"CI",i.L?"0":"1"),vr(e,"AID",i.T),vr(e,"TYPE","xmlhttp"),ki(i,e),i.o&&i.s&&Es(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=wi(Pi(e)),t.s=null,t.P=!0,ho(t,i)}function mo(i){null!=i.v&&(oe.clearTimeout(i.v),i.v=null)}function Fa(i,e){var t=null;if(i.g==e){mo(i),Ps(i),i.g=null;var o=2}else{if(!Q(i.h,e))return;t=e.D,ne(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var d=i.C;rn(o=pr(),new Jn(o,t,e,d)),go(i)}else Ho(i);else if(3==(d=e.o)||0==d&&0<i.pa||!(1==o&&function ol(i,e){return!(F(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Yr(ct(i.Ja,i,e),oo(i,i.C)),i.C++,0)))}(i,e)||2==o&&So(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),d){case 1:ni(i,5);break;case 4:ni(i,10);break;case 3:ni(i,6);break;default:ni(i,2)}}function oo(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function ni(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=ct(i.kb,i);t||(t=new mi("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||Kr(t,"https"),wi(t)),function bn(i,e){const t=new Gn;if(oe.Image){const o=new Image;o.onload=Et(En,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Et(En,t,o,"TestLoadImage: error",!1,e),o.onabort=Et(En,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Et(En,t,o,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else ui(2);i.G=0,i.l&&i.l.va(e),ao(i),ml(i)}function ao(i){if(i.G=0,i.la=[],i.l){const e=De(i.h);(0!=e.length||0!=i.i.length)&&(ut(i.la,e),ut(i.la,i.i),i.h.i.length=0,st(i.i),i.i.length=0),i.l.ua()}}function Ka(i,e,t){var o=t instanceof mi?Pi(t):new mi(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Ni(o,o.m);else{var d=oe.location;o=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var m=new mi(null,void 0);o&&Kr(m,o),e&&(m.g=e),d&&Ni(m,d),t&&(m.l=t),o=m}return e=i.za,(t=i.D)&&e&&vr(o,t,e),vr(o,"VER",i.ma),ki(i,o),o}function ga(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ln(t&&i.Da&&!i.ra?new In({jb:!0}):i.ra)).Ka(i.H),e}function Is(){}function Ao(){if(pt&&!(10<=Number(Rr)))throw Error("Environmental error: no available transport.")}function qi(i,e){tn.call(this),this.g=new us(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Le(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Le(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Go(this)}function $o(i){Xt.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Za(){zn.call(this),this.status=1}function Go(i){this.g=i}(ae=ln.prototype).Ka=function(i){this.L=i},ae.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jr.g(),this.C=function We(i){return i.h||(i.h=i.i())}(this.u?this.u:jr),this.g.onreadystatechange=ct(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void H(this,m)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var d in o)t.set(d,o[d]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())t.set(m,o.get(m))}o=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),d=oe.FormData&&i instanceof oe.FormData,!(0<=Ve(Ws,e))||o||d||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,b]of t)this.g.setRequestHeader(m,b);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{we(this),0<this.B&&((this.K=function Zs(i){return pt&&function vn(){return function Mt(i){var e=Nr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ke(String(Hn)).split("."),t=Ke("9").split("."),o=Math.max(e.length,t.length);for(let b=0;0==i&&b<o;b++){var d=e[b]||"",m=t[b]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==d[0].length&&0==m[0].length)break;i=Ze(0==d[1].length?0:parseInt(d[1],10),0==m[1].length?0:parseInt(m[1],10))||Ze(0==d[2].length,0==m[2].length)||Ze(d[2],m[2]),d=d[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ct(this.qa,this)):this.A=It(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){H(this,m)}},ae.qa=function(){void 0!==Ue&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))},ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,rn(this,"complete"),rn(this,"abort"),re(this))},ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),re(this,!0)),ln.X.M.call(this)},ae.Ha=function(){this.s||(this.F||this.v||this.l?P(this):this.fb())},ae.fb=function(){P(this)},ae.aa=function(){try{return 2<At(this)?this.g.status:-1}catch(i){return-1}},ae.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ae.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),zi(e)}},ae.Ea=function(){return this.m},ae.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ae=us.prototype).ma=8,ae.G=1,ae.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const d=new vi(this,this.j,i,void 0);let m=this.s;if(this.S&&(m?(m=Tr(m),zr(m,this.S)):m=this.S),null!==this.o||this.N||(d.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ys(this,d,e),vr(t=Pi(this.F),"RID",i),vr(t,"CVER",22),this.D&&vr(t,"X-HTTP-Session-Id",this.D),ki(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(hr(m)))+"&"+e:this.o&&Es(t,this.o,m)),V(this.h,d),this.Ya&&vr(t,"TYPE","init"),this.O?(vr(t,"$req",e),vr(t,"SID","null"),d.Z=!0,di(d,t,null)):di(d,t,e),this.G=2}}else 3==this.G&&(i?ta(this,i):0==this.i.length||mn(this.h)||ta(this))},ae.Ia=function(){if(this.u=null,al(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Yr(ct(this.eb,this),i)}},ae.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ui(10),po(this),al(this))},ae.cb=function(){null!=this.v&&(this.v=null,po(this),So(this),ui(19))},ae.kb=function(i){i?(this.j.info("Successfully pinged google.com"),ui(2)):(this.j.info("Failed to ping google.com"),ui(1))},(ae=Is.prototype).xa=function(){},ae.wa=function(){},ae.va=function(){},ae.ua=function(){},ae.Ra=function(){},Ao.prototype.g=function(i,e){return new qi(i,e)},ze(qi,tn),qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;ui(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Ka(i,null,i.V),go(i)},qi.prototype.close=function(){so(this.g)},qi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=pe(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&go(e)},qi.prototype.M=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,qi.X.M.call(this)},ze($o,Xt),ze(Za,zn),ze(Go,Is),Go.prototype.xa=function(){rn(this.g,"a")},Go.prototype.wa=function(i){rn(this.g,new $o(i))},Go.prototype.va=function(i){rn(this.g,new Za(i))},Go.prototype.ua=function(){rn(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,je.COMPLETE="complete",Dt.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",tn.prototype.listen=tn.prototype.N,ln.prototype.listenOnce=ln.prototype.O,ln.prototype.getLastError=ln.prototype.Oa,ln.prototype.getLastErrorCode=ln.prototype.Ea,ln.prototype.getStatus=ln.prototype.aa,ln.prototype.getResponseJson=ln.prototype.Sa,ln.prototype.getResponseText=ln.prototype.fa,ln.prototype.send=ln.prototype.da,ln.prototype.setWithCredentials=ln.prototype.Ka;var La=Ne.createWebChannelTransport=function(){return new Ao},na=Ne.getStatEventTarget=function(){return pr()},ll=Ne.ErrorCode=xi,Ya=Ne.EventType=je,_s=Ne.Event=jn,Wo=Ne.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Fi=Ne.FetchXmlHttpFactory=In,ma=Ne.WebChannel=Dt,wu=Ne.XhrIo=ln;const Ki="@firebase/firestore";class Zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zi.UNAUTHENTICATED=new Zi(null),Zi.GOOGLE_CREDENTIALS=new Zi("google-credentials-uid"),Zi.FIRST_PARTY=new Zi("first-party-uid"),Zi.MOCK_USER=new Zi("mock-user");let _a="9.12.1";const Us=new Ie.Yd("@firebase/firestore");function Ts(){return Us.logLevel}function Mi(i){Us.setLogLevel(i)}function Vt(i,...e){if(Us.logLevel<=Ie.in.DEBUG){const t=e.map(xo);Us.debug(`Firestore (${_a}): ${i}`,...t)}}function br(i,...e){if(Us.logLevel<=Ie.in.ERROR){const t=e.map(xo);Us.error(`Firestore (${_a}): ${i}`,...t)}}function _o(i,...e){if(Us.logLevel<=Ie.in.WARN){const t=e.map(xo);Us.warn(`Firestore (${_a}): ${i}`,...t)}}function xo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function _n(i="Unexpected state"){const e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+i;throw br(e),new Error(e)}function Nn(i,e){i||_n()}function yo(i,e){i||_n()}function dn(i,e){return i}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class is{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _l{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Du{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zi.UNAUTHENTICATED))}shutdown(){}}class zs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ya{constructor(e){this.t=e,this.currentUser=Zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let d=this.i;const m=Y=>this.i!==d?(d=this.i,t(Y)):Promise.resolve();let b=new is;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new is,e.enqueueRetryable(()=>m(this.currentUser))};const x=()=>{const Y=b;e.enqueueRetryable((0,p.Z)(function*(){yield Y.promise,yield m(o.currentUser)}))},W=Y=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Y=>W(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?W(Y):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new is)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Nn("string"==typeof o.accessToken),new _l(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nn(null===e||"string"==typeof e),new Zi(e)}}class N{constructor(e,t,o,d){this.h=e,this.l=t,this.m=o,this.g=d,this.type="FirstParty",this.user=Zi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Nn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class M{constructor(e,t,o,d){this.h=e,this.l=t,this.m=o,this.g=d}getToken(){return Promise.resolve(new N(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class be{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=m=>{null!=m.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.A;return this.A=m.token,Vt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const d=m=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.T.onInit(m=>d(m)),setTimeout(()=>{if(!this.appCheck){const m=this.T.getImmediate({optional:!0});m?d(m):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nn("string"==typeof t.token),this.A=t.token,new J(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kt(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Oi{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const d=Kt(40);for(let m=0;m<d.length;++m)o.length<20&&d[m]<t&&(o+=e.charAt(d[m]%e.length))}return o}}function Mn(i,e){return i<e?-1:i>e?1:0}function Ti(i,e,t){return i.length===e.length&&i.every((o,d)=>t(o,e[d]))}function qs(i){return i+"\0"}class Si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ut(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Si(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mn(this.nanoseconds,e.nanoseconds):Mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class S{constructor(e){this.timestamp=e}static fromTimestamp(e){return new S(e)}static min(){return new S(new Si(0,0))}static max(){return new S(new Si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class I{constructor(e,t,o){void 0===t?t=0:t>e.length&&_n(),void 0===o?o=e.length-t:o>e.length-t&&_n(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===I.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof I?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let d=0;d<o;d++){const m=e.get(d),b=t.get(d);if(m<b)return-1;if(m>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class C extends I{construct(e,t,o){return new C(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ut(Qe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(d=>d.length>0))}return new C(t)}static emptyPath(){return new C([])}}const B=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $ extends I{construct(e,t,o){return new $(e,t,o)}static isValidIdentifier(e){return B.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $(["__name__"])}static fromServerFormat(e){const t=[];let o="",d=0;const m=()=>{if(0===o.length)throw new Ut(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let b=!1;for(;d<e.length;){const x=e[d];if("\\"===x){if(d+1===e.length)throw new Ut(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[d+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new Ut(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=W,d+=2}else"`"===x?(b=!b,d++):"."!==x||b?(o+=x,d++):(m(),d++)}if(m(),b)throw new Ut(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $(t)}static emptyPath(){return new $([])}}class q{constructor(e){this.path=e}static fromPath(e){return new q(C.fromString(e))}static fromName(e){return new q(C.fromString(e).popFirst(5))}static empty(){return new q(C.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===C.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return C.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new C(e.slice()))}}class ge{constructor(e,t,o,d){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=d}}function Me(i){return i.fields.find(e=>2===e.kind)}function vt(i){return i.fields.filter(e=>2!==e.kind)}ge.UNKNOWN_ID=-1;class gr{constructor(e,t){this.fieldPath=e,this.kind=t}}class kr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kr(0,cs.min())}}function Fr(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,d=S.fromTimestamp(1e9===o?new Si(t+1,0):new Si(t,o));return new cs(d,q.empty(),e)}function ss(i){return new cs(i.readTime,i.key,-1)}class cs{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new cs(S.min(),q.empty(),-1)}static max(){return new cs(S.max(),q.empty(),-1)}}function va(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=q.comparator(i.documentKey,e.documentKey),0!==t?t:Mn(i.largestBatchId,e.largestBatchId))}const Yi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class js{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function os(i){return Js.apply(this,arguments)}function Js(){return Js=(0,p.Z)(function*(i){if(i.code!==Qe.FAILED_PRECONDITION||i.message!==Yi)throw i;Vt("LocalStore","Unexpectedly lost primary lease")}),Js.apply(this,arguments)}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt((o,d)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,d)},this.catchCallback=m=>{this.wrapFailure(t,m).next(o,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.reject(t)}static resolve(e){return new nt((t,o)=>{t(e)})}static reject(e){return new nt((t,o)=>{o(e)})}static waitFor(e){return new nt((t,o)=>{let d=0,m=0,b=!1;e.forEach(x=>{++d,x.next(()=>{++m,b&&m===d&&t()},W=>o(W))}),b=!0,m===d&&t()})}static or(e){let t=nt.resolve(!1);for(const o of e)t=t.next(d=>d?nt.resolve(d):o());return t}static forEach(e,t){const o=[];return e.forEach((d,m)=>{o.push(t.call(this,d,m))}),this.waitFor(o)}static mapArray(e,t){return new nt((o,d)=>{const m=e.length,b=new Array(m);let x=0;for(let W=0;W<m;W++){const Y=W;t(e[Y]).next(ue=>{b[Y]=ue,++x,x===m&&o(b)},ue=>d(ue))}})}static doWhile(e,t){return new nt((o,d)=>{const m=()=>{!0===e()?t().next(()=>{m()},d):o()};m()})}}class ba{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new is,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ia(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const d=Ba(o.target.error);this.P.reject(new ia(e,d))}}static open(e,t,o,d){try{return new ba(t,e.transaction(d,o))}catch(m){throw new ia(t,m)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ys(t)}}class Ss{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Ss.D((0,ve.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),wa(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ve.hl)())return!1;if(Ss.N())return!0;const e=(0,ve.z$)(),t=Ss.D(e),o=0<t&&t<10,d=Ss.k(e),m=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,p.Z)(function*(){return t.db||(Vt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,d)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=b=>{o(b.target.result)},m.onblocked=()=>{d(new ia(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const x=b.target.error;d("VersionError"===x.name?new Ut(Qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new Ut(Qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new ia(e,x))},m.onupgradeneeded=b=>{Vt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.S.$(b.target.result,m.transaction,b.oldVersion,t.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,d){var m=this;return(0,p.Z)(function*(){const b="readonly"===t;let x=0;for(;;){++x;try{m.db=yield m.F(e);const W=ba.open(m.db,e,b?"readonly":"readwrite",o),Y=d(W).next(ue=>(W.V(),ue)).catch(ue=>(W.abort(ue),nt.reject(ue))).toPromise();return Y.catch(()=>{}),yield W.v,Y}catch(W){const Y=W,ue="FirebaseError"!==Y.name&&x<3;if(Vt("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ue),m.close(),!ue)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ra{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return wa(this.U.delete())}}class ia extends Ut{constructor(e,t){super(Qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function lo(i){return"IndexedDbTransactionError"===i.name}class ys{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Vt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),wa(o)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),wa(this.store.add(e))}get(e){return wa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Vt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),wa(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),wa(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const d=this.cursor(o),m=[];return this.H(d,(b,x)=>{m.push(x)}).next(()=>m)}{const d=this.store.getAll(o.range);return new nt((m,b)=>{d.onerror=x=>{b(x.target.error)},d.onsuccess=x=>{m(x.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new nt((d,m)=>{o.onerror=b=>{m(b.target.error)},o.onsuccess=b=>{d(b.target.result)}})}Y(e,t){Vt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const d=this.cursor(o);return this.H(d,(m,b,x)=>x.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const d=this.cursor(o);return this.H(d,t)}tt(e){const t=this.cursor({});return new nt((o,d)=>{t.onerror=m=>{const b=Ba(m.target.error);d(b)},t.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():o()}):o()}})}H(e,t){const o=[];return new nt((d,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void d();const W=new ra(x),Y=t(x.primaryKey,x.value,W);if(Y instanceof nt){const ue=Y.catch(Ae=>(W.done(),nt.reject(Ae)));o.push(ue)}W.isDone?d():null===W.G?x.continue():x.continue(W.G)}}).next(()=>nt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wa(i){return new nt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const d=Ba(o.target.error);t(d)}})}let ru=!1;function Ba(i){const e=Ss.D((0,ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ru||(ru=!0,setTimeout(()=>{throw o},0)),o}}return i}class Gu{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Vt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{Vt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){lo(o)?Vt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield os(o)}yield t.nt(6e4)}))}}class kd{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let d=t,m=!0;return nt.doWhile(()=>!0===m&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return Vt("IndexBackiller",`Processing collection: ${b}`),this.rt(e,b,d).next(x=>{d-=x,o.add(b)});m=!1})).next(()=>t-d)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(d=>this.localStore.localDocuments.getNextDocuments(e,t,d,o).next(m=>{const b=m.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.ot(d,m)).next(x=>(Vt("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>b.size)}))}ot(e,t){let o=e;return t.changes.forEach((d,m)=>{const b=ss(m);va(b,o)>0&&(o=b)}),new cs(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ri{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Wu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ja(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Fd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}ri.at=-1;class vs{constructor(e,t){this.comparator=e,this.root=t||uo.EMPTY}insert(e,t){return new vs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,uo.BLACK,null,null))}remove(e){return new vs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const d=this.comparator(e,o.key);if(0===d)return t+o.left.size;d<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,t,o,d){this.isReverse=d,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?o(e.key,t):1,t&&d&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class uo{constructor(e,t,o,d,m){this.key=e,this.value=t,this.color=null!=o?o:uo.RED,this.left=null!=d?d:uo.EMPTY,this.right=null!=m?m:uo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,d,m){return new uo(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=d?d:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let d=this;const m=o(e,d.key);return d=m<0?d.copy(null,null,null,d.left.insert(e,t,o),null):0===m?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,o)),d.fixUp()}removeMin(){if(this.left.isEmpty())return uo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return uo.EMPTY;o=d.right.min(),d=d.copy(o.key,o.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,uo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,uo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();const e=this.left.check();if(e!==this.right.check())throw _n();return e+(this.isRed()?0:1)}}uo.EMPTY=null,uo.RED=!0,uo.BLACK=!1,uo.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(i,e,t,o,d){return this}insert(i,e,t){return new uo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Li{constructor(e){this.comparator=e,this.data=new vs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const d=o.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ks(this.data.getIterator())}getIteratorFrom(e){return new ks(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Li)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=o.getNext().key;if(0!==this.comparator(d,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Li(this.comparator);return t.data=e,t}}class ks{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Da(i){return i.hasNext()?i.getNext():void 0}class wr{constructor(e){this.fields=e,e.sort($.comparator)}static empty(){return new wr([])}unionWith(e){let t=new Li($.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ti(this.fields,e.fields,(t,o)=>t.isEqual(o))}}function yl(){return"undefined"!=typeof atob}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new fi(t)}static fromUint8Array(e){const t=function(o){let d="";for(let m=0;m<o.length;++m)d+=String.fromCharCode(o[m]);return d}(e);return new fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const vl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(i){if(Nn(!!i),"string"==typeof i){let e=0;const t=vl.exec(i);if(Nn(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Or(i.seconds),nanos:Or(i.nanos)}}function Or(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function As(i){return"string"==typeof i?fi.fromBase64String(i):fi.fromUint8Array(i)}function Vl(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sa(i){const e=i.mapValue.fields.__previous_value__;return Vl(e)?sa(e):e}function oa(i){const e=No(i.mapValue.fields.__local_write_time__.timestampValue);return new Si(e.seconds,e.nanos)}class aa{constructor(e,t,o,d,m,b,x,W){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=d,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.useFetchStreams=W}}class Ca{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ca("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}function co(i){return null==i}function Ul(i){return 0===i&&1/i==-1/0}function Ea(i){return"number"==typeof i&&Number.isInteger(i)&&!Ul(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Qs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bs={nullValue:"NULL_VALUE"};function zo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vl(i)?4:Oo(i)?9007199254740991:10:_n()}function ws(i,e){if(i===e)return!0;const t=zo(i);if(t!==zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return oa(i).isEqual(oa(e));case 3:return function(o,d){if("string"==typeof o.timestampValue&&"string"==typeof d.timestampValue&&o.timestampValue.length===d.timestampValue.length)return o.timestampValue===d.timestampValue;const m=No(o.timestampValue),b=No(d.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,As(i.bytesValue).isEqual(As(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,d){return Or(o.geoPointValue.latitude)===Or(d.geoPointValue.latitude)&&Or(o.geoPointValue.longitude)===Or(d.geoPointValue.longitude)}(i,e);case 2:return function(o,d){if("integerValue"in o&&"integerValue"in d)return Or(o.integerValue)===Or(d.integerValue);if("doubleValue"in o&&"doubleValue"in d){const m=Or(o.doubleValue),b=Or(d.doubleValue);return m===b?Ul(m)===Ul(b):isNaN(m)&&isNaN(b)}return!1}(i,e);case 9:return Ti(i.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:return function(o,d){const m=o.mapValue.fields||{},b=d.mapValue.fields||{};if(Wu(m)!==Wu(b))return!1;for(const x in m)if(m.hasOwnProperty(x)&&(void 0===b[x]||!ws(m[x],b[x])))return!1;return!0}(i,e);default:return _n()}var d}function Qa(i,e){return void 0!==(i.values||[]).find(t=>ws(t,e))}function qo(i,e){if(i===e)return 0;const t=zo(i),o=zo(e);if(t!==o)return Mn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Mn(i.booleanValue,e.booleanValue);case 2:return function(d,m){const b=Or(d.integerValue||d.doubleValue),x=Or(m.integerValue||m.doubleValue);return b<x?-1:b>x?1:b===x?0:isNaN(b)?isNaN(x)?0:-1:1}(i,e);case 3:return bl(i.timestampValue,e.timestampValue);case 4:return bl(oa(i),oa(e));case 5:return Mn(i.stringValue,e.stringValue);case 6:return function(d,m){const b=As(d),x=As(m);return b.compareTo(x)}(i.bytesValue,e.bytesValue);case 7:return function(d,m){const b=d.split("/"),x=m.split("/");for(let W=0;W<b.length&&W<x.length;W++){const Y=Mn(b[W],x[W]);if(0!==Y)return Y}return Mn(b.length,x.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,m){const b=Mn(Or(d.latitude),Or(m.latitude));return 0!==b?b:Mn(Or(d.longitude),Or(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,m){const b=d.values||[],x=m.values||[];for(let W=0;W<b.length&&W<x.length;++W){const Y=qo(b[W],x[W]);if(Y)return Y}return Mn(b.length,x.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,m){if(d===Qs.mapValue&&m===Qs.mapValue)return 0;if(d===Qs.mapValue)return 1;if(m===Qs.mapValue)return-1;const b=d.fields||{},x=Object.keys(b),W=m.fields||{},Y=Object.keys(W);x.sort(),Y.sort();for(let ue=0;ue<x.length&&ue<Y.length;++ue){const Ae=Mn(x[ue],Y[ue]);if(0!==Ae)return Ae;const dt=qo(b[x[ue]],W[Y[ue]]);if(0!==dt)return dt}return Mn(x.length,Y.length)}(i.mapValue,e.mapValue);default:throw _n()}}function bl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Mn(i,e);const t=No(i),o=No(e),d=Mn(t.seconds,o.seconds);return 0!==d?d:Mn(t.nanos,o.nanos)}function Va(i){return jl(i)}function jl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const d=No(o);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?As(i.bytesValue).toBase64():"referenceValue"in i?q.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let d="[",m=!0;for(const b of o.values||[])m?m=!1:d+=",",d+=jl(b);return d+"]"}(i.arrayValue):"mapValue"in i?function(o){const d=Object.keys(o.fields||{}).sort();let m="{",b=!0;for(const x of d)b?b=!1:m+=",",m+=`${x}:${jl(o.fields[x])}`;return m+"}"}(i.mapValue):_n();var e}function Ia(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Cu(i){return!!i&&"integerValue"in i}function la(i){return!!i&&"arrayValue"in i}function Ua(i){return!!i&&"nullValue"in i}function wl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ta(i){return!!i&&"mapValue"in i}function Mo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ja(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Mo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Oo(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hl(i){return"nullValue"in i?bs:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ia(Ca.empty(),q.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:_n()}function ja(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ia(Ca.empty(),q.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Qs:_n()}function iu(i,e){const t=qo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function su(i,e){const t=qo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Fs{constructor(e){this.value=e}static empty(){return new Fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ta(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(t)}setAll(e){let t=$.emptyPath(),o={},d=[];e.forEach((b,x)=>{if(!t.isImmediateParentOf(x)){const W=this.getFieldsMap(t);this.applyChanges(W,o,d),o={},d=[],t=x.popLast()}b?o[x.lastSegment()]=Mo(b):d.push(x.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,o,d)}delete(e){const t=this.field(e.popLast());Ta(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let d=t.mapValue.fields[e.get(o)];Ta(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,o){Ja(t,(d,m)=>e[d]=m);for(const d of o)delete e[d]}clone(){return new Fs(Mo(this.value))}}function qu(i){const e=[];return Ja(i.fields,(t,o)=>{const d=new $([t]);if(Ta(o)){const m=qu(o.mapValue).fields;if(0===m.length)e.push(d);else for(const b of m)e.push(d.child(b))}else e.push(d)}),new wr(e)}class pi{constructor(e,t,o,d,m,b){this.key=e,this.documentType=t,this.version=o,this.readTime=d,this.data=m,this.documentState=b}static newInvalidDocument(e){return new pi(e,0,S.min(),S.min(),Fs.empty(),0)}static newFoundDocument(e,t,o){return new pi(e,1,t,S.min(),o,0)}static newNoDocument(e,t){return new pi(e,2,t,S.min(),Fs.empty(),0)}static newUnknownDocument(e,t){return new pi(e,3,t,S.min(),Fs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=S.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ku{constructor(e,t=null,o=[],d=[],m=null,b=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=d,this.limit=m,this.startAt=b,this.endAt=x,this.ht=null}}function k(i,e=null,t=[],o=[],d=null,m=null,b=null){return new Ku(i,e,t,o,d,m,b)}function U(i){const e=dn(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(d=o).field.canonicalString()+d.op.toString()+Va(d.value);var d}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),co(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Va(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Va(o)).join(",")),e.ht=t}return e.ht}function ye(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<i.orderBy.length;d++)if(!ou(i.orderBy[d],e.orderBy[d]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let d=0;d<i.filters.length;d++)if((t=i.filters[d]).op!==(o=e.filters[d]).op||!t.field.isEqual(o.field)||!ws(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!wo(i.startAt,e.startAt)&&wo(i.endAt,e.endAt)}function Ge(i){return q.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ht(i,e){return i.filters.filter(t=>t instanceof kn&&t.field.isEqual(e))}function $t(i,e,t){let o=bs,d=!0;for(const m of ht(i,e)){let b=bs,x=!0;switch(m.op){case"<":case"<=":b=Hl(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,x=!1;break;case"!=":case"not-in":b=bs}iu({value:o,inclusive:d},{value:b,inclusive:x})<0&&(o=b,d=x)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=t.position[m];iu({value:o,inclusive:d},{value:b,inclusive:t.inclusive})<0&&(o=b,d=t.inclusive);break}return{value:o,inclusive:d}}function yn(i,e,t){let o=Qs,d=!0;for(const m of ht(i,e)){let b=Qs,x=!0;switch(m.op){case">=":case">":b=ja(m.value),x=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,x=!1;break;case"!=":case"not-in":b=Qs}su({value:o,inclusive:d},{value:b,inclusive:x})>0&&(o=b,d=x)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=t.position[m];su({value:o,inclusive:d},{value:b,inclusive:t.inclusive})>0&&(o=b,d=t.inclusive);break}return{value:o,inclusive:d}}class kn extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new mr(e,t,o):"array-contains"===t?new vo(e,o):"in"===t?new Dl(e,o):"not-in"===t?new ul(e,o):"array-contains-any"===t?new Sa(e,o):new kn(e,t,o)}static lt(e,t,o){return"in"===t?new Dr(e,o):new ar(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(qo(t,this.value)):null!==t&&zo(this.value)===zo(t)&&this.ft(qo(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _n()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mr extends kn{constructor(e,t,o){super(e,t,o),this.key=q.fromName(o.referenceValue)}matches(e){const t=q.comparator(e.key,this.key);return this.ft(t)}}class Dr extends kn{constructor(e,t){super(e,"in",t),this.keys=ds(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ar extends kn{constructor(e,t){super(e,"not-in",t),this.keys=ds(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ds(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>q.fromName(o.referenceValue))}class vo extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return la(t)&&Qa(t.arrayValue,this.value)}}class Dl extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qa(this.value.arrayValue,t)}}class ul extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qa(this.value.arrayValue,t)}}class Sa extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!la(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Qa(this.value.arrayValue,o))}}class ua{constructor(e,t){this.position=e,this.inclusive=t}}class cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function ou(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function bo(i,e,t){let o=0;for(let d=0;d<i.position.length;d++){const m=e[d],b=i.position[d];if(o=m.field.isKeyField()?q.comparator(q.fromName(b.referenceValue),t.key):qo(b,t.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function wo(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ws(i.position[t],e.position[t]))return!1;return!0}class Aa{constructor(e,t=null,o=[],d=[],m=null,b="F",x=null,W=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=d,this.limit=m,this.limitType=b,this.startAt=x,this.endAt=W,this._t=null,this.wt=null}}function cp(i,e,t,o,d,m,b,x){return new Aa(i,e,t,o,d,m,b,x)}function Ha(i){return new Aa(i)}function Ld(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Eu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Bc(i){for(const e of i.filters)if(e.dt())return e.field;return null}function Vc(i){return null!==i.collectionGroup}function au(i){const e=dn(i);if(null===e._t){e._t=[];const t=Bc(e),o=Eu(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new cl(t)),e._t.push(new cl($.keyField(),"asc"));else{let d=!1;for(const m of e.explicitOrderBy)e._t.push(m),m.field.isKeyField()&&(d=!0);if(!d){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new cl($.keyField(),m))}}}return e._t}function Xs(i){const e=dn(i);if(!e.wt)if("F"===e.limitType)e.wt=k(e.path,e.collectionGroup,au(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of au(e))t.push(new cl(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new ua(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new ua(e.startAt.position,e.startAt.inclusive):null;e.wt=k(e.path,e.collectionGroup,t,e.filters,e.limit,o,d)}return e.wt}function $l(i,e,t){return new Aa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Xa(i,e){return ye(Xs(i),Xs(e))&&i.limitType===e.limitType}function Bd(i){return`${U(Xs(i))}|lt:${i.limitType}`}function Uc(i){return`Query(target=${function te(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Va(o.value)}`;var o}).join(", ")}]`),co(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Va(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Va(t)).join(",")),`Target(${e})`}(Xs(i))}; limitType=${i.limitType})`}function Zu(i,e){return e.isFoundDocument()&&function(t,o){const d=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):q.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(i,e)&&function(t,o){for(const d of t.explicitOrderBy)if(!d.field.isKeyField()&&null===o.data.field(d.field))return!1;return!0}(i,e)&&function(t,o){for(const d of t.filters)if(!d.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(d,m,b){const x=bo(d,m,b);return d.inclusive?x<=0:x<0}(t.startAt,au(t),o)||t.endAt&&!function(d,m,b){const x=bo(d,m,b);return d.inclusive?x>=0:x>0}(t.endAt,au(t),o)));var t,o}function Yu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ju(i){return(e,t)=>{let o=!1;for(const d of au(i)){const m=Vd(d,e,t);if(0!==m)return m;o=o||d.field.isKeyField()}return 0}}function Vd(i,e,t){const o=i.field.isKeyField()?q.comparator(e.key,t.key):function(d,m,b){const x=m.data.field(d),W=b.data.field(d);return null!==x&&null!==W?qo(x,W):_n()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return _n()}}function jc(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function Hc(i){return{integerValue:""+i}}function Qu(i,e){return Ea(e)?Hc(e):jc(i,e)}class Xu{constructor(){this._=void 0}}function Uh(i,e,t){return i instanceof Cl?function(o,d){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return d&&(m.fields.__previous_value__=d),{mapValue:m}}(t,e):i instanceof Ko?El(i,e):i instanceof lu?jd(i,e):function(o,d){const m=Ud(o,d),b=$c(m)+$c(o.yt);return Cu(m)&&Cu(o.yt)?Hc(b):jc(o.It,b)}(i,e)}function jh(i,e,t){return i instanceof Ko?El(i,e):i instanceof lu?jd(i,e):t}function Ud(i,e){return i instanceof Iu?Cu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Cl extends Xu{}class Ko extends Xu{constructor(e){super(),this.elements=e}}function El(i,e){const t=Hh(e);for(const o of i.elements)t.some(d=>ws(d,o))||t.push(o);return{arrayValue:{values:t}}}class lu extends Xu{constructor(e){super(),this.elements=e}}function jd(i,e){let t=Hh(e);for(const o of i.elements)t=t.filter(d=>!ws(d,o));return{arrayValue:{values:t}}}class Iu extends Xu{constructor(e,t){super(),this.It=e,this.yt=t}}function $c(i){return Or(i.integerValue||i.doubleValue)}function Hh(i){return la(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Tu{constructor(e,t){this.field=e,this.transform=t}}class dp{constructor(e,t){this.version=e,this.transformResults=t}}class Ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ds}static exists(e){return new Ds(void 0,e)}static updateTime(e){return new Ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class zc{}function hp(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new et(i.key,Ds.none()):new y(i.key,i.data,Ds.none());{const t=i.data,o=Fs.empty();let d=new Li($.comparator);for(let m of e.fields)if(!d.has(m)){let b=t.field(m);null===b&&m.length>1&&(m=m.popLast(),b=t.field(m)),null===b?o.delete(m):o.set(m,b),d=d.add(m)}return new v(i.key,o,new wr(d.toArray()),Ds.none())}}function $h(i,e,t){i instanceof y?function(o,d,m){const b=o.value.clone(),x=X(o.fieldTransforms,d,m.transformResults);b.setAll(x),d.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(i,e,t):i instanceof v?function(o,d,m){if(!Wc(o.precondition,d))return void d.convertToUnknownDocument(m.version);const b=X(o.fieldTransforms,d,m.transformResults),x=d.data;x.setAll(A(o)),x.setAll(b),d.convertToFoundDocument(m.version,x).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Il(i,e,t,o){return i instanceof y?function(d,m,b,x){if(!Wc(d.precondition,m))return b;const W=d.value.clone(),Y=le(d.fieldTransforms,x,m);return W.setAll(Y),m.convertToFoundDocument(m.version,W).setHasLocalMutations(),null}(i,e,t,o):i instanceof v?function(d,m,b,x){if(!Wc(d.precondition,m))return b;const W=le(d.fieldTransforms,x,m),Y=m.data;return Y.setAll(A(d)),Y.setAll(W),m.convertToFoundDocument(m.version,Y).setHasLocalMutations(),null===b?null:b.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ue=>ue.field))}(i,e,t,o):(b=t,Wc(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):b);var m,b}function Hd(i,e){let t=null;for(const o of i.fieldTransforms){const d=e.data.field(o.field),m=Ud(o.transform,d||null);null!=m&&(null===t&&(t=Fs.empty()),t.set(o.field,m))}return t||null}function E(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ti(t,o,(d,m)=>function Gc(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Ko&&o instanceof Ko||t instanceof lu&&o instanceof lu?Ti(t.elements,o.elements,ws):t instanceof Iu&&o instanceof Iu?ws(t.yt,o.yt):t instanceof Cl&&o instanceof Cl);var t,o}(d,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class y extends zc{constructor(e,t,o,d=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class v extends zc{constructor(e,t,o,d,m=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=d,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function A(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function X(i,e,t){const o=new Map;Nn(i.length===t.length);for(let d=0;d<t.length;d++){const m=i[d],b=m.transform,x=e.data.field(m.field);o.set(m.field,jh(b,x,t[d]))}return o}function le(i,e,t){const o=new Map;for(const d of i){const m=d.transform,b=t.data.field(d.field);o.set(d.field,Uh(m,b,e))}return o}class et extends zc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ft extends zc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rn{constructor(e){this.count=e}}var Tn,An;function hs(i){switch(i){default:return _n();case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0}}function el(i){if(void 0===i)return br("GRPC error has no .code"),Qe.UNKNOWN;switch(i){case Tn.OK:return Qe.OK;case Tn.CANCELLED:return Qe.CANCELLED;case Tn.UNKNOWN:return Qe.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return Qe.INTERNAL;case Tn.UNAVAILABLE:return Qe.UNAVAILABLE;case Tn.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Tn.NOT_FOUND:return Qe.NOT_FOUND;case Tn.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Tn.ABORTED:return Qe.ABORTED;case Tn.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Tn.DATA_LOSS:return Qe.DATA_LOSS;default:return _n()}}(An=Tn||(Tn={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[d,m]of o)if(this.equalsFn(d,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),d=this.inner[o];if(void 0===d)return this.inner[o]=[[e,t]],void this.innerSize++;for(let m=0;m<d.length;m++)if(this.equalsFn(d[m][0],e))return void(d[m]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return 1===o.length?delete this.inner[t]:o.splice(d,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,(t,o)=>{for(const[d,m]of o)e(d,m)})}isEmpty(){return Fd(this.inner)}size(){return this.innerSize}}const ec=new vs(q.comparator);function Po(){return ec}const tc=new vs(q.comparator);function uu(...i){let e=tc;for(const t of i)e=e.insert(t.key,t);return e}function nc(i){let e=tc;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Zo(){return Tl()}function qc(){return Tl()}function Tl(){return new Ro(i=>i.toString(),(i,e)=>i.isEqual(e))}const Kc=new vs(q.comparator),Ls=new Li(q.comparator);function Lr(...i){let e=Ls;for(const t of i)e=e.add(t);return e}const Zc=new Li(Mn);function cu(){return Zc}class rc{constructor(e,t,o,d,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=d,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const d=new Map;return d.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new rc(S.min(),d,cu(),Po(),Lr())}}class Yc{constructor(e,t,o,d,m){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=d,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Yc(o,t,Lr(),Lr(),Lr())}}class $d{constructor(e,t,o,d){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=d}}class fp{constructor(e,t){this.targetId=e,this.At=t}}class pp{constructor(e,t,o=fi.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=d}}class gp{constructor(){this.Rt=0,this.bt=ic(),this.Pt=fi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Lr(),t=Lr(),o=Lr();return this.bt.forEach((d,m)=>{switch(m){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:o=o.add(d);break;default:_n()}}),new Yc(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=ic()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Rm{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Po(),this.qt=Ag(),this.Kt=new Li(Mn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:_n()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,d)=>{this.Ht(d)&&t(d)})}Yt(e){const t=e.targetId,o=e.At.count,d=this.Xt(t);if(d){const m=d.target;if(Ge(m))if(0===o){const b=new q(m.path);this.jt(t,b,pi.newNoDocument(b,S.min()))}else Nn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((m,b)=>{const x=this.Xt(b);if(x){if(m.current&&Ge(x.target)){const W=new q(x.target.path);null!==this.Ut.get(W)||this.ee(b,W)||this.jt(b,W,pi.newNoDocument(W,e))}m.Dt&&(t.set(b,m.xt()),m.Nt())}});let o=Lr();this.qt.forEach((m,b)=>{let x=!0;b.forEachWhile(W=>{const Y=this.Xt(W);return!Y||2===Y.purpose||(x=!1,!1)}),x&&(o=o.add(m))}),this.Ut.forEach((m,b)=>b.setReadTime(e));const d=new rc(e,t,this.Kt,this.Ut,o);return this.Ut=Po(),this.qt=Ag(),this.Kt=new Li(Mn),d}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const d=this.zt(e);this.ee(e,t)?d.kt(t,1):d.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new gp,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Li(Mn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Vt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new gp),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Ag(){return new vs(q.comparator)}function ic(){return new vs(q.comparator)}const ca={asc:"ASCENDING",desc:"DESCENDING"},Gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mp{constructor(e,t){this.databaseId=e,this.gt=t}}function sc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ko(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Jc(i,e){return sc(i,e.toTimestamp())}function Hs(i){return Nn(!!i),S.fromTimestamp(function(e){const t=No(e);return new Si(t.seconds,t.nanos)}(i))}function Wh(i,e){return(t=i,new C(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _p(i){const e=C.fromString(i);return Nn(Cp(e)),e}function oc(i,e){return Wh(i.databaseId,e.path)}function Sl(i,e){const t=_p(e);if(t.get(1)!==i.databaseId.projectId)throw new Ut(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ut(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new q(vp(t))}function Gd(i,e){return Wh(i.databaseId,e)}function yp(i){const e=_p(i);return 4===e.length?C.emptyPath():vp(e)}function ac(i){return new C(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vp(i){return Nn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function bp(i,e,t){return{name:oc(i,e),fields:t.value.mapValue.fields}}function Wd(i,e,t){const o=Sl(i,e.name),d=Hs(e.updateTime),m=new Fs({mapValue:{fields:e.fields}}),b=pi.newFoundDocument(o,d,m);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function lc(i,e){let t;if(e instanceof y)t={update:bp(i,e.key,e.value)};else if(e instanceof et)t={delete:oc(i,e.key)};else if(e instanceof v)t={update:bp(i,e.key,e.data),updateMask:Pg(e.fieldMask)};else{if(!(e instanceof Ft))return _n();t={verify:oc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(d,m){const b=m.transform;if(b instanceof Cl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ko)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof lu)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Iu)return{fieldPath:m.field.canonicalString(),increment:b.yt};throw _n()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Jc(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:_n()),t;var d}function wp(i,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Ds.updateTime(Hs(d.updateTime)):void 0!==d.exists?Ds.exists(d.exists):Ds.none():Ds.none(),o=e.updateTransforms?e.updateTransforms.map(d=>function(m,b){let x=null;"setToServerValue"in b?(Nn("REQUEST_TIME"===b.setToServerValue),x=new Cl):"appendMissingElements"in b?x=new Ko(b.appendMissingElements.values||[]):"removeAllFromArray"in b?x=new lu(b.removeAllFromArray.values||[]):"increment"in b?x=new Iu(m,b.increment):_n();const W=$.fromServerFormat(b.fieldPath);return new Tu(W,x)}(i,d)):[];var d;if(e.update){const d=Sl(i,e.update.name),m=new Fs({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new wr((e.updateMask.fieldPaths||[]).map(Y=>$.fromServerFormat(Y)));return new v(d,m,b,t,o)}return new y(d,m,t,o)}if(e.delete){const d=Sl(i,e.delete);return new et(d,t)}if(e.verify){const d=Sl(i,e.verify);return new Ft(d,t)}return _n()}function Qc(i,e){return{documents:[Gd(i,e.path)]}}function Dp(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Gd(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gd(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const d=function(W){if(0===W.length)return;const Y=W.map(ue=>function(Ae){if("=="===Ae.op){if(wl(Ae.value))return{unaryFilter:{field:uc(Ae.field),op:"IS_NAN"}};if(Ua(Ae.value))return{unaryFilter:{field:uc(Ae.field),op:"IS_NULL"}}}else if("!="===Ae.op){if(wl(Ae.value))return{unaryFilter:{field:uc(Ae.field),op:"IS_NOT_NAN"}};if(Ua(Ae.value))return{unaryFilter:{field:uc(Ae.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(Ae.field),op:Rg(Ae.op),value:Ae.value}}}(ue));return 1===Y.length?Y[0]:{compositeFilter:{op:"AND",filters:Y}}}(e.filters);d&&(t.structuredQuery.where=d);const m=function(W){if(0!==W.length)return W.map(Y=>{return{field:uc((ue=Y).field),direction:Fm(ue.dir)};var ue})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const b=(Y=e.limit,i.gt||co(Y)?Y:{value:Y});var Y,x,W;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(W=e.endAt).inclusive,values:W.position}),t}function Mg(i){let e=yp(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let d=null;if(o>0){Nn(1===o);const ue=t.from[0];ue.allDescendants?d=ue.collectionId:e=e.child(ue.collectionId)}let m=[];t.where&&(m=Og(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(ue=>{return new cl(cc((Ae=ue).field),function(dt){switch(dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ae.direction));var Ae}));let x=null;t.limit&&(x=function(ue){let Ae;return Ae="object"==typeof ue?ue.value:ue,co(Ae)?null:Ae}(t.limit));let W=null;var ue;t.startAt&&(W=new ua((ue=t.startAt).values||[],!!ue.before));let Y=null;return t.endAt&&(Y=function(ue){return new ua(ue.values||[],!ue.before)}(t.endAt)),cp(e,d,b,m,x,"F",W,Y)}function Og(i){return i?void 0!==i.unaryFilter?[Bm(i)]:void 0!==i.fieldFilter?[Lm(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Og(e)).reduce((e,t)=>e.concat(t)):_n():[]}function Fm(i){return ca[i]}function Rg(i){return Gh[i]}function uc(i){return{fieldPath:i.canonicalString()}}function cc(i){return $.fromServerFormat(i.fieldPath)}function Lm(i){return kn.create(cc(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _n()}}(i.fieldFilter.op),i.fieldFilter.value)}function Bm(i){switch(i.unaryFilter.op){case"IS_NAN":const e=cc(i.unaryFilter.field);return kn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=cc(i.unaryFilter.field);return kn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cc(i.unaryFilter.field);return kn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cc(i.unaryFilter.field);return kn.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _n()}}function Pg(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Cp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function xa(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Su(e)),e=Vm(i.get(t),e);return Su(e)}function Vm(i,e){let t=e;const o=i.length;for(let d=0;d<o;d++){const m=i.charAt(d);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function Su(i){return i+"\x01\x01"}function Do(i){const e=i.length;if(Nn(e>=2),2===e)return Nn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),C.emptyPath();const t=e-2,o=[];let d="";for(let m=0;m<e;){const b=i.indexOf("\x01",m);switch((b<0||b>t)&&_n(),i.charAt(b+1)){case"\x01":const x=i.substring(m,b);let W;0===d.length?W=x:(d+=x,W=d,d=""),o.push(W);break;case"\x10":d+=i.substring(m,b),d+="\0";break;case"\x11":d+=i.substring(m,b+1);break;default:_n()}m=b+2}return new C(o)}const kg=["userId","batchId"];function zh(i,e){return[i,xa(e)]}function Ep(i,e,t){return[i,xa(e),t]}const G_={},Al=["prefixPath","collectionGroup","readTime","documentId"],qh=["prefixPath","collectionGroup","documentId"],Ip=["collectionGroup","readTime","prefixPath","documentId"],zd=["canonicalId","targetId"],Fg=["targetId","path"],Xc=["path","targetId"],qd=["collectionId","parent"],xl=["indexId","uid"],ed=["uid","sequenceNumber"],Gl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kh=["indexId","uid","orderedDocumentKey"],W_=["userId","collectionPath","documentId"],td=["userId","collectionPath","largestBatchId"],Tp=["userId","collectionGroup","largestBatchId"],Zh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dc=[...Zh,"documentOverlays"],Kd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lg=Kd,Bg=[...Lg,"indexConfiguration","indexState","indexEntries"];class Zd extends js{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Co(i,e){const t=dn(i);return Ss.M(t.ie,e)}class Yh{constructor(e,t,o,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=d}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const m=this.mutations[d];m.key.isEqual(e.key)&&$h(m,e,o[d])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Il(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Il(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=qc();return this.mutations.forEach(d=>{const m=e.get(d.key),b=m.overlayedDocument;let x=this.applyToLocalView(b,m.mutatedFields);x=t.has(d.key)?null:x;const W=hp(b,x);null!==W&&o.set(d.key,W),b.isValidDocument()||b.convertToNoDocument(S.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lr())}isEqual(e){return this.batchId===e.batchId&&Ti(this.mutations,e.mutations,(t,o)=>E(t,o))&&Ti(this.baseMutations,e.baseMutations,(t,o)=>E(t,o))}}class Au{constructor(e,t,o,d){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=d}static from(e,t,o){Nn(e.mutations.length===o.length);let d=Kc;const m=e.mutations;for(let b=0;b<m.length;b++)d=d.insert(m[b].key,o[b].version);return new Au(e,t,o,d)}}class Eo{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nl{constructor(e,t,o,d,m=S.min(),b=S.min(),x=fi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=d,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x}withSequenceNumber(e){return new Nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Jh{constructor(e){this.re=e}}function nd(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Jd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:oc(d=i.re,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:sc(d,m.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:du(e.version)};else{if(!e.isUnknownDocument())return _n();o.unknownDocument={path:t.path.toArray(),version:du(e.version)}}var d,m;return o}function Jd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function du(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ml(i){const e=new Si(i.seconds,i.nanoseconds);return S.fromTimestamp(e)}function Na(i,e){const t=(e.baseMutations||[]).map(m=>wp(i.re,m));for(let m=0;m<e.mutations.length-1;++m){const b=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(b.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const o=e.mutations.map(m=>wp(i.re,m)),d=Si.fromMillis(e.localWriteTimeMs);return new Yh(e.batchId,d,t,o)}function xu(i){const e=Ml(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ml(i.lastLimboFreeSnapshotVersion):S.min();let o;var d;return void 0!==i.query.documents?(Nn(1===(d=i.query).documents.length),o=Xs(Ha(yp(d.documents[0])))):o=Xs(Mg(i.query)),new Nl(o,i.targetId,0,i.lastListenSequenceNumber,e,t,fi.fromBase64String(i.resumeToken))}function rd(i,e){const t=du(e.snapshotVersion),o=du(e.lastLimboFreeSnapshotVersion);let d;d=Ge(e.target)?Qc(i.re,e.target):Dp(i.re,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:U(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:d}}function Qh(i){const e=Mg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?$l(e,e.limit,"L"):e}function Nu(i,e){return new Eo(e.largestBatchId,wp(i.re,e.overlayMutation))}function Xh(i,e){const t=e.path.lastSegment();return[i,xa(e.path.popLast()),t]}function Sp(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:du(o.readTime),documentKey:xa(o.documentKey.path),largestBatchId:o.largestBatchId}}class ef{getBundleMetadata(e,t){return Ap(e).get(t).next(o=>{if(o)return{id:(d=o).bundleId,createTime:Ml(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return Ap(e).put({bundleId:(o=t).id,createTime:du(Hs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return tf(e).get(t).next(o=>{if(o)return{name:(d=o).name,query:Qh(d.bundledQuery),readTime:Ml(d.readTime)};var d})}saveNamedQuery(e,t){return tf(e).put({name:(o=t).name,readTime:du(Hs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Ap(i){return Co(i,"bundles")}function tf(i){return Co(i,"namedQueries")}class Qd{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Qd(e,t.uid||"")}getOverlay(e,t){return Wl(e).get(Xh(this.userId,t)).next(o=>o?Nu(this.It,o):null)}getOverlays(e,t){const o=Zo();return nt.forEach(t,d=>this.getOverlay(e,d).next(m=>{null!==m&&o.set(d,m)})).next(()=>o)}saveOverlays(e,t,o){const d=[];return o.forEach((m,b)=>{const x=new Eo(t,b);d.push(this.ue(e,x))}),nt.waitFor(d)}removeOverlaysForBatchId(e,t,o){const d=new Set;t.forEach(b=>d.add(xa(b.getCollectionPath())));const m=[];return d.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);m.push(Wl(e).Y("collectionPathOverlayIndex",x))}),nt.waitFor(m)}getOverlaysForCollection(e,t,o){const d=Zo(),m=xa(t),b=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Wl(e).W("collectionPathOverlayIndex",b).next(x=>{for(const W of x){const Y=Nu(this.It,W);d.set(Y.getKey(),Y)}return d})}getOverlaysForCollectionGroup(e,t,o,d){const m=Zo();let b;const x=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wl(e).Z({index:"collectionGroupOverlayIndex",range:x},(W,Y,ue)=>{const Ae=Nu(this.It,Y);m.size()<d||Ae.largestBatchId===b?(m.set(Ae.getKey(),Ae),b=Ae.largestBatchId):ue.done()}).next(()=>m)}ue(e,t){return Wl(e).put(function(o,d,m){const[b,x,W]=Xh(d,m.mutation.key);return{userId:d,collectionPath:x,documentId:W,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:lc(o.re,m.mutation)}}(this.It,this.userId,t))}}function Wl(i){return Co(i,"documentOverlays")}class tl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Or(e.integerValue));else if("doubleValue"in e){const o=Or(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Ul(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(As(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?Oo(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):_n()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const d of Object.keys(o))this._e(d,t),this.ae(o[d],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const d of o)this.ae(d,t)}ge(e,t){this.le(t,37),q.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function xp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Xd(i){const e=64-function(t){let o=0;for(let d=0;d<8;++d){const m=xp(255&t[d]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}tl.Te=new tl;class nf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const d=t.codePointAt(0);this.Ae(240|d>>>18),this.Ae(128|63&d>>>12),this.Ae(128|63&d>>>6),this.Ae(128|63&d)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const d=t.codePointAt(0);this.Pe(240|d>>>18),this.Pe(128|63&d>>>12),this.Pe(128|63&d>>>6),this.Pe(128|63&d)}}this.ve()}De(e){const t=this.Ce(e),o=Xd(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Ne(e){const t=this.Ce(e),o=Xd(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(d){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,d,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let d=1;d<t.length;++d)t[d]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const d=new Uint8Array(o);d.set(this.buffer),this.buffer=d}}class Np{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class eh{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class hc{constructor(){this.Be=new nf,this.Le=new Np(this.Be),this.Ue=new eh(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class da{constructor(e,t,o,d){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=d}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new da(this.indexId,this.documentKey,this.arrayValue,o)}}function hu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=fc(i.arrayValue,e.arrayValue),0!==t?t:(t=fc(i.directionalValue,e.directionalValue),0!==t?t:q.comparator(i.documentKey,e.documentKey)))}function fc(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class id{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Me(e);if(void 0!==t&&!this.ze(t))return!1;const o=vt(e);let d=0,m=0;for(;d<o.length&&this.ze(o[d]);++d);if(d===o.length)return!0;if(void 0!==this.je){const b=o[d];if(!this.He(this.je,b)||!this.Je(this.Ge[m++],b))return!1;++d}for(;d<o.length;++d){const b=o[d];if(m>=this.Ge.length||!this.Je(this.Ge[m++],b))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class rf{constructor(){this.Ye=new th}addToCollectionParentIndex(e,t){return this.Ye.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(cs.min())}updateCollectionGroup(e,t,o){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class th{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t]||new Li(C.comparator),m=!d.has(o);return this.index[t]=d.add(o),m}has(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t];return d&&d.has(o)}getEntries(e){return(this.index[e]||new Li(C.comparator)).toArray()}}const sf=new Uint8Array(0);class Mp{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new th,this.Ze=new Ro(o=>U(o),(o,d)=>ye(o,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const m={collectionId:o,parent:xa(d)};return af(e).put(m)}return nt.resolve()}getCollectionParents(e,t){const o=[],d=IDBKeyRange.bound([t,""],[qs(t),""],!1,!0);return af(e).W(d).next(m=>{for(const b of m){if(b.collectionId!==t)break;o.push(Do(b.parent))}return o})}addFieldIndex(e,t){const o=Ol(e),d={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var b;delete d.indexId;const m=o.add(d);if(t.indexState){const b=nh(e);return m.next(x=>{b.put(Sp(x,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const o=Ol(e),d=nh(e),m=pc(e);return o.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=pc(e);let d=!0;const m=new Map;return nt.forEach(this.tn(t),b=>this.en(e,b).next(x=>{d&&(d=!!x),m.set(b,x)})).next(()=>{if(d){let b=Lr();const x=[];return nt.forEach(m,(W,Y)=>{var ue;Vt("IndexedDbIndexManager",`Using index ${ue=W,`id=${ue.indexId}|cg=${ue.collectionGroup}|f=${ue.fields.map(Qi=>`${Qi.fieldPath}:${Qi.kind}`).join(",")}`} to execute ${U(t)}`);const Ae=function(Qi,Bo){const gs=Me(Bo);if(void 0===gs)return null;for(const $i of ht(Qi,gs.fieldPath))switch($i.op){case"array-contains-any":return $i.value.arrayValue.values||[];case"array-contains":return[$i.value]}return null}(Y,W),dt=function(Qi,Bo){const gs=new Map;for(const $i of vt(Bo))for(const Vo of ht(Qi,$i.fieldPath))switch(Vo.op){case"==":case"in":gs.set($i.fieldPath.canonicalString(),Vo.value);break;case"not-in":case"!=":return gs.set($i.fieldPath.canonicalString(),Vo.value),Array.from(gs.values())}return null}(Y,W),Pt=function(Qi,Bo){const gs=[];let $i=!0;for(const Vo of vt(Bo)){const Vh=0===Vo.kind?$t(Qi,Vo.fieldPath,Qi.startAt):yn(Qi,Vo.fieldPath,Qi.startAt);gs.push(Vh.value),$i&&($i=Vh.inclusive)}return new ua(gs,$i)}(Y,W),jt=function(Qi,Bo){const gs=[];let $i=!0;for(const Vo of vt(Bo)){const Vh=0===Vo.kind?yn(Qi,Vo.fieldPath,Qi.endAt):$t(Qi,Vo.fieldPath,Qi.endAt);gs.push(Vh.value),$i&&($i=Vh.inclusive)}return new ua(gs,$i)}(Y,W),Fn=this.nn(W,Y,Pt),Wn=this.nn(W,Y,jt),Bi=this.sn(W,Y,dt),Cs=this.rn(W.indexId,Ae,Fn,Pt.inclusive,Wn,jt.inclusive,Bi);return nt.forEach(Cs,Qi=>o.J(Qi,t.limit).next(Bo=>{Bo.forEach(gs=>{const $i=q.fromSegments(gs.documentKey);b.has($i)||(b=b.add($i),x.push($i))})}))}).next(()=>x)}return nt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,d,m,b,x){const W=(null!=t?t.length:1)*Math.max(o.length,m.length),Y=W/(null!=t?t.length:1),ue=[];for(let Ae=0;Ae<W;++Ae){const dt=t?this.on(t[Ae/Y]):sf,Pt=this.un(e,dt,o[Ae%Y],d),jt=this.cn(e,dt,m[Ae%Y],b),Fn=x.map(Wn=>this.un(e,dt,Wn,!0));ue.push(...this.createRange(Pt,jt,Fn))}return ue}un(e,t,o,d){const m=new da(e,q.empty(),t,o);return d?m:m.Ke()}cn(e,t,o,d){const m=new da(e,q.empty(),t,o);return d?m.Ke():m}en(e,t){const o=new id(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(m=>{let b=null;for(const x of m)o.We(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,t){let o=2;return nt.forEach(this.tn(t),d=>this.en(e,d).next(m=>{m?0!==o&&m.fields.length<function(b){let x=new Li($.comparator),W=!1;for(const Y of b.filters){const ue=Y;ue.field.isKeyField()||("array-contains"===ue.op||"array-contains-any"===ue.op?W=!0:x=x.add(ue.field))}for(const Y of b.orderBy)Y.field.isKeyField()||(x=x.add(Y.field));return x.size+(W?1:0)}(d)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new hc;for(const d of vt(e)){const m=t.data.field(d.fieldPath);if(null==m)return null;const b=o.qe(d.kind);tl.Te.ce(m,b)}return o.$e()}on(e){const t=new hc;return tl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new hc;return tl.Te.ce(Ia(this.databaseId,t),o.qe(function(d){const m=vt(d);return 0===m.length?0:m[m.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let d=[];d.push(new hc);let m=0;for(const b of vt(e)){const x=o[m++];for(const W of d)if(this.ln(t,b.fieldPath)&&la(x))d=this.fn(d,b,x);else{const Y=W.qe(b.kind);tl.Te.ce(x,Y)}}return this.dn(d)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const d=[...e],m=[];for(const b of o.arrayValue.values||[])for(const x of d){const W=new hc;W.seed(x.$e()),tl.Te.ce(b,W.qe(t.kind)),m.push(W)}return m}ln(e,t){return!!e.filters.find(o=>o instanceof kn&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Ol(e),d=nh(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(m=>{const b=[];return nt.forEach(m,x=>d.get([x.indexId,this.uid]).next(W=>{b.push(function(Y,ue){const Ae=ue?new kr(ue.sequenceNumber,new cs(Ml(ue.readTime),new q(Do(ue.documentKey)),ue.largestBatchId)):kr.empty(),dt=Y.fields.map(([Pt,jt])=>new gr($.fromServerFormat(Pt),jt));return new ge(Y.indexId,Y.collectionGroup,dt,Ae)}(x,W))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,d)=>{const m=o.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==m?m:Mn(o.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const d=Ol(e),m=nh(e);return this._n(e).next(b=>d.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>nt.forEach(x,W=>m.put(Sp(W.indexId,this.user,b,o)))))}updateIndexEntries(e,t){const o=new Map;return nt.forEach(t,(d,m)=>{const b=o.get(d.collectionGroup);return(b?nt.resolve(b):this.getFieldIndexes(e,d.collectionGroup)).next(x=>(o.set(d.collectionGroup,x),nt.forEach(x,W=>this.wn(e,d,W).next(Y=>{const ue=this.mn(m,W);return Y.isEqual(ue)?nt.resolve():this.gn(e,m,W,Y,ue)}))))})}yn(e,t,o,d){return pc(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,d){return pc(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const d=pc(e);let m=new Li(hu);return d.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(b,x)=>{m=m.add(new da(o.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>m)}mn(e,t){let o=new Li(hu);const d=this.an(t,e);if(null==d)return o;const m=Me(t);if(null!=m){const b=e.data.field(m.fieldPath);if(la(b))for(const x of b.arrayValue.values||[])o=o.add(new da(t.indexId,e.key,this.on(x),d))}else o=o.add(new da(t.indexId,e.key,sf,d));return o}gn(e,t,o,d,m){Vt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(x,W,Y,ue,Ae){const dt=x.getIterator(),Pt=W.getIterator();let jt=Da(dt),Fn=Da(Pt);for(;jt||Fn;){let Wn=!1,Bi=!1;if(jt&&Fn){const Cs=Y(jt,Fn);Cs<0?Bi=!0:Cs>0&&(Wn=!0)}else null!=jt?Bi=!0:Wn=!0;Wn?(ue(Fn),Fn=Da(Pt)):Bi?(Ae(jt),jt=Da(dt)):(jt=Da(dt),Fn=Da(Pt))}}(d,m,hu,x=>{b.push(this.yn(e,t,o,x))},x=>{b.push(this.pn(e,t,o,x))}),nt.waitFor(b)}_n(e){let t=1;return nh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,d,m)=>{m.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((b,x)=>hu(b,x)).filter((b,x,W)=>!x||0!==hu(b,W[x-1]));const d=[];d.push(e);for(const b of o){const x=hu(b,e),W=hu(b,t);if(0===x)d[0]=e.Ke();else if(x>0&&W<0)d.push(b),d.push(b.Ke());else if(W>0)break}d.push(t);const m=[];for(let b=0;b<d.length;b+=2)m.push(IDBKeyRange.bound([d[b].indexId,this.uid,d[b].arrayValue,d[b].directionalValue,sf,[]],[d[b+1].indexId,this.uid,d[b+1].arrayValue,d[b+1].directionalValue,sf,[]]));return m}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($a)}getMinOffset(e,t){return nt.mapArray(this.tn(t),o=>this.en(e,o).next(d=>d||_n())).next($a)}}function af(i){return Co(i,"collectionParents")}function pc(i){return Co(i,"indexEntries")}function Ol(i){return Co(i,"indexConfiguration")}function nh(i){return Co(i,"indexState")}function $a(i){Nn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const d=i[o].indexState.offset;va(d,e)<0&&(e=d),t<d.largestBatchId&&(t=d.largestBatchId)}return new cs(e.readTime,e.documentKey,t)}const Vg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ma{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ma(e,Ma.DEFAULT_COLLECTION_PERCENTILE,Ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lf(i,e,t){const o=i.store("mutations"),d=i.store("documentMutations"),m=[],b=IDBKeyRange.only(t.batchId);let x=0;const W=o.Z({range:b},(ue,Ae,dt)=>(x++,dt.delete()));m.push(W.next(()=>{Nn(1===x)}));const Y=[];for(const ue of t.mutations){const Ae=Ep(e,ue.key.path,t.batchId);m.push(d.delete(Ae)),Y.push(ue.key)}return nt.waitFor(m).next(()=>Y)}function Ga(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw _n();e=i.noDocument}return JSON.stringify(e).length}Ma.DEFAULT_COLLECTION_PERCENTILE=10,Ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ma.DEFAULT=new Ma(41943040,Ma.DEFAULT_COLLECTION_PERCENTILE,Ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ma.DISABLED=new Ma(-1,0,0);class uf{constructor(e,t,o,d){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=d,this.In={}}static oe(e,t,o,d){Nn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new uf(m,t,o,d)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zl(e).Z({index:"userMutationsIndex",range:o},(d,m,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,o,d){const m=sd(e),b=zl(e);return b.add({}).next(x=>{Nn("number"==typeof x);const W=new Yh(x,t,o,d),Y=function(dt,Pt,jt){const Fn=jt.baseMutations.map(Bi=>lc(dt.re,Bi)),Wn=jt.mutations.map(Bi=>lc(dt.re,Bi));return{userId:Pt,batchId:jt.batchId,localWriteTimeMs:jt.localWriteTime.toMillis(),baseMutations:Fn,mutations:Wn}}(this.It,this.userId,W),ue=[];let Ae=new Li((dt,Pt)=>Mn(dt.canonicalString(),Pt.canonicalString()));for(const dt of d){const Pt=Ep(this.userId,dt.key.path,x);Ae=Ae.add(dt.key.path.popLast()),ue.push(b.put(Y)),ue.push(m.put(Pt,G_))}return Ae.forEach(dt=>{ue.push(this.indexManager.addToCollectionParentIndex(e,dt))}),e.addOnCommittedListener(()=>{this.In[x]=W.keys()}),nt.waitFor(ue).next(()=>W)})}lookupMutationBatch(e,t){return zl(e).get(t).next(o=>o?(Nn(o.userId===this.userId),Na(this.It,o)):null)}Tn(e,t){return this.In[t]?nt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const d=o.keys();return this.In[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,d=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return zl(e).Z({index:"userMutationsIndex",range:d},(b,x,W)=>{x.userId===this.userId&&(Nn(x.batchId>=o),m=Na(this.It,x)),W.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return zl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(d,m,b)=>{o=m.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zl(e).W("userMutationsIndex",t).next(o=>o.map(d=>Na(this.It,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=zh(this.userId,t.path),d=IDBKeyRange.lowerBound(o),m=[];return sd(e).Z({range:d},(b,x,W)=>{const[Y,ue,Ae]=b,dt=Do(ue);if(Y===this.userId&&t.path.isEqual(dt))return zl(e).get(Ae).next(Pt=>{if(!Pt)throw _n();Nn(Pt.userId===this.userId),m.push(Na(this.It,Pt))});W.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Li(Mn);const d=[];return t.forEach(m=>{const b=zh(this.userId,m.path),x=IDBKeyRange.lowerBound(b),W=sd(e).Z({range:x},(Y,ue,Ae)=>{const[dt,Pt,jt]=Y,Fn=Do(Pt);dt===this.userId&&m.path.isEqual(Fn)?o=o.add(jt):Ae.done()});d.push(W)}),nt.waitFor(d).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1,m=zh(this.userId,o),b=IDBKeyRange.lowerBound(m);let x=new Li(Mn);return sd(e).Z({range:b},(W,Y,ue)=>{const[Ae,dt,Pt]=W,jt=Do(dt);Ae===this.userId&&o.isPrefixOf(jt)?jt.length===d&&(x=x.add(Pt)):ue.done()}).next(()=>this.En(e,x))}En(e,t){const o=[],d=[];return t.forEach(m=>{d.push(zl(e).get(m).next(b=>{if(null===b)throw _n();Nn(b.userId===this.userId),o.push(Na(this.It,b))}))}),nt.waitFor(d).next(()=>o)}removeMutationBatch(e,t){return lf(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),nt.forEach(o,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return nt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),d=[];return sd(e).Z({range:o},(m,b,x)=>{if(m[0]===this.userId){const W=Do(m[1]);d.push(W)}else x.done()}).next(()=>{Nn(0===d.length)})})}containsKey(e,t){return Ug(e,this.userId,t)}Rn(e){return jg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ug(i,e,t){const o=zh(e,t.path),d=o[1],m=IDBKeyRange.lowerBound(o);let b=!1;return sd(i).Z({range:m,X:!0},(x,W,Y)=>{const[ue,Ae,dt]=x;ue===e&&Ae===d&&(b=!0),Y.done()}).next(()=>b)}function zl(i){return Co(i,"mutations")}function sd(i){return Co(i,"documentMutations")}function jg(i){return Co(i,"mutationQueues")}class gc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new gc(0)}static vn(){return new gc(-1)}}class Hr{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new gc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>S.fromTimestamp(new Si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(d=>(d.highestListenSequenceNumber=t,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.Sn(e,d)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>mc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Nn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let d=0;const m=[];return mc(e).Z((b,x)=>{const W=xu(x);W.sequenceNumber<=t&&null===o.get(W.targetId)&&(d++,m.push(this.removeTargetData(e,W)))}).next(()=>nt.waitFor(m)).next(()=>d)}forEachTarget(e,t){return mc(e).Z((o,d)=>{const m=xu(d);t(m)})}Vn(e){return Op(e).get("targetGlobalKey").next(t=>(Nn(null!==t),t))}Sn(e,t){return Op(e).put("targetGlobalKey",t)}Dn(e,t){return mc(e).put(rd(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=U(t),d=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return mc(e).Z({range:d,index:"queryTargetsIndex"},(b,x,W)=>{const Y=xu(x);ye(t,Y.target)&&(m=Y,W.done())}).next(()=>m)}addMatchingKeys(e,t,o){const d=[],m=fu(e);return t.forEach(b=>{const x=xa(b.path);d.push(m.put({targetId:o,path:x})),d.push(this.referenceDelegate.addReference(e,o,b))}),nt.waitFor(d)}removeMatchingKeys(e,t,o){const d=fu(e);return nt.forEach(t,m=>{const b=xa(m.path);return nt.waitFor([d.delete([o,b]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,t){const o=fu(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(d)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),d=fu(e);let m=Lr();return d.Z({range:o,X:!0},(b,x,W)=>{const Y=Do(b[1]),ue=new q(Y);m=m.add(ue)}).next(()=>m)}containsKey(e,t){const o=xa(t.path),d=IDBKeyRange.bound([o],[qs(o)],!1,!0);let m=0;return fu(e).Z({index:"documentTargetsIndex",X:!0,range:d},([b,x],W,Y)=>{0!==b&&(m++,Y.done())}).next(()=>m>0)}se(e,t){return mc(e).get(t).next(o=>o?xu(o):null)}}function mc(i){return Co(i,"targets")}function Op(i){return Co(i,"targetGlobal")}function fu(i){return Co(i,"targetDocuments")}function rh([i,e],[t,o]){const d=Mn(i,t);return 0===d?Mn(e,o):d}class dl{constructor(e){this.xn=e,this.buffer=new Li(rh),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();rh(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rp{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Vt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){lo(o)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield os(o)}yield t.Fn(3e5)}))}}class Um{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return nt.resolve(ri.at);const o=new dl(t);return this.$n.forEachTarget(e,d=>o.On(d.sequenceNumber)).next(()=>this.$n.Ln(e,d=>o.On(d))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Vg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vg):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,d,m,b,x,W,Y;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),d=this.params.maximumSequenceNumbersToCollect):d=Ae,b=Date.now(),this.nthSequenceNumber(e,d))).next(Ae=>(o=Ae,x=Date.now(),this.removeTargets(e,o,t))).next(Ae=>(m=Ae,W=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ae=>(Y=Date.now(),Ts()<=Ie.in.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ue}ms\n\tDetermined least recently used ${d} in `+(x-b)+`ms\n\tRemoved ${m} targets in `+(W-x)+`ms\n\tRemoved ${Ae} documents in `+(Y-W)+`ms\nTotal Duration: ${Y-ue}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:m,documentsRemoved:Ae})))}}class Pp{constructor(e,t){this.db=e,this.garbageCollector=new Um(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(d=>o+d))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,d)=>t(d))}addReference(e,t,o){return hl(e,o)}removeReference(e,t,o){return hl(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return hl(e,t)}Gn(e,t){return function(o,d){let m=!1;return jg(o).tt(b=>Ug(o,b,d).next(x=>(x&&(m=!0),nt.resolve(!x)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let m=0;return this.Kn(e,(b,x)=>{if(x<=t){const W=this.Gn(e,b).next(Y=>{if(!Y)return m++,o.getEntry(e,b).next(()=>(o.removeEntry(b,S.min()),fu(e).delete([0,xa(b.path)])))});d.push(W)}}).next(()=>nt.waitFor(d)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return hl(e,t)}Kn(e,t){const o=fu(e);let d,m=ri.at;return o.Z({index:"documentTargetsIndex"},([b,x],{path:W,sequenceNumber:Y})=>{0===b?(m!==ri.at&&t(new q(Do(d)),m),m=Y,d=W):m=ri.at}).next(()=>{m!==ri.at&&t(new q(Do(d)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hl(i,e){return fu(i).put((o=i.currentSequenceNumber,{targetId:0,path:xa(e.path),sequenceNumber:o}));var o}class cf{constructor(){this.changes=new Ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?nt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return od(e).put(o)}removeEntry(e,t,o){return od(e).delete(function(d,m){const b=d.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Jd(m),b[b.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=pi.newInvalidDocument(t);return od(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mu(t))},(d,m)=>{o=this.jn(t,m)}).next(()=>o)}Wn(e,t){let o={size:0,document:pi.newInvalidDocument(t)};return od(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mu(t))},(d,m)=>{o={document:this.jn(t,m),size:Ga(m)}}).next(()=>o)}getEntries(e,t){let o=Po();return this.zn(e,t,(d,m)=>{const b=this.jn(d,m);o=o.insert(d,b)}).next(()=>o)}Hn(e,t){let o=Po(),d=new vs(q.comparator);return this.zn(e,t,(m,b)=>{const x=this.jn(m,b);o=o.insert(m,x),d=d.insert(m,Ga(b))}).next(()=>({documents:o,Jn:d}))}zn(e,t,o){if(t.isEmpty())return nt.resolve();let d=new Li(ff);t.forEach(W=>d=d.add(W));const m=IDBKeyRange.bound(Mu(d.first()),Mu(d.last())),b=d.getIterator();let x=b.getNext();return od(e).Z({index:"documentKeyIndex",range:m},(W,Y,ue)=>{const Ae=q.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;x&&ff(x,Ae)<0;)o(x,null),x=b.getNext();x&&x.isEqual(Ae)&&(o(x,Y),x=b.hasNext()?b.getNext():null),x?ue.j(Mu(x)):ue.done()}).next(()=>{for(;x;)o(x,null),x=b.hasNext()?b.getNext():null})}getAllFromCollection(e,t,o){const d=[t.popLast().toArray(),t.lastSegment(),Jd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],m=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return od(e).W(IDBKeyRange.bound(d,m,!0)).next(b=>{let x=Po();for(const W of b){const Y=this.jn(q.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);x=x.insert(Y.key,Y)}return x})}getAllFromCollectionGroup(e,t,o,d){let m=Po();const b=ih(t,o),x=ih(t,cs.max());return od(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(W,Y,ue)=>{const Ae=this.jn(q.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);m=m.insert(Ae.key,Ae),m.size===d&&ue.done()}).next(()=>m)}newChangeBuffer(e){return new z_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hf(e).get("remoteDocumentGlobalKey").next(t=>(Nn(!!t),t))}Qn(e,t){return hf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Yd(i,e){let t;if(e.document)t=Wd(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=q.fromSegments(e.noDocument.path),d=Ml(e.noDocument.readTime);t=pi.newNoDocument(o,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _n();{const o=q.fromSegments(e.unknownDocument.path),d=Ml(e.unknownDocument.version);t=pi.newUnknownDocument(o,d)}}return e.readTime&&t.setReadTime(function(o){const d=new Si(o[0],o[1]);return S.fromTimestamp(d)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(S.min()))return o}return pi.newInvalidDocument(e)}}function df(i){return new kp(i)}class z_ extends cf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ro(o=>o.toString(),(o,d)=>o.isEqual(d))}applyChanges(e){const t=[];let o=0,d=new Li((m,b)=>Mn(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const x=this.Xn.get(m);if(t.push(this.Yn.removeEntry(e,m,x.readTime)),b.isValidDocument()){const W=nd(this.Yn.It,b);d=d.add(m.path.popLast()),o+=Ga(W)-x.size,t.push(this.Yn.addEntry(e,m,W))}else if(o-=x.size,this.trackRemovals){const W=nd(this.Yn.It,b.convertToNoDocument(S.min()));t.push(this.Yn.addEntry(e,m,W))}}),d.forEach(m=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Yn.updateMetadata(e,o)),nt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:d})=>(d.forEach((m,b)=>{this.Xn.set(m,{size:b,readTime:o.get(m).readTime})}),o))}}function hf(i){return Co(i,"remoteDocumentGlobal")}function od(i){return Co(i,"remoteDocumentsV14")}function Mu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ih(i,e){const t=e.documentKey.path.toArray();return[i,Jd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ff(i,e){const t=i.path.toArray(),o=e.path.toArray();let d=0;for(let m=0;m<t.length-2&&m<o.length-2;++m)if(d=Mn(t[m],o[m]),d)return d;return d=Mn(t.length,o.length),d||(d=Mn(t[t.length-2],o[o.length-2]),d||Mn(t[t.length-1],o[o.length-1]))}class Fp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sh{constructor(e,t,o,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=d}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(o=d,this.getBaseDocument(e,t,o))).next(d=>(null!==o&&Il(o.mutation,d,wr.empty(),Si.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Lr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Lr()){const d=Zo();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,o).next(m=>{let b=uu();return m.forEach((x,W)=>{b=b.insert(x,W.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const o=Zo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Lr()))}populateOverlays(e,t,o){const d=[];return o.forEach(m=>{t.has(m)||d.push(m)}),this.documentOverlayCache.getOverlays(e,d).next(m=>{m.forEach((b,x)=>{t.set(b,x)})})}computeViews(e,t,o,d){let m=Po();const b=Tl(),x=Tl();return t.forEach((W,Y)=>{const ue=o.get(Y.key);d.has(Y.key)&&(void 0===ue||ue.mutation instanceof v)?m=m.insert(Y.key,Y):void 0!==ue&&(b.set(Y.key,ue.mutation.getFieldMask()),Il(ue.mutation,Y,ue.mutation.getFieldMask(),Si.now()))}),this.recalculateAndSaveOverlays(e,m).next(W=>(W.forEach((Y,ue)=>b.set(Y,ue)),t.forEach((Y,ue)=>{var Ae;return x.set(Y,new Fp(ue,null!==(Ae=b.get(Y))&&void 0!==Ae?Ae:null))}),x))}recalculateAndSaveOverlays(e,t){const o=Tl();let d=new vs((b,x)=>b-x),m=Lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const x of b)x.keys().forEach(W=>{const Y=t.get(W);if(null===Y)return;let ue=o.get(W)||wr.empty();ue=x.applyToLocalView(Y,ue),o.set(W,ue);const Ae=(d.get(x.batchId)||Lr()).add(W);d=d.insert(x.batchId,Ae)})}).next(()=>{const b=[],x=d.getReverseIterator();for(;x.hasNext();){const W=x.getNext(),Y=W.key,ue=W.value,Ae=qc();ue.forEach(dt=>{if(!m.has(dt)){const Pt=hp(t.get(dt),o.get(dt));null!==Pt&&Ae.set(dt,Pt),m=m.add(dt)}}),b.push(this.documentOverlayCache.saveOverlays(e,Y,Ae))}return nt.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return q.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Vc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var d}getNextDocuments(e,t,o,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,d).next(m=>{const b=d-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,d-m.size):nt.resolve(Zo());let x=-1,W=m;return b.next(Y=>nt.forEach(Y,(ue,Ae)=>(x<Ae.largestBatchId&&(x=Ae.largestBatchId),m.get(ue)?nt.resolve():this.getBaseDocument(e,ue,Ae).next(dt=>{W=W.insert(ue,dt)}))).next(()=>this.populateOverlays(e,Y,m)).next(()=>this.computeViews(e,W,Y,Lr())).next(ue=>({batchId:x,changes:nc(ue)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(o=>{let d=uu();return o.isFoundDocument()&&(d=d.insert(o.key,o)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const d=t.collectionGroup;let m=uu();return this.indexManager.getCollectionParents(e,d).next(b=>nt.forEach(b,x=>{const W=(Y=t,ue=x.child(d),new Aa(ue,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,ue;return this.getDocumentsMatchingCollectionQuery(e,W,o).next(Y=>{Y.forEach((ue,Ae)=>{m=m.insert(ue,Ae)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,o){let d;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(m=>(d=m,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(m=>{m.forEach((x,W)=>{const Y=W.getKey();null===d.get(Y)&&(d=d.insert(Y,pi.newInvalidDocument(Y)))});let b=uu();return d.forEach((x,W)=>{const Y=m.get(x);void 0!==Y&&Il(Y.mutation,W,wr.empty(),Si.now()),Zu(t,W)&&(b=b.insert(x,W))}),b})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):nt.resolve(pi.newInvalidDocument(t))}}class q_{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return nt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Hs(o.createTime)}),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Qh(o.bundledQuery),readTime:Hs(o.readTime)}),nt.resolve();var o}}class jm{constructor(){this.overlays=new vs(q.comparator),this.es=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Zo();return nt.forEach(t,d=>this.getOverlay(e,d).next(m=>{null!==m&&o.set(d,m)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((d,m)=>{this.ue(e,t,m)}),nt.resolve()}removeOverlaysForBatchId(e,t,o){const d=this.es.get(o);return void 0!==d&&(d.forEach(m=>this.overlays=this.overlays.remove(m)),this.es.delete(o)),nt.resolve()}getOverlaysForCollection(e,t,o){const d=Zo(),m=t.length+1,b=new q(t.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const W=x.getNext().value,Y=W.getKey();if(!t.isPrefixOf(Y.path))break;Y.path.length===m&&W.largestBatchId>o&&d.set(W.getKey(),W)}return nt.resolve(d)}getOverlaysForCollectionGroup(e,t,o,d){let m=new vs((Y,ue)=>Y-ue);const b=this.overlays.getIterator();for(;b.hasNext();){const Y=b.getNext().value;if(Y.getKey().getCollectionGroup()===t&&Y.largestBatchId>o){let ue=m.get(Y.largestBatchId);null===ue&&(ue=Zo(),m=m.insert(Y.largestBatchId,ue)),ue.set(Y.getKey(),Y)}}const x=Zo(),W=m.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((Y,ue)=>x.set(Y,ue)),!(x.size()>=d)););return nt.resolve(x)}ue(e,t,o){const d=this.overlays.get(o.key);if(null!==d){const b=this.es.get(d.largestBatchId).delete(o.key);this.es.set(d.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Eo(t,o));let m=this.es.get(t);void 0===m&&(m=Lr(),this.es.set(t,m)),this.es.set(t,m.add(o.key))}}class Lp{constructor(){this.ns=new Li(gi.ss),this.rs=new Li(gi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new gi(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new gi(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new q(new C([])),o=new gi(t,e),d=new gi(t,e+1),m=[];return this.rs.forEachInRange([o,d],b=>{this.cs(b),m.push(b.key)}),m}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new q(new C([])),o=new gi(t,e),d=new gi(t,e+1);let m=Lr();return this.rs.forEachInRange([o,d],b=>{m=m.add(b.key)}),m}containsKey(e){const t=new gi(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class gi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return q.comparator(e.key,t.key)||Mn(e._s,t._s)}static os(e,t){return Mn(e._s,t._s)||q.comparator(e.key,t.key)}}class Hm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Li(gi.ss)}checkEmpty(e){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,d){const m=this.ws;this.ws++;const b=new Yh(m,t,o,d);this.mutationQueue.push(b);for(const x of d)this.gs=this.gs.add(new gi(x.key,m)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return nt.resolve(b)}lookupMutationBatch(e,t){return nt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.ps(t+1),m=d<0?0:d;return nt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new gi(t,0),d=new gi(t,Number.POSITIVE_INFINITY),m=[];return this.gs.forEachInRange([o,d],b=>{const x=this.ys(b._s);m.push(x)}),nt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Li(Mn);return t.forEach(d=>{const m=new gi(d,0),b=new gi(d,Number.POSITIVE_INFINITY);this.gs.forEachInRange([m,b],x=>{o=o.add(x._s)})}),nt.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1;let m=o;q.isDocumentKey(m)||(m=m.child(""));const b=new gi(new q(m),0);let x=new Li(Mn);return this.gs.forEachWhile(W=>{const Y=W.key.path;return!!o.isPrefixOf(Y)&&(Y.length===d&&(x=x.add(W._s)),!0)},b),nt.resolve(this.Is(x))}Is(e){const t=[];return e.forEach(o=>{const d=this.ys(o);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){Nn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return nt.forEach(t.mutations,d=>{const m=new gi(d.key,t.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new gi(t,0),d=this.gs.firstAfterOrEqual(o);return nt.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return nt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hg{constructor(e){this.Es=e,this.docs=new vs(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,d=this.docs.get(o),m=d?d.size:0,b=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return nt.resolve(o?o.document.mutableCopy():pi.newInvalidDocument(t))}getEntries(e,t){let o=Po();return t.forEach(d=>{const m=this.docs.get(d);o=o.insert(d,m?m.document.mutableCopy():pi.newInvalidDocument(d))}),nt.resolve(o)}getAllFromCollection(e,t,o){let d=Po();const m=new q(t.child("")),b=this.docs.getIteratorFrom(m);for(;b.hasNext();){const{key:x,value:{document:W}}=b.getNext();if(!t.isPrefixOf(x.path))break;x.path.length>t.length+1||va(ss(W),o)<=0||(d=d.insert(W.key,W.mutableCopy()))}return nt.resolve(d)}getAllFromCollectionGroup(e,t,o,d){_n()}As(e,t){return nt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new K_(this)}getSize(e){return nt.resolve(this.size)}}class K_ extends cf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,d)=>{d.isValidDocument()?t.push(this.Yn.addEntry(e,d)):this.Yn.removeEntry(o)}),nt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class $m{constructor(e){this.persistence=e,this.Rs=new Ro(t=>U(t),ye),this.lastRemoteSnapshotVersion=S.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Lp,this.targetCount=0,this.vs=gc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,d)=>t(d)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),nt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new gc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.Dn(t),nt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,o){let d=0;const m=[];return this.Rs.forEach((b,x)=>{x.sequenceNumber<=t&&null===o.get(x.targetId)&&(this.Rs.delete(b),m.push(this.removeMatchingKeysForTargetId(e,x.targetId)),d++)}),nt.waitFor(m).next(()=>d)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return nt.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),nt.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const d=this.persistence.referenceDelegate,m=[];return d&&t.forEach(b=>{m.push(d.markPotentiallyOrphaned(e,b))}),nt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return nt.resolve(o)}containsKey(e,t){return nt.resolve(this.Ps.containsKey(t))}}class oh{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ri(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new $m(this),this.indexManager=new rf,this.remoteDocumentCache=new Hg(o=>this.referenceDelegate.xs(o)),this.It=new Jh(t),this.Ns=new q_(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Hm(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Vt("MemoryPersistence","Starting transaction:",e);const d=new pf(this.Ss.next());return this.referenceDelegate.ks(),o(d).next(m=>this.referenceDelegate.Os(d).next(()=>m)).toPromise().then(m=>(d.raiseOnCommittedEvent(),m))}Ms(e,t){return nt.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class pf extends js{constructor(e){super(),this.currentSequenceNumber=e}}class ad{constructor(e){this.persistence=e,this.Fs=new Lp,this.$s=null}static Bs(e){return new ad(e)}get Ls(){if(this.$s)return this.$s;throw _n()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),nt.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(d=>this.Ls.add(d.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(m=>this.Ls.add(m.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Ls,o=>{const d=q.fromPath(o);return this.Us(e,d).next(m=>{m||t.removeEntry(d,S.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return nt.or([()=>nt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class $g{constructor(e){this.It=e}$(e,t,o,d){const m=new ba("createOrUpgrade",t);var x;o<1&&d>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kg,{unique:!0}),x.createObjectStore("documentMutations"),ah(e),function(x){x.createObjectStore("remoteDocuments")}(e));let b=nt.resolve();return o<3&&d>=3&&(0!==o&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),ah(e)),b=b.next(()=>function(x){const W=x.store("targetGlobal"),Y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:S.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",Y)}(m))),o<4&&d>=4&&(0!==o&&(b=b.next(()=>function(x,W){return W.store("mutations").W().next(Y=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kg,{unique:!0});const ue=W.store("mutations"),Ae=Y.map(dt=>ue.put(dt));return nt.waitFor(Ae)})}(e,m))),b=b.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&d>=5&&(b=b.next(()=>this.qs(m))),o<6&&d>=6&&(b=b.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(m)))),o<7&&d>=7&&(b=b.next(()=>this.Gs(m))),o<8&&d>=8&&(b=b.next(()=>this.Qs(e,m))),o<9&&d>=9&&(b=b.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&d>=10&&(b=b.next(()=>this.js(m))),o<11&&d>=11&&(b=b.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&d>=12&&(b=b.next(()=>{!function(x){const W=x.createObjectStore("documentOverlays",{keyPath:W_});W.createIndex("collectionPathOverlayIndex",td,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Tp,{unique:!1})}(e)})),o<13&&d>=13&&(b=b.next(()=>function(x){const W=x.createObjectStore("remoteDocumentsV14",{keyPath:Al});W.createIndex("documentKeyIndex",qh),W.createIndex("collectionGroupIndex",Ip)}(e)).next(()=>this.Ws(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&d>=14&&(b=b.next(()=>this.zs(e,m))),o<15&&d>=15&&(b=b.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:xl}).createIndex("sequenceNumberIndex",ed,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:Gl}).createIndex("documentKeyIndex",Kh,{unique:!1})}(e))),b}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,d)=>{t+=Ga(d)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(d=>nt.forEach(d,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",b).next(x=>nt.forEach(x,W=>{Nn(W.userId===m.userId);const Y=Na(this.It,W);return lf(e,m.userId,Y).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const m=[];return o.Z((b,x)=>{const W=new C(b),Y=[0,xa(W)];m.push(t.get(Y).next(ue=>ue?nt.resolve():t.put({targetId:0,path:xa(W),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>nt.waitFor(m))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:qd});const o=t.store("collectionParents"),d=new th,m=b=>{if(d.add(b)){const x=b.lastSegment(),W=b.popLast();return o.put({collectionId:x,parent:xa(W)})}};return t.store("remoteDocuments").Z({X:!0},(b,x)=>{const W=new C(b);return m(W.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([b,x,W],Y)=>{const ue=Do(x);return m(ue.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,d)=>{const m=xu(d),b=rd(this.It,m);return t.put(b)})}Ws(e,t){const o=t.store("remoteDocuments"),d=[];return o.Z((m,b)=>{const x=t.store("remoteDocumentsV14"),W=(Y=b,Y.document?new q(C.fromString(Y.document.name).popFirst(5)):Y.noDocument?q.fromSegments(Y.noDocument.path):Y.unknownDocument?q.fromSegments(Y.unknownDocument.path):_n()).path.toArray();var Y;const ue={prefixPath:W.slice(0,W.length-2),collectionGroup:W[W.length-2],documentId:W[W.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};d.push(x.put(ue))}).next(()=>nt.waitFor(d))}zs(e,t){const o=t.store("mutations"),d=df(this.It),m=new oh(ad.Bs,this.It.re);return o.W().next(b=>{const x=new Map;return b.forEach(W=>{var Y;let ue=null!==(Y=x.get(W.userId))&&void 0!==Y?Y:Lr();Na(this.It,W).keys().forEach(Ae=>ue=ue.add(Ae)),x.set(W.userId,ue)}),nt.forEach(x,(W,Y)=>{const ue=new Zi(Y),Ae=Qd.oe(this.It,ue),dt=m.getIndexManager(ue),Pt=uf.oe(ue,this.It,dt,m.referenceDelegate);return new sh(d,Pt,Ae,dt).recalculateAndSaveOverlaysForDocumentKeys(new Zd(t,ri.at),W).next()})})}}function ah(i){i.createObjectStore("targetDocuments",{keyPath:Fg}).createIndex("documentTargetsIndex",Xc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zd,{unique:!0}),i.createObjectStore("targetGlobal")}const gf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mf{constructor(e,t,o,d,m,b,x,W,Y,ue,Ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=m,this.window=b,this.document=x,this.Js=Y,this.Ys=ue,this.Xs=Ae,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=dt=>Promise.resolve(),!mf.C())throw new Ut(Qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pp(this,d),this.ii=t+"main",this.It=new Jh(W),this.ri=new Ss(this.ii,this.Xs,new $g(this.It)),this.Cs=new Hr(this.referenceDelegate,this.It),this.remoteDocumentCache=df(this.It),this.Ns=new ef,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ue&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(Qe.FAILED_PRECONDITION,gf);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ri(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,p.Z)(function*(d){if(t.started)return e(d)});return function(d){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,p.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_f(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(lo(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return lh(e).get("owner").next(t=>nt.resolve(this.mi(t)))}gi(e){return _f(e).delete(this.clientId)}yi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const d=Co(o,"clientMetadata");return d.W().next(m=>{const b=e.Ii(m,18e5),x=m.filter(W=>-1===b.indexOf(W));return nt.forEach(x,W=>d.delete(W.clientId)).next(()=>x)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?nt.resolve(!0):lh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ut(Qe.FAILED_PRECONDITION,gf);return!1}}return!(!this.networkEnabled||!this.inForeground)||_f(e).W().next(o=>void 0===this.Ii(o,5e3).find(d=>{if(this.clientId!==d.clientId){const b=!this.inForeground&&d.inForeground,x=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||b&&x)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Vt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Zd(t,ri.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>_f(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return uf.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mp(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Qd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Vt("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",m=15===(b=this.Xs)?Bg:14===b?Lg:13===b?Kd:12===b?dc:11===b?Zh:void _n();var b;let x;return this.ri.runTransaction(e,d,m,W=>(x=new Zd(W,this.Ss?this.Ss.next():ri.at),"readwrite-primary"===t?this.fi(x).next(Y=>!!Y||this.di(x)).next(Y=>{if(!Y)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ut(Qe.FAILED_PRECONDITION,Yi);return o(x)}).next(Y=>this.wi(x).next(()=>Y)):this.Vi(x).next(()=>o(x)))).then(W=>(x.raiseOnCommittedEvent(),W))}Vi(e){return lh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ut(Qe.FAILED_PRECONDITION,gf)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lh(e).put("owner",t)}static C(){return Ss.C()}_i(e){const t=lh(e);return t.get("owner").next(o=>this.mi(o)?(Vt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):nt.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(br(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return br("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lh(i){return Co(i,"owner")}function _f(i){return Co(i,"clientMetadata")}function Bp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Vp{constructor(e,t,o,d){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=d}static Ci(e,t){let o=Lr(),d=Lr();for(const m of t.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:d=d.add(m.doc.key)}return new Vp(e,t.fromCache,o,d)}}class Gg{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,d){return this.ki(e,t).next(m=>m||this.Oi(e,t,d,o)).next(m=>m||this.Mi(e,t))}ki(e,t){if(Ld(t))return nt.resolve(null);let o=Xs(t);return this.indexManager.getIndexType(e,o).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=$l(t,null,"F"),o=Xs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const b=Lr(...m);return this.Ni.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,o).next(W=>{const Y=this.Fi(t,x);return this.$i(t,Y,b,W.readTime)?this.ki(e,$l(t,null,"F")):this.Bi(e,Y,t,W)}))})))}Oi(e,t,o,d){return Ld(t)||d.isEqual(S.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(m=>{const b=this.Fi(t,m);return this.$i(t,b,o,d)?this.Mi(e,t):(Ts()<=Ie.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Uc(t)),this.Bi(e,b,t,Fr(d,-1)))})}Fi(e,t){let o=new Li(Ju(e));return t.forEach((d,m)=>{Zu(e,m)&&(o=o.add(m))}),o}$i(e,t,o,d){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(d)>0)}Mi(e,t){return Ts()<=Ie.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Uc(t)),this.Ni.getDocumentsMatchingQuery(e,t,cs.min())}Bi(e,t,o,d){return this.Ni.getDocumentsMatchingQuery(e,o,d).next(m=>(t.forEach(b=>{m=m.insert(b.key,b)}),m))}}class Gm{constructor(e,t,o,d){this.persistence=e,this.Li=t,this.It=d,this.Ui=new vs(Mn),this.qi=new Ro(m=>U(m),ye),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Wg(i,e,t,o){return new Gm(i,e,t,o)}function zg(i,e){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,p.Z)(function*(i,e){const t=dn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let d;return t.mutationQueue.getAllMutationBatches(o).next(m=>(d=m,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(m=>{const b=[],x=[];let W=Lr();for(const Y of d){b.push(Y.batchId);for(const ue of Y.mutations)W=W.add(ue.key)}for(const Y of m){x.push(Y.batchId);for(const ue of Y.mutations)W=W.add(ue.key)}return t.localDocuments.getDocuments(o,W).next(Y=>({ji:Y,removedBatchIds:b,addedBatchIds:x}))})})}),Rl.apply(this,arguments)}function yf(i,e){const t=dn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const d=e.batch.keys(),m=t.Gi.newChangeBuffer({trackRemovals:!0});return function(b,x,W,Y){const ue=W.batch,Ae=ue.keys();let dt=nt.resolve();return Ae.forEach(Pt=>{dt=dt.next(()=>Y.getEntry(x,Pt)).next(jt=>{const Fn=W.docVersions.get(Pt);Nn(null!==Fn),jt.version.compareTo(Fn)<0&&(ue.applyToRemoteDocument(jt,W),jt.isValidDocument()&&(jt.setReadTime(W.commitVersion),Y.addEntry(jt)))})}),dt.next(()=>b.mutationQueue.removeMutationBatch(x,ue))}(t,o,e,m).next(()=>m.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let x=Lr();for(let W=0;W<b.mutationResults.length;++W)b.mutationResults[W].transformResults.length>0&&(x=x.add(b.batch.mutations[W].key));return x}(e))).next(()=>t.localDocuments.getDocuments(o,d))})}function Up(i){const e=dn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function jp(i,e){const t=dn(i),o=e.snapshotVersion;let d=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=t.Gi.newChangeBuffer({trackRemovals:!0});d=t.Ui;const x=[];e.targetChanges.forEach((ue,Ae)=>{const dt=d.get(Ae);if(!dt)return;x.push(t.Cs.removeMatchingKeys(m,ue.removedDocuments,Ae).next(()=>t.Cs.addMatchingKeys(m,ue.addedDocuments,Ae)));let Pt=dt.withSequenceNumber(m.currentSequenceNumber);var jt,Fn,Wn;e.targetMismatches.has(Ae)?Pt=Pt.withResumeToken(fi.EMPTY_BYTE_STRING,S.min()).withLastLimboFreeSnapshotVersion(S.min()):ue.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(ue.resumeToken,o)),d=d.insert(Ae,Pt),Fn=Pt,Wn=ue,(0===(jt=dt).resumeToken.approximateByteSize()||Fn.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||Wn.addedDocuments.size+Wn.modifiedDocuments.size+Wn.removedDocuments.size>0)&&x.push(t.Cs.updateTargetData(m,Pt))});let W=Po(),Y=Lr();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(m,ue))}),x.push(uh(m,b,e.documentUpdates).next(ue=>{W=ue.Wi,Y=ue.zi})),!o.isEqual(S.min())){const ue=t.Cs.getLastRemoteSnapshotVersion(m).next(Ae=>t.Cs.setTargetsMetadata(m,m.currentSequenceNumber,o));x.push(ue)}return nt.waitFor(x).next(()=>b.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,W,Y)).next(()=>W)}).then(m=>(t.Ui=d,m))}function uh(i,e,t){let o=Lr(),d=Lr();return t.forEach(m=>o=o.add(m)),e.getEntries(i,o).next(m=>{let b=Po();return t.forEach((x,W)=>{const Y=m.get(x);W.isFoundDocument()!==Y.isFoundDocument()&&(d=d.add(x)),W.isNoDocument()&&W.version.isEqual(S.min())?(e.removeEntry(x,W.readTime),b=b.insert(x,W)):!Y.isValidDocument()||W.version.compareTo(Y.version)>0||0===W.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(W),b=b.insert(x,W)):Vt("LocalStore","Ignoring outdated watch update for ",x,". Current version:",Y.version," Watch version:",W.version)}),{Wi:b,zi:d}})}function vf(i,e){const t=dn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ql(i,e){const t=dn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let d;return t.Cs.getTargetData(o,e).next(m=>m?(d=m,nt.resolve(d)):t.Cs.allocateTargetId(o).next(b=>(d=new Nl(e,b,0,o.currentSequenceNumber),t.Cs.addTargetData(o,d).next(()=>d))))}).then(o=>{const d=t.Ui.get(o.targetId);return(null===d||o.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function _c(i,e,t){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,p.Z)(function*(i,e,t){const o=dn(i),d=o.Ui.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",m,b=>o.persistence.referenceDelegate.removeTarget(b,d)))}catch(b){if(!lo(b))throw b;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.Ui=o.Ui.remove(e),o.qi.delete(d.target)}),Kl.apply(this,arguments)}function ld(i,e,t){const o=dn(i);let d=S.min(),m=Lr();return o.persistence.runTransaction("Execute query","readonly",b=>function(x,W,Y){const ue=dn(x),Ae=ue.qi.get(Y);return void 0!==Ae?nt.resolve(ue.Ui.get(Ae)):ue.Cs.getTargetData(W,Y)}(o,b,Xs(e)).next(x=>{if(x)return d=x.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(b,x.targetId).next(W=>{m=W})}).next(()=>o.Li.getDocumentsMatchingQuery(b,e,t?d:S.min(),t?m:Lr())).next(x=>(Hp(o,Yu(e),x),{documents:x,Hi:m})))}function qg(i,e){const t=dn(i),o=dn(t.Cs),d=t.Ui.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",m=>o.se(m,e).next(b=>b?b.target:null))}function bf(i,e){const t=dn(i),o=t.Ki.get(e)||S.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.Gi.getAllFromCollectionGroup(d,e,Fr(o,-1),Number.MAX_SAFE_INTEGER)).then(d=>(Hp(t,e,d),d))}function Hp(i,e,t){let o=i.Ki.get(e)||S.min();t.forEach((d,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.Ki.set(e,o)}function $p(){return $p=(0,p.Z)(function*(i,e,t,o){const d=dn(i);let m=Lr(),b=Po();for(const Y of t){const ue=e.Ji(Y.metadata.name);Y.document&&(m=m.add(ue));const Ae=e.Yi(Y);Ae.setReadTime(e.Xi(Y.metadata.readTime)),b=b.insert(ue,Ae)}const x=d.Gi.newChangeBuffer({trackRemovals:!0}),W=yield ql(d,(Y=o,Xs(Ha(C.fromString(`__bundle__/docs/${Y}`)))));var Y;return d.persistence.runTransaction("Apply bundle documents","readwrite",Y=>uh(Y,x,b).next(ue=>(x.apply(Y),ue)).next(ue=>d.Cs.removeMatchingKeysForTargetId(Y,W.targetId).next(()=>d.Cs.addMatchingKeys(Y,m,W.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(Y,ue.Wi,ue.zi)).next(()=>ue.Wi)))}),$p.apply(this,arguments)}function Wm(i,e){return yc.apply(this,arguments)}function yc(){return yc=(0,p.Z)(function*(i,e,t=Lr()){const o=yield ql(i,Xs(Qh(e.bundledQuery))),d=dn(i);return d.persistence.runTransaction("Save named query","readwrite",m=>{const b=Hs(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return d.Ns.saveNamedQuery(m,e);const x=o.withResumeToken(fi.EMPTY_BYTE_STRING,b);return d.Ui=d.Ui.insert(x.targetId,x),d.Cs.updateTargetData(m,x).next(()=>d.Cs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>d.Cs.addMatchingKeys(m,t,o.targetId)).next(()=>d.Ns.saveNamedQuery(m,e))})}),yc.apply(this,arguments)}function vc(i,e){return`firestore_clients_${i}_${e}`}function wf(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ou(i,e){return`firestore_targets_${i}_${e}`}class Ru{constructor(e,t,o,d){this.user=e,this.batchId=t,this.state=o,this.error=d}static Zi(e,t,o){const d=JSON.parse(o);let m,b="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return b&&d.error&&(b="string"==typeof d.error.message&&"string"==typeof d.error.code,b&&(m=new Ut(d.error.code,d.error.message))),b?new Ru(e,t,d.state,m):(br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zl{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let d,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(d=new Ut(o.error.code,o.error.message))),m?new Zl(e,o.state,d):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Df{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let d="object"==typeof o&&o.activeTargetIds instanceof Array,m=cu();for(let b=0;d&&b<o.activeTargetIds.length;++b)d=Ea(o.activeTargetIds[b]),m=m.add(o.activeTargetIds[b]);return d?new Df(e,m):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Cf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Cf(t.clientId,t.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ef{constructor(){this.activeTargetIds=cu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ch{constructor(e,t,o,d,m){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new vs(Mn),this.started=!1,this.cr=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ar=vc(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Ef),this.lr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.vi();for(const d of t){if(d===e.sr)continue;const m=e.getItem(vc(e.persistenceKey,d));if(m){const b=Df.Zi(d,m);b&&(e.ur=e.ur.insert(b.clientId,b))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const d=e.yr(o);d&&e.pr(d)}for(const d of e.cr)e.rr(d);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ou(this.persistenceKey,e));if(o){const d=Zl.Zi(e,o);d&&(t=d.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ou(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(d=>{this.Er(d)}),this.currentUser=e,o.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Vt("SharedClientState","READ",e,t),t}setItem(e,t){Vt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Vt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const d=t.vr(o.key);return t.Vr(d,null)}{const d=t.Sr(o.key,o.newValue);if(d)return t.Vr(d.clientId,d)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const d=t.Dr(o.key,o.newValue);if(d)return t.Cr(d)}}else if(t._r.test(o.key)){if(null!==o.newValue){const d=t.Nr(o.key,o.newValue);if(d)return t.kr(d)}}else if(o.key===t.wr){if(null!==o.newValue){const d=t.yr(o.newValue);if(d)return t.pr(d)}}else if(o.key===t.hr){const d=function(m){let b=ri.at;if(null!=m)try{const x=JSON.parse(m);Nn("number"==typeof x),b=x}catch(x){br("SharedClientState","Failed to read sequence number from WebStorage",x)}return b}(o.newValue);d!==ri.at&&t.sequenceNumberHandler(d)}else if(o.key===t.mr){const d=t.Or(o.newValue);yield Promise.all(d.map(m=>t.syncEngine.Mr(m)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const d=new Ru(this.currentUser,e,t,o),m=wf(this.persistenceKey,this.currentUser,e);this.setItem(m,d.tr())}Er(e){const t=wf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const d=Ou(this.persistenceKey,e),m=new Zl(e,t,o);this.setItem(d,m.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Df.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),d=Number(o[1]);return Ru.Zi(new Zi(void 0!==o[2]?o[2]:null),d,t)}Nr(e,t){const o=this._r.exec(e),d=Number(o[1]);return Zl.Zi(d,t)}yr(e){return Cf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),d=this.Ir(this.ur),m=this.Ir(o),b=[],x=[];return m.forEach(W=>{d.has(W)||b.push(W)}),d.forEach(W=>{m.has(W)||x.push(W)}),this.syncEngine.Br(b,x).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=cu();return e.forEach((o,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class If{constructor(){this.Lr=new Ef,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ef,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gp{qr(e){}shutdown(){}}class dh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zg{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Z_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,d,m){const b=this.ho(e,t);Vt("RestConnection","Sending: ",b,o);const x={};return this.lo(x,d,m),this.fo(e,b,x,o).then(W=>(Vt("RestConnection","Received: ",W),W),W=>{throw _o("RestConnection",`${e} failed with error: `,W,"url: ",b,"request:",o),W})}_o(e,t,o,d,m,b){return this.ao(e,t,o,d,m)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+_a,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,m)=>e[m]=d),o&&o.headers.forEach((d,m)=>e[m]=d)}ho(e,t){return`${this.oo}/v1/${t}:${zm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,d){return new Promise((m,b)=>{const x=new wu;x.setWithCredentials(!0),x.listenOnce(Ya.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case ll.NO_ERROR:const Y=x.getResponseJson();Vt("Connection","XHR received:",JSON.stringify(Y)),m(Y);break;case ll.TIMEOUT:Vt("Connection",'RPC "'+e+'" timed out'),b(new Ut(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case ll.HTTP_ERROR:const ue=x.getStatus();if(Vt("Connection",'RPC "'+e+'" failed with status:',ue,"response text:",x.getResponseText()),ue>0){const Ae=x.getResponseJson().error;if(Ae&&Ae.status&&Ae.message){const dt=function(Pt){const jt=Pt.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(jt)>=0?jt:Qe.UNKNOWN}(Ae.status);b(new Ut(dt,Ae.message))}else b(new Ut(Qe.UNKNOWN,"Server responded with status "+x.getStatus()))}else b(new Ut(Qe.UNAVAILABLE,"Connection failed."));break;default:_n()}}finally{Vt("Connection",'RPC "'+e+'" completed.')}});const W=JSON.stringify(d);x.send(t,"POST",W,o,15)})}wo(e,t,o){const d=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=La(),b=na(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new Fi({})),this.lo(x.initMessageHeaders,t,o),x.encodeInitMessageHeaders=!0;const W=d.join("");Vt("Connection","Creating WebChannel: "+W,x);const Y=m.createWebChannel(W,x);let ue=!1,Ae=!1;const dt=new Zg({Hr:jt=>{Ae?Vt("Connection","Not sending because WebChannel is closed:",jt):(ue||(Vt("Connection","Opening WebChannel transport."),Y.open(),ue=!0),Vt("Connection","WebChannel sending:",jt),Y.send(jt))},Jr:()=>Y.close()}),Pt=(jt,Fn,Wn)=>{jt.listen(Fn,Bi=>{try{Wn(Bi)}catch(Cs){setTimeout(()=>{throw Cs},0)}})};return Pt(Y,ma.EventType.OPEN,()=>{Ae||Vt("Connection","WebChannel transport opened.")}),Pt(Y,ma.EventType.CLOSE,()=>{Ae||(Ae=!0,Vt("Connection","WebChannel transport closed"),dt.io())}),Pt(Y,ma.EventType.ERROR,jt=>{Ae||(Ae=!0,_o("Connection","WebChannel transport errored:",jt),dt.io(new Ut(Qe.UNAVAILABLE,"The operation could not be completed")))}),Pt(Y,ma.EventType.MESSAGE,jt=>{var Fn;if(!Ae){const Wn=jt.data[0];Nn(!!Wn);const Bi=Wn,Cs=Bi.error||(null===(Fn=Bi[0])||void 0===Fn?void 0:Fn.error);if(Cs){Vt("Connection","WebChannel received error:",Cs);const Qi=Cs.status;let Bo=function($i){const Vo=Tn[$i];if(void 0!==Vo)return el(Vo)}(Qi),gs=Cs.message;void 0===Bo&&(Bo=Qe.INTERNAL,gs="Unknown error status: "+Qi+" with message "+Cs.message),Ae=!0,dt.io(new Ut(Bo,gs)),Y.close()}else Vt("Connection","WebChannel received:",Wn),dt.ro(Wn)}}),Pt(b,_s.STAT_EVENT,jt=>{jt.stat===Wo.PROXY?Vt("Connection","Detected buffering proxy"):jt.stat===Wo.NOPROXY&&Vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{dt.so()},0),dt}}function Wp(){return"undefined"!=typeof window?window:null}function hh(){return"undefined"!=typeof document?document:null}function bc(i){return new mp(i,!0)}class Tf{constructor(e,t,o=1e3,d=1.5,m=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=d,this.po=m,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),d=Math.max(0,t-o);d>0&&Vt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,d,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class nl{constructor(e,t,o,d,m,b,x,W){this.Hs=e,this.vo=o,this.Vo=d,this.So=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=W,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Tf(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,p.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,p.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,p.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===Qe.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===Qe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,d])=>{this.Do===t&&this.Qo(o,d)},o=>{e(()=>{const d=new Ut(Qe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(d)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(d=>{o(()=>this.jo(d))}),this.stream.onMessage(d=>{o(()=>this.onMessage(d))})}Mo(){var e=this;this.state=5,this.No.Ro((0,p.Z)(function*(){e.state=0,e.start()}))}jo(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xs extends nl{constructor(e,t,o,d,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,d,b),this.It=m}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Ng(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:_n(),d=e.targetChange.targetIds||[],m=function(W,Y){return W.gt?(Nn(void 0===Y||"string"==typeof Y),fi.fromBase64String(Y||"")):(Nn(void 0===Y||Y instanceof Uint8Array),fi.fromUint8Array(Y||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(W){const Y=void 0===W.code?Qe.UNKNOWN:el(W.code);return new Ut(Y,W.message||"")}(b);t=new pp(o,d,m,x||null)}else if("documentChange"in e){const o=e.documentChange,d=Sl(i,o.document.name),m=Hs(o.document.updateTime),b=new Fs({mapValue:{fields:o.document.fields}}),x=pi.newFoundDocument(d,m,b);t=new $d(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,d=Sl(i,o.document),m=o.readTime?Hs(o.readTime):S.min(),b=pi.newNoDocument(d,m);t=new $d([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,d=Sl(i,o.document);t=new $d([],o.removedTargetIds||[],d,null)}else{if(!("filter"in e))return _n();{const o=e.filter,m=new Rn(o.count||0);t=new fp(o.targetId,m)}}var W;return t}(this.It,e),o=function(d){if(!("targetChange"in d))return S.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?S.min():m.readTime?Hs(m.readTime):S.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=ac(this.It),t.addTarget=function(d,m){let b;const x=m.target;return b=Ge(x)?{documents:Qc(d,x)}:{query:Dp(d,x)},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?b.resumeToken=ko(d,m.resumeToken):m.snapshotVersion.compareTo(S.min())>0&&(b.readTime=sc(d,m.snapshotVersion.toTimestamp())),b}(this.It,e);const o=function km(i,e){const t=function(o,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _n()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=ac(this.It),t.removeTarget=e,this.Lo(t)}}class ha extends nl{constructor(e,t,o,d,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,d,b),this.It=m,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Pm(i,e){return i&&i.length>0?(Nn(void 0!==e),i.map(t=>function(o,d){let m=Hs(o.updateTime?o.updateTime:d);return m.isEqual(S.min())&&(m=Hs(d)),new dp(m,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Hs(e.commitTime);return this.listener.tu(o,t)}return Nn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ac(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>lc(this.It,o))};this.Lo(t)}}class zp extends class{}{constructor(e,t,o,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.It=d,this.su=!1}iu(){if(this.su)throw new Ut(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.So.ao(e,t,o,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ut(Qe.UNKNOWN,d.toString())})}_o(e,t,o,d){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.So._o(e,t,o,m,b,d)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Ut(Qe.UNKNOWN,m.toString())})}terminate(){this.su=!0}}class qm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(br(t),this.uu=!1):Vt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class fh{constructor(e,t,o,d,m){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=m,this.gu.qr(x=>{o.enqueueAndForget((0,p.Z)(function*(){var W;Wa(b)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,p.Z)(function*(Y){const ue=dn(Y);ue.wu.add(4),yield fl(ue),ue.yu.set("Unknown"),ue.wu.delete(4),yield Af(ue)}),function(Y){return W.apply(this,arguments)})(b))}))}),this.yu=new qm(o,d)}}function Af(i){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,p.Z)(function*(i){if(Wa(i))for(const e of i.mu)yield e(!0)}),Pu.apply(this,arguments)}function fl(i){return ud.apply(this,arguments)}function ud(){return ud=(0,p.Z)(function*(i){for(const e of i.mu)yield e(!1)}),ud.apply(this,arguments)}function ph(i,e){const t=dn(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Pl(t)?pu(t):wc(t).Oo()&&xf(t,e))}function cd(i,e){const t=dn(i),o=wc(t);t._u.delete(e),o.Oo()&&Nf(t,e),0===t._u.size&&(o.Oo()?o.$o():Wa(t)&&t.yu.set("Unknown"))}function xf(i,e){i.pu.Mt(e.targetId),wc(i).Ho(e)}function Nf(i,e){i.pu.Mt(e),wc(i).Jo(e)}function pu(i){i.pu=new Rm({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),wc(i).start(),i.yu.cu()}function Pl(i){return Wa(i)&&!wc(i).ko()&&i._u.size>0}function Wa(i){return 0===dn(i).wu.size}function dd(i){i.pu=void 0}function Mf(i){return ku.apply(this,arguments)}function ku(){return ku=(0,p.Z)(function*(i){i._u.forEach((e,t)=>{xf(i,e)})}),ku.apply(this,arguments)}function Fu(i,e){return za.apply(this,arguments)}function za(){return za=(0,p.Z)(function*(i,e){dd(i),Pl(i)?(i.yu.lu(e),pu(i)):i.yu.set("Unknown")}),za.apply(this,arguments)}function Kp(i,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,p.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof pp&&2===e.state&&e.cause)try{yield(o=(0,p.Z)(function*(d,m){const b=m.cause;for(const x of m.targetIds)d._u.has(x)&&(yield d.remoteSyncer.rejectListen(x,b),d._u.delete(x),d.pu.removeTarget(x))}),function(d,m){return o.apply(this,arguments)})(i,e)}catch(o){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Of(i,o)}else if(e instanceof $d?i.pu.Gt(e):e instanceof fp?i.pu.Yt(e):i.pu.Wt(e),!t.isEqual(S.min()))try{const o=yield Up(i.localStore);t.compareTo(o)>=0&&(yield function(d,m){const b=d.pu.te(m);return b.targetChanges.forEach((x,W)=>{if(x.resumeToken.approximateByteSize()>0){const Y=d._u.get(W);Y&&d._u.set(W,Y.withResumeToken(x.resumeToken,m))}}),b.targetMismatches.forEach(x=>{const W=d._u.get(x);if(!W)return;d._u.set(x,W.withResumeToken(fi.EMPTY_BYTE_STRING,W.snapshotVersion)),Nf(d,x);const Y=new Nl(W.target,x,1,W.sequenceNumber);xf(d,Y)}),d.remoteSyncer.applyRemoteEvent(b)}(i,t))}catch(o){Vt("RemoteStore","Failed to raise snapshot:",o),yield Of(i,o)}var o}),Zp.apply(this,arguments)}function Of(i,e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,p.Z)(function*(i,e,t){if(!lo(e))throw e;i.wu.add(1),yield fl(i),i.yu.set("Offline"),t||(t=()=>Up(i.localStore)),i.asyncQueue.enqueueRetryable((0,p.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield Af(i)}))}),Yg.apply(this,arguments)}function Yp(i,e){return e().catch(t=>Of(i,t,e))}function hd(i){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,p.Z)(function*(i){const e=dn(i),t=kl(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Km(e);)try{const d=yield vf(e.localStore,o);if(null===d){0===e.du.length&&t.$o();break}o=d.batchId,Qp(e,d)}catch(d){yield Of(e,d)}Jg(e)&&Qg(e)}),Jp.apply(this,arguments)}function Km(i){return Wa(i)&&i.du.length<10}function Qp(i,e){i.du.push(e);const t=kl(i);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function Jg(i){return Wa(i)&&!kl(i).ko()&&i.du.length>0}function Qg(i){kl(i).start()}function Rf(i){return gh.apply(this,arguments)}function gh(){return gh=(0,p.Z)(function*(i){kl(i).nu()}),gh.apply(this,arguments)}function Zm(i){return mh.apply(this,arguments)}function mh(){return mh=(0,p.Z)(function*(i){const e=kl(i);for(const t of i.du)e.Zo(t.mutations)}),mh.apply(this,arguments)}function _h(i,e,t){return yh.apply(this,arguments)}function yh(){return yh=(0,p.Z)(function*(i,e,t){const o=i.du.shift(),d=Au.from(o,e,t);yield Yp(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield hd(i)}),yh.apply(this,arguments)}function Xg(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,p.Z)(function*(i,e){var t;e&&kl(i).Xo&&(yield(t=(0,p.Z)(function*(o,d){if(hs(m=d.code)&&m!==Qe.ABORTED){const b=o.du.shift();kl(o).Fo(),yield Yp(o,()=>o.remoteSyncer.rejectFailedWrite(b.batchId,d)),yield hd(o)}var m}),function(o,d){return t.apply(this,arguments)})(i,e)),Jg(i)&&Qg(i)}),Pf.apply(this,arguments)}function fd(i,e){return pd.apply(this,arguments)}function pd(){return pd=(0,p.Z)(function*(i,e){const t=dn(i);t.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const o=Wa(t);t.wu.add(3),yield fl(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Af(t)}),pd.apply(this,arguments)}function kf(i,e){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,p.Z)(function*(i,e){const t=dn(i);e?(t.wu.delete(2),yield Af(t)):e||(t.wu.add(2),yield fl(t),t.yu.set("Unknown"))}),Lu.apply(this,arguments)}function wc(i){return i.Iu||(i.Iu=function(e,t,o){const d=dn(e);return d.iu(),new xs(t,d.So,d.authCredentials,d.appCheckCredentials,d.It,o)}(i.datastore,i.asyncQueue,{Yr:Mf.bind(null,i),Zr:Fu.bind(null,i),zo:Kp.bind(null,i)}),i.mu.push(function(){var e=(0,p.Z)(function*(t){t?(i.Iu.Fo(),Pl(i)?pu(i):i.yu.set("Unknown")):(yield i.Iu.stop(),dd(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function kl(i){return i.Tu||(i.Tu=function(e,t,o){const d=dn(e);return d.iu(),new ha(t,d.So,d.authCredentials,d.appCheckCredentials,d.It,o)}(i.datastore,i.asyncQueue,{Yr:Rf.bind(null,i),Zr:Xg.bind(null,i),eu:Zm.bind(null,i),tu:_h.bind(null,i)}),i.mu.push(function(){var e=(0,p.Z)(function*(t){t?(i.Tu.Fo(),yield hd(i)):(yield i.Tu.stop(),i.du.length>0&&(Vt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class Fl{constructor(e,t,o,d,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=d,this.removalCallback=m,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,o,d,m){const b=Date.now()+o,x=new Fl(e,t,b,d,m);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dc(i,e){if(br("AsyncQueue",`${e}: ${i}`),lo(i))return new Ut(Qe.UNAVAILABLE,`${e}: ${i}`);throw i}class Oa{constructor(e){this.comparator=e?(t,o)=>e(t,o)||q.comparator(t.key,o.key):(t,o)=>q.comparator(t.key,o.key),this.keyedMap=uu(),this.sortedSet=new vs(this.comparator)}static emptySet(e){return new Oa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=o.getNext().key;if(!d.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Oa;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Cc{constructor(){this.Eu=new vs(q.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):_n():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ec{constructor(e,t,o,d,m,b,x,W,Y){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=d,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=W,this.hasCachedResults=Y}static fromInitialDocuments(e,t,o,d,m){const b=[];return t.forEach(x=>{b.push({type:0,doc:x})}),new Ec(e,t,Oa.emptySet(t),b,o,d,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==o[d].type||!t[d].doc.isEqual(o[d].doc))return!1;return!0}}class gd{constructor(){this.Ru=void 0,this.listeners=[]}}class Ym{constructor(){this.queries=new Ro(e=>Bd(e),Xa),this.onlineState="Unknown",this.bu=new Set}}function md(i,e){return vh.apply(this,arguments)}function vh(){return vh=(0,p.Z)(function*(i,e){const t=dn(i),o=e.query;let d=!1,m=t.queries.get(o);if(m||(d=!0,m=new gd),d)try{m.Ru=yield t.onListen(o)}catch(b){const x=Dc(b,`Initialization of query '${Uc(e.query)}' failed`);return void e.onError(x)}t.queries.set(o,m),m.listeners.push(e),e.Pu(t.onlineState),m.Ru&&e.vu(m.Ru)&&yd(t)}),vh.apply(this,arguments)}function _d(i,e){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,p.Z)(function*(i,e){const t=dn(i),o=e.query;let d=!1;const m=t.queries.get(o);if(m){const b=m.listeners.indexOf(e);b>=0&&(m.listeners.splice(b,1),d=0===m.listeners.length)}if(d)return t.queries.delete(o),t.onUnlisten(o)}),Bu.apply(this,arguments)}function Xp(i,e){const t=dn(i);let o=!1;for(const d of e){const b=t.queries.get(d.query);if(b){for(const x of b.listeners)x.vu(d)&&(o=!0);b.Ru=d}}o&&yd(t)}function Ff(i,e,t){const o=dn(i),d=o.queries.get(e);if(d)for(const m of d.listeners)m.onError(t);o.queries.delete(e)}function yd(i){i.bu.forEach(e=>{e.next()})}class bh{constructor(e,t,o){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const d of e.docChanges)3!==d.type&&o.push(d);e=new Ec(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class Lf{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class wh{constructor(e){this.It=e}Ji(e){return Sl(this.It,e)}Yi(e){return e.metadata.exists?Wd(this.It,e.document,!1):pi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Hs(e)}}class vd{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bf(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=C.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new wh(this.It);for(const d of e)if(d.metadata.queries){const m=o.Ji(d.metadata.name);for(const b of d.metadata.queries){const x=(t.get(b)||Lr()).add(m);t.set(b,x)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function Kg(i,e,t,o){return $p.apply(this,arguments)}(e.localStore,new wh(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const d of e.queries)yield Wm(e.localStore,d,o.get(d.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Bf(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class eg{constructor(e){this.key=e}}class Vf{constructor(e){this.key=e}}class Yl{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Lr(),this.mutatedKeys=Lr(),this.Gu=Ju(e),this.Qu=new Oa(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new Cc,d=t?t.Qu:this.Qu;let m=t?t.mutatedKeys:this.mutatedKeys,b=d,x=!1;const W="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,Y="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((ue,Ae)=>{const dt=d.get(ue),Pt=Zu(this.query,Ae)?Ae:null,jt=!!dt&&this.mutatedKeys.has(dt.key),Fn=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let Wn=!1;dt&&Pt?dt.data.isEqual(Pt.data)?jt!==Fn&&(o.track({type:3,doc:Pt}),Wn=!0):this.Hu(dt,Pt)||(o.track({type:2,doc:Pt}),Wn=!0,(W&&this.Gu(Pt,W)>0||Y&&this.Gu(Pt,Y)<0)&&(x=!0)):!dt&&Pt?(o.track({type:0,doc:Pt}),Wn=!0):dt&&!Pt&&(o.track({type:1,doc:dt}),Wn=!0,(W||Y)&&(x=!0)),Wn&&(Pt?(b=b.add(Pt),m=Fn?m.add(ue):m.delete(ue)):(b=b.delete(ue),m=m.delete(ue)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ue="F"===this.query.limitType?b.last():b.first();b=b.delete(ue.key),m=m.delete(ue.key),o.track({type:1,doc:ue})}return{Qu:b,zu:o,$i:x,mutatedKeys:m}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const d=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const m=e.zu.Au();m.sort((Y,ue)=>function(Ae,dt){const Pt=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _n()}};return Pt(Ae)-Pt(dt)}(Y.type,ue.type)||this.Gu(Y.doc,ue.doc)),this.Ju(o);const b=t?this.Yu():[],x=0===this.Ku.size&&this.current?1:0,W=x!==this.qu;return this.qu=x,0!==m.length||W?{snapshot:new Ec(this.query,e.Qu,d,m,e.mutatedKeys,0===x,W,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:b}:{Xu:b}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Cc,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Lr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Vf(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new eg(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=Lr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ec.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class em{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Jm{constructor(e){this.key=e,this.nc=!1}}class tg{constructor(e,t,o,d,m,b){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=d,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.sc={},this.ic=new Ro(x=>Bd(x),Xa),this.rc=new Map,this.oc=new Set,this.uc=new vs(q.comparator),this.cc=new Map,this.ac=new Lp,this.hc={},this.lc=new Map,this.fc=gc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Ic(i,e){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,p.Z)(function*(i,e){const t=cg(i);let o,d;const m=t.ic.get(e);if(m)o=m.targetId,t.sharedClientState.addLocalQueryTarget(o),d=m.view.ec();else{const b=yield ql(t.localStore,Xs(e));t.isPrimaryClient&&ph(t.remoteStore,b);const x=t.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,d=yield Ch(t,e,o,"current"===x,b.resumeToken)}return d}),Dh.apply(this,arguments)}function Ch(i,e,t,o,d){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,p.Z)(function*(i,e,t,o,d){i._c=(Ae,dt,Pt)=>{return(jt=(0,p.Z)(function*(Fn,Wn,Bi,Cs){let Qi=Wn.view.Wu(Bi);Qi.$i&&(Qi=yield ld(Fn.localStore,Wn.query,!1).then(({documents:$i})=>Wn.view.Wu($i,Qi)));const Bo=Cs&&Cs.targetChanges.get(Wn.targetId),gs=Wn.view.applyChanges(Qi,Fn.isPrimaryClient,Bo);return ag(Fn,Wn.targetId,gs.Xu),gs.snapshot}),function(Fn,Wn,Bi,Cs){return jt.apply(this,arguments)})(i,Ae,dt,Pt);var jt};const m=yield ld(i.localStore,e,!0),b=new Yl(e,m.Hi),x=b.Wu(m.documents),W=Yc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,d),Y=b.applyChanges(x,i.isPrimaryClient,W);ag(i,t,Y.Xu);const ue=new em(e,t,b);return i.ic.set(e,ue),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),Y.snapshot}),Eh.apply(this,arguments)}function ng(i,e){return qa.apply(this,arguments)}function qa(){return qa=(0,p.Z)(function*(i,e){const t=dn(i),o=t.ic.get(e),d=t.rc.get(o.targetId);if(d.length>1)return t.rc.set(o.targetId,d.filter(m=>!Xa(m,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield _c(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),cd(t.remoteStore,o.targetId),Sh(t,o.targetId)}).catch(os))):(Sh(t,o.targetId),yield _c(t.localStore,o.targetId,!0))}),qa.apply(this,arguments)}function bd(){return bd=(0,p.Z)(function*(i,e,t){const o=Tc(i);try{const d=yield function(m,b){const x=dn(m),W=Si.now(),Y=b.reduce((dt,Pt)=>dt.add(Pt.key),Lr());let ue,Ae;return x.persistence.runTransaction("Locally write mutations","readwrite",dt=>{let Pt=Po(),jt=Lr();return x.Gi.getEntries(dt,Y).next(Fn=>{Pt=Fn,Pt.forEach((Wn,Bi)=>{Bi.isValidDocument()||(jt=jt.add(Wn))})}).next(()=>x.localDocuments.getOverlayedDocuments(dt,Pt)).next(Fn=>{ue=Fn;const Wn=[];for(const Bi of b){const Cs=Hd(Bi,ue.get(Bi.key).overlayedDocument);null!=Cs&&Wn.push(new v(Bi.key,Cs,qu(Cs.value.mapValue),Ds.exists(!0)))}return x.mutationQueue.addMutationBatch(dt,W,Wn,b)}).next(Fn=>{Ae=Fn;const Wn=Fn.applyToLocalDocumentSet(ue,jt);return x.documentOverlayCache.saveOverlays(dt,Fn.batchId,Wn)})}).then(()=>({batchId:Ae.batchId,changes:nc(ue)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(d.batchId),function(m,b,x){let W=m.hc[m.currentUser.toKey()];W||(W=new vs(Mn)),W=W.insert(b,x),m.hc[m.currentUser.toKey()]=W}(o,d.batchId,t),yield Vu(o,d.changes),yield hd(o.remoteStore)}catch(d){const m=Dc(d,"Failed to persist write");t.reject(m)}}),bd.apply(this,arguments)}function rg(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,p.Z)(function*(i,e){const t=dn(i);try{const o=yield jp(t.localStore,e);e.targetChanges.forEach((d,m)=>{const b=t.cc.get(m);b&&(Nn(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?b.nc=!0:d.modifiedDocuments.size>0?Nn(b.nc):d.removedDocuments.size>0&&(Nn(b.nc),b.nc=!1))}),yield Vu(t,o,e)}catch(o){yield os(o)}}),Uf.apply(this,arguments)}function Th(i,e,t){const o=dn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const d=[];o.ic.forEach((m,b)=>{const x=b.view.Pu(e);x.snapshot&&d.push(x.snapshot)}),function(m,b){const x=dn(m);x.onlineState=b;let W=!1;x.queries.forEach((Y,ue)=>{for(const Ae of ue.listeners)Ae.Pu(b)&&(W=!0)}),W&&yd(x)}(o.eventManager,e),d.length&&o.sc.zo(d),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function tm(i,e,t){return jf.apply(this,arguments)}function jf(){return jf=(0,p.Z)(function*(i,e,t){const o=dn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const d=o.cc.get(e),m=d&&d.key;if(m){let b=new vs(q.comparator);b=b.insert(m,pi.newNoDocument(m,S.min()));const x=Lr().add(m),W=new rc(S.min(),new Map,new Li(Mn),b,x);yield rg(o,W),o.uc=o.uc.remove(m),o.cc.delete(e),Dd(o)}else yield _c(o.localStore,e,!1).then(()=>Sh(o,e,t)).catch(os)}),jf.apply(this,arguments)}function nm(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,p.Z)(function*(i,e){const t=dn(i),o=e.batch.batchId;try{const d=yield yf(t.localStore,e);im(t,o,null),og(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Vu(t,d)}catch(d){yield os(d)}}),Hf.apply(this,arguments)}function $f(i,e,t){return ig.apply(this,arguments)}function ig(){return ig=(0,p.Z)(function*(i,e,t){const o=dn(i);try{const d=yield function(m,b){const x=dn(m);return x.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let Y;return x.mutationQueue.lookupMutationBatch(W,b).next(ue=>(Nn(null!==ue),Y=ue.keys(),x.mutationQueue.removeMutationBatch(W,ue))).next(()=>x.mutationQueue.performConsistencyCheck(W)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(W,Y,b)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,Y)).next(()=>x.localDocuments.getDocuments(W,Y))})}(o.localStore,e);im(o,e,t),og(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Vu(o,d)}catch(d){yield os(d)}}),ig.apply(this,arguments)}function sg(){return sg=(0,p.Z)(function*(i,e){const t=dn(i);Wa(t.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const b=dn(m);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>b.mutationQueue.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===o)return void e.resolve();const d=t.lc.get(o)||[];d.push(e),t.lc.set(o,d)}catch(o){const d=Dc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),sg.apply(this,arguments)}function og(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function im(i,e,t){const o=dn(i);let d=o.hc[o.currentUser.toKey()];if(d){const m=d.get(e);m&&(t?m.reject(t):m.resolve(),d=d.remove(e)),o.hc[o.currentUser.toKey()]=d}}function Sh(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||wd(i,o)})}function wd(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(cd(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Dd(i))}function ag(i,e,t){for(const o of t)o instanceof eg?(i.ac.addReference(o.key,e),sm(i,o)):o instanceof Vf?(Vt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||wd(i,o.key)):_n()}function sm(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Vt("SyncEngine","New document in limbo: "+t),i.oc.add(o),Dd(i))}function Dd(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new q(C.fromString(e)),o=i.fc.next();i.cc.set(o,new Jm(t)),i.uc=i.uc.insert(t,o),ph(i.remoteStore,new Nl(Xs(Ha(t.path)),o,2,ri.at))}}function Vu(i,e,t){return rl.apply(this,arguments)}function rl(){return rl=(0,p.Z)(function*(i,e,t){const o=dn(i),d=[],m=[],b=[];var x;o.ic.isEmpty()||(o.ic.forEach((x,W)=>{b.push(o._c(W,e,t).then(Y=>{if((Y||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(W.targetId,(null==Y?void 0:Y.fromCache)?"not-current":"current"),Y){d.push(Y);const ue=Vp.Ci(W.targetId,Y);m.push(ue)}}))}),yield Promise.all(b),o.sc.zo(d),yield(x=(0,p.Z)(function*(W,Y){const ue=dn(W);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ae=>nt.forEach(Y,dt=>nt.forEach(dt.Si,Pt=>ue.persistence.referenceDelegate.addReference(Ae,dt.targetId,Pt)).next(()=>nt.forEach(dt.Di,Pt=>ue.persistence.referenceDelegate.removeReference(Ae,dt.targetId,Pt)))))}catch(Ae){if(!lo(Ae))throw Ae;Vt("LocalStore","Failed to update sequence numbers: "+Ae)}for(const Ae of Y){const dt=Ae.targetId;if(!Ae.fromCache){const Pt=ue.Ui.get(dt),Fn=Pt.withLastLimboFreeSnapshotVersion(Pt.snapshotVersion);ue.Ui=ue.Ui.insert(dt,Fn)}}}),function(W,Y){return x.apply(this,arguments)})(o.localStore,m))}),rl.apply(this,arguments)}function om(i,e){return am.apply(this,arguments)}function am(){return am=(0,p.Z)(function*(i,e){const t=dn(i);if(!t.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const o=yield zg(t.localStore,e);t.currentUser=e,(d=t).lc.forEach(b=>{b.forEach(x=>{x.reject(new Ut(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Vu(t,o.ji)}var d}),am.apply(this,arguments)}function lm(i,e){const t=dn(i),o=t.cc.get(e);if(o&&o.nc)return Lr().add(o.key);{let d=Lr();const m=t.rc.get(e);if(!m)return d;for(const b of m){const x=t.ic.get(b);d=d.unionWith(x.view.ju)}return d}}function um(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,p.Z)(function*(i,e){const t=dn(i),o=yield ld(t.localStore,e.query,!0),d=e.view.tc(o);return t.isPrimaryClient&&ag(t,e.targetId,d.Xu),d}),Gf.apply(this,arguments)}function cm(i,e){return dm.apply(this,arguments)}function dm(){return dm=(0,p.Z)(function*(i,e){const t=dn(i);return bf(t.localStore,e).then(o=>Vu(t,o))}),dm.apply(this,arguments)}function hm(i,e,t,o){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,p.Z)(function*(i,e,t,o){const d=dn(i),m=yield function(b,x){const W=dn(b),Y=dn(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ue=>Y.Tn(ue,x).next(Ae=>Ae?W.localDocuments.getDocuments(ue,Ae):nt.resolve(null)))}(d.localStore,e);var x;null!==m?("pending"===t?yield hd(d.remoteStore):"acknowledged"===t||"rejected"===t?(im(d,e,o||null),og(d,e),x=e,dn(dn(d.localStore).mutationQueue).An(x)):_n(),yield Vu(d,m)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Cd.apply(this,arguments)}function Ah(){return Ah=(0,p.Z)(function*(i,e){const t=dn(i);if(cg(t),Tc(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),d=yield Wf(t,o.toArray());t.dc=!0,yield kf(t.remoteStore,!0);for(const m of d)ph(t.remoteStore,m)}else if(!1===e&&!1!==t.dc){const o=[];let d=Promise.resolve();t.rc.forEach((m,b)=>{t.sharedClientState.isLocalQueryTarget(b)?o.push(b):d=d.then(()=>(Sh(t,b),_c(t.localStore,b,!0))),cd(t.remoteStore,b)}),yield d,yield Wf(t,o),function(m){const b=dn(m);b.cc.forEach((x,W)=>{cd(b.remoteStore,W)}),b.ac.fs(),b.cc=new Map,b.uc=new vs(q.comparator)}(t),t.dc=!1,yield kf(t.remoteStore,!1)}}),Ah.apply(this,arguments)}function Wf(i,e,t){return lg.apply(this,arguments)}function lg(){return lg=(0,p.Z)(function*(i,e,t){const o=dn(i),d=[],m=[];for(const b of e){let x;const W=o.rc.get(b);if(W&&0!==W.length){x=yield ql(o.localStore,Xs(W[0]));for(const Y of W){const ue=o.ic.get(Y),Ae=yield um(o,ue);Ae.snapshot&&m.push(Ae.snapshot)}}else{const Y=yield qg(o.localStore,b);x=yield ql(o.localStore,Y),yield Ch(o,fm(Y),b,!1,x.resumeToken)}d.push(x)}return o.sc.zo(m),d}),lg.apply(this,arguments)}function fm(i){return cp(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Xm(i){const e=dn(i);return dn(dn(e.localStore).persistence).vi()}function e_(i,e,t,o){return ug.apply(this,arguments)}function ug(){return ug=(0,p.Z)(function*(i,e,t,o){const d=dn(i);if(d.dc)return void Vt("SyncEngine","Ignoring unexpected query state notification.");const m=d.rc.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const b=yield bf(d.localStore,Yu(m[0])),x=rc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fi.EMPTY_BYTE_STRING);yield Vu(d,b,x);break}case"rejected":yield _c(d.localStore,e,!0),Sh(d,e,o);break;default:_n()}}),ug.apply(this,arguments)}function Ed(i,e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,p.Z)(function*(i,e,t){const o=cg(i);if(o.dc){for(const d of e){if(o.rc.has(d)){Vt("SyncEngine","Adding an already active target "+d);continue}const m=yield qg(o.localStore,d),b=yield ql(o.localStore,m);yield Ch(o,fm(m),b.targetId,!1,b.resumeToken),ph(o.remoteStore,b)}for(const d of t)o.rc.has(d)&&(yield _c(o.localStore,d,!1).then(()=>{cd(o.remoteStore,d),Sh(o,d)}).catch(os))}}),Uu.apply(this,arguments)}function cg(i){const e=dn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=rg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tm.bind(null,e),e.sc.zo=Xp.bind(null,e.eventManager),e.sc.wc=Ff.bind(null,e.eventManager),e}function Tc(i){const e=dn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$f.bind(null,e),e}class zf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.It=bc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Wg(this.persistence,new Gg,e.initialUser,this.It)}yc(e){return new oh(ad.Bs,this.It)}gc(e){return new If}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qf extends zf{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,p.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Tc(o.Ac.syncEngine),yield hd(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Wg(this.persistence,new Gg,e.initialUser,this.It)}Tc(e,t){return new Rp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new kd(t,this.persistence);return new Gu(e.asyncQueue,o)}yc(e){const t=Bp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ma.withCacheSize(this.cacheSizeBytes):Ma.DEFAULT;return new mf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Wp(),hh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new If}}class Jl extends qf{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,p.Z)(function*(){yield t().call(o,e);const d=o.Ac.syncEngine;o.sharedClientState instanceof ch&&(o.sharedClientState.syncEngine={Fr:hm.bind(null,d),$r:e_.bind(null,d),Br:Ed.bind(null,d),vi:Xm.bind(null,d),Mr:cm.bind(null,d)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var m=(0,p.Z)(function*(b){yield function Qm(i,e){return Ah.apply(this,arguments)}(o.Ac.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return m.apply(this,arguments)}}())})()}gc(e){const t=Wp();if(!ch.C(t))throw new Ut(Qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Bp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ch(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Sc{initialize(e,t){var o=this;return(0,p.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=d=>Th(o.syncEngine,d,1),o.remoteStore.remoteSyncer.handleCredentialChange=om.bind(null,o.syncEngine),yield kf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ym}createDatastore(e){const t=bc(e.databaseInfo.databaseId),o=new Z_(e.databaseInfo);return new zp(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,d=e.asyncQueue,m=x=>Th(this.syncEngine,x,0),b=dh.C()?new dh:new Gp,new fh(t,o,d,m,b);var t,o,d,m,b}createSyncEngine(e,t){return function(o,d,m,b,x,W,Y){const ue=new tg(o,d,m,b,x,W);return Y&&(ue.dc=!0),ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const o=dn(t);Vt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield fl(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Fo(i,e,t){if(!t)throw new Ut(Qe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function gu(i,e,t,o){if(!0===e&&!0===o)throw new Ut(Qe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function xh(i){if(!q.isDocumentKey(i))throw new Ut(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function il(i){if(q.isDocumentKey(i))throw new Ut(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Id(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":_n()}function Qr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ut(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Id(i);throw new Ut(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function mu(i,e){if(e<=0)throw new Ut(Qe.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const Ac=new Map;class xc{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ut(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,gu("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ql{constructor(e,t,o,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xc(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Du;switch(t.type){case"gapi":return new M(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ut(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ac.get(e);t&&(Vt("ComponentProvider","Removing Datastore"),Ac.delete(e),t.terminate())}(this),Promise.resolve()}}function Nc(i,e,t,o={}){var d;const m=(i=Qr(i,Ql))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&_o("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let b,x;if("string"==typeof o.mockUserToken)b=o.mockUserToken,x=Zi.MOCK_USER;else{b=(0,ve.Sg)(o.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const W=o.mockUserToken.sub||o.mockUserToken.user_id;if(!W)throw new Ut(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Zi(W)}i._authCredentials=new zs(new _l(b,x))}}class fs{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fs(this.firestore,e,this._key)}}class eo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class Ra extends eo{constructor(e,t,o){super(e,t,Ha(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fs(this.firestore,null,new q(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function pm(i,e,...t){if(i=(0,ve.m9)(i),Fo("collection","path",e),i instanceof Ql){const o=C.fromString(e,...t);return il(o),new Ra(i,null,o)}{if(!(i instanceof fs||i instanceof Ra))throw new Ut(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(C.fromString(e,...t));return il(o),new Ra(i.firestore,null,o)}}function Kf(i,e){if(i=Qr(i,Ql),Fo("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ut(Qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new eo(i,null,(t=e,new Aa(C.emptyPath(),t)));var t}function Zf(i,e,...t){if(i=(0,ve.m9)(i),1===arguments.length&&(e=Oi.R()),Fo("doc","path",e),i instanceof Ql){const o=C.fromString(e,...t);return xh(o),new fs(i,null,new q(o))}{if(!(i instanceof fs||i instanceof Ra))throw new Ut(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(C.fromString(e,...t));return xh(o),new fs(i.firestore,i instanceof Ra?i.converter:null,new q(o))}}function dg(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),(i instanceof fs||i instanceof Ra)&&(e instanceof fs||e instanceof Ra)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Nh(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),i instanceof eo&&e instanceof eo&&i.firestore===e.firestore&&Xa(i._query,e._query)&&i.converter===e.converter}function u(i,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class c{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):br("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class a{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new is,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),d=Number(o);isNaN(d)&&e.Dc(`length string (${o}) is not valid number`);const m=yield e.Cc(d);return new Lf(JSON.parse(m),t.length+d)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,p.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class se{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ut(Qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(d=(0,p.Z)(function*(m,b){const x=dn(m),W=ac(x.It)+"/documents",Y={documents:b.map(Pt=>oc(x.It,Pt))},ue=yield x._o("BatchGetDocuments",W,Y,b.length),Ae=new Map;ue.forEach(Pt=>{const jt=function xg(i,e){return"found"in e?function(t,o){Nn(!!o.found);const d=Sl(t,o.found.name),m=Hs(o.found.updateTime),b=new Fs({mapValue:{fields:o.found.fields}});return pi.newFoundDocument(d,m,b)}(i,e):"missing"in e?function(t,o){Nn(!!o.missing),Nn(!!o.readTime);const d=Sl(t,o.missing),m=Hs(o.readTime);return pi.newNoDocument(d,m)}(i,e):_n()}(x.It,Pt);Ae.set(jt.key.toString(),jt)});const dt=[];return b.forEach(Pt=>{const jt=Ae.get(Pt.toString());Nn(!!jt),dt.push(jt)}),dt}),function(m,b){return d.apply(this,arguments)})(t.datastore,e);var d;return o.forEach(d=>t.recordVersion(d)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new et(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,d)=>{const m=q.fromPath(d);e.mutations.push(new Ft(m,e.precondition(m)))}),yield(o=(0,p.Z)(function*(d,m){const b=dn(d),x=ac(b.It)+"/documents",W={writes:m.map(Y=>lc(b.It,Y))};yield b.ao("Commit",x,W)}),function(d,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _n();t=S.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ut(Qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(S.min())?Ds.exists(!1):Ds.updateTime(t):Ds.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(S.min()))throw new Ut(Qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ds.updateTime(t)}return Ds.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ce{constructor(e,t,o,d,m){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=d,this.deferred=m,this.kc=o.maxAttempts,this.No=new Tf(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,p.Z)(function*(){const t=new se(e.datastore),o=e.Mc(t);o&&o.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(m=>{e.Fc(m)}))}).catch(d=>{e.Fc(d)})}))}Mc(e){try{const t=this.updateFunction(e);return!co(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!hs(t)}return!1}}class Ee{constructor(e,t,o,d){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=d,this.user=Zi.UNAUTHENTICATED,this.clientId=Oi.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,p.Z)(function*(x){Vt("FirestoreClient","Received user=",x.uid),yield m.authCredentialListener(x),m.user=x});return function(x){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(Vt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const d=Dc(o,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function rt(i,e){return mt.apply(this,arguments)}function mt(){return mt=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var d=(0,p.Z)(function*(m){o.isEqual(m)||(yield zg(e.localStore,m),o=m)});return function(m){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),mt.apply(this,arguments)}function Dn(i,e){return un.apply(this,arguments)}function un(){return un=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield wn(i);Vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(d=>fd(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,m)=>fd(e.remoteStore,m)),i.onlineComponents=e}),un.apply(this,arguments)}function wn(i){return Br.apply(this,arguments)}function Br(){return Br=(0,p.Z)(function*(i){return i.offlineComponents||(Vt("FirestoreClient","Using default OfflineComponentProvider"),yield rt(i,new zf)),i.offlineComponents}),Br.apply(this,arguments)}function or(i){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,p.Z)(function*(i){return i.onlineComponents||(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield Dn(i,new Sc)),i.onlineComponents}),Vr.apply(this,arguments)}function ai(i){return wn(i).then(e=>e.persistence)}function $r(i){return wn(i).then(e=>e.localStore)}function Ci(i){return or(i).then(e=>e.remoteStore)}function Xr(i){return or(i).then(e=>e.syncEngine)}function ii(i){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,p.Z)(function*(i){const e=yield or(i),t=e.eventManager;return t.onListen=Ic.bind(null,e.syncEngine),t.onUnlisten=ng.bind(null,e.syncEngine),t}),Hi.apply(this,arguments)}function $s(i,e,t={}){const o=new is;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(d,m,b,x,W){const Y=new c({next:Ae=>{m.enqueueAndForget(()=>_d(d,ue));const dt=Ae.docs.has(b);!dt&&Ae.fromCache?W.reject(new Ut(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):dt&&Ae.fromCache&&x&&"server"===x.source?W.reject(new Ut(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ae)},error:Ae=>W.reject(Ae)}),ue=new bh(Ha(b.path),Y,{includeMetadataChanges:!0,ku:!0});return md(d,ue)}(yield ii(i),i.asyncQueue,e,t,o)})),o.promise}function Jo(i,e,t={}){const o=new is;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(d,m,b,x,W){const Y=new c({next:Ae=>{m.enqueueAndForget(()=>_d(d,ue)),Ae.fromCache&&"server"===x.source?W.reject(new Ut(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ae)},error:Ae=>W.reject(Ae)}),ue=new bh(b,Y,{includeMetadataChanges:!0,ku:!0});return md(d,ue)}(yield ii(i),i.asyncQueue,e,t,o)})),o.promise}class ka{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Tf(this,"async_queue_retry"),this.Wc=()=>{const t=hh();t&&Vt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=hh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=hh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new is;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,p.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!lo(t))throw t;Vt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,br("INTERNAL UNHANDLED ERROR: ",function(m){let b=m.message||"";return m.stack&&(b=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),b}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const d=Fl.createAndSchedule(this,e,t,o,m=>this.Yc(m));return this.qc.push(d),d}zc(){this.Kc&&_n()}verifyOperationInProgress(){}Xc(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Mc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const d of["next","error","complete"])if(d in o&&"function"==typeof o[d])return!0;return!1}(i)}class yu{constructor(){this._progressObserver={},this._taskCompletionResolver=new is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Mh=-1;class as extends Ql{constructor(e,t,o,d){super(e,t,o,d),this.type="firestore",this._queue=new ka,this._persistenceKey=(null==d?void 0:d.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ll(this),this._firestoreClient.terminate()}}function Rh(i,e){const t="object"==typeof i?i:(0,f.getApp)(),o="string"==typeof i?i:e||"(default)",d=(0,f._getProvider)(t,"firestore").getImmediate({identifier:o});if(!d._initialized){const m=(0,ve.P0)("firestore");m&&Nc(d,...m)}return d}function ps(i){return i._firestoreClient||Ll(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ll(i){var e;const t=i._freezeSettings(),o=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new aa(i._databaseId,m,i._persistenceKey,(x=t).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var m,x;i._firestoreClient=new Ee(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Td(i,e){Md(i=Qr(i,as));const t=ps(i),o=i._freezeSettings(),d=new Sc;return Xl(t,d,new qf(d,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Sd(i){Md(i=Qr(i,as));const e=ps(i),t=i._freezeSettings(),o=new Sc;return Xl(e,o,new Jl(o,t.cacheSizeBytes))}function Xl(i,e,t){const o=new is;return i.asyncQueue.enqueue((0,p.Z)(function*(){try{yield rt(i,t),yield Dn(i,e),o.resolve()}catch(d){const m=d;if(!("FirebaseError"===(b=m).name?b.code===Qe.FAILED_PRECONDITION||b.code===Qe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&b instanceof DOMException)||22===b.code||20===b.code||11===b.code))throw m;_o("Error enabling offline persistence. Falling back to persistence disabled: "+m),o.reject(m)}var b})).then(()=>o.promise)}function Ad(i){if(i._initialized&&!i._terminated)throw new Ut(Qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new is;return i._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(o){if(!Ss.C())return Promise.resolve();const d=o+"main";yield Ss.delete(d)}),function(o){return t.apply(this,arguments)})(Bp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function n_(i){return function(e){const t=new is;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function rm(i,e){return sg.apply(this,arguments)}(yield Xr(e),t)})),t.promise}(ps(i=Qr(i,as)))}function xd(i){return function Ji(i){return i.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield ai(i),t=yield Ci(i);return e.setNetworkEnabled(!0),function(o){const d=dn(o);return d.wu.delete(0),Af(d)}(t)}))}(ps(i=Qr(i,as)))}function gm(i){return function to(i){return i.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield ai(i),t=yield Ci(i);return e.setNetworkEnabled(!1),(o=(0,p.Z)(function*(d){const m=dn(d);m.wu.add(0),yield fl(m),m.yu.set("Offline")}),function(d){return o.apply(this,arguments)})(t);var o}))}(ps(i=Qr(i,as)))}function Nd(i,e){const t=ps(i=Qr(i,as)),o=new yu;return function ju(i,e,t,o){const d=function(m,b){let x;return x="string"==typeof m?(new TextEncoder).encode(m):m,W=function(W,Y){if(W instanceof Uint8Array)return u(W,Y);if(W instanceof ArrayBuffer)return u(new Uint8Array(W),Y);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new a(W,b);var W}(t,bc(e));i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function t_(i,e,t){const o=dn(i);var d;(d=(0,p.Z)(function*(m,b,x){try{const W=yield b.getMetadata();if(yield function(dt,Pt){const jt=dn(dt),Fn=Hs(Pt.createTime);return jt.persistence.runTransaction("hasNewerBundle","readonly",Wn=>jt.Ns.getBundleMetadata(Wn,Pt.id)).then(Wn=>!!Wn&&Wn.createTime.compareTo(Fn)>=0)}(m.localStore,W))return yield b.close(),x._completeWith({taskState:"Success",documentsLoaded:(dt=W).totalDocuments,bytesLoaded:dt.totalBytes,totalDocuments:dt.totalDocuments,totalBytes:dt.totalBytes}),Promise.resolve(new Set);x._updateProgress(Bf(W));const Y=new vd(W,m.localStore,b.It);let ue=yield b.mc();for(;ue;){const dt=yield Y.Fu(ue);dt&&x._updateProgress(dt),ue=yield b.mc()}const Ae=yield Y.complete();return yield Vu(m,Ae.Lu,void 0),yield function(dt,Pt){const jt=dn(dt);return jt.persistence.runTransaction("Save bundle","readwrite",Fn=>jt.Ns.saveBundleMetadata(Fn,Pt))}(m.localStore,W),x._completeWith(Ae.progress),Promise.resolve(Ae.Bu)}catch(W){return _o("SyncEngine",`Loading bundle failed with ${W}`),x._failWith(W),Promise.resolve(new Set)}var dt}),function(m,b,x){return d.apply(this,arguments)})(o,e,t).then(d=>{o.sharedClientState.notifyBundleLoaded(d)})}(yield Xr(i),d,o)}))}(t,i._databaseId,e,o),o}function hg(i,e){return function Pa(i,e){return i.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,o){const d=dn(t);return d.persistence.runTransaction("Get named query","readonly",m=>d.Ns.getNamedQuery(m,o))}(yield $r(i),e)}))}(ps(i=Qr(i,as)),e).then(t=>t?new eo(i,null,t.query):null)}function Md(i){if(i._initialized||i._terminated)throw new Ut(Qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(fi.fromBase64String(e))}catch(t){throw new Ut(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ut(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qo{constructor(e){this._methodName=e}}class eu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mn(this._lat,e._lat)||Mn(this._long,e._long)}}const mm=/^__.*__$/;class fg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new v(e,this.data,this.fieldMask,t,this.fieldTransforms):new y(e,this.data,t,this.fieldTransforms)}}class Oc{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new v(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Od(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _n()}}class Rc{constructor(e,t,o,d,m,b){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=d,void 0===m&&this.na(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Rc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.ia({path:o,oa:!1});return d.ua(e),d}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.ia({path:o,oa:!1});return d.na(),d}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return tp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Od(this.sa)&&mm.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Jf{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||bc(e)}da(e,t,o,d=!1){return new Rc({sa:e,methodName:t,fa:o,path:$.emptyPath(),oa:!1,la:d},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Bl(i){const e=i._freezeSettings(),t=bc(i._databaseId);return new Jf(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Qf(i,e,t,o,d,m={}){const b=i.da(m.merge||m.mergeFields?2:0,e,t,d);kh("Data must be an object, but it was:",b,o);const x=_m(o,b);let W,Y;if(m.merge)W=new wr(b.fieldMask),Y=b.fieldTransforms;else if(m.mergeFields){const ue=[];for(const Ae of m.mergeFields){const dt=yg(e,Ae,t);if(!b.contains(dt))throw new Ut(Qe.INVALID_ARGUMENT,`Field '${dt}' is specified in your field mask but missing from your input data.`);ym(ue,dt)||ue.push(dt)}W=new wr(ue),Y=b.fieldTransforms.filter(Ae=>W.covers(Ae.field))}else W=null,Y=b.fieldTransforms;return new fg(new Fs(x),W,Y)}class Ph extends Qo{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function pg(i,e,t){return new Rc({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class gg extends Qo{_toFieldTransform(e){return new Tu(e.path,new Cl)}isEqual(e){return e instanceof gg}}class Y_ extends Qo{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pg(this,e,!0),o=this._a.map(m=>Pc(m,t)),d=new Ko(o);return new Tu(e.path,d)}isEqual(e){return this===e}}class i_ extends Qo{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pg(this,e,!0),o=this._a.map(m=>Pc(m,t)),d=new lu(o);return new Tu(e.path,d)}isEqual(e){return this===e}}class s_ extends Qo{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Iu(e.It,Qu(e.It,this.wa));return new Tu(e.path,t)}isEqual(e){return this===e}}function Xf(i,e,t,o){const d=i.da(1,e,t);kh("Data must be an object, but it was:",d,o);const m=[],b=Fs.empty();Ja(o,(W,Y)=>{const ue=ep(e,W,t);Y=(0,ve.m9)(Y);const Ae=d.ca(ue);if(Y instanceof Ph)m.push(ue);else{const dt=Pc(Y,Ae);null!=dt&&(m.push(ue),b.set(ue,dt))}});const x=new wr(m);return new Oc(b,x,d.fieldTransforms)}function mg(i,e,t,o,d,m){const b=i.da(1,e,t),x=[yg(e,o,t)],W=[d];if(m.length%2!=0)throw new Ut(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let dt=0;dt<m.length;dt+=2)x.push(yg(e,m[dt])),W.push(m[dt+1]);const Y=[],ue=Fs.empty();for(let dt=x.length-1;dt>=0;--dt)if(!ym(Y,x[dt])){const Pt=x[dt];let jt=W[dt];jt=(0,ve.m9)(jt);const Fn=b.ca(Pt);if(jt instanceof Ph)Y.push(Pt);else{const Wn=Pc(jt,Fn);null!=Wn&&(Y.push(Pt),ue.set(Pt,Wn))}}const Ae=new wr(Y);return new Oc(ue,Ae,b.fieldTransforms)}function o_(i,e,t,o=!1){return Pc(t,i.da(o?4:3,e))}function Pc(i,e){if(_g(i=(0,ve.m9)(i)))return kh("Unsupported field value:",e,i),_m(i,e);if(i instanceof Qo)return function(t,o){if(!Od(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(o);d&&o.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const d=[];let m=0;for(const b of t){let x=Pc(b,o.aa(m));null==x&&(x={nullValue:"NULL_VALUE"}),d.push(x),m++}return{arrayValue:{values:d}}}(i,e)}return function(t,o){if(null===(t=(0,ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qu(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=Si.fromDate(t);return{timestampValue:sc(o.It,d)}}if(t instanceof Si){const d=new Si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sc(o.It,d)}}if(t instanceof eu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pl)return{bytesValue:ko(o.It,t._byteString)};if(t instanceof fs){const d=o.databaseId,m=t.firestore._databaseId;if(!m.isEqual(d))throw o.ha(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Wh(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Id(t)}`)}(i,e)}function _m(i,e){const t={};return Fd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(i,(o,d)=>{const m=Pc(d,e.ra(o));null!=m&&(t[o]=m)}),{mapValue:{fields:t}}}function _g(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Si||i instanceof eu||i instanceof pl||i instanceof fs||i instanceof Qo)}function kh(i,e,t){if(!_g(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Id(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function yg(i,e,t){if((e=(0,ve.m9)(e))instanceof vu)return e._internalPath;if("string"==typeof e)return ep(i,e);throw tp("Field path arguments must be of type string or ",i,!1,void 0,t)}const a_=new RegExp("[~\\*/\\[\\]]");function ep(i,e,t){if(e.search(a_)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new vu(...e.split("."))._internalPath}catch(o){throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function tp(i,e,t,o,d){const m=o&&!o.isEmpty(),b=void 0!==d;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let W="";return(m||b)&&(W+=" (found",m&&(W+=` in field ${o}`),b&&(W+=` in document ${d}`),W+=")"),new Ut(Qe.INVALID_ARGUMENT,x+i+W)}function ym(i,e){return i.some(t=>t.isEqual(e))}class Fh{constructor(e,t,o,d,m){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=d,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new l_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(np("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class l_ extends Fh{data(){return super.data()}}function np(i,e){return"string"==typeof e?ep(i,e):e instanceof vu?e._internalPath:e._delegate._internalPath}function J_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ut(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}function Q_(i,...e){for(const t of e)i=t._apply(i);return i}class u_ extends rp{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=Bl(e.firestore),o=function(d,m,b,x,W,Y,ue){let Ae;if(W.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new Ut(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Y}' queries on documentId().`);if("in"===Y||"not-in"===Y){bm(ue,Y);const Pt=[];for(const jt of ue)Pt.push(m_(x,d,jt));Ae={arrayValue:{values:Pt}}}else Ae=m_(x,d,ue)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||bm(ue,Y),Ae=o_(b,"where",ue,"in"===Y||"not-in"===Y);const dt=kn.create(W,Y,Ae);return function(Pt,jt){if(jt.dt()){const Wn=Bc(Pt);if(null!==Wn&&!Wn.isEqual(jt.field))throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Wn.toString()}' and '${jt.field.toString()}'`);const Bi=Eu(Pt);null!==Bi&&ry(0,jt.field,Bi)}const Fn=function(Wn,Bi){for(const Cs of Wn.filters)if(Bi.indexOf(Cs.op)>=0)return Cs.op;return null}(Pt,function(Wn){switch(Wn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(jt.op));if(null!==Fn)throw new Ut(Qe.INVALID_ARGUMENT,Fn===jt.op?`Invalid query. You cannot use more than one '${jt.op.toString()}' filter.`:`Invalid query. You cannot use '${jt.op.toString()}' filters with '${Fn.toString()}' filters.`)}(d,dt),dt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new eo(e.firestore,e.converter,function(d,m){const b=d.filters.concat([m]);return new Aa(d.path,d.collectionGroup,d.explicitOrderBy.slice(),b,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,o))}}function X_(i,e,t){const o=e,d=np("where",i);return new u_(d,o,t)}class Lo extends rp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,d,m){if(null!==o.startAt)throw new Ut(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ut(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new cl(d,m);return function(x,W){if(null===Eu(x)){const Y=Bc(x);null!==Y&&ry(0,Y,W.field)}}(o,b),b}(e._query,this.ma,this.pa);return new eo(e.firestore,e.converter,function(o,d){const m=o.explicitOrderBy.concat([d]);return new Aa(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function c_(i,e="asc"){const t=e,o=np("orderBy",i);return new Lo(o,t)}class d_ extends rp{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new eo(e.firestore,e.converter,$l(e._query,this.Ia,this.Ta))}}function ey(i){return mu("limit",i),new d_("limit",i,"F")}function h_(i){return mu("limitToLast",i),new d_("limitToLast",i,"L")}class f_ extends rp{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=vm(e,this.type,this.Ea,this.Aa);return new eo(e.firestore,e.converter,(d=t,new Aa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,d,o.endAt)));var o,d}}function p_(...i){return new f_("startAt",i,!0)}function g_(...i){return new f_("startAfter",i,!1)}class Rd extends rp{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=vm(e,this.type,this.Ea,this.Aa);return new eo(e.firestore,e.converter,(d=t,new Aa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,d)));var o,d}}function ty(...i){return new Rd("endBefore",i,!1)}function ny(...i){return new Rd("endAt",i,!0)}function vm(i,e,t,o){if(t[0]=(0,ve.m9)(t[0]),t[0]instanceof Fh)return function(d,m,b,x,W){if(!x)throw new Ut(Qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Y=[];for(const ue of au(d))if(ue.field.isKeyField())Y.push(Ia(m,x.key));else{const Ae=x.data.field(ue.field);if(Vl(Ae))throw new Ut(Qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ae){const dt=ue.field.canonicalString();throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${dt}' (used as the orderBy) does not exist.`)}Y.push(Ae)}return new ua(Y,W)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const d=Bl(i.firestore);return function(m,b,x,W,Y,ue){const Ae=m.explicitOrderBy;if(Y.length>Ae.length)throw new Ut(Qe.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const dt=[];for(let Pt=0;Pt<Y.length;Pt++){const jt=Y[Pt];if(Ae[Pt].field.isKeyField()){if("string"!=typeof jt)throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof jt}`);if(!Vc(m)&&-1!==jt.indexOf("/"))throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${jt}' contains a slash.`);const Fn=m.path.child(C.fromString(jt));if(!q.isDocumentKey(Fn))throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Fn}' is not because it contains an odd number of segments.`);const Wn=new q(Fn);dt.push(Ia(b,Wn))}else{const Fn=o_(x,W,jt);dt.push(Fn)}}return new ua(dt,ue)}(i._query,i.firestore._databaseId,d,e,t,o)}}function m_(i,e,t){if("string"==typeof(t=(0,ve.m9)(t))){if(""===t)throw new Ut(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vc(e)&&-1!==t.indexOf("/"))throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(C.fromString(t));if(!q.isDocumentKey(o))throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ia(i,new q(o))}if(t instanceof fs)return Ia(i,t._key);throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(t)}.`)}function bm(i,e){if(!Array.isArray(i)||0===i.length)throw new Ut(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ut(Qe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ry(i,e,t){if(!t.isEqual(e))throw new Ut(Qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ip{convertValue(e,t="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _n()}}convertObject(e,t){const o={};return Ja(e.fields,(d,m)=>{o[d]=this.convertValue(m,t)}),o}convertGeoPoint(e){return new eu(Or(e.latitude),Or(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=sa(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(oa(e));default:return null}}convertTimestamp(e){const t=No(e);return new Si(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=C.fromString(e);Nn(Cp(o));const d=new Ca(o.get(1),o.get(3)),m=new q(o.popFirst(5));return d.isEqual(t)||br(`Document ${m} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Lh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class bu extends ip{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fs(this.firestore,null,t)}}class Pd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kc extends Fh{constructor(e,t,o,d,m,b){super(e,t,o,d,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(np("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class sl extends kc{data(e={}){return super.data(e)}}class fa{constructor(e,t,o,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new Pd(d.hasPendingWrites,d.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new sl(this._firestore,this._userDataWriter,o.key,o,new Pd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ut(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,d){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new sl(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Pd(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>d||3!==b.type).map(b=>{const x=new sl(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Pd(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let W=-1,Y=-1;return 0!==b.type&&(W=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),1!==b.type&&(m=m.add(b.doc),Y=m.indexOf(b.doc.key)),{type:tu(b.type),doc:x,oldIndex:W,newIndex:Y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tu(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _n()}}function __(i,e){return i instanceof kc&&e instanceof kc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof fa&&e instanceof fa&&i._firestore===e._firestore&&Nh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function y_(i){i=Qr(i,fs);const e=Qr(i.firestore,as);return $s(ps(e),i._key).then(t=>bg(e,i,t))}class Fc extends ip{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fs(this.firestore,null,t)}}function iy(i){i=Qr(i,fs);const e=Qr(i.firestore,as),t=ps(e),o=new Fc(e);return function Io(i,e){const t=new is;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(o=(0,p.Z)(function*(d,m,b){try{const x=yield function(W,Y){const ue=dn(W);return ue.persistence.runTransaction("read document","readonly",Ae=>ue.localDocuments.getDocument(Ae,Y))}(d,m);x.isFoundDocument()?b.resolve(x):x.isNoDocument()?b.resolve(null):b.reject(new Ut(Qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const W=Dc(x,`Failed to get document '${m} from cache`);b.reject(W)}}),function(d,m,b){return o.apply(this,arguments)})(yield $r(i),e,t);var o})),t.promise}(t,i._key).then(d=>new kc(e,o,i._key,d,new Pd(null!==d&&d.hasLocalMutations,!0),i.converter))}function sy(i){i=Qr(i,fs);const e=Qr(i.firestore,as);return $s(ps(e),i._key,{source:"server"}).then(t=>bg(e,i,t))}function oy(i){i=Qr(i,eo);const e=Qr(i.firestore,as),t=ps(e),o=new Fc(e);return J_(i._query),Jo(t,i._query).then(d=>new fa(e,o,i,d))}function wm(i){i=Qr(i,eo);const e=Qr(i.firestore,as),t=ps(e),o=new Fc(e);return function Yo(i,e){const t=new is;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(o=(0,p.Z)(function*(d,m,b){try{const x=yield ld(d,m,!0),W=new Yl(m,x.Hi),Y=W.Wu(x.documents),ue=W.applyChanges(Y,!1);b.resolve(ue.snapshot)}catch(x){const W=Dc(x,`Failed to execute query '${m} against cache`);b.reject(W)}}),function(d,m,b){return o.apply(this,arguments)})(yield $r(i),e,t);var o})),t.promise}(t,i._query).then(d=>new fa(e,o,i,d))}function sp(i){i=Qr(i,eo);const e=Qr(i.firestore,as),t=ps(e),o=new Fc(e);return Jo(t,i._query,{source:"server"}).then(d=>new fa(e,o,i,d))}function ay(i,e,t){i=Qr(i,fs);const o=Qr(i.firestore,as),d=Lh(i.converter,e,t);return Bh(o,[Qf(Bl(o),"setDoc",i._key,d,null!==i.converter,t).toMutation(i._key,Ds.none())])}function v_(i,e,t,...o){i=Qr(i,fs);const d=Qr(i.firestore,as),m=Bl(d);let b;return b="string"==typeof(e=(0,ve.m9)(e))||e instanceof vu?mg(m,"updateDoc",i._key,e,t,o):Xf(m,"updateDoc",i._key,e),Bh(d,[b.toMutation(i._key,Ds.exists(!0))])}function ly(i){return Bh(Qr(i.firestore,as),[new et(i._key,Ds.none())])}function b_(i,e){const t=Qr(i.firestore,as),o=Zf(i),d=Lh(i.converter,e);return Bh(t,[Qf(Bl(i.firestore),"addDoc",o._key,d,null!==i.converter,{}).toMutation(o._key,Ds.exists(!1))]).then(()=>o)}function w_(i,...e){var t,o,d;i=(0,ve.m9)(i);let m={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||Mc(e[b])||(m=e[b],b++);const x={includeMetadataChanges:m.includeMetadataChanges};if(Mc(e[b])){const Ae=e[b];e[b]=null===(t=Ae.next)||void 0===t?void 0:t.bind(Ae),e[b+1]=null===(o=Ae.error)||void 0===o?void 0:o.bind(Ae),e[b+2]=null===(d=Ae.complete)||void 0===d?void 0:d.bind(Ae)}let W,Y,ue;if(i instanceof fs)Y=Qr(i.firestore,as),ue=Ha(i._key.path),W={next:Ae=>{e[b]&&e[b](bg(Y,i,Ae))},error:e[b+1],complete:e[b+2]};else{const Ae=Qr(i,eo);Y=Qr(Ae.firestore,as),ue=Ae._query;const dt=new Fc(Y);W={next:Pt=>{e[b]&&e[b](new fa(Y,dt,Ae,Pt))},error:e[b+1],complete:e[b+2]},J_(i._query)}return function(Ae,dt,Pt,jt){const Fn=new c(jt),Wn=new bh(dt,Fn,Pt);return Ae.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return md(yield ii(Ae),Wn)})),()=>{Fn.bc(),Ae.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return _d(yield ii(Ae),Wn)}))}}(ps(Y),ue,x,W)}function vg(i,e){return function _u(i,e){const t=new c(e);return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return o=yield ii(i),d=t,dn(o).bu.add(d),void d.next();var o,d})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return o=yield ii(i),d=t,void dn(o).bu.delete(d);var o,d}))}}(ps(i=Qr(i,as)),Mc(e)?e:{next:e})}function Bh(i,e){return function(t,o){const d=new is;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Ih(i,e,t){return bd.apply(this,arguments)}(yield Xr(t),o,d)})),d.promise}(ps(i),e)}function bg(i,e,t){const o=t.docs.get(e._key),d=new Fc(i);return new kc(i,d,e._key,o,new Pd(t.hasPendingWrites,t.fromCache),e.converter)}const wg={maxAttempts:5};class Dm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bl(e)}set(e,t,o){this._verifyNotCommitted();const d=Hu(e,this._firestore),m=Lh(d.converter,t,o),b=Qf(this._dataReader,"WriteBatch.set",d._key,m,null!==d.converter,o);return this._mutations.push(b.toMutation(d._key,Ds.none())),this}update(e,t,o,...d){this._verifyNotCommitted();const m=Hu(e,this._firestore);let b;return b="string"==typeof(t=(0,ve.m9)(t))||t instanceof vu?mg(this._dataReader,"WriteBatch.update",m._key,t,o,d):Xf(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(b.toMutation(m._key,Ds.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hu(e,this._firestore);return this._mutations=this._mutations.concat(new et(t._key,Ds.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(Qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hu(i,e){if((i=(0,ve.m9)(i)).firestore!==e)throw new Ut(Qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class C_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bl(e)}get(e){const t=Hu(e,this._firestore),o=new bu(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return _n();const m=d[0];if(m.isFoundDocument())return new Fh(this._firestore,o,m.key,m,t.converter);if(m.isNoDocument())return new Fh(this._firestore,o,t._key,null,t.converter);throw _n()})}set(e,t,o){const d=Hu(e,this._firestore),m=Lh(d.converter,t,o),b=Qf(this._dataReader,"Transaction.set",d._key,m,null!==d.converter,o);return this._transaction.set(d._key,b),this}update(e,t,o,...d){const m=Hu(e,this._firestore);let b;return b="string"==typeof(t=(0,ve.m9)(t))||t instanceof vu?mg(this._dataReader,"Transaction.update",m._key,t,o,d):Xf(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,b),this}delete(e){const t=Hu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hu(e,this._firestore),o=new Fc(this._firestore);return super.get(e).then(d=>new kc(this._firestore,o,t._key,d._document,new Pd(!1,!1),t.converter))}}function E_(i,e,t){i=Qr(i,as);const o=Object.assign(Object.assign({},wg),t);return function(d){if(d.maxAttempts<1)throw new Ut(Qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(d,m,b){const x=new is;return d.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const W=yield function Zr(i){return or(i).then(e=>e.datastore)}(d);new Ce(d.asyncQueue,W,b,m,x).run()})),x.promise}(ps(i),d=>e(new C_(i,d)),o)}function I_(){return new Ph("deleteField")}function T_(){return new gg("serverTimestamp")}function S_(...i){return new Y_("arrayUnion",i)}function A_(...i){return new i_("arrayRemove",i)}function cy(i){return new s_("increment",i)}!function(i,e=!0){_a=f.SDK_VERSION,(0,f._registerComponent)(new Z.wA("firestore",(t,{instanceIdentifier:o,options:d})=>{const m=t.getProvider("app").getImmediate(),b=new as(new ya(t.getProvider("auth-internal")),new be(t.getProvider("app-check-internal")),function(x,W){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Ut(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(x.options.projectId,W)}(m,o),m);return d=Object.assign({useFetchStreams:e},d),b._setSettings(d),b},"PUBLIC").setMultipleInstances(!0)),(0,f.registerVersion)(Ki,"3.7.1",i),(0,f.registerVersion)(Ki,"3.7.1","esm2017")}()},6961:(Zt,xe,j)=>{"use strict";j.d(xe,{$Y:()=>jn,B0:()=>Pi,FN:()=>Gi,IX:()=>We,Jt:()=>wi,KV:()=>Os,UJ:()=>Ur,Ym:()=>Ni,a1:()=>Rs,aF:()=>vr,bm:()=>nr,cF:()=>Wi,g6:()=>Gs,gE:()=>Ke,gH:()=>st,iH:()=>oi,oq:()=>ns,pb:()=>Jr,qm:()=>li,sd:()=>Kr,y4:()=>Te});var p=j(5861),f=j(9681),Z=j(2090),Ie=j(4859);const ve="firebasestorage.googleapis.com",ke="storageBucket";class oe extends Z.ZR{constructor(K,_e,Se=0){super(de(K),`Firebase Storage: ${_e} (${de(K)})`),this.status_=Se,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oe.prototype)}get status(){return this.status_}set status(K){this.status_=K}_codeEquals(K){return de(K)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(K){this.customData.serverResponse=K,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function de(G){return"storage/"+G}function Re(){return new oe("unknown","An unknown error occurred, please check the error payload for server response.")}function tt(){return new oe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function ct(){return new oe("canceled","User canceled the upload/download.")}function at(){return new oe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function st(G){return new oe("invalid-argument",G)}function ut(){return new oe("app-deleted","The Firebase app was deleted.")}function Te(G){return new oe("invalid-root-operation","The operation '"+G+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $e(G,K){return new oe("invalid-format","String does not match format '"+G+"': "+K)}function Le(G){throw new oe("internal-error","Internal error: "+G)}class Ke{constructor(K,_e){this.bucket=K,this.path_=_e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const K=encodeURIComponent;return"/b/"+K(this.bucket)+"/o/"+K(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(K,_e){let Se;try{Se=Ke.makeFromUrl(K,_e)}catch(Be){return new Ke(K,"")}if(""===Se.path)return Se;throw function ze(G){return new oe("invalid-default-bucket","Invalid default bucket '"+G+"'.")}(K)}static makeFromUrl(K,_e){let Se=null;const Be="([A-Za-z0-9.\\-_]+)",pn=new RegExp("^gs://"+Be+"(/(.*))?$","i");function mn(In){In.path_=decodeURIComponent(In.path)}const Q=_e.replace(/[.]/g,"\\."),En=[{regex:pn,indices:{bucket:1,path:3},postModify:function yt(In){"/"===In.path.charAt(In.path.length-1)&&(In.path_=In.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Q}/v[A-Za-z0-9_]+/b/${Be}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:mn},{regex:new RegExp(`^https?://${_e===ve?"(?:storage.googleapis.com|storage.cloud.google.com)":_e}/${Be}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:mn}];for(let In=0;In<En.length;In++){const sr=En[In],cr=sr.regex.exec(K);if(cr){let Qn=cr[sr.indices.path];Qn||(Qn=""),Se=new Ke(cr[sr.indices.bucket],Qn),sr.postModify(Se);break}}if(null==Se)throw function Et(G){return new oe("invalid-url","Invalid URL '"+G+"'.")}(K);return Se}}class Ze{constructor(K){this.promise_=Promise.reject(K)}getPromise(){return this.promise_}cancel(K=!1){}}function pt(G){return"string"==typeof G||G instanceof String}function en(G){return cn()&&G instanceof Blob}function cn(){return"undefined"!=typeof Blob}function gn(G,K,_e,Se){if(Se<K)throw st(`Invalid value for '${G}'. Expected ${K} or greater.`);if(Se>_e)throw st(`Invalid value for '${G}'. Expected ${_e} or less.`)}function Yt(G,K,_e){let Se=K;return null==_e&&(Se=`https://${K}`),`${_e}://${Se}/v0${G}`}function Cn(G){const K=encodeURIComponent;let _e="?";for(const Se in G)G.hasOwnProperty(Se)&&(_e=_e+(K(Se)+"=")+K(G[Se])+"&");return _e=_e.slice(0,-1),_e}var Hn=(()=>{return(G=Hn||(Hn={}))[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT",Hn;var G})();function Xn(G,K){const _e=G>=500&&G<600,Be=-1!==[408,429].indexOf(G),yt=-1!==K.indexOf(G);return _e||Be||yt}class _r{constructor(K,_e,Se,Be,yt,Wt,pn,fn,mn,F,Q,V=!0){this.url_=K,this.method_=_e,this.headers_=Se,this.body_=Be,this.successCodes_=yt,this.additionalRetryCodes_=Wt,this.callback_=pn,this.errorCallback_=fn,this.timeout_=mn,this.progressCallback_=F,this.connectionFactory_=Q,this.retry=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ne,De)=>{this.resolve_=ne,this.reject_=De,this.start_()})}start_(){const _e=(Se,Be)=>{const yt=this.resolve_,Wt=this.reject_,pn=Be.connection;if(Be.wasSuccessCode)try{const fn=this.callback_(pn,pn.getResponse());!function wt(G){return void 0!==G}(fn)?yt():yt(fn)}catch(fn){Wt(fn)}else if(null!==pn){const fn=Re();fn.serverResponse=pn.getErrorText(),Wt(this.errorCallback_?this.errorCallback_(pn,fn):fn)}else Wt(Be.canceled?this.appDelete_?ut():ct():tt())};this.canceled_?_e(0,new tr(!1,null,!0)):this.backoffId_=function Nt(G,K,_e){let Se=1,Be=null,yt=null,Wt=!1,pn=0;function fn(){return 2===pn}let mn=!1;function F(...gt){mn||(mn=!0,K.apply(null,gt))}function Q(gt){Be=setTimeout(()=>{Be=null,G(ne,fn())},gt)}function V(){yt&&clearTimeout(yt)}function ne(gt,...an){if(mn)return void V();if(gt)return V(),void F.call(null,gt,...an);if(fn()||Wt)return V(),void F.call(null,gt,...an);let En;Se<64&&(Se*=2),1===pn?(pn=2,En=0):En=1e3*(Se+Math.random()),Q(En)}let De=!1;function lt(gt){De||(De=!0,V(),!mn&&(null!==Be?(gt||(pn=2),clearTimeout(Be),Q(0)):gt||(pn=1)))}return Q(0),yt=setTimeout(()=>{Wt=!0,lt(!0)},_e),lt}((Se,Be)=>{if(Be)return void Se(!1,new tr(!1,null,!0));const yt=this.connectionFactory_();this.pendingConnection_=yt;const Wt=pn=>{null!==this.progressCallback_&&this.progressCallback_(pn.loaded,pn.lengthComputable?pn.total:-1)};null!==this.progressCallback_&&yt.addUploadProgressListener(Wt),yt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&yt.removeUploadProgressListener(Wt),this.pendingConnection_=null;const pn=yt.getErrorCode()===Hn.NO_ERROR,fn=yt.getStatus();if((!pn||Xn(fn,this.additionalRetryCodes_))&&this.retry){const F=yt.getErrorCode()===Hn.ABORT;return void Se(!1,new tr(!1,null,F))}const mn=-1!==this.successCodes_.indexOf(fn);Se(!0,new tr(mn,yt))})},_e,this.timeout_)}getPromise(){return this.promise_}cancel(K){this.canceled_=!0,this.appDelete_=K||!1,null!==this.backoffId_&&function Lt(G){G(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class tr{constructor(K,_e,Se){this.wasSuccessCode=K,this.connection=_e,this.canceled=!!Se}}function Ln(...G){const K=function Qt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==K){const _e=new K;for(let Se=0;Se<G.length;Se++)_e.append(G[Se]);return _e.getBlob()}if(cn())return new Blob(G);throw new oe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mr{constructor(K,_e){this.data=K,this.contentType=_e||null}}function li(G,K){switch(G){case nr.RAW:return new Mr(Tr(K));case nr.BASE64:case nr.BASE64URL:return new Mr(zr(G,K));case nr.DATA_URL:return new Mr(function St(G){const K=new Kn(G);return K.base64?zr(nr.BASE64,K.rest):function Wr(G){let K;try{K=decodeURIComponent(G)}catch(_e){throw $e(nr.DATA_URL,"Malformed data URL.")}return Tr(K)}(K.rest)}(K),function nn(G){return new Kn(G).contentType}(K))}throw Re()}function Tr(G){const K=[];for(let _e=0;_e<G.length;_e++){let Se=G.charCodeAt(_e);Se<=127?K.push(Se):Se<=2047?K.push(192|Se>>6,128|63&Se):55296==(64512&Se)?_e<G.length-1&&56320==(64512&G.charCodeAt(_e+1))?(Se=65536|(1023&Se)<<10|1023&G.charCodeAt(++_e),K.push(240|Se>>18,128|Se>>12&63,128|Se>>6&63,128|63&Se)):K.push(239,191,189):56320==(64512&Se)?K.push(239,191,189):K.push(224|Se>>12,128|Se>>6&63,128|63&Se)}return new Uint8Array(K)}function zr(G,K){switch(G){case nr.BASE64:{const Be=-1!==K.indexOf("-"),yt=-1!==K.indexOf("_");if(Be||yt)throw $e(G,"Invalid character '"+(Be?"-":"_")+"' found: is it base64url encoded?");break}case nr.BASE64URL:{const Be=-1!==K.indexOf("+"),yt=-1!==K.indexOf("/");if(Be||yt)throw $e(G,"Invalid character '"+(Be?"+":"/")+"' found: is it base64 encoded?");K=K.replace(/-/g,"+").replace(/_/g,"/");break}}let _e;try{_e=function Gt(G){return atob(G)}(K)}catch(Be){throw $e(G,"Invalid character found")}const Se=new Uint8Array(_e.length);for(let Be=0;Be<_e.length;Be++)Se[Be]=_e.charCodeAt(Be);return Se}class Kn{constructor(K){this.base64=!1,this.contentType=null;const _e=K.match(/^data:([^,]+)?,/);if(null===_e)throw $e(nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Se=_e[1]||null;null!=Se&&(this.base64=function _i(G,K){return G.length>=K.length&&G.substring(G.length-K.length)===K}(Se,";base64"),this.contentType=this.base64?Se.substring(0,Se.length-7):Se),this.rest=K.substring(K.indexOf(",")+1)}}class Ur{constructor(K,_e){let Se=0,Be="";en(K)?(this.data_=K,Se=K.size,Be=K.type):K instanceof ArrayBuffer?(_e?this.data_=new Uint8Array(K):(this.data_=new Uint8Array(K.byteLength),this.data_.set(new Uint8Array(K))),Se=this.data_.length):K instanceof Uint8Array&&(_e?this.data_=K:(this.data_=new Uint8Array(K.length),this.data_.set(K)),Se=K.length),this.size_=Se,this.type_=Be}size(){return this.size_}type(){return this.type_}slice(K,_e){if(en(this.data_)){const Be=function Bn(G,K,_e){return G.webkitSlice?G.webkitSlice(K,_e):G.mozSlice?G.mozSlice(K,_e):G.slice?G.slice(K,_e):null}(this.data_,K,_e);return null===Be?null:new Ur(Be)}{const Se=new Uint8Array(this.data_.buffer,K,_e-K);return new Ur(Se,!0)}}static getBlob(...K){if(cn()){const _e=K.map(Se=>Se instanceof Ur?Se.data_:Se);return new Ur(Ln.apply(null,_e))}{const _e=K.map(Wt=>pt(Wt)?li(nr.RAW,Wt).data:Wt.data_);let Se=0;_e.forEach(Wt=>{Se+=Wt.byteLength});const Be=new Uint8Array(Se);let yt=0;return _e.forEach(Wt=>{for(let pn=0;pn<Wt.length;pn++)Be[yt++]=Wt[pn]}),new Ur(Be,!0)}}uploadData(){return this.data_}}function lr(G){let K;try{K=JSON.parse(G)}catch(_e){return null}return function Xe(G){return"object"==typeof G&&!Array.isArray(G)}(K)?K:null}function Ar(G){const K=G.lastIndexOf("/",G.length-2);return-1===K?G:G.slice(K+1)}function Pn(G,K){return K}class Sr{constructor(K,_e,Se,Be){this.server=K,this.local=_e||K,this.writable=!!Se,this.xform=Be||Pn}}let er=null;function Bt(){if(er)return er;const G=[];G.push(new Sr("bucket")),G.push(new Sr("generation")),G.push(new Sr("metageneration")),G.push(new Sr("name","fullPath",!0));const _e=new Sr("name");_e.xform=function K(yt,Wt){return function ci(G){return!pt(G)||G.length<2?G:Ar(G)}(Wt)},G.push(_e);const Be=new Sr("size");return Be.xform=function Se(yt,Wt){return void 0!==Wt?Number(Wt):Wt},G.push(Be),G.push(new Sr("timeCreated")),G.push(new Sr("updated")),G.push(new Sr("md5Hash",null,!0)),G.push(new Sr("cacheControl",null,!0)),G.push(new Sr("contentDisposition",null,!0)),G.push(new Sr("contentEncoding",null,!0)),G.push(new Sr("contentLanguage",null,!0)),G.push(new Sr("contentType",null,!0)),G.push(new Sr("metadata","customMetadata",!0)),er=G,er}function tn(G,K,_e){const Se=lr(K);return null===Se?null:function qt(G,K,_e){const Se={type:"file"},Be=_e.length;for(let yt=0;yt<Be;yt++){const Wt=_e[yt];Se[Wt.local]=Wt.xform(Se,K[Wt.server])}return function _t(G,K){Object.defineProperty(G,"ref",{get:function _e(){const yt=new Ke(G.bucket,G.fullPath);return K._makeStorageReference(yt)}})}(Se,G),Se}(G,Se,_e)}function Zn(G,K){const _e={},Se=K.length;for(let Be=0;Be<Se;Be++){const yt=K[Be];yt.writable&&(_e[yt.server]=G[yt.local])}return JSON.stringify(_e)}const pe="prefixes";class ie{constructor(K,_e,Se,Be){this.url=K,this.method=_e,this.handler=Se,this.timeout=Be,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ce(G){if(!G)throw Re()}function Ye(G,K){return function _e(Se,Be){const yt=tn(G,Be,K);return ce(null!==yt),yt}}function Jt(G){return function K(_e,Se){let Be;return Be=401===_e.getStatus()?_e.getErrorText().includes("Firebase App Check token is invalid")?function bt(){return new oe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ft(){return new oe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===_e.getStatus()?function qe(G){return new oe("quota-exceeded","Quota for bucket '"+G+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(G.bucket):403===_e.getStatus()?function Je(G){return new oe("unauthorized","User does not have permission to access '"+G+"'.")}(G.path):Se,Be.status=_e.getStatus(),Be.serverResponse=Se.serverResponse,Be}}function $n(G){const K=Jt(G);return function _e(Se,Be){let yt=K(Se,Be);return 404===Se.getStatus()&&(yt=function He(G){return new oe("object-not-found","Object '"+G+"' does not exist.")}(G.path)),yt.serverResponse=Be.serverResponse,yt}}function on(G,K,_e){const Be=Yt(K.fullServerUrl(),G.host,G._protocol),Wt=G.maxOperationRetryTime,pn=new ie(Be,"GET",Ye(G,_e),Wt);return pn.errorHandler=$n(K),pn}function Er(G,K,_e,Se,Be){const yt={};yt.prefix=K.isRoot?"":K.path+"/",_e&&_e.length>0&&(yt.delimiter=_e),Se&&(yt.pageToken=Se),Be&&(yt.maxResults=Be);const pn=Yt(K.bucketOnlyServerUrl(),G.host,G._protocol),mn=G.maxOperationRetryTime,F=new ie(pn,"GET",function Ot(G,K){return function _e(Se,Be){const yt=function he(G,K,_e){const Se=lr(_e);return null===Se?null:function Fe(G,K,_e){const Se={prefixes:[],items:[],nextPageToken:_e.nextPageToken};if(_e[pe])for(const Be of _e[pe]){const yt=Be.replace(/\/$/,""),Wt=G._makeStorageReference(new Ke(K,yt));Se.prefixes.push(Wt)}if(_e.items)for(const Be of _e.items){const yt=G._makeStorageReference(new Ke(K,Be.name));Se.items.push(yt)}return Se}(G,K,Se)}(G,K,Be);return ce(null!==yt),yt}}(G,K.bucket),mn);return F.urlParams=yt,F.errorHandler=Jt(K),F}function xr(G,K,_e){const Se=Object.assign({},_e);return Se.fullPath=G.path,Se.size=K.size(),Se.contentType||(Se.contentType=function Un(G,K){return G&&G.contentType||K&&K.type()||"application/octet-stream"}(null,K)),Se}function Gr(G,K,_e,Se,Be){const yt=K.bucketOnlyServerUrl(),Wt={"X-Goog-Upload-Protocol":"multipart"},fn=function pn(){let En="";for(let In=0;In<2;In++)En+=Math.random().toString().slice(2);return En}();Wt["Content-Type"]="multipart/related; boundary="+fn;const mn=xr(K,Se,Be),F=Zn(mn,_e),ne=Ur.getBlob("--"+fn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+F+"\r\n--"+fn+"\r\nContent-Type: "+mn.contentType+"\r\n\r\n",Se,"\r\n--"+fn+"--");if(null===ne)throw at();const De={name:mn.fullPath},lt=Yt(yt,G.host,G._protocol),an=G.maxUploadRetryTime,bn=new ie(lt,"POST",Ye(G,_e),an);return bn.urlParams=De,bn.headers=Wt,bn.body=ne.uploadData(),bn.errorHandler=Jt(K),bn}class Rt{constructor(K,_e,Se,Be){this.current=K,this.total=_e,this.finalized=!!Se,this.metadata=Be||null}}function Gn(G,K){let _e=null;try{_e=G.getResponseHeader("X-Goog-Upload-Status")}catch(Be){ce(!1)}return ce(!!_e&&-1!==(K||["active"]).indexOf(_e)),_e}const Gi={STATE_CHANGED:"state_changed"},jn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ri(G){switch(G){case"running":case"pausing":case"canceling":return jn.RUNNING;case"paused":return jn.PAUSED;case"success":return jn.SUCCESS;case"canceled":return jn.CANCELED;default:return jn.ERROR}}class pr{constructor(K,_e,Se){if(function Mt(G){return"function"==typeof G}(K)||null!=_e||null!=Se)this.next=K,this.error=null!=_e?_e:void 0,this.complete=null!=Se?Se:void 0;else{const yt=K;this.next=yt.next,this.error=yt.error,this.complete=yt.complete}}}function Vn(G){return(...K)=>{Promise.resolve().then(()=>G(...K))}}class ui extends class Xi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hn.NO_ERROR,this.sendPromise_=new Promise(K=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hn.ABORT,K()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hn.NETWORK_ERROR,K()}),this.xhr_.addEventListener("load",()=>{K()})})}send(K,_e,Se,Be){if(this.sent_)throw Le("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(_e,K,!0),void 0!==Be)for(const yt in Be)Be.hasOwnProperty(yt)&&this.xhr_.setRequestHeader(yt,Be[yt].toString());return void 0!==Se?this.xhr_.send(Se):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Le("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Le("cannot .getStatus() before sending");try{return this.xhr_.status}catch(K){return-1}}getResponse(){if(!this.sent_)throw Le("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Le("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(K){return this.xhr_.getResponseHeader(K)}addUploadProgressListener(K){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",K)}removeUploadProgressListener(K){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",K)}}{initXhr(){this.xhr_.responseType="text"}}function Jn(){return new ui}class We{constructor(K,_e,Se=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=K,this._blob=_e,this._metadata=Se,this._mappings=Bt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Be=>{if(this._request=void 0,this._chunkMultiplier=1,Be._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const yt=this.isExponentialBackoffExpired();if(Xn(Be.status,[])){if(!yt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Be=tt()}this._error=Be,this._transition("error")}},this._metadataErrorHandler=Be=>{this._request=void 0,Be._codeEquals("canceled")?this.completeTransitions_():(this._error=Be,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Be,yt)=>{this._resolve=Be,this._reject=yt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const K=this._transferred;return _e=>this._updateProgress(K+_e)}_shouldDoResumable(K){return K.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(K){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([_e,Se])=>{switch(this._state){case"running":K(_e,Se);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((K,_e)=>{const Se=function dr(G,K,_e,Se,Be){const yt=K.bucketOnlyServerUrl(),Wt=xr(K,Se,Be),pn={name:Wt.fullPath},fn=Yt(yt,G.host,G._protocol),F={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Se.size()}`,"X-Goog-Upload-Header-Content-Type":Wt.contentType,"Content-Type":"application/json; charset=utf-8"},Q=Zn(Wt,_e),De=new ie(fn,"POST",function ne(lt){let gt;Gn(lt);try{gt=lt.getResponseHeader("X-Goog-Upload-URL")}catch(an){ce(!1)}return ce(pt(gt)),gt},G.maxUploadRetryTime);return De.urlParams=pn,De.headers=F,De.body=Q,De.errorHandler=Jt(K),De}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Be=this._ref.storage._makeRequest(Se,Jn,K,_e);this._request=Be,Be.getPromise().then(yt=>{this._request=void 0,this._uploadUrl=yt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const K=this._uploadUrl;this._resolveToken((_e,Se)=>{const Be=function ei(G,K,_e,Se){const fn=new ie(_e,"POST",function yt(mn){const F=Gn(mn,["active","final"]);let Q=null;try{Q=mn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ne){ce(!1)}Q||ce(!1);const V=Number(Q);return ce(!isNaN(V)),new Rt(V,Se.size(),"final"===F)},G.maxUploadRetryTime);return fn.headers={"X-Goog-Upload-Command":"query"},fn.errorHandler=Jt(K),fn}(this._ref.storage,this._ref._location,K,this._blob),yt=this._ref.storage._makeRequest(Be,Jn,_e,Se);this._request=yt,yt.getPromise().then(Wt=>{this._request=void 0,this._updateProgress(Wt.current),this._needToFetchStatus=!1,Wt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const K=262144*this._chunkMultiplier,_e=new Rt(this._transferred,this._blob.size()),Se=this._uploadUrl;this._resolveToken((Be,yt)=>{let Wt;try{Wt=function si(G,K,_e,Se,Be,yt,Wt,pn){const fn=new Rt(0,0);if(Wt?(fn.current=Wt.current,fn.total=Wt.total):(fn.current=0,fn.total=Se.size()),Se.size()!==fn.total)throw function Tt(){return new oe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const mn=fn.total-fn.current;let F=mn;Be>0&&(F=Math.min(F,Be));const Q=fn.current;let ne="";ne=0===F?"finalize":mn===F?"upload, finalize":"upload";const De={"X-Goog-Upload-Command":ne,"X-Goog-Upload-Offset":`${fn.current}`},lt=Se.slice(Q,Q+F);if(null===lt)throw at();const En=new ie(_e,"POST",function gt(In,sr){const cr=Gn(In,["active","final"]),Pr=fn.current+F,Qn=Se.size();let Ui;return Ui="final"===cr?Ye(K,yt)(In,sr):null,new Rt(Pr,Qn,"final"===cr,Ui)},K.maxUploadRetryTime);return En.headers=De,En.body=lt.uploadData(),En.progressCallback=pn||null,En.errorHandler=Jt(G),En}(this._ref._location,this._ref.storage,Se,this._blob,K,this._mappings,_e,this._makeProgressCallback())}catch(fn){return this._error=fn,void this._transition("error")}const pn=this._ref.storage._makeRequest(Wt,Jn,Be,yt,!1);this._request=pn,pn.getPromise().then(fn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(fn.current),fn.finalized?(this._metadata=fn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((K,_e)=>{const Se=on(this._ref.storage,this._ref._location,this._mappings),Be=this._ref.storage._makeRequest(Se,Jn,K,_e);this._request=Be,Be.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((K,_e)=>{const Se=Gr(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Be=this._ref.storage._makeRequest(Se,Jn,K,_e);this._request=Be,Be.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(K){const _e=this._transferred;this._transferred=K,this._transferred!==_e&&this._notifyObservers()}_transition(K){if(this._state!==K)switch(K){case"canceling":case"pausing":this._state=K,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const _e="paused"===this._state;this._state=K,_e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=K,this._notifyObservers();break;case"canceled":this._error=ct(),this._state=K,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const K=Ri(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:K,metadata:this._metadata,task:this,ref:this._ref}}on(K,_e,Se,Be){const yt=new pr(_e||void 0,Se||void 0,Be||void 0);return this._addObserver(yt),()=>{this._removeObserver(yt)}}then(K,_e){return this._promise.then(K,_e)}catch(K){return this.then(null,K)}_addObserver(K){this._observers.push(K),this._notifyObserver(K)}_removeObserver(K){const _e=this._observers.indexOf(K);-1!==_e&&this._observers.splice(_e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(_e=>{this._notifyObserver(_e)})}_finishPromise(){if(void 0!==this._resolve){let K=!0;switch(Ri(this._state)){case jn.SUCCESS:Vn(this._resolve.bind(null,this.snapshot))();break;case jn.CANCELED:case jn.ERROR:Vn(this._reject.bind(null,this._error))();break;default:K=!1}K&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(K){switch(Ri(this._state)){case jn.RUNNING:case jn.PAUSED:K.next&&Vn(K.next.bind(K,this.snapshot))();break;case jn.SUCCESS:K.complete&&Vn(K.complete.bind(K))();break;default:K.error&&Vn(K.error.bind(K,this._error))()}}resume(){const K="paused"===this._state||"pausing"===this._state;return K&&this._transition("running"),K}pause(){const K="running"===this._state;return K&&this._transition("pausing"),K}cancel(){const K="running"===this._state||"pausing"===this._state;return K&&this._transition("canceling"),K}}class Dt{constructor(K,_e){this._service=K,this._location=_e instanceof Ke?_e:Ke.makeFromUrl(_e,K.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(K,_e){return new Dt(K,_e)}get root(){const K=new Ke(this._location.bucket,"");return this._newRef(this._service,K)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ar(this._location.path)}get storage(){return this._service}get parent(){const K=function Cr(G){if(0===G.length)return null;const K=G.lastIndexOf("/");return-1===K?"":G.slice(0,K)}(this._location.path);if(null===K)return null;const _e=new Ke(this._location.bucket,K);return new Dt(this._service,_e)}_throwIfRoot(K){if(""===this._location.path)throw Te(K)}}function bi(G,K,_e){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,p.Z)(function*(G,K,_e){const Be=yield es(G,{pageToken:_e});K.prefixes.push(...Be.prefixes),K.items.push(...Be.items),null!=Be.nextPageToken&&(yield bi(G,K,Be.nextPageToken))})).apply(this,arguments)}function es(G,K){null!=K&&"number"==typeof K.maxResults&&gn("options.maxResults",1,1e3,K.maxResults);const _e=K||{},Se=Er(G.storage,G._location,"/",_e.pageToken,_e.maxResults);return G.storage.makeRequestWithTokens(Se,Jn)}function ho(G){G._throwIfRoot("getDownloadURL");const K=function It(G,K,_e){const Be=Yt(K.fullServerUrl(),G.host,G._protocol),Wt=G.maxOperationRetryTime,pn=new ie(Be,"GET",function sn(G,K){return function _e(Se,Be){const yt=tn(G,Be,K);return ce(null!==yt),function rn(G,K,_e,Se){const Be=lr(K);if(null===Be||!pt(Be.downloadTokens))return null;const yt=Be.downloadTokens;if(0===yt.length)return null;const Wt=encodeURIComponent;return yt.split(",").map(mn=>{const Q=G.fullPath;return Yt("/b/"+Wt(G.bucket)+"/o/"+Wt(Q),_e,Se)+Cn({alt:"media",token:mn})})[0]}(yt,Be,G.host,G._protocol)}}(G,_e),Wt);return pn.errorHandler=$n(K),pn}(G.storage,G._location,Bt());return G.storage.makeRequestWithTokens(K,Jn).then(_e=>{if(null===_e)throw function Ve(){return new oe("no-download-url","The given file does not have any download URLs.")}();return _e})}function ls(G,K){const _e=function ur(G,K){const _e=K.split("/").filter(Se=>Se.length>0).join("/");return 0===G.length?_e:G+"/"+_e}(G._location.path,K),Se=new Ke(G._location.bucket,_e);return new Dt(G.storage,Se)}function Uo(G,K){if(G instanceof ro){const _e=G;if(null==_e._bucket)throw function ot(){return new oe("no-default-bucket","No default bucket found. Did you set the '"+ke+"' property when initializing the app?")}();const Se=new Dt(_e,_e._bucket);return null!=K?Uo(Se,K):Se}return void 0!==K?ls(G,K):G}function Ms(G,K){if(K&&function no(G){return/^[A-Za-z]+:\/\//.test(G)}(K)){if(G instanceof ro)return function Ks(G,K){return new Dt(G,K)}(G,K);throw st("To use ref(service, url), the first argument must be a Storage instance.")}return Uo(G,K)}function ts(G,K){const _e=null==K?void 0:K[ke];return null==_e?null:Ke.makeFromBucketSpec(_e,G)}class ro{constructor(K,_e,Se,Be,yt){this.app=K,this._authProvider=_e,this._appCheckProvider=Se,this._url=Be,this._firebaseVersion=yt,this._bucket=null,this._host=ve,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Be?Ke.makeFromBucketSpec(Be,this._host):ts(this._host,this.app.options)}get host(){return this._host}set host(K){this._host=K,this._bucket=null!=this._url?Ke.makeFromBucketSpec(this._url,K):ts(K,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(K){gn("time",0,Number.POSITIVE_INFINITY,K),this._maxUploadRetryTime=K}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(K){gn("time",0,Number.POSITIVE_INFINITY,K),this._maxOperationRetryTime=K}_getAuthToken(){var K=this;return(0,p.Z)(function*(){if(K._overrideAuthToken)return K._overrideAuthToken;const _e=K._authProvider.getImmediate({optional:!0});if(_e){const Se=yield _e.getToken();if(null!==Se)return Se.accessToken}return null})()}_getAppCheckToken(){var K=this;return(0,p.Z)(function*(){const _e=K._appCheckProvider.getImmediate({optional:!0});return _e?(yield _e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(K=>K.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(K){return new Dt(this,K)}_makeRequest(K,_e,Se,Be,yt=!0){if(this._deleted)return new Ze(ut());{const Wt=function Rr(G,K,_e,Se,Be,yt,Wt=!0){const pn=Cn(G.urlParams),fn=G.url+pn,mn=Object.assign({},G.headers);return function rr(G,K){K&&(G["X-Firebase-GMPID"]=K)}(mn,K),function Nr(G,K){null!==K&&K.length>0&&(G.Authorization="Firebase "+K)}(mn,_e),function vn(G,K){G["X-Firebase-Storage-Version"]="webjs/"+(null!=K?K:"AppManager")}(mn,yt),function ir(G,K){null!==K&&(G["X-Firebase-AppCheck"]=K)}(mn,Se),new _r(fn,G.method,mn,G.body,G.successCodes,G.additionalRetryCodes,G.handler,G.errorHandler,G.timeout,G.progressCallback,Be,Wt)}(K,this._appId,Se,Be,_e,this._firebaseVersion,yt);return this._requests.add(Wt),Wt.getPromise().then(()=>this._requests.delete(Wt),()=>this._requests.delete(Wt)),Wt}}makeRequestWithTokens(K,_e){var Se=this;return(0,p.Z)(function*(){const[Be,yt]=yield Promise.all([Se._getAuthToken(),Se._getAppCheckToken()]);return Se._makeRequest(K,_e,Be,yt).getPromise()})()}}const ea="@firebase/storage",Vs="storage";function Os(G,K,_e){return function zn(G,K,_e){G._throwIfRoot("uploadBytes");const Se=Gr(G.storage,G._location,Bt(),new Ur(K,!0),_e);return G.storage.makeRequestWithTokens(Se,Jn).then(Be=>({metadata:Be,ref:G}))}(G=(0,Z.m9)(G),K,_e)}function Pi(G,K,_e){return function jr(G,K,_e){return G._throwIfRoot("uploadBytesResumable"),new We(G,new Ur(K),_e)}(G=(0,Z.m9)(G),K,_e)}function Kr(G){return function Vi(G){G._throwIfRoot("getMetadata");const K=on(G.storage,G._location,Bt());return G.storage.makeRequestWithTokens(K,Jn)}(G=(0,Z.m9)(G))}function Ni(G,K){return function di(G,K){G._throwIfRoot("updateMetadata");const _e=function Ht(G,K,_e,Se){const yt=Yt(K.fullServerUrl(),G.host,G._protocol),pn=Zn(_e,Se),mn=G.maxOperationRetryTime,F=new ie(yt,"PATCH",Ye(G,Se),mn);return F.headers={"Content-Type":"application/json; charset=utf-8"},F.body=pn,F.errorHandler=$n(K),F}(G.storage,G._location,K,Bt());return G.storage.makeRequestWithTokens(_e,Jn)}(G=(0,Z.m9)(G),K)}function Jr(G,K){return es(G=(0,Z.m9)(G),K)}function vr(G){return function vi(G){const K={prefixes:[],items:[]};return bi(G,K).then(()=>K)}(G=(0,Z.m9)(G))}function wi(G){return ho(G=(0,Z.m9)(G))}function ns(G){return function Xo(G){G._throwIfRoot("deleteObject");const K=function Sn(G,K){const Se=Yt(K.fullServerUrl(),G.host,G._protocol),pn=new ie(Se,"DELETE",function Wt(fn,mn){},G.maxOperationRetryTime);return pn.successCodes=[200,204],pn.errorHandler=$n(K),pn}(G.storage,G._location);return G.storage.makeRequestWithTokens(K,Jn)}(G=(0,Z.m9)(G))}function oi(G,K){return Ms(G=(0,Z.m9)(G),K)}function Gs(G,K){return ls(G,K)}function Wi(G=(0,f.getApp)(),K){G=(0,Z.m9)(G);const Se=(0,f._getProvider)(G,Vs).getImmediate({identifier:K}),Be=(0,Z.P0)("storage");return Be&&Rs(Se,...Be),Se}function Rs(G,K,_e,Se={}){!function Bs(G,K,_e,Se={}){G.host=`${K}:${_e}`,G._protocol="http";const{mockUserToken:Be}=Se;Be&&(G._overrideAuthToken="string"==typeof Be?Be:(0,Z.Sg)(Be,G.app.options.projectId))}(G,K,_e,Se)}function jo(G,{instanceIdentifier:K}){const _e=G.getProvider("app").getImmediate(),Se=G.getProvider("auth-internal"),Be=G.getProvider("app-check-internal");return new ro(_e,Se,Be,K,f.SDK_VERSION)}!function hi(){(0,f._registerComponent)(new Ie.wA(Vs,jo,"PUBLIC").setMultipleInstances(!0)),(0,f.registerVersion)(ea,"0.9.12",""),(0,f.registerVersion)(ea,"0.9.12","esm2017")}()},2090:(Zt,xe,j)=>{"use strict";j.d(xe,{$s:()=>qt,BH:()=>Mt,G6:()=>at,L:()=>ae,LL:()=>cn,P0:()=>Nt,Pz:()=>wt,Sg:()=>Xe,UG:()=>ft,US:()=>ke,ZB:()=>de,ZR:()=>en,aH:()=>Lt,b$:()=>tt,eu:()=>Ve,hl:()=>Tt,jU:()=>bt,m9:()=>Zn,ne:()=>Wr,pd:()=>li,q4:()=>Ze,r3:()=>rr,ru:()=>Je,tV:()=>Ue,uI:()=>qe,vZ:()=>Ln,w1:()=>Et,xO:()=>nr,xb:()=>Rr,z$:()=>He,zI:()=>st,zd:()=>Mr});const Ie=function(pe){const me=[];let Fe=0;for(let he=0;he<pe.length;he++){let ie=pe.charCodeAt(he);ie<128?me[Fe++]=ie:ie<2048?(me[Fe++]=ie>>6|192,me[Fe++]=63&ie|128):55296==(64512&ie)&&he+1<pe.length&&56320==(64512&pe.charCodeAt(he+1))?(ie=65536+((1023&ie)<<10)+(1023&pe.charCodeAt(++he)),me[Fe++]=ie>>18|240,me[Fe++]=ie>>12&63|128,me[Fe++]=ie>>6&63|128,me[Fe++]=63&ie|128):(me[Fe++]=ie>>12|224,me[Fe++]=ie>>6&63|128,me[Fe++]=63&ie|128)}return me},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,me){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let ie=0;ie<pe.length;ie+=3){const ce=pe[ie],Ye=ie+1<pe.length,Ot=Ye?pe[ie+1]:0,sn=ie+2<pe.length,Jt=sn?pe[ie+2]:0;let Er=(15&Ot)<<2|Jt>>6,qr=63&Jt;sn||(qr=64,Ye||(Er=64)),he.push(Fe[ce>>2],Fe[(3&ce)<<4|Ot>>4],Fe[Er],Fe[qr])}return he.join("")},encodeString(pe,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(pe):this.encodeByteArray(Ie(pe),me)},decodeString(pe,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(pe):function(pe){const me=[];let Fe=0,he=0;for(;Fe<pe.length;){const ie=pe[Fe++];if(ie<128)me[he++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const ce=pe[Fe++];me[he++]=String.fromCharCode((31&ie)<<6|63&ce)}else if(ie>239&&ie<365){const sn=((7&ie)<<18|(63&pe[Fe++])<<12|(63&pe[Fe++])<<6|63&pe[Fe++])-65536;me[he++]=String.fromCharCode(55296+(sn>>10)),me[he++]=String.fromCharCode(56320+(1023&sn))}else{const ce=pe[Fe++],Ye=pe[Fe++];me[he++]=String.fromCharCode((15&ie)<<12|(63&ce)<<6|63&Ye)}}return me.join("")}(this.decodeStringToByteArray(pe,me))},decodeStringToByteArray(pe,me){this.init_();const Fe=me?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let ie=0;ie<pe.length;){const ce=Fe[pe.charAt(ie++)],Ot=ie<pe.length?Fe[pe.charAt(ie)]:0;++ie;const Jt=ie<pe.length?Fe[pe.charAt(ie)]:64;++ie;const on=ie<pe.length?Fe[pe.charAt(ie)]:64;if(++ie,null==ce||null==Ot||null==Jt||null==on)throw Error();he.push(ce<<2|Ot>>4),64!==Jt&&(he.push(Ot<<4&240|Jt>>2),64!==on&&he.push(Jt<<6&192|on))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}},ae=function(pe){return function(pe){const me=Ie(pe);return ke.encodeByteArray(me,!0)}(pe).replace(/\./g,"")},Ue=function(pe){try{return ke.decodeString(pe,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function de(pe,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return me}for(const Fe in me)!me.hasOwnProperty(Fe)||!Re(Fe)||(pe[Fe]=de(pe[Fe],me[Fe]));return pe}function Re(pe){return"__proto__"!==pe}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(pe){return!1}}function bt(){return"object"==typeof self&&self.self===self}function Je(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){const pe=He();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function at(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tt(){return"object"==typeof indexedDB}function Ve(){return new Promise((pe,me)=>{try{let Fe=!0;const he="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(he);ie.onsuccess=()=>{ie.result.close(),Fe||self.indexedDB.deleteDatabase(he),pe(!0)},ie.onupgradeneeded=()=>{Fe=!1},ie.onerror=()=>{var ce;me((null===(ce=ie.error)||void 0===ce?void 0:ce.message)||"")}}catch(Fe){me(Fe)}})}function st(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const Ke=()=>{try{return function ut(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if("undefined"==typeof document)return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Fe){return}const me=pe&&Ue(pe[1]);return me&&JSON.parse(me)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},Ze=pe=>{var me,Fe;return null===(Fe=null===(me=Ke())||void 0===me?void 0:me.emulatorHosts)||void 0===Fe?void 0:Fe[pe]},Nt=pe=>{const me=Ze(pe);if(!me)return;const Fe=me.lastIndexOf(":");if(Fe<=0||Fe+1===me.length)throw new Error(`Invalid host ${me} with no separate hostname and port!`);const he=parseInt(me.substring(Fe+1),10);return"["===me[0]?[me.substring(1,Fe-1),he]:[me.substring(0,Fe),he]},Lt=()=>{var pe;return null===(pe=Ke())||void 0===pe?void 0:pe.config},wt=pe=>{var me;return null===(me=Ke())||void 0===me?void 0:me[`_${pe}`]};class Mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,Fe)=>{this.resolve=me,this.reject=Fe})}wrapCallback(me){return(Fe,he)=>{Fe?this.reject(Fe):this.resolve(he),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(Fe):me(Fe,he))}}}function Xe(pe,me){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=me||"demo-project",ie=pe.iat||0,ce=pe.sub||pe.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:ie,exp:ie+3600,auth_time:ie,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(Ye)),""].join(".")}class en extends Error{constructor(me,Fe,he){super(Fe),this.code=me,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cn.prototype.create)}}class cn{constructor(me,Fe,he){this.service=me,this.serviceName=Fe,this.errors=he}create(me,...Fe){const he=Fe[0]||{},ie=`${this.service}/${me}`,ce=this.errors[me],Ye=ce?function gn(pe,me){return pe.replace(Yt,(Fe,he)=>{const ie=me[he];return null!=ie?String(ie):`<${he}?>`})}(ce,he):"Error";return new en(ie,`${this.serviceName}: ${Ye} (${ie}).`,he)}}const Yt=/\{\$([^}]+)}/g;function rr(pe,me){return Object.prototype.hasOwnProperty.call(pe,me)}function Rr(pe){for(const me in pe)if(Object.prototype.hasOwnProperty.call(pe,me))return!1;return!0}function Ln(pe,me){if(pe===me)return!0;const Fe=Object.keys(pe),he=Object.keys(me);for(const ie of Fe){if(!he.includes(ie))return!1;const ce=pe[ie],Ye=me[ie];if(Bn(ce)&&Bn(Ye)){if(!Ln(ce,Ye))return!1}else if(ce!==Ye)return!1}for(const ie of he)if(!Fe.includes(ie))return!1;return!0}function Bn(pe){return null!==pe&&"object"==typeof pe}function nr(pe){const me=[];for(const[Fe,he]of Object.entries(pe))Array.isArray(he)?he.forEach(ie=>{me.push(encodeURIComponent(Fe)+"="+encodeURIComponent(ie))}):me.push(encodeURIComponent(Fe)+"="+encodeURIComponent(he));return me.length?"&"+me.join("&"):""}function Mr(pe){const me={};return pe.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[ie,ce]=he.split("=");me[decodeURIComponent(ie)]=decodeURIComponent(ce)}}),me}function li(pe){const me=pe.indexOf("?");if(!me)return"";const Fe=pe.indexOf("#",me);return pe.substring(me,Fe>0?Fe:void 0)}function Wr(pe,me){const Fe=new zr(pe,me);return Fe.subscribe.bind(Fe)}class zr{constructor(me,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{me(this)}).catch(he=>{this.error(he)})}next(me){this.forEachObserver(Fe=>{Fe.next(me)})}error(me){this.forEachObserver(Fe=>{Fe.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,Fe,he){let ie;if(void 0===me&&void 0===Fe&&void 0===he)throw new Error("Missing Observer.");ie=function St(pe,me){if("object"!=typeof pe||null===pe)return!1;for(const Fe of me)if(Fe in pe&&"function"==typeof pe[Fe])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:Fe,complete:he},void 0===ie.next&&(ie.next=nn),void 0===ie.error&&(ie.error=nn),void 0===ie.complete&&(ie.complete=nn);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(Ye){}}),this.observers.push(ie),ce}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,me)}sendOne(me,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{Fe(this.observers[me])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}function qt(pe,me=1e3,Fe=2){const he=me*Math.pow(Fe,pe),ie=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+ie)}function Zn(pe){return pe&&pe._delegate?pe._delegate:pe}},4635:(Zt,xe,j)=>{"use strict";j.d(xe,{r:()=>p});class p{constructor(Z,Ie,ve,ke,Ne,ae,Ue,oe){this.nombre=Z,this.apellido=Ie,this.edad=ve,this.dni=ke,this.especialidad=Ne,this.mail=ae,this.password=Ue,this.foto=oe,this.habilitado=!1,this.tipoUsuario="ESP"}}},231:(Zt,xe,j)=>{"use strict";j.d(xe,{T:()=>p});class p{constructor(Z,Ie,ve,ke,Ne,ae,Ue,oe){this.nombre=Z,this.apellido=Ie,this.edad=ve,this.dni=ke,this.obra_social=Ne,this.mail=ae,this.password=Ue,this.foto=oe,this.tipoUsuario="PAC"}}},4752:(Zt,xe,j)=>{"use strict";j.d(xe,{u:()=>Lt});var p=j(5e3),f=j(2382),Z=j(4635),Ie=j(231),ve=j(5226),ke=j.n(ve),Ne=j(7005),ae=j(9100),Ue=j(6893),oe=j(9808);function de(wt,Mt){if(1&wt){const Xe=p.EpF();p.TgZ(0,"div",27)(1,"div",28),p.NdJ("click",function(){return p.CHM(Xe),p.oxw().volver()}),p.O4$(),p.TgZ(2,"svg",29),p._UZ(3,"path",30),p.qZA(),p.kcU(),p.TgZ(4,"a",31),p._uU(5,"volver"),p.qZA()()()}}function Re(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Nombre requerido "),p.qZA())}function He(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Apellido requerido "),p.qZA())}function qe(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Edad requerida "),p.qZA())}function ft(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *La edad tiene que estar entre 18 y 99 "),p.qZA())}function bt(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *DNI requerido "),p.qZA())}function Je(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *DNI Invalido "),p.qZA())}function tt(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Especialidad requerido "),p.qZA())}function ct(wt,Mt){if(1&wt&&(p.TgZ(0,"div",16)(1,"label",9),p._uU(2,"Especialidad"),p.qZA(),p._UZ(3,"input",33),p.YNc(4,tt,2,0,"small",11),p.qZA()),2&wt){const Xe=p.oxw();let pt;p.xp6(4),p.Q6J("ngIf",(null==(pt=Xe.formularioRegistro.get("especialidad"))||null==pt.errors?null:pt.errors.required)&&(null==(pt=Xe.formularioRegistro.get("especialidad"))?null:pt.touched))}}function Et(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Obra social requerido "),p.qZA())}function ze(wt,Mt){if(1&wt&&(p.TgZ(0,"div",16)(1,"label",9),p._uU(2,"Obra Social"),p.qZA(),p._UZ(3,"input",34),p.YNc(4,Et,2,0,"small",11),p.qZA()),2&wt){const Xe=p.oxw();let pt;p.xp6(4),p.Q6J("ngIf",(null==(pt=Xe.formularioRegistro.get("obra_social"))||null==pt.errors?null:pt.errors.required)&&(null==(pt=Xe.formularioRegistro.get("obra_social"))?null:pt.touched))}}function ot(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Mail requerido "),p.qZA())}function at(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Mail Invalido "),p.qZA())}function Tt(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Password requerido "),p.qZA())}function Ve(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Reingreso de Password requerido "),p.qZA())}function st(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Reingrese la password "),p.qZA())}function ut(wt,Mt){1&wt&&(p.TgZ(0,"span",32),p._uU(1," *Reingrese la password "),p.qZA())}function Te(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Foto requerida "),p.qZA())}function $e(wt,Mt){1&wt&&(p.TgZ(0,"span",32),p._uU(1,' *Seleccione 2 Fotos a Subir ("Con la tecla Ctrl + click seleccionar las fotos") '),p.qZA())}function Le(wt,Mt){if(1&wt){const Xe=p.EpF();p.TgZ(0,"div",19)(1,"label",9),p._uU(2,"Fotos (2 fotos)"),p.qZA(),p.TgZ(3,"input",35),p.NdJ("change",function(en){return p.CHM(Xe),p.oxw().subirFotosPaciente(en)}),p.qZA(),p.YNc(4,Te,2,0,"small",11),p.YNc(5,$e,2,0,"span",11),p.qZA()}if(2&wt){const Xe=p.oxw();let pt;p.xp6(4),p.Q6J("ngIf",""==(null==(pt=Xe.formularioRegistro.get("fotosPaciente"))?null:pt.value)),p.xp6(1),p.Q6J("ngIf",Xe.errorFotoPaciente)}}function Ke(wt,Mt){1&wt&&(p.TgZ(0,"small",32),p._uU(1," *Foto requerida "),p.qZA())}function Ze(wt,Mt){if(1&wt){const Xe=p.EpF();p.TgZ(0,"div",19)(1,"label",9),p._uU(2,"Foto (1 foto) "),p.qZA(),p.TgZ(3,"input",36),p.NdJ("change",function(en){return p.CHM(Xe),p.oxw().subirFotoEspecialista(en)}),p.qZA(),p.YNc(4,Ke,2,0,"small",11),p.qZA()}if(2&wt){const Xe=p.oxw();let pt;p.xp6(4),p.Q6J("ngIf",""==(null==(pt=Xe.formularioRegistro.get("fotosPaciente"))?null:pt.value))}}function Nt(wt,Mt){1&wt&&(p.TgZ(0,"div",37),p._UZ(1,"div",38),p.qZA())}let Lt=(()=>{class wt{constructor(Xe,pt,en,cn){this.FormBuilder=Xe,this.FirestoreService=pt,this.Router=en,this.AuthService=cn,this.fromAdministracion=!1,this.volverEvent=new p.vpe,this.tipoForm="",this.formEspecialista="especialistas",this.formPaciente="pacientes",this.especialista=new Z.r("","",99,99999999,"","","",""),this.paciente=new Ie.T("","",99,99999999,"","","",[]),this.nombre="",this.apellido="",this.edad=99,this.dni=99999999,this.mail="",this.password="",this.repetir_password="",this.obra_social="",this.fotosPaciente=[],this.foto_1_paciente="",this.foto_2_paciente="",this.errorFotoPaciente=!1,this.especialidad="",this.fotoEspecialista="",this.foto_especialista="",this.passwordInvalid=!1,this.spinner=!1}set formulario(Xe){"PAC"==Xe||"ESP"==Xe||"ADM"==Xe?("PAC"==Xe?this.tipoForm="pacientes":"ESP"==Xe?this.tipoForm="especialistas":"ADM"==Xe&&(this.tipoForm="administrador"),this.fromAdministracion=!0):(this.fromAdministracion=!1,this.tipoForm=Xe)}ngOnInit(){this.tipoForm==this.formPaciente?this.formularioRegistro=this.FormBuilder.group({nombre:["",[f.kI.required,f.kI.min(3)]],apellido:["",[f.kI.required,f.kI.min(3)]],edad:["",[f.kI.required,f.kI.min(18),f.kI.max(99)]],dni:["",[f.kI.required,f.kI.min(1e7),f.kI.max(99999999)]],obra_social:["",[f.kI.required,f.kI.min(3)]],mail:["",[f.kI.required,f.kI.email]],password:["",[f.kI.required,f.kI.minLength(6)]],repetir_password:["",[f.kI.required,f.kI.minLength(6)]],fotosPaciente:["",[f.kI.required]]}):this.tipoForm==this.formEspecialista&&(this.formularioRegistro=this.FormBuilder.group({nombre:["",[f.kI.required,f.kI.min(3)]],apellido:["",[f.kI.required,f.kI.min(3)]],edad:["",[f.kI.required,f.kI.min(18),f.kI.max(99)]],dni:["",[f.kI.required,f.kI.min(1e7),f.kI.max(99999999)]],especialidad:["",[f.kI.required,f.kI.minLength(3)]],mail:["",[f.kI.required,f.kI.email]],password:["",[f.kI.required,f.kI.minLength(6)]],repetir_password:["",[f.kI.required,f.kI.minLength(6)]],fotoEspecialista:["",[f.kI.required]]}))}altaRegistro(){var Xe,pt,en,cn,gn,Yt,Cn,Hn,Xn,_r,tr,Nr,vn,rr,ir,Rr,Qt,Ln;if((null===(Xe=this.formularioRegistro.get("password"))||void 0===Xe?void 0:Xe.value)==(null===(pt=this.formularioRegistro.get("repetir_password"))||void 0===pt?void 0:pt.value))if(this.tipoForm==this.formPaciente){this.paciente={nombre:null===(en=this.formularioRegistro.get("nombre"))||void 0===en?void 0:en.value,apellido:null===(cn=this.formularioRegistro.get("apellido"))||void 0===cn?void 0:cn.value,edad:null===(gn=this.formularioRegistro.get("edad"))||void 0===gn?void 0:gn.value,dni:null===(Yt=this.formularioRegistro.get("dni"))||void 0===Yt?void 0:Yt.value,obra_social:null===(Cn=this.formularioRegistro.get("obra_social"))||void 0===Cn?void 0:Cn.value,mail:null===(Hn=this.formularioRegistro.get("mail"))||void 0===Hn?void 0:Hn.value,password:null===(Xn=this.formularioRegistro.get("password"))||void 0===Xn?void 0:Xn.value,foto:null===(_r=this.formularioRegistro.get("fotosPaciente"))||void 0===_r?void 0:_r.value,tipoUsuario:"PAC"};let Bn=[];Bn.push(this.foto_1_paciente),Bn.push(this.foto_2_paciente),this.paciente.foto=Bn,null!=this.paciente.foto[1]?(this.FirestoreService.altaPaciente(this.paciente),this.AuthService.user=this.paciente,this.AuthService.register(this.paciente.mail,this.paciente.password),this.errorFotoPaciente=!1,this.loadingSession()):this.errorFotoPaciente=!0}else this.tipoForm==this.formEspecialista&&(this.especialista={nombre:null===(tr=this.formularioRegistro.get("nombre"))||void 0===tr?void 0:tr.value,apellido:null===(Nr=this.formularioRegistro.get("apellido"))||void 0===Nr?void 0:Nr.value,edad:null===(vn=this.formularioRegistro.get("edad"))||void 0===vn?void 0:vn.value,dni:null===(rr=this.formularioRegistro.get("dni"))||void 0===rr?void 0:rr.value,especialidad:null===(ir=this.formularioRegistro.get("especialidad"))||void 0===ir?void 0:ir.value,mail:null===(Rr=this.formularioRegistro.get("mail"))||void 0===Rr?void 0:Rr.value,password:null===(Qt=this.formularioRegistro.get("password"))||void 0===Qt?void 0:Qt.value,foto:null===(Ln=this.formularioRegistro.get("fotoEspecialista"))||void 0===Ln?void 0:Ln.value,habilitado:!1,tipoUsuario:"ESP"},this.especialista.foto=this.foto_especialista,this.FirestoreService.altaEspecialista(this.especialista),this.AuthService.user=this.especialista,this.AuthService.register(this.especialista.mail,this.especialista.password),this.loadingSession());else this.passwordInvalid=!0}msjVerificacionMail(){ke().fire({icon:"success",title:"Gracias por registrarse",text:`Se le envio un mail de verificacion a ${this.AuthService.user.mail}`,confirmButtonText:"Aceptar"}).then(Xe=>{this.formularioRegistro.reset()})}subirFotosPaciente(Xe){this.foto_1_paciente=null==Xe?void 0:Xe.target.files[0],this.foto_2_paciente=null==Xe?void 0:Xe.target.files[1]}subirFotoEspecialista(Xe){this.foto_especialista=null==Xe?void 0:Xe.target.files[0]}volver(){this.volverEvent.emit(!1)}loadingSession(){this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.msjVerificacionMail()},2e3)}}return wt.\u0275fac=function(Xe){return new(Xe||wt)(p.Y36(f.qu),p.Y36(Ne.C),p.Y36(ae.F0),p.Y36(Ue.e))},wt.\u0275cmp=p.Xpm({type:wt,selectors:[["app-form-registro"]],inputs:{formulario:"formulario"},outputs:{volverEvent:"volverEvent"},decls:57,vars:21,consts:[[1,"body"],["class","header-form",4,"ngIf"],[1,"container"],[1,"col-md-12","col-lg-12","p-4"],[1,"mb-3"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"mb-1"],[1,"col-md-4"],["for","firstName"],["type","text","formControlName","nombre","placeholder","Ingrese su nombre",1,"form-control"],["class","invalid",4,"ngIf"],[1,"col-md-5"],["type","text","formControlName","apellido","placeholder","Ingrese sus apellidos",1,"form-control"],[1,"col-md-3"],["type","number","formControlName","edad","placeholder","Ingrese su edad",1,"form-control"],[1,"col-md-6"],["type","number","formControlName","dni","placeholder","Ingrese su dni",1,"form-control"],["class","col-md-6",4,"ngIf"],[1,"col-md-12"],["type","email","formControlName","mail","placeholder","Ingrese su mail",1,"form-control"],["type","password","formControlName","password","placeholder","Ingrese su password",1,"form-control"],["type","password","formControlName","repetir_password","placeholder","Repita su password",1,"form-control"],["class","col-md-12",4,"ngIf"],[1,"mb-4"],["class","d-flex justify-content-center","style","color: #008B81;margin-bottom: 10px;",4,"ngIf"],["type","submit",1,"w-100","boton",3,"disabled"],[1,"header-form"],[1,"btn-volver",3,"click"],["width","46","height","46","fill","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M2.25 12c0 5.384 4.365 9.75 9.75 9.75 5.384 0 9.75-4.366 9.75-9.75 0-5.385-4.366-9.75-9.75-9.75A9.75 9.75 0 0 0 2.25 12Zm9.968-4.282a.751.751 0 0 1 .004 1.06L9.77 11.25h6.261a.75.75 0 1 1 0 1.5H9.77l2.452 2.472a.75.75 0 1 1-1.066 1.056l-3.721-3.75a.75.75 0 0 1 0-1.056l3.721-3.75a.75.75 0 0 1 1.062-.005Z"],[2,"margin-left","10px"],[1,"invalid"],["type","text","formControlName","especialidad","placeholder","Ingrese sus especialidades",1,"form-control"],["type","text","formControlName","obra_social","placeholder","Ingrese su obra social",1,"form-control"],["type","file","formControlName","fotosPaciente","multiple","",1,"form-control",3,"change"],["type","file","formControlName","fotoEspecialista",1,"form-control",3,"change"],[1,"d-flex","justify-content-center",2,"color","#008B81","margin-bottom","10px"],["role","status",1,"spinner-border"]],template:function(Xe,pt){if(1&Xe&&(p.TgZ(0,"div",0),p.YNc(1,de,6,0,"div",1),p.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),p._uU(5),p.qZA(),p.TgZ(6,"form",5),p.NdJ("ngSubmit",function(){return pt.altaRegistro()}),p.TgZ(7,"div",6),p._UZ(8,"hr",7),p.TgZ(9,"div",8)(10,"label",9),p._uU(11,"Nombre"),p.qZA(),p._UZ(12,"input",10),p.YNc(13,Re,2,0,"small",11),p.qZA(),p.TgZ(14,"div",12)(15,"label",9),p._uU(16,"Apellido"),p.qZA(),p._UZ(17,"input",13),p.YNc(18,He,2,0,"small",11),p.qZA(),p.TgZ(19,"div",14)(20,"label",9),p._uU(21,"Edad"),p.qZA(),p._UZ(22,"input",15),p.YNc(23,qe,2,0,"small",11),p.YNc(24,ft,2,0,"small",11),p.qZA(),p.TgZ(25,"div",16)(26,"label",9),p._uU(27,"DNI"),p.qZA(),p._UZ(28,"input",17),p.YNc(29,bt,2,0,"small",11),p.YNc(30,Je,2,0,"small",11),p.qZA(),p.YNc(31,ct,5,1,"div",18),p.YNc(32,ze,5,1,"div",18),p.TgZ(33,"div",19)(34,"label",9),p._uU(35,"Mail"),p.qZA(),p._UZ(36,"input",20),p.YNc(37,ot,2,0,"small",11),p.YNc(38,at,2,0,"small",11),p.qZA(),p.TgZ(39,"div",16)(40,"label",9),p._uU(41,"Password"),p.qZA(),p._UZ(42,"input",21),p.YNc(43,Tt,2,0,"small",11),p.qZA(),p.TgZ(44,"div",16)(45,"label",9),p._uU(46,"Repetir Password"),p.qZA(),p._UZ(47,"input",22),p.YNc(48,Ve,2,0,"small",11),p.YNc(49,st,2,0,"small",11),p.YNc(50,ut,2,0,"span",11),p.qZA(),p.YNc(51,Le,6,2,"div",23),p.YNc(52,Ze,5,1,"div",23),p.qZA(),p._UZ(53,"hr",24),p.YNc(54,Nt,2,0,"div",25),p.TgZ(55,"button",26),p._uU(56,"Registrarse"),p.qZA()()()()()),2&Xe){let en,cn,gn,Yt,Cn,Hn,Xn,_r,tr,Nr,vn;p.xp6(1),p.Q6J("ngIf",!pt.fromAdministracion),p.xp6(4),p.hij("Formulario de ",pt.tipoForm,""),p.xp6(1),p.Q6J("formGroup",pt.formularioRegistro),p.xp6(7),p.Q6J("ngIf",(null==(en=pt.formularioRegistro.get("nombre"))||null==en.errors?null:en.errors.required)&&(null==(en=pt.formularioRegistro.get("nombre"))?null:en.touched)),p.xp6(5),p.Q6J("ngIf",(null==(cn=pt.formularioRegistro.get("apellido"))||null==cn.errors?null:cn.errors.required)&&(null==(cn=pt.formularioRegistro.get("apellido"))?null:cn.touched)),p.xp6(5),p.Q6J("ngIf",(null==(gn=pt.formularioRegistro.get("edad"))||null==gn.errors?null:gn.errors.required)&&(null==(gn=pt.formularioRegistro.get("edad"))?null:gn.touched)),p.xp6(1),p.Q6J("ngIf",(null==(Yt=pt.formularioRegistro.get("edad"))||null==Yt.errors?null:Yt.errors.min)||(null==(Yt=pt.formularioRegistro.get("edad"))||null==Yt.errors?null:Yt.errors.max)),p.xp6(5),p.Q6J("ngIf",(null==(Cn=pt.formularioRegistro.get("dni"))||null==Cn.errors?null:Cn.errors.required)&&(null==(Cn=pt.formularioRegistro.get("dni"))?null:Cn.touched)),p.xp6(1),p.Q6J("ngIf",(null==(Hn=pt.formularioRegistro.get("dni"))||null==Hn.errors?null:Hn.errors.min)||(null==(Hn=pt.formularioRegistro.get("dni"))||null==Hn.errors?null:Hn.errors.max)),p.xp6(1),p.Q6J("ngIf",pt.tipoForm==pt.formEspecialista),p.xp6(1),p.Q6J("ngIf",pt.tipoForm==pt.formPaciente),p.xp6(5),p.Q6J("ngIf",(null==(Xn=pt.formularioRegistro.get("mail"))||null==Xn.errors?null:Xn.errors.required)&&(null==(Xn=pt.formularioRegistro.get("mail"))?null:Xn.touched)),p.xp6(1),p.Q6J("ngIf",null==(_r=pt.formularioRegistro.get("mail"))||null==_r.errors?null:_r.errors.email),p.xp6(5),p.Q6J("ngIf",(null==(tr=pt.formularioRegistro.get("password"))||null==tr.errors?null:tr.errors.required)&&(null==(tr=pt.formularioRegistro.get("password"))?null:tr.touched)),p.xp6(5),p.Q6J("ngIf",(null==(Nr=pt.formularioRegistro.get("repetir_password"))||null==Nr.errors?null:Nr.errors.required)&&(null==(Nr=pt.formularioRegistro.get("repetir_password"))?null:Nr.touched)),p.xp6(1),p.Q6J("ngIf",(null==(vn=pt.formularioRegistro.get("repetir_password"))?null:vn.value)!=(null==(vn=pt.formularioRegistro.get("password"))?null:vn.value)&&""!=(null==(vn=pt.formularioRegistro.get("repetir_password"))?null:vn.value)),p.xp6(1),p.Q6J("ngIf",pt.passwordInvalid),p.xp6(1),p.Q6J("ngIf",pt.tipoForm==pt.formPaciente),p.xp6(1),p.Q6J("ngIf",pt.tipoForm==pt.formEspecialista),p.xp6(2),p.Q6J("ngIf",pt.spinner),p.xp6(1),p.Q6J("disabled",pt.formularioRegistro.invalid)}},directives:[oe.O5,f._Y,f.JL,f.sg,f.Fj,f.JJ,f.u,f.wV],styles:["label[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-weight:600}input[_ngcontent-%COMP%]{background-color:#e6e6e6}h1[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#008b81}.body[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;border-radius:5px;box-shadow:2.8px 2.8px 2.2px #00000005,6.7px 6.7px 5.3px #00000007,12.5px 12.5px 10px #00000009,22.3px 22.3px 17.9px #0000000b,41.8px 41.8px 33.4px #0000000d,100px 100px 80px #00000012}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:2%;padding-bottom:2%}.invalid[_ngcontent-%COMP%]{color:red}.boton[_ngcontent-%COMP%]{background-color:#008b81;color:#fff;font-weight:600;border-radius:8px;height:40px;border:none;cursor:pointer}.boton[_ngcontent-%COMP%]:enabled:hover{background-color:#153a82}.boton[_ngcontent-%COMP%]:enabled:active{transform:scale(.95)}.boton[_ngcontent-%COMP%]:focus{outline:none}.boton[_ngcontent-%COMP%]:disabled{opacity:85%}.header-form[_ngcontent-%COMP%]{background-color:#008b81;padding-left:5%;padding-top:2%;padding-bottom:2%;font-weight:600;font-size:24px;width:100%}.header-form[_ngcontent-%COMP%] > .btn-volver[_ngcontent-%COMP%]{padding-top:5px;padding-left:30px;padding-bottom:5px;border-radius:16px;background-color:#153a82;width:200px;color:#fff}.header-form[_ngcontent-%COMP%] > .btn-volver[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer;background-color:#000}.header-form[_ngcontent-%COMP%] > .btn-volver[_ngcontent-%COMP%]:active{transform:scale(.95)}.header-form[_ngcontent-%COMP%] > .btn-volver[_ngcontent-%COMP%]:focus{outline:none}"]}),wt})()},6893:(Zt,xe,j)=>{"use strict";j.d(xe,{e:()=>Ie});var p=j(5861),f=j(5e3),Z=j(1205);let Ie=(()=>{class ve{constructor(Ne){this.afAuth=Ne,this.user=""}sendVerificationEmail(){var Ne=this;return(0,p.Z)(function*(){var ae;return null===(ae=yield Ne.afAuth.currentUser)||void 0===ae?void 0:ae.sendEmailVerification()})()}login(Ne,ae){var Ue=this;return(0,p.Z)(function*(){try{const oe=yield Ue.afAuth.signInWithEmailAndPassword(Ne,ae);return Ue.userDateFirebase=oe,oe}catch(oe){return oe}})()}register(Ne,ae){var Ue=this;return(0,p.Z)(function*(){try{yield Ue.afAuth.createUserWithEmailAndPassword(Ne,ae),Ue.sendVerificationEmail()}catch(oe){}})()}logout(){var Ne=this;return(0,p.Z)(function*(){try{yield Ne.afAuth.signOut()}catch(ae){}})()}}return ve.\u0275fac=function(Ne){return new(Ne||ve)(f.LFG(Z.zQ))},ve.\u0275prov=f.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},7005:(Zt,xe,j)=>{"use strict";j.d(xe,{C:()=>ve});var p=j(6027),f=j(5525),Z=j(8210),Ie=j(5e3);let ve=(()=>{class ke{constructor(ae){this.FireStore=ae,this.storage=(0,Z.cF)(),this.listAdministradoresCollectionReference=(0,p.hJ)(this.FireStore,"administradores"),this.listEspecialistasCollectionReference=(0,p.hJ)(this.FireStore,"especialistas"),this.listPacientesCollectionReference=(0,p.hJ)(this.FireStore,"pacientes")}altaAdministradores(ae){let Ue=(0,Z.iH)(this.storage,ae.foto.name);(0,Z.KV)(Ue,ae.foto).then(oe=>{(0,Z.Jt)((0,Z.iH)(this.storage,ae.foto.name)).then(de=>(ae.foto=de,(0,p.ET)(this.listAdministradoresCollectionReference,ae)))})}altaEspecialista(ae){let Ue=(0,Z.iH)(this.storage,ae.foto.name);(0,Z.KV)(Ue,ae.foto).then(oe=>{(0,Z.Jt)((0,Z.iH)(this.storage,ae.foto.name)).then(de=>(ae.foto=de,(0,p.ET)(this.listEspecialistasCollectionReference,ae)))})}altaPaciente(ae){let Ue=(0,Z.iH)(this.storage,ae.foto[0].name),oe=(0,Z.iH)(this.storage,ae.foto[1].name);(0,Z.KV)(Ue,ae.foto[0]).then(de=>{(0,Z.Jt)((0,Z.iH)(this.storage,ae.foto[0].name)).then(Re=>{ae.foto[0]=Re,(0,Z.KV)(oe,ae.foto[1]).then(He=>{(0,Z.Jt)((0,Z.iH)(this.storage,ae.foto[1].name)).then(qe=>(ae.foto[1]=qe,(0,p.ET)(this.listPacientesCollectionReference,ae)))})})})}modificarEspecialista(ae,Ue){const oe=(0,p.JU)(this.FireStore,`especialistas/${Ue}`);return(0,f.r7)(oe,ae)}listaAdministradores(){return(0,p.BS)(this.listAdministradoresCollectionReference,{idField:"id"})}listaEspecialistas(){return(0,p.BS)(this.listEspecialistasCollectionReference,{idField:"id"})}listaPacientes(){return(0,p.BS)(this.listPacientesCollectionReference,{idField:"id"})}}return ke.\u0275fac=function(ae){return new(ae||ke)(Ie.LFG(p.gg))},ke.\u0275prov=Ie.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})()},7133:(Zt,xe,j)=>{"use strict";var p=j(9808),f=j(5e3);class Z extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends Z{static makeCurrent(){(0,p.HT)(new Ie)}onAndCancel(c,a,g){return c.addEventListener(a,g,!1),()=>{c.removeEventListener(a,g,!1)}}dispatchEvent(c,a){c.dispatchEvent(a)}remove(c){c.parentNode&&c.parentNode.removeChild(c)}createElement(c,a){return(a=a||this.getDefaultDocument()).createElement(c)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(c){return c.nodeType===Node.ELEMENT_NODE}isShadowRoot(c){return c instanceof DocumentFragment}getGlobalEventTarget(c,a){return"window"===a?window:"document"===a?c:"body"===a?c.body:null}getBaseHref(c){const a=function ke(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==a?null:function ae(u){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",u);const c=Ne.pathname;return"/"===c.charAt(0)?c:`/${c}`}(a)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(c){return(0,p.Mx)(document.cookie,c)}}let Ne,ve=null;const Ue=new f.OlP("TRANSITION_ID"),de=[{provide:f.ip1,useFactory:function oe(u,c,a){return()=>{a.get(f.CZH).donePromise.then(()=>{const g=(0,p.q)(),w=c.querySelectorAll(`style[ng-transition="${u}"]`);for(let O=0;O<w.length;O++)g.remove(w[O])})}},deps:[Ue,p.K0,f.zs3],multi:!0}];class Re{static init(){(0,f.VLi)(new Re)}addToWindow(c){f.dqk.getAngularTestability=(g,w=!0)=>{const O=c.findTestabilityInTree(g,w);if(null==O)throw new Error("Could not find testability for element.");return O},f.dqk.getAllAngularTestabilities=()=>c.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>c.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(g=>{const w=f.dqk.getAllAngularTestabilities();let O=w.length,se=!1;const Ce=function(Ee){se=se||Ee,O--,0==O&&g(se)};w.forEach(function(Ee){Ee.whenStable(Ce)})})}findTestabilityInTree(c,a,g){if(null==a)return null;const w=c.getTestability(a);return null!=w?w:g?(0,p.q)().isShadowRoot(a)?this.findTestabilityInTree(c,a.host,!0):this.findTestabilityInTree(c,a.parentElement,!0):null}}let He=(()=>{class u{build(){return new XMLHttpRequest}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac}),u})();const qe=new f.OlP("EventManagerPlugins");let ft=(()=>{class u{constructor(a,g){this._zone=g,this._eventNameToPlugin=new Map,a.forEach(w=>w.manager=this),this._plugins=a.slice().reverse()}addEventListener(a,g,w){return this._findPluginFor(g).addEventListener(a,g,w)}addGlobalEventListener(a,g,w){return this._findPluginFor(g).addGlobalEventListener(a,g,w)}getZone(){return this._zone}_findPluginFor(a){const g=this._eventNameToPlugin.get(a);if(g)return g;const w=this._plugins;for(let O=0;O<w.length;O++){const se=w[O];if(se.supports(a))return this._eventNameToPlugin.set(a,se),se}throw new Error(`No event manager plugin found for event ${a}`)}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(qe),f.LFG(f.R0b))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac}),u})();class bt{constructor(c){this._doc=c}addGlobalEventListener(c,a,g){const w=(0,p.q)().getGlobalEventTarget(this._doc,c);if(!w)throw new Error(`Unsupported event target ${w} for event ${a}`);return this.addEventListener(w,a,g)}}let Je=(()=>{class u{constructor(){this._stylesSet=new Set}addStyles(a){const g=new Set;a.forEach(w=>{this._stylesSet.has(w)||(this._stylesSet.add(w),g.add(w))}),this.onStylesAdded(g)}onStylesAdded(a){}getAllStyles(){return Array.from(this._stylesSet)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac}),u})(),tt=(()=>{class u extends Je{constructor(a){super(),this._doc=a,this._hostNodes=new Map,this._hostNodes.set(a.head,[])}_addStylesToHost(a,g,w){a.forEach(O=>{const se=this._doc.createElement("style");se.textContent=O,w.push(g.appendChild(se))})}addHost(a){const g=[];this._addStylesToHost(this._stylesSet,a,g),this._hostNodes.set(a,g)}removeHost(a){const g=this._hostNodes.get(a);g&&g.forEach(ct),this._hostNodes.delete(a)}onStylesAdded(a){this._hostNodes.forEach((g,w)=>{this._addStylesToHost(a,w,g)})}ngOnDestroy(){this._hostNodes.forEach(a=>a.forEach(ct))}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(p.K0))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac}),u})();function ct(u){(0,p.q)().remove(u)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ze=/%COMP%/g;function Te(u,c,a){for(let g=0;g<c.length;g++){let w=c[g];Array.isArray(w)?Te(u,w,a):(w=w.replace(ze,u),a.push(w))}return a}function $e(u){return c=>{if("__ngUnwrap__"===c)return u;!1===u(c)&&(c.preventDefault(),c.returnValue=!1)}}let Ke=(()=>{class u{constructor(a,g,w){this.eventManager=a,this.sharedStylesHost=g,this.appId=w,this.rendererByCompId=new Map,this.defaultRenderer=new Ze(a)}createRenderer(a,g){if(!a||!g)return this.defaultRenderer;switch(g.encapsulation){case f.ifc.Emulated:{let w=this.rendererByCompId.get(g.id);return w||(w=new wt(this.eventManager,this.sharedStylesHost,g,this.appId),this.rendererByCompId.set(g.id,w)),w.applyToHost(a),w}case 1:case f.ifc.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,a,g);default:if(!this.rendererByCompId.has(g.id)){const w=Te(g.id,g.styles,[]);this.sharedStylesHost.addStyles(w),this.rendererByCompId.set(g.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(ft),f.LFG(tt),f.LFG(f.AFp))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac}),u})();class Ze{constructor(c){this.eventManager=c,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(c,a){return a?document.createElementNS(Et[a]||a,c):document.createElement(c)}createComment(c){return document.createComment(c)}createText(c){return document.createTextNode(c)}appendChild(c,a){c.appendChild(a)}insertBefore(c,a,g){c&&c.insertBefore(a,g)}removeChild(c,a){c&&c.removeChild(a)}selectRootElement(c,a){let g="string"==typeof c?document.querySelector(c):c;if(!g)throw new Error(`The selector "${c}" did not match any elements`);return a||(g.textContent=""),g}parentNode(c){return c.parentNode}nextSibling(c){return c.nextSibling}setAttribute(c,a,g,w){if(w){a=w+":"+a;const O=Et[w];O?c.setAttributeNS(O,a,g):c.setAttribute(a,g)}else c.setAttribute(a,g)}removeAttribute(c,a,g){if(g){const w=Et[g];w?c.removeAttributeNS(w,a):c.removeAttribute(`${g}:${a}`)}else c.removeAttribute(a)}addClass(c,a){c.classList.add(a)}removeClass(c,a){c.classList.remove(a)}setStyle(c,a,g,w){w&(f.JOm.DashCase|f.JOm.Important)?c.style.setProperty(a,g,w&f.JOm.Important?"important":""):c.style[a]=g}removeStyle(c,a,g){g&f.JOm.DashCase?c.style.removeProperty(a):c.style[a]=""}setProperty(c,a,g){c[a]=g}setValue(c,a){c.nodeValue=a}listen(c,a,g){return"string"==typeof c?this.eventManager.addGlobalEventListener(c,a,$e(g)):this.eventManager.addEventListener(c,a,$e(g))}}class wt extends Ze{constructor(c,a,g,w){super(c),this.component=g;const O=Te(w+"-"+g.id,g.styles,[]);a.addStyles(O),this.contentAttr=function st(u){return"_ngcontent-%COMP%".replace(ze,u)}(w+"-"+g.id),this.hostAttr=function ut(u){return"_nghost-%COMP%".replace(ze,u)}(w+"-"+g.id)}applyToHost(c){super.setAttribute(c,this.hostAttr,"")}createElement(c,a){const g=super.createElement(c,a);return super.setAttribute(g,this.contentAttr,""),g}}class Mt extends Ze{constructor(c,a,g,w){super(c),this.sharedStylesHost=a,this.hostEl=g,this.shadowRoot=g.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const O=Te(w.id,w.styles,[]);for(let se=0;se<O.length;se++){const Ce=document.createElement("style");Ce.textContent=O[se],this.shadowRoot.appendChild(Ce)}}nodeOrShadowRoot(c){return c===this.hostEl?this.shadowRoot:c}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(c,a){return super.appendChild(this.nodeOrShadowRoot(c),a)}insertBefore(c,a,g){return super.insertBefore(this.nodeOrShadowRoot(c),a,g)}removeChild(c,a){return super.removeChild(this.nodeOrShadowRoot(c),a)}parentNode(c){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(c)))}}let Xe=(()=>{class u extends bt{constructor(a){super(a)}supports(a){return!0}addEventListener(a,g,w){return a.addEventListener(g,w,!1),()=>this.removeEventListener(a,g,w)}removeEventListener(a,g,w){return a.removeEventListener(g,w)}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(p.K0))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac}),u})();const pt=["alt","control","meta","shift"],cn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yt={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let Cn=(()=>{class u extends bt{constructor(a){super(a)}supports(a){return null!=u.parseEventName(a)}addEventListener(a,g,w){const O=u.parseEventName(g),se=u.eventCallback(O.fullKey,w,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(a,O.domEventName,se))}static parseEventName(a){const g=a.toLowerCase().split("."),w=g.shift();if(0===g.length||"keydown"!==w&&"keyup"!==w)return null;const O=u._normalizeKey(g.pop());let se="";if(pt.forEach(Ee=>{const rt=g.indexOf(Ee);rt>-1&&(g.splice(rt,1),se+=Ee+".")}),se+=O,0!=g.length||0===O.length)return null;const Ce={};return Ce.domEventName=w,Ce.fullKey=se,Ce}static getEventFullKey(a){let g="",w=function Hn(u){let c=u.key;if(null==c){if(c=u.keyIdentifier,null==c)return"Unidentified";c.startsWith("U+")&&(c=String.fromCharCode(parseInt(c.substring(2),16)),3===u.location&&gn.hasOwnProperty(c)&&(c=gn[c]))}return cn[c]||c}(a);return w=w.toLowerCase()," "===w?w="space":"."===w&&(w="dot"),pt.forEach(O=>{O!=w&&Yt[O](a)&&(g+=O+".")}),g+=w,g}static eventCallback(a,g,w){return O=>{u.getEventFullKey(O)===a&&w.runGuarded(()=>g(O))}}static _normalizeKey(a){return"esc"===a?"escape":a}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(p.K0))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac}),u})();const vn=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:p.bD},{provide:f.g9A,useValue:function Xn(){Ie.makeCurrent(),Re.init()},multi:!0},{provide:p.K0,useFactory:function tr(){return(0,f.RDi)(document),document},deps:[]}]),rr=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function _r(){return new f.qLn},deps:[]},{provide:qe,useClass:Xe,multi:!0,deps:[p.K0,f.R0b,f.Lbi]},{provide:qe,useClass:Cn,multi:!0,deps:[p.K0]},{provide:Ke,useClass:Ke,deps:[ft,tt,f.AFp]},{provide:f.FYo,useExisting:Ke},{provide:Je,useExisting:tt},{provide:tt,useClass:tt,deps:[p.K0]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:ft,useClass:ft,deps:[qe,f.R0b]},{provide:p.JF,useClass:He,deps:[]}];let ir=(()=>{class u{constructor(a){if(a)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(a){return{ngModule:u,providers:[{provide:f.AFp,useValue:a.appId},{provide:Ue,useExisting:f.AFp},de]}}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(u,12))},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({providers:rr,imports:[p.ez,f.hGG]}),u})();"undefined"!=typeof window&&window;var ce=j(9100);let Ye=(()=>{class u{constructor(){this.logo="../../../assets/imagenes/Logo.png"}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=f.Xpm({type:u,selectors:[["app-menu"]],decls:15,vars:1,consts:[[1,"menu"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],[2,"text-align","start","width","240px"],["routerLink","/home",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-white","text-decoration-none",2,"margin-right","2em","cursor","pointer"],["height","65px","width","240px",3,"src"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/bienvenido",1,"nav-link","px-2","text-white","item-menu"],["routerLink","/login",1,"nav-link","px-2","text-white","item-menu"],["routerLink","/registro",1,"nav-link","px-2","text-white","item-menu"]],template:function(a,g){1&a&&(f.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),f._UZ(4,"img",4),f.qZA()(),f.TgZ(5,"ul",5)(6,"li")(7,"a",6),f._uU(8,"Home"),f.qZA()(),f.TgZ(9,"li")(10,"a",7),f._uU(11,"Login"),f.qZA()(),f.TgZ(12,"li")(13,"a",8),f._uU(14,"Registro"),f.qZA()()()()()),2&a&&(f.xp6(4),f.Q6J("src",g.logo,f.LSH))},directives:[ce.yS],styles:[".menu[_ngcontent-%COMP%]{width:100%;padding:1em 15em;position:absolute;font-weight:700;font-size:18px;background-color:#07285c72}.item-menu[_ngcontent-%COMP%]{cursor:pointer}.item-menu[_ngcontent-%COMP%]:hover{transform:scale(1.5);color:#008b81!important}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin-left:15px}.button[_ngcontent-%COMP%]{border-radius:1em;border:1px solid #07275c;background-color:#07275c;color:#fff;font-size:18px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;font-size:16px;font-weight:700;padding:.5em 2em;cursor:pointer}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#bcc4cdab;min-width:200px;box-shadow:0 8px 16px #0003;z-index:999;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#212529d0;color:#fff}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}"]}),u})(),Ot=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=f.Xpm({type:u,selectors:[["app-bienvenida"]],decls:16,vars:0,consts:[[1,"body"],[1,"container"],["align","end",1,"cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"px-3"],[1,"titulo"],[1,"lead"],[1,"info"],["routerLink","/login",1,"btn","btn-lg","btn-secondary","fw-bold","bg-dark"],["routerLink","/registro",1,"btn","btn-lg","btn-secondary","fw-bold","bg-dark"]],template:function(a,g){1&a&&(f._UZ(0,"app-menu"),f.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"main",3)(5,"p",4),f._uU(6,"Cl\xednica Online"),f.qZA(),f.TgZ(7,"p",5),f._uU(8,"\xa1Bienvenido a la Cl\xednica Online!"),f.qZA(),f.TgZ(9,"p",6),f._uU(10,"Para sacar un turno debe iniciar sesion con su cuenta, si no es socio registrese gratis."),f.qZA(),f.TgZ(11,"p")(12,"a",7),f._uU(13,"Login"),f.qZA(),f.TgZ(14,"a",8),f._uU(15,"Registro"),f.qZA()()()()()())},directives:[Ye,ce.yS],styles:["app-menu[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.body[_ngcontent-%COMP%]{width:100%;height:100%;background:url(pexels-evg-kowalievska-1170979.0aaae437c2076a5c.png) no-repeat center center fixed;background-size:cover}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.titulo[_ngcontent-%COMP%]{font-size:64px;font-weight:700;letter-spacing:3px;text-shadow:white 1px 0 5px}.info[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#000;text-shadow:white 1px 0 5px}.lead[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:#000;text-shadow:white 1px 0 5px}.btn[_ngcontent-%COMP%]{background-color:#008b81!important;margin:0 .5em;width:180px}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#000!important}.btn[_ngcontent-%COMP%]:active{transform:scale(.9)}.btn[_ngcontent-%COMP%]:focus{outline:none}"]}),u})();var sn=j(5861),Jt=j(2382),$n=j(7005),on=j(6893);function Er(u,c){1&u&&(f.TgZ(0,"span",20),f._uU(1," *El usuario no existe "),f.qZA())}function qr(u,c){1&u&&(f.TgZ(0,"span",20),f._uU(1," *El usuario no fue Habilitado "),f.qZA())}function It(u,c){1&u&&(f.TgZ(0,"small",21),f._uU(1," *Mail requerido "),f.qZA())}function Ht(u,c){1&u&&(f.TgZ(0,"small",21),f._uU(1," *Mail invalido "),f.qZA())}function Sn(u,c){1&u&&(f.TgZ(0,"small",21),f._uU(1," *Password requerido "),f.qZA())}function Un(u,c){1&u&&f._UZ(0,"div",22)}let xr=(()=>{class u{constructor(a,g,w,O){this.formBuilder=a,this.FirestoreService=g,this.Router=w,this.AuthService=O,this.fotoAdmin_1="../../../assets/imagenes/iconos/administrador.png",this.fotoEsp_1="../../../assets/imagenes/iconos/especialista-1.png",this.fotoEsp_2="../../../assets/imagenes/iconos/especialista-2.png",this.fotoPac_1="../../../assets/imagenes/iconos/paciente-1.png",this.fotoPac_2="../../../assets/imagenes/iconos/paciente-2.png",this.fotoPac_3="../../../assets/imagenes/iconos/paciente-1.png",this.usuario={mail:"",password:""},this.listaAdministradores=[],this.listaEspecialistas=[],this.listaPacientes=[],this.listaUsuarios=[],this.userExist=!1,this.noHabilitado=!1,this.spinner=!1,this.noEncontroUser=!0}ngOnInit(){this.formLogin=this.formBuilder.group({mail:["",[Jt.kI.required,Jt.kI.email]],password:["",[Jt.kI.required]]}),this.FirestoreService.listaAdministradores().subscribe(a=>{this.listaAdministradores=a,this.cargarArray(this.listaAdministradores)}),this.FirestoreService.listaEspecialistas().subscribe(a=>{this.listaEspecialistas=a,this.cargarArray(this.listaEspecialistas)}),this.FirestoreService.listaPacientes().subscribe(a=>{this.listaPacientes=a,this.cargarArray(this.listaPacientes)}),setTimeout(()=>{},500)}cargarArray(a){for(const g of a)this.listaUsuarios.push(g)}onLogin(){var a=this;return(0,sn.Z)(function*(){var g,w;if(a.userExist=!1,a.noEncontroUser=!0,a.formLogin.valid){a.usuario={mail:null===(g=a.formLogin.get("mail"))||void 0===g?void 0:g.value,password:null===(w=a.formLogin.get("password"))||void 0===w?void 0:w.value};for(const O of a.listaUsuarios){if(O.mail==a.usuario.mail&&O.password==a.usuario.password&&(a.AuthService.user=O,a.AuthService.login(a.usuario.mail,a.usuario.password),setTimeout(()=>{a.usuariosLocales()||1==a.AuthService.userDateFirebase.user.emailVerified?"ESP"==a.AuthService.user.tipoUsuario?a.AuthService.user.habilitado?a.loadingSession():(a.spinner=!0,setTimeout(()=>{a.spinner=!1,a.noHabilitado=!0},1e3)):a.loadingSession():0==a.AuthService.userDateFirebase.user.emailVerified&&(a.spinner=!0,setTimeout(()=>{a.spinner=!1,a.Router.navigateByUrl("/verificacion-email")},1e3))},1e3),a.noEncontroUser=!1),0==a.noEncontroUser)break;a.userExist=!0}}})()}loadingSession(){this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.Router.navigateByUrl("/menu-administrador")},2e3)}usuariosLocales(){let a=!1;return("maria@gmail.com"==this.AuthService.user.mail&&"maria123"==this.AuthService.user.password||"manuel@gmail.com"==this.AuthService.user.mail&&"Manuel159"==this.AuthService.user.password||"gabriel@gmail.com"==this.AuthService.user.mail&&"gabriel123"==this.AuthService.user.password||"rodriguez@gmail.com"==this.AuthService.user.mail&&"Rodriguez159"==this.AuthService.user.password||"julian@gmail.com"==this.AuthService.user.mail&&"julian123"==this.AuthService.user.password||"pedro@gmail.com"==this.AuthService.user.mail&&"Pedro159"==this.AuthService.user.password)&&(a=!0),a}loginRapido(a){var g,w,O,se,Ce,Ee,rt,mt,Dn,un,wn,Br;switch(a){case 1:null===(g=this.formLogin.get("mail"))||void 0===g||g.setValue("pedro@gmail.com"),null===(w=this.formLogin.get("password"))||void 0===w||w.setValue("Pedro159");break;case 2:null===(O=this.formLogin.get("mail"))||void 0===O||O.setValue("manuel@gmail.com"),null===(se=this.formLogin.get("password"))||void 0===se||se.setValue("Manuel159");break;case 3:null===(Ce=this.formLogin.get("mail"))||void 0===Ce||Ce.setValue("maria@gmail.com"),null===(Ee=this.formLogin.get("password"))||void 0===Ee||Ee.setValue("maria123");break;case 4:null===(rt=this.formLogin.get("mail"))||void 0===rt||rt.setValue("julian@gmail.com"),null===(mt=this.formLogin.get("password"))||void 0===mt||mt.setValue("julian123");break;case 5:null===(Dn=this.formLogin.get("mail"))||void 0===Dn||Dn.setValue("rodriguez@gmail.com"),null===(un=this.formLogin.get("password"))||void 0===un||un.setValue("Rodriguez159");break;case 6:null===(wn=this.formLogin.get("mail"))||void 0===wn||wn.setValue("gabriel@gmail.com"),null===(Br=this.formLogin.get("password"))||void 0===Br||Br.setValue("gabriel123")}}}return u.\u0275fac=function(a){return new(a||u)(f.Y36(Jt.qu),f.Y36($n.C),f.Y36(ce.F0),f.Y36(on.e))},u.\u0275cmp=f.Xpm({type:u,selectors:[["app-login"]],decls:53,vars:14,consts:[[1,"body"],[1,"container"],[1,"box"],[1,"row","row-cols-2","row-cols-sm-2","row-cols-md-2",2,"width","100%","margin-left","10%"],[1,"col",2,"width","70%","margin-top","10%"],[1,"box-login","right-panel-active"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel"],[1,"form-container","sign-in-container"],[3,"formGroup","submit"],["class","invalid","style","font-size: 18px;font-weight: 600;width: 100%;text-align: start;",4,"ngIf"],["type","email","placeholder","mail","formControlName","mail"],["class","invalid",4,"ngIf"],["type","password","placeholder","password","formControlName","password"],["class","spinner-border text-success","role","status","style","margin-top: 5px;margin-bottom: 10px;",4,"ngIf"],["type","submit",1,"w-100","boton",3,"disabled","click"],[1,"col",2,"width","auto","padding-left","110px"],["align","center",1,"box-access-fast-login",3,"click"],["height","60px","width","auto",3,"src"],[1,"invalid",2,"font-size","18px","font-weight","600","width","100%","text-align","start"],[1,"invalid"],["role","status",1,"spinner-border","text-success",2,"margin-top","5px","margin-bottom","10px"]],template:function(a,g){if(1&a&&(f._UZ(0,"app-menu"),f.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h1"),f._uU(11,"\xa1Bienvenido!"),f.qZA(),f.TgZ(12,"p"),f._uU(13,"Para sacar turnos iniciar sesion con su correo y contrase\xf1a."),f.qZA()()()(),f.TgZ(14,"div",9)(15,"form",10),f.NdJ("submit",function(){return g.onLogin()}),f.TgZ(16,"h1"),f._uU(17,"Login"),f.qZA(),f.YNc(18,Er,2,0,"span",11),f.YNc(19,qr,2,0,"span",11),f._UZ(20,"input",12),f.YNc(21,It,2,0,"small",13),f.YNc(22,Ht,2,0,"small",13),f._UZ(23,"input",14),f.YNc(24,Sn,2,0,"small",13),f.YNc(25,Un,1,0,"div",15),f.TgZ(26,"button",16),f.NdJ("click",function(){return g.onLogin()}),f._uU(27," Iniciar sesion "),f.qZA()()()()(),f.TgZ(28,"div",17)(29,"div",18),f.NdJ("click",function(){return g.loginRapido(1)}),f._UZ(30,"img",19),f.TgZ(31,"p"),f._uU(32,"Administrador"),f.qZA()(),f.TgZ(33,"div",18),f.NdJ("click",function(){return g.loginRapido(2)}),f._UZ(34,"img",19),f.TgZ(35,"p"),f._uU(36,"Especialista"),f.qZA()(),f.TgZ(37,"div",18),f.NdJ("click",function(){return g.loginRapido(3)}),f._UZ(38,"img",19),f.TgZ(39,"p"),f._uU(40,"Especialista"),f.qZA()(),f.TgZ(41,"div",18),f.NdJ("click",function(){return g.loginRapido(4)}),f._UZ(42,"img",19),f.TgZ(43,"p"),f._uU(44,"Paciente"),f.qZA()(),f.TgZ(45,"div",18),f.NdJ("click",function(){return g.loginRapido(5)}),f._UZ(46,"img",19),f.TgZ(47,"p"),f._uU(48,"Paciente"),f.qZA()(),f.TgZ(49,"div",18),f.NdJ("click",function(){return g.loginRapido(6)}),f._UZ(50,"img",19),f.TgZ(51,"p"),f._uU(52,"Paciente"),f.qZA()()()()()()()),2&a){let w,O,se;f.xp6(15),f.Q6J("formGroup",g.formLogin),f.xp6(3),f.Q6J("ngIf",g.userExist&&g.noEncontroUser),f.xp6(1),f.Q6J("ngIf",g.noHabilitado),f.xp6(2),f.Q6J("ngIf",(null==(w=g.formLogin.get("mail"))||null==w.errors?null:w.errors.required)&&(null==(w=g.formLogin.get("mail"))?null:w.touched)),f.xp6(1),f.Q6J("ngIf",null==(O=g.formLogin.get("mail"))||null==O.errors?null:O.errors.email),f.xp6(2),f.Q6J("ngIf",(null==(se=g.formLogin.get("password"))||null==se.errors?null:se.errors.required)&&(null==(se=g.formLogin.get("password"))?null:se.touched)),f.xp6(1),f.Q6J("ngIf",g.spinner),f.xp6(1),f.Q6J("disabled",g.formLogin.invalid),f.xp6(4),f.Q6J("src",g.fotoAdmin_1,f.LSH),f.xp6(4),f.Q6J("src",g.fotoEsp_1,f.LSH),f.xp6(4),f.Q6J("src",g.fotoEsp_2,f.LSH),f.xp6(4),f.Q6J("src",g.fotoPac_1,f.LSH),f.xp6(4),f.Q6J("src",g.fotoPac_2,f.LSH),f.xp6(4),f.Q6J("src",g.fotoPac_3,f.LSH)}},directives:[Ye,Jt._Y,Jt.JL,Jt.sg,p.O5,Jt.Fj,Jt.JJ,Jt.u],styles:["app-menu[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:999}@media only screen and (max-width:767px){.box-access-fast-login[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#008b81;border-radius:20px;padding:1px 10px;margin-bottom:5px}}@media only screen and (min-width:767px) and (max-width: 1023px){.box-access-fast-login[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#008b81;border-radius:20px;padding:1px 10px;margin-bottom:5px}}@media only screen and (min-width:1024px){.box-access-fast-login[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#008b81;border-radius:20px;padding:1px 10px;margin-bottom:5px}}.box[_ngcontent-%COMP%]{margin-top:5em;overflow:hidden;width:100%;min-width:100vh}.body[_ngcontent-%COMP%]{width:100%;height:100%;background:url(pexels-evg-kowalievska-1170979.0aaae437c2076a5c.png) no-repeat center center fixed;background-size:cover}.body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.box-login[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:2.8px 2.8px 2.2px #00000005,6.7px 6.7px 5.3px #00000007,12.5px 12.5px 10px #00000009,22.3px 22.3px 17.9px #0000000b,41.8px 41.8px 33.4px #0000000d,100px 100px 80px #00000012;position:relative;overflow:hidden;min-width:900px;min-height:600px;max-width:100%}h1[_ngcontent-%COMP%]{text-shadow:white 1px 0 5px;font-weight:700;margin:0}p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}.btn[_ngcontent-%COMP%]{background-color:#008b81!important;margin:0 .5em;width:180px}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#000!important}form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#d3d3d3;border:none;padding:12px 15px;margin:8px 0;width:100%;border-radius:10px}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.box-login.right-panel-active[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{transform:translate(100%)}.box-login.right-panel-active[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:show .6s}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;z-index:100}.box-login.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(-100%)}.overlay[_ngcontent-%COMP%]{background:url(img-4.b305845b87ce6dce.png) no-repeat center center fixed;background-size:cover;color:#000;position:relative;left:-100%;height:100%;width:200%}.box-login.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(50%)}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%}.box-access-fast-login[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:700}.box-access-fast-login[_ngcontent-%COMP%]{color:#000;background-color:#008b81;cursor:pointer}.box-access-fast-login[_ngcontent-%COMP%]:hover{color:#fff;background-color:#153a82}.box-access-fast-login[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-access-fast-login[_ngcontent-%COMP%]:focus{outline:none}.boton[_ngcontent-%COMP%]{width:100%;border-radius:1em;border:1px solid #008B81;background-color:#008b81;color:#fff;font-size:16px;font-weight:700;padding:12px 45px;margin-top:5px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;cursor:pointer}.boton[_ngcontent-%COMP%]:enabled:hover{background-color:#153a82}.boton[_ngcontent-%COMP%]:enabled:active{transform:scale(.95)}.boton[_ngcontent-%COMP%]:focus{outline:none}.boton[_ngcontent-%COMP%]:disabled{opacity:85%}.invalid[_ngcontent-%COMP%]{color:red}"]}),u})();var Gr=j(4752);function Rt(u,c){if(1&u){const a=f.EpF();f.TgZ(0,"div",5)(1,"div",6),f.NdJ("click",function(){return f.CHM(a),f.oxw().cargarFormulario("pacientes")}),f.TgZ(2,"div",7)(3,"h1",8),f._uU(4," Pacientes "),f.qZA()()(),f.TgZ(5,"div",9),f.NdJ("click",function(){return f.CHM(a),f.oxw().cargarFormulario("especialistas")}),f.TgZ(6,"div",10)(7,"h1",8),f._uU(8," Especialistas "),f.qZA()()()()}}function Gn(u,c){if(1&u){const a=f.EpF();f.TgZ(0,"app-form-registro",11),f.NdJ("volverEvent",function(w){return f.CHM(a),f.oxw().cambioFormulario(w)}),f.qZA()}if(2&u){const a=f.oxw();f.Q6J("formulario",a.tipoFormulario)}}let dr=(()=>{class u{constructor(){this.tipoFormulario="",this.activateForm=!1}ngOnInit(){}cargarFormulario(a){this.activateForm=!0,this.tipoFormulario=a}cambioFormulario(a){this.activateForm=a}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=f.Xpm({type:u,selectors:[["app-registro"]],decls:6,vars:2,consts:[[1,"body"],[1,"container"],["class","row row-cols-1 row-cols-sm-2 row-cols-md-2",4,"ngIf"],[2,"margin-top","8%"],[3,"formulario","volverEvent",4,"ngIf"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-2"],[1,"col",3,"click"],["routerLink","/registro","align","center",1,"paciente"],[2,"padding-top","80%"],[1,"col","registro",3,"click"],["routerLink","/registro","align","center",1,"especialista"],[3,"formulario","volverEvent"]],template:function(a,g){1&a&&(f._UZ(0,"app-menu"),f.TgZ(1,"div",0)(2,"div",1),f.YNc(3,Rt,9,0,"div",2),f.TgZ(4,"div",3),f.YNc(5,Gn,1,1,"app-form-registro",4),f.qZA()()()),2&a&&(f.xp6(3),f.Q6J("ngIf",!g.activateForm),f.xp6(2),f.Q6J("ngIf",g.activateForm))},directives:[Ye,p.O5,ce.rH,Gr.u],styles:["app-menu[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.body[_ngcontent-%COMP%]{width:100%;height:100%;background:url(pexels-evg-kowalievska-1170979.0aaae437c2076a5c.png) no-repeat center center fixed;background-size:cover}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.card[_ngcontent-%COMP%]{color:#fff;text-align:center;padding-top:50%;border-radius:50px;background-color:#2f53b8;height:400px;width:350px;opacity:75%}.card[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.03)}.paciente[_ngcontent-%COMP%]{border-radius:20px;height:600px;width:500px;transform:scale(1.03);opacity:100%;color:#000;text-shadow:white 1px 0 5px;background:url(img-5.fa3dd1360bc4d428.png) no-repeat center center fixed;background-size:cover;margin-right:100px;box-shadow:.6px .7px .2px -5px #0000000a,1.4px 1.6px .4px -5px #0000000f,2.4px 2.8px .6px -5px #00000013,3.6px 4.2px 1px -5px #00000015,5.1px 6px 1.4px -5px #00000018,7.3px 8.5px 1.9px -5px #0000001b,10.3px 12.1px 2.8px -5px #0000001e,15px 17.5px 4px -5px #00000021,23.1px 27px 6.2px -5px #00000026,41px 48px 11px -5px #00000030}.especialista[_ngcontent-%COMP%]{border-radius:20px;height:600px;width:500px;transform:scale(1.03);opacity:100%;color:#000;text-shadow:white 1px 0 5px;background:url(img-2.03eac889e6dffebb.png) no-repeat center center fixed;background-size:cover;box-shadow:.6px .7px .2px -5px #0000000a,1.4px 1.6px .4px -5px #0000000f,2.4px 2.8px .6px -5px #00000013,3.6px 4.2px 1px -5px #00000015,5.1px 6px 1.4px -5px #00000018,7.3px 8.5px 1.9px -5px #0000001b,10.3px 12.1px 2.8px -5px #0000001e,15px 17.5px 4px -5px #00000021,23.1px 27px 6.2px -5px #00000026,41px 48px 11px -5px #00000030}.paciente[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);opacity:100%}.paciente[_ngcontent-%COMP%]:active{transform:scale(.95)}.paciente[_ngcontent-%COMP%]:focus{outline:none}.especialista[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);opacity:100%}.especialista[_ngcontent-%COMP%]:active{transform:scale(.95)}.especialista[_ngcontent-%COMP%]:focus{outline:none}"]}),u})();function ei(u,c){if(1&u){const a=f.EpF();f.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),f._uU(3,"Gracias por su Registro!"),f.qZA(),f.TgZ(4,"div",7)(5,"p",8),f._uU(6," Para poder ingresar al sistema tiene que confirmar su mail. "),f.qZA(),f.TgZ(7,"p"),f._uU(8," La confirmacion de mail se le envio al correo "),f.TgZ(9,"strong"),f._uU(10),f.qZA()(),f.TgZ(11,"p",9),f._uU(12," Por favor verificar su mail. revisar la seccion SPAM "),f.qZA()(),f.TgZ(13,"div",10)(14,"button",11),f.NdJ("click",function(){return f.CHM(a),f.oxw().onSendEmail()}),f._uU(15," Reenviar Email de veririfcacion "),f.qZA()()()()}if(2&u){const a=c.ngIf;f.xp6(10),f.Oqu(null==a?null:a.email)}}function yi(u,c){1&u&&f._uU(0," Cargando... ")}let si=(()=>{class u{constructor(a){this.AuthService=a,this.user$=this.AuthService.afAuth.user}ngOnInit(){}onSendEmail(){this.AuthService.sendVerificationEmail()}}return u.\u0275fac=function(a){return new(a||u)(f.Y36(on.e))},u.\u0275cmp=f.Xpm({type:u,selectors:[["app-send-email"]],features:[f._Bn([on.e])],decls:7,vars:4,consts:[[1,"body"],[1,"container"],["class","card mt-5",4,"ngIf","ngIfElse"],["loading",""],[1,"card","mt-5"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-group"],[1,"text-center","mt-2"],[1,"text-center"],[1,"form-group","text-center","mt-5"],[1,"btn","btn-primary",3,"click"]],template:function(a,g){if(1&a&&(f._UZ(0,"app-menu"),f.TgZ(1,"div",0)(2,"div",1),f.YNc(3,ei,16,1,"div",2),f.ALo(4,"async"),f.YNc(5,yi,1,0,"ng-template",null,3,f.W1O),f.qZA()()),2&a){const w=f.MAs(6);f.xp6(3),f.Q6J("ngIf",f.lcZ(4,2,g.user$))("ngIfElse",w)}},directives:[Ye,p.O5],pipes:[p.Ov],styles:["app-menu[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.body[_ngcontent-%COMP%]{width:100%;height:100%;background:url(pexels-evg-kowalievska-1170979.0aaae437c2076a5c.png) no-repeat center center fixed;background-size:cover}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}"]}),u})(),Gi=(()=>{class u{constructor(a,g){this.AuthService=a,this.Router=g}canActivate(a,g){return null!=this.AuthService.user.mail||(this.Router.navigateByUrl("/bienvenida"),!1)}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(on.e),f.LFG(ce.F0))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const jn=[{path:"",component:Ot},{path:"bienvenida",component:Ot},{path:"login",component:xr},{path:"registro",component:dr},{path:"verificacion-email",component:si,canActivate:[Gi]},{path:"menu-administrador",loadChildren:()=>j.e(715).then(j.bind(j,3715)).then(u=>u.LogueoUsuariosModule),canActivate:[Gi]},{path:"**",component:Ot}];let Ri=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[ce.Bz.forRoot(jn)],ce.Bz]}),u})(),pr=(()=>{class u{constructor(){this.title="TP_Final_Clinica"}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=f.Xpm({type:u,selectors:[["app-root"]],decls:1,vars:0,template:function(a,g){1&a&&f._UZ(0,"router-outlet")},directives:[ce.lC],styles:[""]}),u})();var Vn=j(3692);const Ei_firebase={projectId:"tp-clinicaonline-ef480",appId:"1:976756815708:web:086e98a41e3d7a16603399",storageBucket:"tp-clinicaonline-ef480.appspot.com",apiKey:"AIzaSyCnHVN9OKXnJYfJt20DgzixURvSzL8ZvlI",authDomain:"tp-clinicaonline-ef480.firebaseapp.com",messagingSenderId:"976756815708"};var Xi=j(7667),ui=j(6027),Jn=j(5813),Yr=j(5867),xi=j(7128),je=j(8210);class Oe{constructor(c){return c}}const We="storage",Xt=new f.OlP("angularfire2.storage-instances");function jr(u){return(c,a)=>{const g=c.runOutsideAngular(()=>u(a));return new Oe(g)}}const yr={provide:class Dt{constructor(){return(0,Jn.vb)(We)}},deps:[[new f.FiY,Xt]]},vi={provide:Oe,useFactory:function zn(u,c){const a=(0,Jn.JM)(We,u,c);return a&&new Oe(a)},deps:[[new f.FiY,Xt],Vn.Ot]};let bi=(()=>{class u{constructor(){(0,Yr.KN)("angularfire",Jn.q4.full,"gcs")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({providers:[vi,yr]}),u})();function Ns(u,...c){return{ngModule:bi,providers:[{provide:Xt,useFactory:jr(u),multi:!0,deps:[f.R0b,f.zs3,Jn.HU,Vn.z6,[new f.FiY,Xi.dh],[new f.FiY,xi.nm],...c]}]}}const Uo=(0,Jn.u3)(je.cF,!0);var Os=j(2011),mi=j(4986),Pi=j(8306),Kr=j(8996),Ni=j(9646),Jr=j(8675),vr=j(4482),wi=j(5403);function ns(){return(0,vr.e)((u,c)=>{let a,g=!1;u.subscribe((0,wi.x)(c,w=>{const O=a;a=w,g&&c.next([O,w]),g=!0}))})}var oi=j(4004),Gs=j(5026),Wi=j(4671);function rs(u,c){return u===c}var Di=j(9300),hi=(j(5881),j(3942)),G=j(5525),K=j(2090),_e=j(4859);function yt(u,c){if(void 0===c)return{merge:!1};if(void 0!==c.mergeFields&&void 0!==c.merge)throw new G.WA("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return c}function Wt(){if("undefined"==typeof Uint8Array)throw new G.WA("unimplemented","Uint8Arrays are not available in this environment.")}function pn(){if(!(0,G.Me)())throw new G.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class fn{constructor(c){this._delegate=c}static fromBase64String(c){return pn(),new fn(G.Jj.fromBase64String(c))}static fromUint8Array(c){return Wt(),new fn(G.Jj.fromUint8Array(c))}toBase64(){return pn(),this._delegate.toBase64()}toUint8Array(){return Wt(),this._delegate.toUint8Array()}isEqual(c){return this._delegate.isEqual(c._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mn(u){return function F(u,c){if("object"!=typeof u||null===u)return!1;const a=u;for(const g of c)if(g in a&&"function"==typeof a[g])return!0;return!1}(u,["next","error","complete"])}class Q{enableIndexedDbPersistence(c,a){return(0,G.ST)(c._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(c){return(0,G.fH)(c._delegate)}clearIndexedDbPersistence(c){return(0,G.Fc)(c._delegate)}}class V{constructor(c,a,g){this._delegate=a,this._persistenceProvider=g,this.INTERNAL={delete:()=>this.terminate()},c instanceof G.l7||(this._appCompat=c)}get _databaseId(){return this._delegate._databaseId}settings(c){const a=this._delegate._getSettings();!c.merge&&a.host!==c.host&&(0,G.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),c.merge&&delete(c=Object.assign(Object.assign({},a),c)).merge,this._delegate._setSettings(c)}useEmulator(c,a,g={}){(0,G.at)(this._delegate,c,a,g)}enableNetwork(){return(0,G.Ix)(this._delegate)}disableNetwork(){return(0,G.TF)(this._delegate)}enablePersistence(c){let a=!1,g=!1;return c&&(a=!!c.synchronizeTabs,g=!!c.experimentalForceOwningTab,(0,G.Wi)("synchronizeTabs",a,"experimentalForceOwningTab",g)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,g)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,G.Mx)(this._delegate)}onSnapshotsInSync(c){return(0,G.sc)(this._delegate,c)}get app(){if(!this._appCompat)throw new G.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(c){try{return new ln(this,(0,G.hJ)(this._delegate,c))}catch(a){throw En(a,"collection()","Firestore.collection()")}}doc(c){try{return new bn(this,(0,G.JU)(this._delegate,c))}catch(a){throw En(a,"doc()","Firestore.doc()")}}collectionGroup(c){try{return new Qn(this,(0,G.B$)(this._delegate,c))}catch(a){throw En(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(c){return(0,G.i3)(this._delegate,a=>c(new lt(this,a)))}batch(){return(0,G.qY)(this._delegate),new gt(new G.PU(this._delegate,c=>(0,G.GL)(this._delegate,c)))}loadBundle(c){return(0,G.Pb)(this._delegate,c)}namedQuery(c){return(0,G.L$)(this._delegate,c).then(a=>a?new Qn(this,a):null)}}class ne extends G.u7{constructor(c){super(),this.firestore=c}convertBytes(c){return new fn(new G.Jj(c))}convertReference(c){const a=this.convertDocumentKey(c,this.firestore._databaseId);return bn.forKey(a,this.firestore,null)}}class lt{constructor(c,a){this._firestore=c,this._delegate=a,this._userDataWriter=new ne(c)}get(c){const a=Ii(c);return this._delegate.get(a).then(g=>new cr(this._firestore,new G.xU(this._firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,a.converter)))}set(c,a,g){const w=Ii(c);return g?(yt("Transaction.set",g),this._delegate.set(w,a,g)):this._delegate.set(w,a),this}update(c,a,g,...w){const O=Ii(c);return 2===arguments.length?this._delegate.update(O,a):this._delegate.update(O,a,g,...w),this}delete(c){const a=Ii(c);return this._delegate.delete(a),this}}class gt{constructor(c){this._delegate=c}set(c,a,g){const w=Ii(c);return g?(yt("WriteBatch.set",g),this._delegate.set(w,a,g)):this._delegate.set(w,a),this}update(c,a,g,...w){const O=Ii(c);return 2===arguments.length?this._delegate.update(O,a):this._delegate.update(O,a,g,...w),this}delete(c){const a=Ii(c);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class an{constructor(c,a,g){this._firestore=c,this._userDataWriter=a,this._delegate=g}fromFirestore(c,a){const g=new G.$q(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,null);return this._delegate.fromFirestore(new Pr(this._firestore,g),null!=a?a:{})}toFirestore(c,a){return a?this._delegate.toFirestore(c,a):this._delegate.toFirestore(c)}static getInstance(c,a){const g=an.INSTANCES;let w=g.get(c);w||(w=new WeakMap,g.set(c,w));let O=w.get(a);return O||(O=new an(c,new ne(c),a),w.set(a,O)),O}}an.INSTANCES=new WeakMap;class bn{constructor(c,a){this.firestore=c,this._delegate=a,this._userDataWriter=new ne(c)}static forPath(c,a,g){if(c.length%2!=0)throw new G.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${c.canonicalString()} has ${c.length}`);return new bn(a,new G.my(a._delegate,g,new G.Ky(c)))}static forKey(c,a,g){return new bn(a,new G.my(a._delegate,g,c))}get id(){return this._delegate.id}get parent(){return new ln(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(c){try{return new ln(this.firestore,(0,G.hJ)(this._delegate,c))}catch(a){throw En(a,"collection()","DocumentReference.collection()")}}isEqual(c){return(c=(0,K.m9)(c))instanceof G.my&&(0,G.Eo)(this._delegate,c)}set(c,a){a=yt("DocumentReference.set",a);try{return a?(0,G.pl)(this._delegate,c,a):(0,G.pl)(this._delegate,c)}catch(g){throw En(g,"setDoc()","DocumentReference.set()")}}update(c,a,...g){try{return 1===arguments.length?(0,G.r7)(this._delegate,c):(0,G.r7)(this._delegate,c,a,...g)}catch(w){throw En(w,"updateDoc()","DocumentReference.update()")}}delete(){return(0,G.oe)(this._delegate)}onSnapshot(...c){const a=In(c),g=sr(c,w=>new cr(this.firestore,new G.xU(this.firestore._delegate,this._userDataWriter,w._key,w._document,w.metadata,this._delegate.converter)));return(0,G.cf)(this._delegate,a,g)}get(c){let a;return a="cache"===(null==c?void 0:c.source)?(0,G.kl)(this._delegate):"server"===(null==c?void 0:c.source)?(0,G.Xk)(this._delegate):(0,G.QT)(this._delegate),a.then(g=>new cr(this.firestore,new G.xU(this.firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,this._delegate.converter)))}withConverter(c){return new bn(this.firestore,this._delegate.withConverter(c?an.getInstance(this.firestore,c):null))}}function En(u,c,a){return u.message=u.message.replace(c,a),u}function In(u){for(const c of u)if("object"==typeof c&&!mn(c))return c;return{}}function sr(u,c){var a,g;let w;return w=mn(u[0])?u[0]:mn(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:O=>{w.next&&w.next(c(O))},error:null===(a=w.error)||void 0===a?void 0:a.bind(w),complete:null===(g=w.complete)||void 0===g?void 0:g.bind(w)}}class cr{constructor(c,a){this._firestore=c,this._delegate=a}get ref(){return new bn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(c){return this._delegate.data(c)}get(c,a){return this._delegate.get(c,a)}isEqual(c){return(0,G.qK)(this._delegate,c._delegate)}}class Pr extends cr{data(c){const a=this._delegate.data(c);return(0,G.K9)(void 0!==a,"Document in a QueryDocumentSnapshot should exist"),a}}class Qn{constructor(c,a){this.firestore=c,this._delegate=a,this._userDataWriter=new ne(c)}where(c,a,g){try{return new Qn(this.firestore,(0,G.IO)(this._delegate,(0,G.ar)(c,a,g)))}catch(w){throw En(w,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(c,a){try{return new Qn(this.firestore,(0,G.IO)(this._delegate,(0,G.Xo)(c,a)))}catch(g){throw En(g,/(orderBy|where)\(\)/,"Query.$1()")}}limit(c){try{return new Qn(this.firestore,(0,G.IO)(this._delegate,(0,G.b9)(c)))}catch(a){throw En(a,"limit()","Query.limit()")}}limitToLast(c){try{return new Qn(this.firestore,(0,G.IO)(this._delegate,(0,G.vh)(c)))}catch(a){throw En(a,"limitToLast()","Query.limitToLast()")}}startAt(...c){try{return new Qn(this.firestore,(0,G.IO)(this._delegate,(0,G.e0)(...c)))}catch(a){throw En(a,"startAt()","Query.startAt()")}}startAfter(...c){try{return new Qn(this.firestore,(0,G.IO)(this._delegate,(0,G.TQ)(...c)))}catch(a){throw En(a,"startAfter()","Query.startAfter()")}}endBefore(...c){try{return new Qn(this.firestore,(0,G.IO)(this._delegate,(0,G.Lx)(...c)))}catch(a){throw En(a,"endBefore()","Query.endBefore()")}}endAt(...c){try{return new Qn(this.firestore,(0,G.IO)(this._delegate,(0,G.Wu)(...c)))}catch(a){throw En(a,"endAt()","Query.endAt()")}}isEqual(c){return(0,G.iE)(this._delegate,c._delegate)}get(c){let a;return a="cache"===(null==c?void 0:c.source)?(0,G.UQ)(this._delegate):"server"===(null==c?void 0:c.source)?(0,G.zN)(this._delegate):(0,G.PL)(this._delegate),a.then(g=>new zi(this.firestore,new G.W(this.firestore._delegate,this._userDataWriter,this._delegate,g._snapshot)))}onSnapshot(...c){const a=In(c),g=sr(c,w=>new zi(this.firestore,new G.W(this.firestore._delegate,this._userDataWriter,this._delegate,w._snapshot)));return(0,G.cf)(this._delegate,a,g)}withConverter(c){return new Qn(this.firestore,this._delegate.withConverter(c?an.getInstance(this.firestore,c):null))}}class Ui{constructor(c,a){this._firestore=c,this._delegate=a}get type(){return this._delegate.type}get doc(){return new Pr(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zi{constructor(c,a){this._firestore=c,this._delegate=a}get query(){return new Qn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(c=>new Pr(this._firestore,c))}docChanges(c){return this._delegate.docChanges(c).map(a=>new Ui(this._firestore,a))}forEach(c,a){this._delegate.forEach(g=>{c.call(a,new Pr(this._firestore,g))})}isEqual(c){return(0,G.qK)(this._delegate,c._delegate)}}class ln extends Qn{constructor(c,a){super(c,a),this.firestore=c,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const c=this._delegate.parent;return c?new bn(this.firestore,c):null}doc(c){try{return new bn(this.firestore,void 0===c?(0,G.JU)(this._delegate):(0,G.JU)(this._delegate,c))}catch(a){throw En(a,"doc()","CollectionReference.doc()")}}add(c){return(0,G.ET)(this._delegate,c).then(a=>new bn(this.firestore,a))}isEqual(c){return(0,G.Eo)(this._delegate,c._delegate)}withConverter(c){return new ln(this.firestore,this._delegate.withConverter(c?an.getInstance(this.firestore,c):null))}}function Ii(u){return(0,G.Cf)(u,G.my)}class fo{constructor(...c){this._delegate=new G.Lz(...c)}static documentId(){return new fo(G.Xb.keyField().canonicalString())}isEqual(c){return(c=(0,K.m9)(c))instanceof G.Lz&&this._delegate._internalPath.isEqual(c._internalPath)}}class Ws{constructor(c){this._delegate=c}static serverTimestamp(){const c=(0,G.Bt)();return c._methodName="FieldValue.serverTimestamp",new Ws(c)}static delete(){const c=(0,G.AK)();return c._methodName="FieldValue.delete",new Ws(c)}static arrayUnion(...c){const a=(0,G.vr)(...c);return a._methodName="FieldValue.arrayUnion",new Ws(a)}static arrayRemove(...c){const a=(0,G.Ab)(...c);return a._methodName="FieldValue.arrayRemove",new Ws(a)}static increment(c){const a=(0,G.nP)(c);return a._methodName="FieldValue.increment",new Ws(a)}isEqual(c){return this._delegate.isEqual(c._delegate)}}const Zs={Firestore:V,GeoPoint:G.F8,Timestamp:G.EK,Blob:fn,Transaction:lt,WriteBatch:gt,DocumentReference:bn,DocumentSnapshot:cr,Query:Qn,QueryDocumentSnapshot:Pr,QuerySnapshot:zi,CollectionReference:ln,FieldPath:fo,FieldValue:Ws,setLogLevel:function De(u){(0,G.Ub)(u)},CACHE_SIZE_UNLIMITED:G.IX};!function L(u){(function H(u,c){u.INTERNAL.registerComponent(new _e.wA("firestore-compat",a=>{const g=a.getProvider("app-compat").getImmediate(),w=a.getProvider("firestore").getImmediate();return c(g,w)},"PUBLIC").setServiceProps(Object.assign({},Zs)))})(u,(c,a)=>new V(c,a,new Q)),u.registerVersion("@firebase/firestore-compat","0.2.1")}(hi.Z);var P=j(1205),re=j(127);function At(u,c){return function we(u,c=mi.z){return new Pi.y(a=>{let g;return null!=c?c.schedule(()=>{g=u.onSnapshot({includeMetadataChanges:!0},a)}):g=u.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=g&&g()}})}(u,c)}function hr(u,c){return At(u,c).pipe((0,oi.U)(a=>({payload:a,type:"query"})))}function Es(u,c){return hr(u,c).pipe((0,Jr.O)(void 0),ns(),(0,oi.U)(([a,g])=>{const w=g.payload.docChanges(),O=w.map(se=>({type:se.type,payload:se}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(g.payload.metadata)&&g.payload.docs.forEach((se,Ce)=>{const Ee=w.find(mt=>mt.doc.ref.isEqual(se.ref)),rt=null==a?void 0:a.payload.docs.find(mt=>mt.ref.isEqual(se.ref));Ee&&JSON.stringify(Ee.doc.metadata)===JSON.stringify(se.metadata)||!Ee&&rt&&JSON.stringify(rt.metadata)===JSON.stringify(se.metadata)||O.push({type:"modified",payload:{oldIndex:Ce,newIndex:Ce,type:"modified",doc:se}})}),O}))}function ji(u,c,a){return Es(u,a).pipe((0,Gs.R)((g,w)=>function us(u,c,a){return c.forEach(g=>{a.indexOf(g.type)>-1&&(u=function po(u,c){switch(c.type){case"added":if(!u[c.newIndex]||!u[c.newIndex].doc.ref.isEqual(c.doc.ref))return so(u,c.newIndex,0,c);break;case"modified":if(null==u[c.oldIndex]||u[c.oldIndex].doc.ref.isEqual(c.doc.ref)){if(c.oldIndex!==c.newIndex){const a=u.slice();return a.splice(c.oldIndex,1),a.splice(c.newIndex,0,c),a}return so(u,c.newIndex,1,c)}break;case"removed":if(u[c.oldIndex]&&u[c.oldIndex].doc.ref.isEqual(c.doc.ref))return so(u,c.oldIndex,1)}return u}(u,g))}),u}(g,w.map(O=>O.payload),c),[]),function Rs(u,c=Wi.y){return u=null!=u?u:rs,(0,vr.e)((a,g)=>{let w,O=!0;a.subscribe((0,wi.x)(g,se=>{const Ce=c(se);(O||!u(w,Ce))&&(O=!1,w=Ce,g.next(se))}))})}(),(0,oi.U)(g=>g.map(w=>({type:w.type,payload:w}))))}function so(u,c,a,...g){const w=u.slice();return w.splice(c,a,...g),w}function ml(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class go{constructor(c,a,g){this.ref=c,this.query=a,this.afs=g}stateChanges(c){let a=Es(this.query,this.afs.schedulers.outsideAngular);return c&&c.length>0&&(a=a.pipe((0,oi.U)(g=>g.filter(w=>c.indexOf(w.type)>-1)))),a.pipe((0,Jr.O)(void 0),ns(),(0,Di.h)(([g,w])=>w.length>0||!g),(0,oi.U)(([g,w])=>w),Jn.iC)}auditTrail(c){return this.stateChanges(c).pipe((0,Gs.R)((a,g)=>[...a,...g],[]))}snapshotChanges(c){const a=ml(c);return ji(this.query,a,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(c={}){return hr(this.query,this.afs.schedulers.outsideAngular).pipe((0,oi.U)(a=>a.payload.docs.map(g=>c.idField?Object.assign(Object.assign({},g.data()),{[c.idField]:g.id}):g.data())),Jn.iC)}get(c){return(0,Kr.D)(this.query.get(c)).pipe(Jn.iC)}add(c){return this.ref.add(c)}doc(c){return new ol(this.ref.doc(c),this.afs)}}class ol{constructor(c,a){this.ref=c,this.afs=a}set(c,a){return this.ref.set(c,a)}update(c){return this.ref.update(c)}delete(){return this.ref.delete()}collection(c,a){const g=this.ref.collection(c),{ref:w,query:O}=Ps(g,a);return new go(w,O,this.afs)}snapshotChanges(){return function ti(u,c){return At(u,c).pipe((0,Jr.O)(void 0),ns(),(0,oi.U)(([a,g])=>g.exists?(null==a?void 0:a.exists)?{payload:g,type:"modified"}:{payload:g,type:"added"}:{payload:g,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(c={}){return this.snapshotChanges().pipe((0,oi.U)(({payload:a})=>c.idField?Object.assign(Object.assign({},a.data()),{[c.idField]:a.id}):a.data()))}get(c){return(0,Kr.D)(this.ref.get(c)).pipe(Jn.iC)}}class ta{constructor(c,a){this.query=c,this.afs=a}stateChanges(c){return c&&0!==c.length?Es(this.query,this.afs.schedulers.outsideAngular).pipe((0,oi.U)(a=>a.filter(g=>c.indexOf(g.type)>-1)),(0,Di.h)(a=>a.length>0),Jn.iC):Es(this.query,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}auditTrail(c){return this.stateChanges(c).pipe((0,Gs.R)((a,g)=>[...a,...g],[]))}snapshotChanges(c){const a=ml(c);return ji(this.query,a,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(c={}){return hr(this.query,this.afs.schedulers.outsideAngular).pipe((0,oi.U)(g=>g.payload.docs.map(w=>c.idField?Object.assign({[c.idField]:w.id},w.data()):w.data())),Jn.iC)}get(c){return(0,Kr.D)(this.query.get(c)).pipe(Jn.iC)}}const ki=new f.OlP("angularfire2.enableFirestorePersistence"),Ys=new f.OlP("angularfire2.firestore.persistenceSettings"),Ho=new f.OlP("angularfire2.firestore.settings"),So=new f.OlP("angularfire2.firestore.use-emulator");function Ps(u,c=(a=>a)){return{query:c(u),ref:u}}let al=(()=>{class u{constructor(a,g,w,O,se,Ce,Ee,rt,mt,Dn,un,wn,Br,or,Vr,ai,$r){this.schedulers=Ee;const Ci=(0,Os.on)(a,Ce,g),Xr=mt;Dn&&(0,P.nw)(Ci,Ce,un,Br,or,Vr,wn,ai),[this.firestore,this.persistenceEnabled$]=(0,Os.cc)(`${Ci.name}.firestore`,"AngularFirestore",Ci.name,()=>{const Zr=Ce.runOutsideAngular(()=>Ci.firestore());if(O&&Zr.settings(O),Xr&&Zr.useEmulator(...Xr),w&&!(0,p.PM)(se)){const ii=()=>{try{return(0,Kr.D)(Zr.enablePersistence(rt||void 0).then(()=>!0,()=>!1))}catch(Hi){return"undefined"!=typeof console&&console.warn(Hi),(0,Ni.of)(!1)}};return[Zr,Ce.runOutsideAngular(ii)]}return[Zr,(0,Ni.of)(!1)]},[O,Xr,w])}collection(a,g){let w;w="string"==typeof a?this.firestore.collection(a):a;const{ref:O,query:se}=Ps(w,g),Ce=this.schedulers.ngZone.run(()=>O);return new go(Ce,se,this)}collectionGroup(a,g){const w=g||(se=>se),O=this.firestore.collectionGroup(a);return new ta(w(O),this)}doc(a){let g;g="string"==typeof a?this.firestore.doc(a):a;const w=this.schedulers.ngZone.run(()=>g);return new ol(w,this)}createId(){return this.firestore.collection("_").doc().id}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(Os.Dh),f.LFG(Os.xv,8),f.LFG(ki,8),f.LFG(Ho,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Jn.HU),f.LFG(Ys,8),f.LFG(So,8),f.LFG(P.zQ,8),f.LFG(P.Qv,8),f.LFG(P.L6,8),f.LFG(P._Q,8),f.LFG(P.rT,8),f.LFG(P.lh,8),f.LFG(P.f7,8),f.LFG(xi.nm,8))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),mo=(()=>{class u{constructor(){re.Z.registerVersion("angularfire",Jn.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:u,providers:[{provide:ki,useValue:!0},{provide:Ys,useValue:a}]}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({providers:[al]}),u})();var oo=j(3900),ni=j(6961);class ao{constructor(c,a,g){this._delegate=c,this.task=a,this.ref=g}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ka{constructor(c,a){this._delegate=c,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ao(this._delegate.snapshot,this,this._ref)}then(c,a){return this._delegate.then(g=>{if(c)return c(new ao(g,this,this._ref))},a)}on(c,a,g,w){let O;return a&&(O="function"==typeof a?se=>a(new ao(se,this,this._ref)):{next:a.next?se=>a.next(new ao(se,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(c,O,g||void 0,w||void 0)}}class ga{constructor(c,a){this._delegate=c,this._service=a}get prefixes(){return this._delegate.prefixes.map(c=>new Is(c,this._service))}get items(){return this._delegate.items.map(c=>new Is(c,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Is{constructor(c,a){this._delegate=c,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(c){const a=(0,ni.g6)(this._delegate,c);return new Is(a,this.storage)}get root(){return new Is(this._delegate.root,this.storage)}get parent(){const c=this._delegate.parent;return null==c?null:new Is(c,this.storage)}put(c,a){return this._throwIfRoot("put"),new Ka((0,ni.B0)(this._delegate,c,a),this)}putString(c,a=ni.bm.RAW,g){this._throwIfRoot("putString");const w=(0,ni.qm)(a,c),O=Object.assign({},g);return null==O.contentType&&null!=w.contentType&&(O.contentType=w.contentType),new Ka(new ni.IX(this._delegate,new ni.UJ(w.data,!0),O),this)}listAll(){return(0,ni.aF)(this._delegate).then(c=>new ga(c,this.storage))}list(c){return(0,ni.pb)(this._delegate,c||void 0).then(a=>new ga(a,this.storage))}getMetadata(){return(0,ni.sd)(this._delegate)}updateMetadata(c){return(0,ni.Ym)(this._delegate,c)}getDownloadURL(){return(0,ni.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,ni.oq)(this._delegate)}_throwIfRoot(c){if(""===this._delegate._location.path)throw(0,ni.y4)(c)}}class Ao{constructor(c,a){this.app=c,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(c){if(qi(c))throw(0,ni.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new Is((0,ni.iH)(this._delegate,c),this)}refFromURL(c){if(!qi(c))throw(0,ni.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ni.gE.makeFromUrl(c,this._delegate.host)}catch(a){throw(0,ni.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Is((0,ni.iH)(this._delegate,c),this)}setMaxUploadRetryTime(c){this._delegate.maxUploadRetryTime=c}setMaxOperationRetryTime(c){this._delegate.maxOperationRetryTime=c}useEmulator(c,a,g={}){(0,ni.a1)(this._delegate,c,a,g)}}function qi(u){return/^[A-Za-z]+:\/\//.test(u)}function La(u,{instanceIdentifier:c}){const a=u.getProvider("app-compat").getImmediate(),g=u.getProvider("storage").getImmediate({identifier:c});return new Ao(a,g)}function Ya(u){const c=function ll(u){return new Pi.y(c=>{const a=se=>c.next(se);a(u.snapshot);const O=u.on("state_changed",a);return u.then(se=>{a(se),c.complete()},se=>{a(u.snapshot),(se=>{c.error(se)})(se)}),function(){O()}}).pipe(function Fa(u,c=mi.z){return(0,vr.e)((a,g)=>{let w=null,O=null,se=null;const Ce=()=>{if(w){w.unsubscribe(),w=null;const rt=O;O=null,g.next(rt)}};function Ee(){const rt=se+u,mt=c.now();if(mt<rt)return w=this.schedule(void 0,rt-mt),void g.add(w);Ce()}a.subscribe((0,wi.x)(g,rt=>{O=rt,se=c.now(),w||(w=c.schedule(Ee,u),g.add(w))},()=>{Ce(),g.complete()},void 0,()=>{O=w=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>c,percentageChanges:()=>c.pipe((0,oi.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function _s(u){return{getDownloadURL:()=>(0,Ni.of)(void 0).pipe(Jn.fc,(0,oo.w)(()=>u.getDownloadURL()),Jn.iC),getMetadata:()=>(0,Ni.of)(void 0).pipe(Jn.fc,(0,oo.w)(()=>u.getMetadata()),Jn.iC),delete:()=>(0,Kr.D)(u.delete()),child:c=>_s(u.child(c)),updateMetadata:c=>(0,Kr.D)(u.updateMetadata(c)),put:(c,a)=>Ya(u.put(c,a)),putString:(c,a,g)=>Ya(u.putString(c,a,g)),list:c=>(0,Kr.D)(u.list(c)),listAll:()=>(0,Kr.D)(u.listAll())}}!function na(u){const c={TaskState:ni.$Y,TaskEvent:ni.FN,StringFormat:ni.bm,Storage:Ao,Reference:Is};u.INTERNAL.registerComponent(new _e.wA("storage-compat",La,"PUBLIC").setServiceProps(c).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.1.20")}(hi.Z);const Wo=new f.OlP("angularfire2.storageBucket"),Fi=new f.OlP("angularfire2.storage.maxUploadRetryTime"),ma=new f.OlP("angularfire2.storage.maxOperationRetryTime"),wu=new f.OlP("angularfire2.storage.use-emulator");let Ki=(()=>{class u{constructor(a,g,w,O,se,Ce,Ee,rt,mt,Dn){const un=(0,Os.on)(a,se,g);this.storage=(0,Os.cc)(`${un.name}.storage.${w}`,"AngularFireStorage",un.name,()=>{const wn=se.runOutsideAngular(()=>un.storage(w||void 0)),Br=mt;return Br&&wn.useEmulator(...Br),Ee&&wn.setMaxUploadRetryTime(Ee),rt&&wn.setMaxOperationRetryTime(rt),wn},[Ee,rt])}ref(a){return _s(this.storage.ref(a))}refFromURL(a){return _s(this.storage.refFromURL(a))}upload(a,g,w){return _s(this.storage.ref(a)).put(g,w)}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(Os.Dh),f.LFG(Os.xv,8),f.LFG(Wo,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Jn.HU),f.LFG(Fi,8),f.LFG(ma,8),f.LFG(wu,8),f.LFG(xi.nm,8))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),_a=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({}),u})(),Us=(()=>{class u{constructor(){re.Z.registerVersion("angularfire",Jn.q4.full,"gcs-compat")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({providers:[Ki],imports:[_a]}),u})();var Ts=j(515),Mi=j(7579),Vt=j(8421),br=j(5577),_o=j(1144),xo=j(576),_n=j(3268);const Nn=["addListener","removeListener"],yo=["addEventListener","removeEventListener"],dn=["on","off"];function Qe(u,c,a,g){if((0,xo.m)(a)&&(g=a,a=void 0),g)return Qe(u,c,a).pipe((0,_n.Z)(g));const[w,O]=function Du(u){return(0,xo.m)(u.addEventListener)&&(0,xo.m)(u.removeEventListener)}(u)?yo.map(se=>Ce=>u[se](c,Ce,a)):function is(u){return(0,xo.m)(u.addListener)&&(0,xo.m)(u.removeListener)}(u)?Nn.map(Ut(u,c)):function _l(u){return(0,xo.m)(u.on)&&(0,xo.m)(u.off)}(u)?dn.map(Ut(u,c)):[];if(!w&&(0,_o.z)(u))return(0,br.z)(se=>Qe(se,c,a))((0,Vt.Xf)(u));if(!w)throw new TypeError("Invalid event target");return new Pi.y(se=>{const Ce=(...Ee)=>se.next(1<Ee.length?Ee:Ee[0]);return w(Ce),()=>O(Ce)})}function Ut(u,c){return a=>g=>u[a](c,g)}var zs=j(3532);const{isArray:M}=Array;function J(u){return 1===u.length&&M(u[0])?u[0]:u}j(1135),j(9841);var Mn=j(5032);new Pi.y(Mn.Z);var Si=j(3269);function S(...u){const c=(0,Si.jO)(u),a=J(u);return a.length?new Pi.y(g=>{let w=a.map(()=>[]),O=a.map(()=>!1);g.add(()=>{w=O=null});for(let se=0;!g.closed&&se<a.length;se++)(0,Vt.Xf)(a[se]).subscribe((0,wi.x)(g,Ce=>{if(w[se].push(Ce),w.every(Ee=>Ee.length)){const Ee=w.map(rt=>rt.shift());g.next(c?c(...Ee):Ee),w.some((rt,mt)=>!rt.length&&O[mt])&&g.complete()}},()=>{O[se]=!0,!w[se].length&&g.complete()}));return()=>{w=O=null}}):Ts.E}var I=j(7272);function B(u){return(0,vr.e)((c,a)=>{(0,Vt.Xf)(u).subscribe((0,wi.x)(a,()=>a.complete(),Mn.Z)),!a.closed&&c.subscribe(a)})}var $=j(5698),q=j(8505);function ge(...u){const c=(0,Si.jO)(u);return(0,vr.e)((a,g)=>{const w=u.length,O=new Array(w);let se=u.map(()=>!1),Ce=!1;for(let Ee=0;Ee<w;Ee++)(0,Vt.Xf)(u[Ee]).subscribe((0,wi.x)(g,rt=>{O[Ee]=rt,!Ce&&!se[Ee]&&(se[Ee]=!0,(Ce=se.every(Wi.y))&&(se=null))},Mn.Z));a.subscribe((0,wi.x)(g,Ee=>{if(Ce){const rt=[Ee,...O];g.next(c?c(...rt):rt)}}))})}Math,Math,Math;const jd=["*"],qc=["dialog"];function qd(u){return"string"==typeof u}function Gl(u){return null!=u}function dc(u){return(u||document.body).getBoundingClientRect()}const Zd={animation:!0,transitionTimerDelayMs:5},Co=()=>{},{transitionTimerDelayMs:Yh}=Zd,Au=new Map,Eo=(u,c,a,g)=>{let w=g.context||{};const O=Au.get(c);if(O)switch(g.runningTransition){case"continue":return Ts.E;case"stop":u.run(()=>O.transition$.complete()),w=Object.assign(O.context,w),Au.delete(c)}const se=a(c,g.animation,w)||Co;if(!g.animation||"none"===window.getComputedStyle(c).transitionProperty)return u.run(()=>se()),(0,Ni.of)(void 0).pipe(function Kd(u){return c=>new Pi.y(a=>c.subscribe({next:se=>u.run(()=>a.next(se)),error:se=>u.run(()=>a.error(se)),complete:()=>u.run(()=>a.complete())}))}(u));const Ce=new Mi.x,Ee=new Mi.x,rt=Ce.pipe(function C(...u){return c=>(0,I.z)(c,(0,Ni.of)(...u))}(!0));Au.set(c,{transition$:Ce,complete:()=>{Ee.next(),Ee.complete()},context:w});const mt=function Bg(u){const{transitionDelay:c,transitionDuration:a}=window.getComputedStyle(u);return 1e3*(parseFloat(c)+parseFloat(a))}(c);return u.runOutsideAngular(()=>{const Dn=Qe(c,"transitionend").pipe(B(rt),(0,Di.h)(({target:wn})=>wn===c));(function be(...u){return 1===(u=J(u)).length?(0,Vt.Xf)(u[0]):new Pi.y(function Ct(u){return c=>{let a=[];for(let g=0;a&&!c.closed&&g<u.length;g++)a.push((0,Vt.Xf)(u[g]).subscribe((0,wi.x)(c,w=>{if(a){for(let O=0;O<a.length;O++)O!==g&&a[O].unsubscribe();a=null}c.next(w)})))}}(u))})(function N(u=0,c,a=mi.P){let g=-1;return null!=c&&((0,zs.K)(c)?a=c:g=c),new Pi.y(w=>{let O=function ya(u){return u instanceof Date&&!isNaN(u)}(u)?+u-a.now():u;O<0&&(O=0);let se=0;return a.schedule(function(){w.closed||(w.next(se++),0<=g?this.schedule(void 0,g):w.complete())},O)})}(mt+Yh).pipe(B(rt)),Dn,Ee).pipe(B(rt)).subscribe(()=>{Au.delete(c),u.run(()=>{se(),Ce.next(),Ce.complete()})})}),Ce.asObservable()};let nd=(()=>{class u{constructor(){this.animation=Zd.animation}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),ef=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),Wl=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),hc=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({}),u})(),$a=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),lf=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({}),u})();var gi=(()=>{return(u=gi||(gi={}))[u.Tab=9]="Tab",u[u.Enter=13]="Enter",u[u.Escape=27]="Escape",u[u.Space=32]="Space",u[u.PageUp=33]="PageUp",u[u.PageDown=34]="PageDown",u[u.End=35]="End",u[u.Home=36]="Home",u[u.ArrowLeft=37]="ArrowLeft",u[u.ArrowUp=38]="ArrowUp",u[u.ArrowRight=39]="ArrowRight",u[u.ArrowDown=40]="ArrowDown",gi;var u})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const gf=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function mf(u){const c=Array.from(u.querySelectorAll(gf)).filter(a=>-1!==a.tabIndex);return[c[0],c[c.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let _h=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez,Jt.u5]]}),u})(),kl=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({}),u})();class Fl{constructor(c,a,g){this.nodes=c,this.viewRef=a,this.componentRef=g}}let Oa=(()=>{class u{constructor(a,g){this._el=a,this._zone=g}ngOnInit(){this._zone.onStable.asObservable().pipe((0,$.q)(1)).subscribe(()=>{Eo(this._zone,this._el.nativeElement,(a,g)=>{g&&dc(a),a.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Eo(this._zone,this._el.nativeElement,({classList:a})=>a.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return u.\u0275fac=function(a){return new(a||u)(f.Y36(f.SBq),f.Y36(f.R0b))},u.\u0275cmp=f.Xpm({type:u,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(a,g){2&a&&(f.Tol("modal-backdrop"+(g.backdropClass?" "+g.backdropClass:"")),f.ekj("show",!g.animation)("fade",g.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(a,g){},encapsulation:2}),u})();class Cc{close(c){}dismiss(c){}}class Ec{constructor(c,a,g,w){this._windowCmptRef=c,this._contentRef=a,this._backdropCmptRef=g,this._beforeDismiss=w,this._closed=new Mi.x,this._dismissed=new Mi.x,this._hidden=new Mi.x,c.instance.dismissEvent.subscribe(O=>{this.dismiss(O)}),this.result=new Promise((O,se)=>{this._resolve=O,this._reject=se}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(B(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(B(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(c){this._windowCmptRef&&(this._closed.next(c),this._resolve(c),this._removeModalElements())}_dismiss(c){this._dismissed.next(c),this._reject(c),this._removeModalElements()}dismiss(c){if(this._windowCmptRef)if(this._beforeDismiss){const a=this._beforeDismiss();!function Kh(u){return u&&u.then}(a)?!1!==a&&this._dismiss(c):a.then(g=>{!1!==g&&this._dismiss(c)},()=>{})}else this._dismiss(c)}_removeModalElements(){const c=this._windowCmptRef.instance.hide(),a=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ni.of)(void 0);c.subscribe(()=>{const{nativeElement:g}=this._windowCmptRef.location;g.parentNode.removeChild(g),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),a.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:g}=this._backdropCmptRef.location;g.parentNode.removeChild(g),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),S(c,a).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var gd=(()=>{return(u=gd||(gd={}))[u.BACKDROP_CLICK=0]="BACKDROP_CLICK",u[u.ESC=1]="ESC",gd;var u})();let Ym=(()=>{class u{constructor(a,g,w){this._document=a,this._elRef=g,this._zone=w,this._closed$=new Mi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new f.vpe,this.shown=new Mi.x,this.hidden=new Mi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":qd(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(a){this.dismissEvent.emit(a)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,$.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:a}=this._elRef,g={animation:this.animation,runningTransition:"stop"},se=S(Eo(this._zone,a,()=>a.classList.remove("show"),g),Eo(this._zone,this._dialogEl.nativeElement,()=>{},g));return se.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),se}_show(){const a={animation:this.animation,runningTransition:"continue"};S(Eo(this._zone,this._elRef.nativeElement,(O,se)=>{se&&dc(O),O.classList.add("show")},a),Eo(this._zone,this._dialogEl.nativeElement,()=>{},a)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:a}=this._elRef;this._zone.runOutsideAngular(()=>{Qe(a,"keydown").pipe(B(this._closed$),(0,Di.h)(w=>w.which===gi.Escape)).subscribe(w=>{this.keyboard?requestAnimationFrame(()=>{w.defaultPrevented||this._zone.run(()=>this.dismiss(gd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let g=!1;Qe(this._dialogEl.nativeElement,"mousedown").pipe(B(this._closed$),(0,q.b)(()=>g=!1),(0,oo.w)(()=>Qe(a,"mouseup").pipe(B(this._closed$),(0,$.q)(1))),(0,Di.h)(({target:w})=>a===w)).subscribe(()=>{g=!0}),Qe(a,"click").pipe(B(this._closed$)).subscribe(({target:w})=>{a===w&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!g&&this._zone.run(()=>this.dismiss(gd.BACKDROP_CLICK))),g=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:a}=this._elRef;if(!a.contains(document.activeElement)){const g=a.querySelector("[ngbAutofocus]"),w=mf(a)[0];(g||w||a).focus()}}_restoreFocus(){const a=this._document.body,g=this._elWithFocus;let w;w=g&&g.focus&&a.contains(g)?g:a,this._zone.runOutsideAngular(()=>{setTimeout(()=>w.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Eo(this._zone,this._elRef.nativeElement,({classList:a})=>(a.add("modal-static"),()=>a.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return u.\u0275fac=function(a){return new(a||u)(f.Y36(p.K0),f.Y36(f.SBq),f.Y36(f.R0b))},u.\u0275cmp=f.Xpm({type:u,selectors:[["ngb-modal-window"]],viewQuery:function(a,g){if(1&a&&f.Gf(qc,7),2&a){let w;f.iGM(w=f.CRH())&&(g._dialogEl=w.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(a,g){2&a&&(f.uIk("aria-modal",!0)("aria-labelledby",g.ariaLabelledBy)("aria-describedby",g.ariaDescribedBy),f.Tol("modal d-block"+(g.windowClass?" "+g.windowClass:"")),f.ekj("fade",g.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:jd,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(a,g){1&a&&(f.F$t(),f.TgZ(0,"div",0,1)(2,"div",2),f.Hsn(3),f.qZA()()),2&a&&f.Tol("modal-dialog"+(g.size?" modal-"+g.size:"")+(g.centered?" modal-dialog-centered":"")+g.fullscreenClass+(g.scrollable?" modal-dialog-scrollable":"")+(g.modalDialogClass?" "+g.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),u})(),md=(()=>{class u{constructor(a){this._document=a}hide(){const a=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),g=this._document.body,w=g.style,{overflow:O,paddingRight:se}=w;if(a>0){const Ce=parseFloat(window.getComputedStyle(g).paddingRight);w.paddingRight=`${Ce+a}px`}return w.overflow="hidden",()=>{a>0&&(w.paddingRight=se),w.overflow=O}}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(p.K0))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),vh=(()=>{class u{constructor(a,g,w,O,se,Ce){this._applicationRef=a,this._injector=g,this._document=w,this._scrollBar=O,this._rendererFactory=se,this._ngZone=Ce,this._activeWindowCmptHasChanged=new Mi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new f.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Ee=this._windowCmpts[this._windowCmpts.length-1];((u,c,a,g=!1)=>{this._ngZone.runOutsideAngular(()=>{const w=Qe(c,"focusin").pipe(B(a),(0,oi.U)(O=>O.target));Qe(c,"keydown").pipe(B(a),(0,Di.h)(O=>O.which===gi.Tab),ge(w)).subscribe(([O,se])=>{const[Ce,Ee]=mf(c);(se===Ce||se===c)&&O.shiftKey&&(Ee.focus(),O.preventDefault()),se===Ee&&!O.shiftKey&&(Ce.focus(),O.preventDefault())}),g&&Qe(c,"click").pipe(B(a),ge(w),(0,oi.U)(O=>O[1])).subscribe(O=>O.focus())})})(0,Ee.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Ee.location.nativeElement)}})}_restoreScrollBar(){const a=this._scrollBarRestoreFn;a&&(this._scrollBarRestoreFn=null,a())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(a,g,w,O){const se=O.container instanceof HTMLElement?O.container:Gl(O.container)?this._document.querySelector(O.container):this._document.body,Ce=this._rendererFactory.createRenderer(null,null);if(!se)throw new Error(`The specified modal container "${O.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ee=new Cc,rt=this._getContentRef(a,O.injector||g,w,Ee,O);let mt=!1!==O.backdrop?this._attachBackdrop(a,se):void 0,Dn=this._attachWindowComponent(a,se,rt),un=new Ec(Dn,rt,mt,O.beforeDismiss);return this._registerModalRef(un),this._registerWindowCmpt(Dn),un.hidden.pipe((0,$.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ce.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ee.close=wn=>{un.close(wn)},Ee.dismiss=wn=>{un.dismiss(wn)},this._applyWindowOptions(Dn.instance,O),1===this._modalRefs.length&&Ce.addClass(this._document.body,"modal-open"),mt&&mt.instance&&(this._applyBackdropOptions(mt.instance,O),mt.changeDetectorRef.detectChanges()),Dn.changeDetectorRef.detectChanges(),un}get activeInstances(){return this._activeInstances}dismissAll(a){this._modalRefs.forEach(g=>g.dismiss(a))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(a,g){let O=a.resolveComponentFactory(Oa).create(this._injector);return this._applicationRef.attachView(O.hostView),g.appendChild(O.location.nativeElement),O}_attachWindowComponent(a,g,w){let se=a.resolveComponentFactory(Ym).create(this._injector,w.nodes);return this._applicationRef.attachView(se.hostView),g.appendChild(se.location.nativeElement),se}_applyWindowOptions(a,g){this._windowAttributes.forEach(w=>{Gl(g[w])&&(a[w]=g[w])})}_applyBackdropOptions(a,g){this._backdropAttributes.forEach(w=>{Gl(g[w])&&(a[w]=g[w])})}_getContentRef(a,g,w,O,se){return w?w instanceof f.Rgc?this._createFromTemplateRef(w,O):qd(w)?this._createFromString(w):this._createFromComponent(a,g,w,O,se):new Fl([])}_createFromTemplateRef(a,g){const O=a.createEmbeddedView({$implicit:g,close(se){g.close(se)},dismiss(se){g.dismiss(se)}});return this._applicationRef.attachView(O),new Fl([O.rootNodes],O)}_createFromString(a){const g=this._document.createTextNode(`${a}`);return new Fl([[g]])}_createFromComponent(a,g,w,O,se){const Ce=a.resolveComponentFactory(w),Ee=f.zs3.create({providers:[{provide:Cc,useValue:O}],parent:g}),rt=Ce.create(Ee),mt=rt.location.nativeElement;return se.scrollable&&mt.classList.add("component-host-scrollable"),this._applicationRef.attachView(rt.hostView),new Fl([[mt]],rt.hostView,rt)}_setAriaHidden(a){const g=a.parentElement;g&&a!==this._document.body&&(Array.from(g.children).forEach(w=>{w!==a&&"SCRIPT"!==w.nodeName&&(this._ariaHiddenValues.set(w,w.getAttribute("aria-hidden")),w.setAttribute("aria-hidden","true"))}),this._setAriaHidden(g))}_revertAriaHidden(){this._ariaHiddenValues.forEach((a,g)=>{a?g.setAttribute("aria-hidden",a):g.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(a){const g=()=>{const w=this._modalRefs.indexOf(a);w>-1&&(this._modalRefs.splice(w,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(a),this._activeInstances.emit(this._modalRefs),a.result.then(g,g)}_registerWindowCmpt(a){this._windowCmpts.push(a),this._activeWindowCmptHasChanged.next(),a.onDestroy(()=>{const g=this._windowCmpts.indexOf(a);g>-1&&(this._windowCmpts.splice(g,1),this._activeWindowCmptHasChanged.next())})}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(f.z2F),f.LFG(f.zs3),f.LFG(p.K0),f.LFG(md),f.LFG(f.FYo),f.LFG(f.R0b))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),_d=(()=>{class u{constructor(a){this._ngbConfig=a,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(a){this._animation=a}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(nd))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Bu=(()=>{class u{constructor(a,g,w,O){this._moduleCFR=a,this._injector=g,this._modalStack=w,this._config=O}open(a,g={}){const w=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),g);return this._modalStack.open(this._moduleCFR,this._injector,a,w)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(a){this._modalStack.dismissAll(a)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return u.\u0275fac=function(a){return new(a||u)(f.LFG(f._Vd),f.LFG(f.zs3),f.LFG(vh),f.LFG(_d))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Xp=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({providers:[Bu]}),u})(),tg=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),Th=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),wd=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),Dd=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),om=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),Wf=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),Ed=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),zf=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({}),u})();new f.OlP("live announcer delay",{providedIn:"root",factory:function gu(){return 100}});let mu=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[p.ez]]}),u})(),Kf=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({}),u})();const Zf=[ef,Wl,hc,$a,lf,_h,kl,Xp,tg,Kf,Th,wd,Dd,om,Wf,Ed,zf,mu];let dg=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[Zf,ef,Wl,hc,$a,lf,_h,kl,Xp,tg,Kf,Th,wd,Dd,om,Wf,Ed,zf,mu]}),u})(),Nh=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=f.oAB({type:u,bootstrap:[pr]}),u.\u0275inj=f.cJS({providers:[],imports:[[ir,Ri,Jt.u5,Jt.UX,Os.hO.initializeApp(Ei_firebase),mo.enablePersistence(),Us,(0,Vn.hX)(()=>(0,Vn.ZF)(Ei_firebase)),(0,Xi.AR)(()=>(0,Xi.v0)()),(0,ui.Cm)(()=>(0,ui.ad)()),Ns(()=>Uo()),dg]]}),u})();(0,f.G48)(),vn().bootstrapModule(Nh).catch(u=>console.error(u))},5867:(Zt,xe,j)=>{"use strict";j.d(xe,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=j(9681);(0,p.registerVersion)("firebase","9.12.1","app")},127:(Zt,xe,j)=>{"use strict";j.d(xe,{Z:()=>p.Z});var p=j(3942);p.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(Zt,xe,j)=>{"use strict";j.r(xe);var p=j(5861),f=j(3942),Z=j(7573),Ie=j(2090),Ne=(j(9681),j(1877),j(4859));function ae(){return window}function de(){return(de=(0,p.Z)(function*(he,ie,ce){var Ye;const{BuildInfo:Ot}=ae();(0,Z.aq)(ie.sessionId,"AuthEvent did not contain a session ID");const sn=yield tt(ie.sessionId),Jt={};return(0,Z.ar)()?Jt.ibi=Ot.packageName:(0,Z.as)()?Jt.apn=Ot.packageName:(0,Z.at)(he,"operation-not-supported-in-this-environment"),Ot.displayName&&(Jt.appDisplayName=Ot.displayName),Jt.sessionId=sn,(0,Z.au)(he,ce,ie.type,void 0,null!==(Ye=ie.eventId)&&void 0!==Ye?Ye:void 0,Jt)})).apply(this,arguments)}function He(){return(He=(0,p.Z)(function*(he){const{BuildInfo:ie}=ae(),ce={};(0,Z.ar)()?ce.iosBundleId=ie.packageName:(0,Z.as)()?ce.androidPackageName=ie.packageName:(0,Z.at)(he,"operation-not-supported-in-this-environment"),yield(0,Z.av)(he,ce)})).apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*(he,ie,ce){const{cordova:Ye}=ae();let Ot=()=>{};try{yield new Promise((sn,Jt)=>{let $n=null;function on(){var It;sn();const Ht=null===(It=Ye.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof Ht&&Ht(),"function"==typeof(null==ce?void 0:ce.close)&&ce.close()}function Er(){$n||($n=window.setTimeout(()=>{Jt((0,Z.aw)(he,"redirect-cancelled-by-user"))},2e3))}function qr(){"visible"===(null==document?void 0:document.visibilityState)&&Er()}ie.addPassiveListener(on),document.addEventListener("resume",Er,!1),(0,Z.as)()&&document.addEventListener("visibilitychange",qr,!1),Ot=()=>{ie.removePassiveListener(on),document.removeEventListener("resume",Er,!1),document.removeEventListener("visibilitychange",qr,!1),$n&&window.clearTimeout($n)}})}finally{Ot()}})).apply(this,arguments)}function tt(he){return ct.apply(this,arguments)}function ct(){return(ct=(0,p.Z)(function*(he){const ie=Et(he),ce=yield crypto.subtle.digest("SHA-256",ie);return Array.from(new Uint8Array(ce)).map(Ot=>Ot.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Et(he){if((0,Z.aq)(/[0-9a-zA-Z]+/.test(he),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(he);const ie=new ArrayBuffer(he.length),ce=new Uint8Array(ie);for(let Ye=0;Ye<he.length;Ye++)ce[Ye]=he.charCodeAt(Ye);return ce}class ot extends Z.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ie=>{this.resolveInialized=ie})}addPassiveListener(ie){this.passiveListeners.add(ie)}removePassiveListener(ie){this.passiveListeners.delete(ie)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ie){return this.resolveInialized(),this.passiveListeners.forEach(ce=>ce(ie)),super.onEvent(ie)}initialized(){var ie=this;return(0,p.Z)(function*(){yield ie.initPromise})()}}function Ve(he){return st.apply(this,arguments)}function st(){return(st=(0,p.Z)(function*(he){const ie=yield $e()._get(Le(he));return ie&&(yield $e()._remove(Le(he))),ie})).apply(this,arguments)}function Te(){const he=[],ie="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ce=0;ce<20;ce++){const Ye=Math.floor(Math.random()*ie.length);he.push(ie.charAt(Ye))}return he.join("")}function $e(){return(0,Z.ay)(Z.b)}function Le(he){return(0,Z.az)("authEvent",he.config.apiKey,he.name)}function Nt(he){if(!(null==he?void 0:he.includes("?")))return{};const[ie,...ce]=he.split("?");return(0,Ie.zd)(ce.join("?"))}function Xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Z.aw)("no-auth-event")}}function Yt(){var he;return(null===(he=null==self?void 0:self.location)||void 0===he?void 0:he.protocol)||null}function Hn(he=(0,Ie.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!he.toLowerCase().match(/iphone|ipad|ipod|android/))}function vn(){try{const he=self.localStorage,ie=Z.aI();if(he)return he.setItem(ie,"1"),he.removeItem(ie),!function Nr(he=(0,Ie.z$)()){return function _r(){return(0,Ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function tr(he=(0,Ie.z$)()){return/Edge\/\d+/.test(he)}(he)}()||(0,Ie.hl)()}catch(he){return rr()&&(0,Ie.hl)()}return!1}function rr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ir(){return(function Cn(){return"http:"===Yt()||"https:"===Yt()}()||(0,Ie.ru)()||Hn())&&!function Xn(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&vn()&&!rr()}function Rr(){return Hn()&&"undefined"!=typeof document}function Ln(){return(Ln=(0,p.Z)(function*(){return!!Rr()&&new Promise(he=>{const ie=setTimeout(()=>{he(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ie),he(!0)})})})).apply(this,arguments)}const Gt={LOCAL:"local",NONE:"none",SESSION:"session"},nr=Z.ax,Mr="persistence";function Tr(he){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,p.Z)(function*(he){yield he._initializationPromise;const ie=Kn(),ce=Z.az(Mr,he.config.apiKey,he.name);ie&&ie.setItem(ce,he._getPersistence())})).apply(this,arguments)}function Kn(){var he;try{return(null===(he=function Bn(){return"undefined"!=typeof window?window:null}())||void 0===he?void 0:he.sessionStorage)||null}catch(ie){return null}}const St=Z.ax;class nn{constructor(){this.browserResolver=Z.ay(Z.k),this.cordovaResolver=Z.ay(class wt{constructor(){this._redirectPersistence=Z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Z.aB,this._overrideRedirectResult=Z.aC}_initialize(ie){var ce=this;return(0,p.Z)(function*(){const Ye=ie._key();let Ot=ce.eventManagers.get(Ye);return Ot||(Ot=new ot(ie),ce.eventManagers.set(Ye,Ot),ce.attachCallbackListeners(ie,Ot)),Ot})()}_openPopup(ie){(0,Z.at)(ie,"operation-not-supported-in-this-environment")}_openRedirect(ie,ce,Ye,Ot){var sn=this;return(0,p.Z)(function*(){!function Je(he){var ie,ce,Ye,Ot,sn,Jt,$n,on,Er,qr;const It=ae();(0,Z.ax)("function"==typeof(null===(ie=null==It?void 0:It.universalLinks)||void 0===ie?void 0:ie.subscribe),he,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Z.ax)(void 0!==(null===(ce=null==It?void 0:It.BuildInfo)||void 0===ce?void 0:ce.packageName),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Z.ax)("function"==typeof(null===(sn=null===(Ot=null===(Ye=null==It?void 0:It.cordova)||void 0===Ye?void 0:Ye.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===sn?void 0:sn.openUrl),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Z.ax)("function"==typeof(null===(on=null===($n=null===(Jt=null==It?void 0:It.cordova)||void 0===Jt?void 0:Jt.plugins)||void 0===$n?void 0:$n.browsertab)||void 0===on?void 0:on.isAvailable),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Z.ax)("function"==typeof(null===(qr=null===(Er=null==It?void 0:It.cordova)||void 0===Er?void 0:Er.InAppBrowser)||void 0===qr?void 0:qr.open),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ie);const Jt=yield sn._initialize(ie);yield Jt.initialized(),Jt.resetRedirect(),(0,Z.aD)(),yield sn._originValidation(ie);const $n=function at(he,ie,ce=null){return{type:ie,eventId:ce,urlResponse:null,sessionId:Te(),postBody:null,tenantId:he.tenantId,error:(0,Z.aw)(he,"no-auth-event")}}(ie,Ye,Ot);yield function Tt(he,ie){return $e()._set(Le(he),ie)}(ie,$n);const on=yield function oe(he,ie,ce){return de.apply(this,arguments)}(ie,$n,ce),Er=yield function qe(he){const{cordova:ie}=ae();return new Promise(ce=>{ie.plugins.browsertab.isAvailable(Ye=>{let Ot=null;Ye?ie.plugins.browsertab.openUrl(he):Ot=ie.InAppBrowser.open(he,(0,Z.ap)()?"_blank":"_system","location=yes"),ce(Ot)})})}(on);return function ft(he,ie,ce){return bt.apply(this,arguments)}(ie,Jt,Er)})()}_isIframeWebStorageSupported(ie,ce){throw new Error("Method not implemented.")}_originValidation(ie){const ce=ie._key();return this.originValidationPromises[ce]||(this.originValidationPromises[ce]=function Re(he){return He.apply(this,arguments)}(ie)),this.originValidationPromises[ce]}attachCallbackListeners(ie,ce){const{universalLinks:Ye,handleOpenURL:Ot,BuildInfo:sn}=ae(),Jt=setTimeout((0,p.Z)(function*(){yield Ve(ie),ce.onEvent(Xe())}),500),$n=function(){var qr=(0,p.Z)(function*(It){clearTimeout(Jt);const Ht=yield Ve(ie);let Sn=null;Ht&&(null==It?void 0:It.url)&&(Sn=function ut(he,ie){var ce,Ye;const Ot=function Ze(he){const ie=Nt(he),ce=ie.link?decodeURIComponent(ie.link):void 0,Ye=Nt(ce).link,Ot=ie.deep_link_id?decodeURIComponent(ie.deep_link_id):void 0;return Nt(Ot).link||Ot||Ye||ce||he}(ie);if(Ot.includes("/__/auth/callback")){const sn=Nt(Ot),Jt=sn.firebaseError?function Ke(he){try{return JSON.parse(he)}catch(ie){return null}}(decodeURIComponent(sn.firebaseError)):null,$n=null===(Ye=null===(ce=null==Jt?void 0:Jt.code)||void 0===ce?void 0:ce.split("auth/"))||void 0===Ye?void 0:Ye[1],on=$n?(0,Z.aw)($n):null;return on?{type:he.type,eventId:he.eventId,tenantId:he.tenantId,error:on,urlResponse:null,sessionId:null,postBody:null}:{type:he.type,eventId:he.eventId,tenantId:he.tenantId,sessionId:he.sessionId,urlResponse:Ot,postBody:null}}return null}(Ht,It.url)),ce.onEvent(Sn||Xe())});return function(Ht){return qr.apply(this,arguments)}}();void 0!==Ye&&"function"==typeof Ye.subscribe&&Ye.subscribe(null,$n);const on=Ot,Er=`${sn.packageName.toLowerCase()}://`;ae().handleOpenURL=function(){var qr=(0,p.Z)(function*(It){if(It.toLowerCase().startsWith(Er)&&$n({url:It}),"function"==typeof on)try{on(It)}catch(Ht){console.error(Ht)}});return function(It){return qr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Z.a,this._completeRedirectFn=Z.aB,this._overrideRedirectResult=Z.aC}_initialize(ie){var ce=this;return(0,p.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._initialize(ie)})()}_openPopup(ie,ce,Ye,Ot){var sn=this;return(0,p.Z)(function*(){return yield sn.selectUnderlyingResolver(),sn.assertedUnderlyingResolver._openPopup(ie,ce,Ye,Ot)})()}_openRedirect(ie,ce,Ye,Ot){var sn=this;return(0,p.Z)(function*(){return yield sn.selectUnderlyingResolver(),sn.assertedUnderlyingResolver._openRedirect(ie,ce,Ye,Ot)})()}_isIframeWebStorageSupported(ie,ce){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ie,ce)}_originValidation(ie){return this.assertedUnderlyingResolver._originValidation(ie)}get _shouldInitProactively(){return Rr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ie=this;return(0,p.Z)(function*(){if(ie.underlyingResolver)return;const ce=yield function Qt(){return Ln.apply(this,arguments)}();ie.underlyingResolver=ce?ie.cordovaResolver:ie.browserResolver})()}}function _i(he){return he.unwrap()}function lr(he){return ur(he)}function ur(he){const{_tokenResponse:ie}=he instanceof Ie.ZR?he.customData:he;if(!ie)return null;if(!(he instanceof Ie.ZR)&&"temporaryProof"in ie&&"phoneNumber"in ie)return Z.P.credentialFromResult(he);const ce=ie.providerId;if(!ce||ce===Z.o.PASSWORD)return null;let Ye;switch(ce){case Z.o.GOOGLE:Ye=Z.Q;break;case Z.o.FACEBOOK:Ye=Z.N;break;case Z.o.GITHUB:Ye=Z.T;break;case Z.o.TWITTER:Ye=Z.W;break;default:const{oauthIdToken:Ot,oauthAccessToken:sn,oauthTokenSecret:Jt,pendingToken:$n,nonce:on}=ie;return sn||Jt||Ot||$n?$n?ce.startsWith("saml.")?Z.aL._create(ce,$n):Z.J._fromParams({providerId:ce,signInMethod:ce,pendingToken:$n,idToken:Ot,accessToken:sn}):new Z.U(ce).credential({idToken:Ot,accessToken:sn,rawNonce:on}):null}return he instanceof Ie.ZR?Ye.credentialFromError(he):Ye.credentialFromResult(he)}function Ar(he,ie){return ie.catch(ce=>{throw ce instanceof Ie.ZR&&function Cr(he,ie){var ce,Ye;const Ot=null===(ce=ie.customData)||void 0===ce?void 0:ce._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ye=ie)||void 0===Ye?void 0:Ye.code))ie.resolver=new er(he,Z.an(he,ie));else if(Ot){const sn=ur(ie),Jt=ie;sn&&(Jt.credential=sn,Jt.tenantId=Ot.tenantId||void 0,Jt.email=Ot.email||void 0,Jt.phoneNumber=Ot.phoneNumber||void 0)}}(he,ce),ce}).then(ce=>{const Ot=ce.user;return{operationType:ce.operationType,credential:lr(ce),additionalUserInfo:Z.al(ce),user:ci.getOrCreate(Ot)}})}function Pn(he,ie){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(he,ie){const ce=yield ie;return{verificationId:ce.verificationId,confirm:Ye=>Ar(he,ce.confirm(Ye))}})).apply(this,arguments)}class er{constructor(ie,ce){this.resolver=ce,this.auth=function Ur(he){return he.wrapped()}(ie)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ie){return Ar(_i(this.auth),this.resolver.resolveSignIn(ie))}}class ci{constructor(ie){this._delegate=ie,this.multiFactor=Z.ao(ie)}static getOrCreate(ie){return ci.USER_MAP.has(ie)||ci.USER_MAP.set(ie,new ci(ie)),ci.USER_MAP.get(ie)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ie){return this._delegate.getIdTokenResult(ie)}getIdToken(ie){return this._delegate.getIdToken(ie)}linkAndRetrieveDataWithCredential(ie){return this.linkWithCredential(ie)}linkWithCredential(ie){var ce=this;return(0,p.Z)(function*(){return Ar(ce.auth,Z.Z(ce._delegate,ie))})()}linkWithPhoneNumber(ie,ce){var Ye=this;return(0,p.Z)(function*(){return Pn(Ye.auth,Z.l(Ye._delegate,ie,ce))})()}linkWithPopup(ie){var ce=this;return(0,p.Z)(function*(){return Ar(ce.auth,Z.d(ce._delegate,ie,nn))})()}linkWithRedirect(ie){var ce=this;return(0,p.Z)(function*(){return yield Tr(Z.aE(ce.auth)),Z.g(ce._delegate,ie,nn)})()}reauthenticateAndRetrieveDataWithCredential(ie){return this.reauthenticateWithCredential(ie)}reauthenticateWithCredential(ie){var ce=this;return(0,p.Z)(function*(){return Ar(ce.auth,Z._(ce._delegate,ie))})()}reauthenticateWithPhoneNumber(ie,ce){return Pn(this.auth,Z.r(this._delegate,ie,ce))}reauthenticateWithPopup(ie){return Ar(this.auth,Z.e(this._delegate,ie,nn))}reauthenticateWithRedirect(ie){var ce=this;return(0,p.Z)(function*(){return yield Tr(Z.aE(ce.auth)),Z.h(ce._delegate,ie,nn)})()}sendEmailVerification(ie){return Z.ab(this._delegate,ie)}unlink(ie){var ce=this;return(0,p.Z)(function*(){return yield Z.ak(ce._delegate,ie),ce})()}updateEmail(ie){return Z.ag(this._delegate,ie)}updatePassword(ie){return Z.ah(this._delegate,ie)}updatePhoneNumber(ie){return Z.u(this._delegate,ie)}updateProfile(ie){return Z.af(this._delegate,ie)}verifyBeforeUpdateEmail(ie,ce){return Z.ac(this._delegate,ie,ce)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ci.USER_MAP=new WeakMap;const Bt=Z.ax;let _t=(()=>{class he{constructor(ce,Ye){if(this.app=ce,Ye.isInitialized())return this._delegate=Ye.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ot}=ce.options;Bt(Ot,"invalid-api-key",{appName:ce.name}),Bt(Ot,"invalid-api-key",{appName:ce.name});const sn="undefined"!=typeof window?nn:void 0;this._delegate=Ye.initialize({options:{persistence:tn(Ot,ce.name),popupRedirectResolver:sn}}),this._delegate._updateErrorMap(Z.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ci.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ce){this._delegate.languageCode=ce}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ce){this._delegate.tenantId=ce}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ce,Ye){Z.G(this._delegate,ce,Ye)}applyActionCode(ce){return Z.a2(this._delegate,ce)}checkActionCode(ce){return Z.a3(this._delegate,ce)}confirmPasswordReset(ce,Ye){return Z.a1(this._delegate,ce,Ye)}createUserWithEmailAndPassword(ce,Ye){var Ot=this;return(0,p.Z)(function*(){return Ar(Ot._delegate,Z.a5(Ot._delegate,ce,Ye))})()}fetchProvidersForEmail(ce){return this.fetchSignInMethodsForEmail(ce)}fetchSignInMethodsForEmail(ce){return Z.aa(this._delegate,ce)}isSignInWithEmailLink(ce){return Z.a8(this._delegate,ce)}getRedirectResult(){var ce=this;return(0,p.Z)(function*(){Bt(ir(),ce._delegate,"operation-not-supported-in-this-environment");const Ye=yield Z.j(ce._delegate,nn);return Ye?Ar(ce._delegate,Promise.resolve(Ye)):{credential:null,user:null}})()}addFrameworkForLogging(ce){!function pt(he,ie){(0,Z.aE)(he)._logFramework(ie)}(this._delegate,ce)}onAuthStateChanged(ce,Ye,Ot){const{next:sn,error:Jt,complete:$n}=qt(ce,Ye,Ot);return this._delegate.onAuthStateChanged(sn,Jt,$n)}onIdTokenChanged(ce,Ye,Ot){const{next:sn,error:Jt,complete:$n}=qt(ce,Ye,Ot);return this._delegate.onIdTokenChanged(sn,Jt,$n)}sendSignInLinkToEmail(ce,Ye){return Z.a7(this._delegate,ce,Ye)}sendPasswordResetEmail(ce,Ye){return Z.a0(this._delegate,ce,Ye||void 0)}setPersistence(ce){var Ye=this;return(0,p.Z)(function*(){let Ot;switch(function li(he,ie){nr(Object.values(Gt).includes(ie),he,"invalid-persistence-type"),(0,Ie.b$)()?nr(ie!==Gt.SESSION,he,"unsupported-persistence-type"):(0,Ie.UG)()?nr(ie===Gt.NONE,he,"unsupported-persistence-type"):rr()?nr(ie===Gt.NONE||ie===Gt.LOCAL&&(0,Ie.hl)(),he,"unsupported-persistence-type"):nr(ie===Gt.NONE||vn(),he,"unsupported-persistence-type")}(Ye._delegate,ce),ce){case Gt.SESSION:Ot=Z.a;break;case Gt.LOCAL:Ot=(yield Z.ay(Z.i)._isAvailable())?Z.i:Z.b;break;case Gt.NONE:Ot=Z.L;break;default:return Z.at("argument-error",{appName:Ye._delegate.name})}return Ye._delegate.setPersistence(Ot)})()}signInAndRetrieveDataWithCredential(ce){return this.signInWithCredential(ce)}signInAnonymously(){return Ar(this._delegate,Z.X(this._delegate))}signInWithCredential(ce){return Ar(this._delegate,Z.Y(this._delegate,ce))}signInWithCustomToken(ce){return Ar(this._delegate,Z.$(this._delegate,ce))}signInWithEmailAndPassword(ce,Ye){return Ar(this._delegate,Z.a6(this._delegate,ce,Ye))}signInWithEmailLink(ce,Ye){return Ar(this._delegate,Z.a9(this._delegate,ce,Ye))}signInWithPhoneNumber(ce,Ye){return Pn(this._delegate,Z.s(this._delegate,ce,Ye))}signInWithPopup(ce){var Ye=this;return(0,p.Z)(function*(){return Bt(ir(),Ye._delegate,"operation-not-supported-in-this-environment"),Ar(Ye._delegate,Z.c(Ye._delegate,ce,nn))})()}signInWithRedirect(ce){var Ye=this;return(0,p.Z)(function*(){return Bt(ir(),Ye._delegate,"operation-not-supported-in-this-environment"),yield Tr(Ye._delegate),Z.f(Ye._delegate,ce,nn)})()}updateCurrentUser(ce){return this._delegate.updateCurrentUser(ce)}verifyPasswordResetCode(ce){return Z.a4(this._delegate,ce)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return he.Persistence=Gt,he})();function qt(he,ie,ce){let Ye=he;"function"!=typeof he&&({next:Ye,error:ie,complete:ce}=he);const Ot=Ye;return{next:Jt=>Ot(Jt&&ci.getOrCreate(Jt)),error:ie,complete:ce}}function tn(he,ie){const ce=function zr(he,ie){const ce=Kn();if(!ce)return[];const Ye=Z.az(Mr,he,ie);switch(ce.getItem(Ye)){case Gt.NONE:return[Z.L];case Gt.LOCAL:return[Z.i,Z.a];case Gt.SESSION:return[Z.a];default:return[]}}(he,ie);if("undefined"!=typeof self&&!ce.includes(Z.i)&&ce.push(Z.i),"undefined"!=typeof window)for(const Ye of[Z.b,Z.a])ce.includes(Ye)||ce.push(Ye);return ce.includes(Z.L)||ce.push(Z.L),ce}class rn{constructor(){this.providerId="phone",this._delegate=new Z.P(_i(f.Z.auth()))}static credential(ie,ce){return Z.P.credential(ie,ce)}verifyPhoneNumber(ie,ce){return this._delegate.verifyPhoneNumber(ie,ce)}unwrap(){return this._delegate}}rn.PHONE_SIGN_IN_METHOD=Z.P.PHONE_SIGN_IN_METHOD,rn.PROVIDER_ID=Z.P.PROVIDER_ID;const Zn=Z.ax;class pe{constructor(ie,ce,Ye=f.Z.app()){var Ot;Zn(null===(Ot=Ye.options)||void 0===Ot?void 0:Ot.apiKey,"invalid-api-key",{appName:Ye.name}),this._delegate=new Z.R(ie,ce,Ye.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fe(he){he.INTERNAL.registerComponent(new Ne.wA("auth-compat",ie=>{const ce=ie.getProvider("app-compat").getImmediate(),Ye=ie.getProvider("auth");return new _t(ce,Ye)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Z.A.EMAIL_SIGNIN,PASSWORD_RESET:Z.A.PASSWORD_RESET,RECOVER_EMAIL:Z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Z.A.VERIFY_EMAIL}},EmailAuthProvider:Z.M,FacebookAuthProvider:Z.N,GithubAuthProvider:Z.T,GoogleAuthProvider:Z.Q,OAuthProvider:Z.U,SAMLAuthProvider:Z.V,PhoneAuthProvider:rn,PhoneMultiFactorGenerator:Z.m,RecaptchaVerifier:pe,TwitterAuthProvider:Z.W,Auth:_t,AuthCredential:Z.H,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),he.registerVersion("@firebase/auth-compat","0.2.23")}(f.Z)},8210:(Zt,xe,j)=>{"use strict";j.d(xe,{Jt:()=>p.Jt,KV:()=>p.KV,cF:()=>p.cF,iH:()=>p.iH});var p=j(6961)},1135:(Zt,xe,j)=>{"use strict";j.d(xe,{X:()=>f});var p=j(7579);class f extends p.x{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const ve=super._subscribe(Ie);return!ve.closed&&Ie.next(this._value),ve}getValue(){const{hasError:Ie,thrownError:ve,_value:ke}=this;if(Ie)throw ve;return this._throwIfClosed(),ke}next(Ie){super.next(this._value=Ie)}}},8306:(Zt,xe,j)=>{"use strict";j.d(xe,{y:()=>oe});var p=j(930),f=j(727),Z=j(8822),Ie=j(4671);var Ne=j(2416),ae=j(576),Ue=j(2806);let oe=(()=>{class qe{constructor(bt){bt&&(this._subscribe=bt)}lift(bt){const Je=new qe;return Je.source=this,Je.operator=bt,Je}subscribe(bt,Je,tt){const ct=function He(qe){return qe&&qe instanceof p.Lv||function Re(qe){return qe&&(0,ae.m)(qe.next)&&(0,ae.m)(qe.error)&&(0,ae.m)(qe.complete)}(qe)&&(0,f.Nn)(qe)}(bt)?bt:new p.Hp(bt,Je,tt);return(0,Ue.x)(()=>{const{operator:Et,source:ze}=this;ct.add(Et?Et.call(ct,ze):ze?this._subscribe(ct):this._trySubscribe(ct))}),ct}_trySubscribe(bt){try{return this._subscribe(bt)}catch(Je){bt.error(Je)}}forEach(bt,Je){return new(Je=de(Je))((tt,ct)=>{const Et=new p.Hp({next:ze=>{try{bt(ze)}catch(ot){ct(ot),Et.unsubscribe()}},error:ct,complete:tt});this.subscribe(Et)})}_subscribe(bt){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(bt)}[Z.L](){return this}pipe(...bt){return function ke(qe){return 0===qe.length?Ie.y:1===qe.length?qe[0]:function(bt){return qe.reduce((Je,tt)=>tt(Je),bt)}}(bt)(this)}toPromise(bt){return new(bt=de(bt))((Je,tt)=>{let ct;this.subscribe(Et=>ct=Et,Et=>tt(Et),()=>Je(ct))})}}return qe.create=ft=>new qe(ft),qe})();function de(qe){var ft;return null!==(ft=null!=qe?qe:Ne.v.Promise)&&void 0!==ft?ft:Promise}},7579:(Zt,xe,j)=>{"use strict";j.d(xe,{x:()=>Ne});var p=j(8306),f=j(727);const Ie=(0,j(3888).d)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=j(8737),ke=j(2806);let Ne=(()=>{class Ue extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Re=new ae(this,this);return Re.operator=de,Re}_throwIfClosed(){if(this.closed)throw new Ie}next(de){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(de)}})}error(de){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Re}=this;for(;Re.length;)Re.shift().error(de)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Re,isStopped:He,observers:qe}=this;return Re||He?f.Lc:(this.currentObservers=null,qe.push(de),new f.w0(()=>{this.currentObservers=null,(0,ve.P)(qe,de)}))}_checkFinalizedStatuses(de){const{hasError:Re,thrownError:He,isStopped:qe}=this;Re?de.error(He):qe&&de.complete()}asObservable(){const de=new p.y;return de.source=this,de}}return Ue.create=(oe,de)=>new ae(oe,de),Ue})();class ae extends Ne{constructor(oe,de){super(),this.destination=oe,this.source=de}next(oe){var de,Re;null===(Re=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Re||Re.call(de,oe)}error(oe){var de,Re;null===(Re=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Re||Re.call(de,oe)}complete(){var oe,de;null===(de=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===de||de.call(oe)}_subscribe(oe){var de,Re;return null!==(Re=null===(de=this.source)||void 0===de?void 0:de.subscribe(oe))&&void 0!==Re?Re:f.Lc}}},930:(Zt,xe,j)=>{"use strict";j.d(xe,{Hp:()=>bt,Lv:()=>Re});var p=j(576),f=j(727),Z=j(2416),Ie=j(7849),ve=j(5032);const ke=Ue("C",void 0,void 0);function Ue(ze,ot,at){return{kind:ze,value:ot,error:at}}var oe=j(3410),de=j(2806);class Re extends f.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,f.Nn)(ot)&&ot.add(this)):this.destination=Et}static create(ot,at,Tt){return new bt(ot,at,Tt)}next(ot){this.isStopped?ct(function ae(ze){return Ue("N",ze,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?ct(function Ne(ze){return Ue("E",void 0,ze)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?ct(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function qe(ze,ot){return He.call(ze,ot)}class ft{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:at}=this;if(at.next)try{at.next(ot)}catch(Tt){Je(Tt)}}error(ot){const{partialObserver:at}=this;if(at.error)try{at.error(ot)}catch(Tt){Je(Tt)}else Je(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(at){Je(at)}}}class bt extends Re{constructor(ot,at,Tt){let Ve;if(super(),(0,p.m)(ot)||!ot)Ve={next:null!=ot?ot:void 0,error:null!=at?at:void 0,complete:null!=Tt?Tt:void 0};else{let st;this&&Z.v.useDeprecatedNextContext?(st=Object.create(ot),st.unsubscribe=()=>this.unsubscribe(),Ve={next:ot.next&&qe(ot.next,st),error:ot.error&&qe(ot.error,st),complete:ot.complete&&qe(ot.complete,st)}):Ve=ot}this.destination=new ft(Ve)}}function Je(ze){Z.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(ze):(0,Ie.h)(ze)}function ct(ze,ot){const{onStoppedNotification:at}=Z.v;at&&oe.z.setTimeout(()=>at(ze,ot))}const Et={closed:!0,next:ve.Z,error:function tt(ze){throw ze},complete:ve.Z}},727:(Zt,xe,j)=>{"use strict";j.d(xe,{Lc:()=>ke,w0:()=>ve,Nn:()=>Ne});var p=j(576);const Z=(0,j(3888).d)(Ue=>function(de){Ue(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Re,He)=>`${He+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ie=j(8737);class ve{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const qe of de)qe.remove(this);else de.remove(this);const{initialTeardown:Re}=this;if((0,p.m)(Re))try{Re()}catch(qe){oe=qe instanceof Z?qe.errors:[qe]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const qe of He)try{ae(qe)}catch(ft){oe=null!=oe?oe:[],ft instanceof Z?oe=[...oe,...ft.errors]:oe.push(ft)}}if(oe)throw new Z(oe)}}add(oe){var de;if(oe&&oe!==this)if(this.closed)ae(oe);else{if(oe instanceof ve){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(oe)}}_hasParent(oe){const{_parentage:de}=this;return de===oe||Array.isArray(de)&&de.includes(oe)}_addParent(oe){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(oe),de):de?[de,oe]:oe}_removeParent(oe){const{_parentage:de}=this;de===oe?this._parentage=null:Array.isArray(de)&&(0,Ie.P)(de,oe)}remove(oe){const{_finalizers:de}=this;de&&(0,Ie.P)(de,oe),oe instanceof ve&&oe._removeParent(this)}}ve.EMPTY=(()=>{const Ue=new ve;return Ue.closed=!0,Ue})();const ke=ve.EMPTY;function Ne(Ue){return Ue instanceof ve||Ue&&"closed"in Ue&&(0,p.m)(Ue.remove)&&(0,p.m)(Ue.add)&&(0,p.m)(Ue.unsubscribe)}function ae(Ue){(0,p.m)(Ue)?Ue():Ue.unsubscribe()}},2416:(Zt,xe,j)=>{"use strict";j.d(xe,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Zt,xe,j)=>{"use strict";j.d(xe,{a:()=>oe});var p=j(8306),f=j(4742),Z=j(8996),Ie=j(4671),ve=j(3268),ke=j(3269),Ne=j(1810),ae=j(5403),Ue=j(9672);function oe(...He){const qe=(0,ke.yG)(He),ft=(0,ke.jO)(He),{args:bt,keys:Je}=(0,f.D)(He);if(0===bt.length)return(0,Z.D)([],qe);const tt=new p.y(function de(He,qe,ft=Ie.y){return bt=>{Re(qe,()=>{const{length:Je}=He,tt=new Array(Je);let ct=Je,Et=Je;for(let ze=0;ze<Je;ze++)Re(qe,()=>{const ot=(0,Z.D)(He[ze],qe);let at=!1;ot.subscribe((0,ae.x)(bt,Tt=>{tt[ze]=Tt,at||(at=!0,Et--),Et||bt.next(ft(tt.slice()))},()=>{--ct||bt.complete()}))},bt)},bt)}}(bt,qe,Je?ct=>(0,Ne.n)(Je,ct):Ie.y));return ft?tt.pipe((0,ve.Z)(ft)):tt}function Re(He,qe,ft){He?(0,Ue.f)(ft,He,qe):qe()}},7272:(Zt,xe,j)=>{"use strict";j.d(xe,{z:()=>ve});var p=j(8189),Z=j(3269),Ie=j(8996);function ve(...ke){return function f(){return(0,p.J)(1)}()((0,Ie.D)(ke,(0,Z.yG)(ke)))}},515:(Zt,xe,j)=>{"use strict";j.d(xe,{E:()=>f});const f=new(j(8306).y)(ve=>ve.complete())},8996:(Zt,xe,j)=>{"use strict";j.d(xe,{D:()=>ot});var p=j(8421),f=j(5363),Z=j(9468),ke=j(8306),ae=j(2202),Ue=j(576),oe=j(9672);function Re(at,Tt){if(!at)throw new Error("Iterable cannot be null");return new ke.y(Ve=>{(0,oe.f)(Ve,Tt,()=>{const st=at[Symbol.asyncIterator]();(0,oe.f)(Ve,Tt,()=>{st.next().then(ut=>{ut.done?Ve.complete():Ve.next(ut.value)})},0,!0)})})}var He=j(3670),qe=j(8239),ft=j(1144),bt=j(6495),Je=j(2206),tt=j(4532),ct=j(3260);function ot(at,Tt){return Tt?function ze(at,Tt){if(null!=at){if((0,He.c)(at))return function Ie(at,Tt){return(0,p.Xf)(at).pipe((0,Z.R)(Tt),(0,f.Q)(Tt))}(at,Tt);if((0,ft.z)(at))return function Ne(at,Tt){return new ke.y(Ve=>{let st=0;return Tt.schedule(function(){st===at.length?Ve.complete():(Ve.next(at[st++]),Ve.closed||this.schedule())})})}(at,Tt);if((0,qe.t)(at))return function ve(at,Tt){return(0,p.Xf)(at).pipe((0,Z.R)(Tt),(0,f.Q)(Tt))}(at,Tt);if((0,Je.D)(at))return Re(at,Tt);if((0,bt.T)(at))return function de(at,Tt){return new ke.y(Ve=>{let st;return(0,oe.f)(Ve,Tt,()=>{st=at[ae.h](),(0,oe.f)(Ve,Tt,()=>{let ut,Te;try{({value:ut,done:Te}=st.next())}catch($e){return void Ve.error($e)}Te?Ve.complete():Ve.next(ut)},0,!0)}),()=>(0,Ue.m)(null==st?void 0:st.return)&&st.return()})}(at,Tt);if((0,ct.L)(at))return function Et(at,Tt){return Re((0,ct.Q)(at),Tt)}(at,Tt)}throw(0,tt.z)(at)}(at,Tt):(0,p.Xf)(at)}},8421:(Zt,xe,j)=>{"use strict";j.d(xe,{Xf:()=>He});var p=j(655),f=j(1144),Z=j(8239),Ie=j(8306),ve=j(3670),ke=j(2206),Ne=j(4532),ae=j(6495),Ue=j(3260),oe=j(576),de=j(7849),Re=j(8822);function He(ze){if(ze instanceof Ie.y)return ze;if(null!=ze){if((0,ve.c)(ze))return function qe(ze){return new Ie.y(ot=>{const at=ze[Re.L]();if((0,oe.m)(at.subscribe))return at.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,f.z)(ze))return function ft(ze){return new Ie.y(ot=>{for(let at=0;at<ze.length&&!ot.closed;at++)ot.next(ze[at]);ot.complete()})}(ze);if((0,Z.t)(ze))return function bt(ze){return new Ie.y(ot=>{ze.then(at=>{ot.closed||(ot.next(at),ot.complete())},at=>ot.error(at)).then(null,de.h)})}(ze);if((0,ke.D)(ze))return tt(ze);if((0,ae.T)(ze))return function Je(ze){return new Ie.y(ot=>{for(const at of ze)if(ot.next(at),ot.closed)return;ot.complete()})}(ze);if((0,Ue.L)(ze))return function ct(ze){return tt((0,Ue.Q)(ze))}(ze)}throw(0,Ne.z)(ze)}function tt(ze){return new Ie.y(ot=>{(function Et(ze,ot){var at,Tt,Ve,st;return(0,p.mG)(this,void 0,void 0,function*(){try{for(at=(0,p.KL)(ze);!(Tt=yield at.next()).done;)if(ot.next(Tt.value),ot.closed)return}catch(ut){Ve={error:ut}}finally{try{Tt&&!Tt.done&&(st=at.return)&&(yield st.call(at))}finally{if(Ve)throw Ve.error}}ot.complete()})})(ze,ot).catch(at=>ot.error(at))})}},6451:(Zt,xe,j)=>{"use strict";j.d(xe,{T:()=>ke});var p=j(8189),f=j(8421),Z=j(515),Ie=j(3269),ve=j(8996);function ke(...Ne){const ae=(0,Ie.yG)(Ne),Ue=(0,Ie._6)(Ne,1/0),oe=Ne;return oe.length?1===oe.length?(0,f.Xf)(oe[0]):(0,p.J)(Ue)((0,ve.D)(oe,ae)):Z.E}},9646:(Zt,xe,j)=>{"use strict";j.d(xe,{of:()=>Z});var p=j(3269),f=j(8996);function Z(...Ie){const ve=(0,p.yG)(Ie);return(0,f.D)(Ie,ve)}},5403:(Zt,xe,j)=>{"use strict";j.d(xe,{x:()=>f});var p=j(930);function f(Ie,ve,ke,Ne,ae){return new Z(Ie,ve,ke,Ne,ae)}class Z extends p.Lv{constructor(ve,ke,Ne,ae,Ue,oe){super(ve),this.onFinalize=Ue,this.shouldUnsubscribe=oe,this._next=ke?function(de){try{ke(de)}catch(Re){ve.error(Re)}}:super._next,this._error=ae?function(de){try{ae(de)}catch(Re){ve.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(de){ve.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},6590:(Zt,xe,j)=>{"use strict";j.d(xe,{d:()=>Z});var p=j(4482),f=j(5403);function Z(Ie){return(0,p.e)((ve,ke)=>{let Ne=!1;ve.subscribe((0,f.x)(ke,ae=>{Ne=!0,ke.next(ae)},()=>{Ne||ke.next(Ie),ke.complete()}))})}},9300:(Zt,xe,j)=>{"use strict";j.d(xe,{h:()=>Z});var p=j(4482),f=j(5403);function Z(Ie,ve){return(0,p.e)((ke,Ne)=>{let ae=0;ke.subscribe((0,f.x)(Ne,Ue=>Ie.call(ve,Ue,ae++)&&Ne.next(Ue)))})}},590:(Zt,xe,j)=>{"use strict";j.d(xe,{P:()=>Ne});var p=j(6805),f=j(9300),Z=j(5698),Ie=j(6590),ve=j(8068),ke=j(4671);function Ne(ae,Ue){const oe=arguments.length>=2;return de=>de.pipe(ae?(0,f.h)((Re,He)=>ae(Re,He,de)):ke.y,(0,Z.q)(1),oe?(0,Ie.d)(Ue):(0,ve.T)(()=>new p.K))}},4004:(Zt,xe,j)=>{"use strict";j.d(xe,{U:()=>Z});var p=j(4482),f=j(5403);function Z(Ie,ve){return(0,p.e)((ke,Ne)=>{let ae=0;ke.subscribe((0,f.x)(Ne,Ue=>{Ne.next(Ie.call(ve,Ue,ae++))}))})}},8189:(Zt,xe,j)=>{"use strict";j.d(xe,{J:()=>Z});var p=j(5577),f=j(4671);function Z(Ie=1/0){return(0,p.z)(f.y,Ie)}},5577:(Zt,xe,j)=>{"use strict";j.d(xe,{z:()=>ae});var p=j(4004),f=j(8421),Z=j(4482),Ie=j(9672),ve=j(5403),Ne=j(576);function ae(Ue,oe,de=1/0){return(0,Ne.m)(oe)?ae((Re,He)=>(0,p.U)((qe,ft)=>oe(Re,qe,He,ft))((0,f.Xf)(Ue(Re,He))),de):("number"==typeof oe&&(de=oe),(0,Z.e)((Re,He)=>function ke(Ue,oe,de,Re,He,qe,ft,bt){const Je=[];let tt=0,ct=0,Et=!1;const ze=()=>{Et&&!Je.length&&!tt&&oe.complete()},ot=Tt=>tt<Re?at(Tt):Je.push(Tt),at=Tt=>{qe&&oe.next(Tt),tt++;let Ve=!1;(0,f.Xf)(de(Tt,ct++)).subscribe((0,ve.x)(oe,st=>{null==He||He(st),qe?ot(st):oe.next(st)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(tt--;Je.length&&tt<Re;){const st=Je.shift();ft?(0,Ie.f)(oe,ft,()=>at(st)):at(st)}ze()}catch(st){oe.error(st)}}))};return Ue.subscribe((0,ve.x)(oe,ot,()=>{Et=!0,ze()})),()=>{null==bt||bt()}}(Re,He,Ue,de)))}},5363:(Zt,xe,j)=>{"use strict";j.d(xe,{Q:()=>Ie});var p=j(9672),f=j(4482),Z=j(5403);function Ie(ve,ke=0){return(0,f.e)((Ne,ae)=>{Ne.subscribe((0,Z.x)(ae,Ue=>(0,p.f)(ae,ve,()=>ae.next(Ue),ke),()=>(0,p.f)(ae,ve,()=>ae.complete(),ke),Ue=>(0,p.f)(ae,ve,()=>ae.error(Ue),ke)))})}},5026:(Zt,xe,j)=>{"use strict";j.d(xe,{R:()=>Ie});var p=j(4482),f=j(5403);function Z(ve,ke,Ne,ae,Ue){return(oe,de)=>{let Re=Ne,He=ke,qe=0;oe.subscribe((0,f.x)(de,ft=>{const bt=qe++;He=Re?ve(He,ft,bt):(Re=!0,ft),ae&&de.next(He)},Ue&&(()=>{Re&&de.next(He),de.complete()})))}}function Ie(ve,ke){return(0,p.e)(Z(ve,ke,arguments.length>=2,!0))}},3099:(Zt,xe,j)=>{"use strict";j.d(xe,{B:()=>ve});var p=j(8421),f=j(7579),Z=j(930),Ie=j(4482);function ve(Ne={}){const{connector:ae=(()=>new f.x),resetOnError:Ue=!0,resetOnComplete:oe=!0,resetOnRefCountZero:de=!0}=Ne;return Re=>{let He,qe,ft,bt=0,Je=!1,tt=!1;const ct=()=>{null==qe||qe.unsubscribe(),qe=void 0},Et=()=>{ct(),He=ft=void 0,Je=tt=!1},ze=()=>{const ot=He;Et(),null==ot||ot.unsubscribe()};return(0,Ie.e)((ot,at)=>{bt++,!tt&&!Je&&ct();const Tt=ft=null!=ft?ft:ae();at.add(()=>{bt--,0===bt&&!tt&&!Je&&(qe=ke(ze,de))}),Tt.subscribe(at),!He&&bt>0&&(He=new Z.Hp({next:Ve=>Tt.next(Ve),error:Ve=>{tt=!0,ct(),qe=ke(Et,Ue,Ve),Tt.error(Ve)},complete:()=>{Je=!0,ct(),qe=ke(Et,oe),Tt.complete()}}),(0,p.Xf)(ot).subscribe(He))})(Re)}}function ke(Ne,ae,...Ue){if(!0===ae)return void Ne();if(!1===ae)return;const oe=new Z.Hp({next:()=>{oe.unsubscribe(),Ne()}});return ae(...Ue).subscribe(oe)}},8675:(Zt,xe,j)=>{"use strict";j.d(xe,{O:()=>Ie});var p=j(7272),f=j(3269),Z=j(4482);function Ie(...ve){const ke=(0,f.yG)(ve);return(0,Z.e)((Ne,ae)=>{(ke?(0,p.z)(ve,Ne,ke):(0,p.z)(ve,Ne)).subscribe(ae)})}},9468:(Zt,xe,j)=>{"use strict";j.d(xe,{R:()=>f});var p=j(4482);function f(Z,Ie=0){return(0,p.e)((ve,ke)=>{ke.add(Z.schedule(()=>ve.subscribe(ke),Ie))})}},3900:(Zt,xe,j)=>{"use strict";j.d(xe,{w:()=>Ie});var p=j(8421),f=j(4482),Z=j(5403);function Ie(ve,ke){return(0,f.e)((Ne,ae)=>{let Ue=null,oe=0,de=!1;const Re=()=>de&&!Ue&&ae.complete();Ne.subscribe((0,Z.x)(ae,He=>{null==Ue||Ue.unsubscribe();let qe=0;const ft=oe++;(0,p.Xf)(ve(He,ft)).subscribe(Ue=(0,Z.x)(ae,bt=>ae.next(ke?ke(He,bt,ft,qe++):bt),()=>{Ue=null,Re()}))},()=>{de=!0,Re()}))})}},5698:(Zt,xe,j)=>{"use strict";j.d(xe,{q:()=>Ie});var p=j(515),f=j(4482),Z=j(5403);function Ie(ve){return ve<=0?()=>p.E:(0,f.e)((ke,Ne)=>{let ae=0;ke.subscribe((0,Z.x)(Ne,Ue=>{++ae<=ve&&(Ne.next(Ue),ve<=ae&&Ne.complete())}))})}},8505:(Zt,xe,j)=>{"use strict";j.d(xe,{b:()=>ve});var p=j(576),f=j(4482),Z=j(5403),Ie=j(4671);function ve(ke,Ne,ae){const Ue=(0,p.m)(ke)||Ne||ae?{next:ke,error:Ne,complete:ae}:ke;return Ue?(0,f.e)((oe,de)=>{var Re;null===(Re=Ue.subscribe)||void 0===Re||Re.call(Ue);let He=!0;oe.subscribe((0,Z.x)(de,qe=>{var ft;null===(ft=Ue.next)||void 0===ft||ft.call(Ue,qe),de.next(qe)},()=>{var qe;He=!1,null===(qe=Ue.complete)||void 0===qe||qe.call(Ue),de.complete()},qe=>{var ft;He=!1,null===(ft=Ue.error)||void 0===ft||ft.call(Ue,qe),de.error(qe)},()=>{var qe,ft;He&&(null===(qe=Ue.unsubscribe)||void 0===qe||qe.call(Ue)),null===(ft=Ue.finalize)||void 0===ft||ft.call(Ue)}))}):Ie.y}},8068:(Zt,xe,j)=>{"use strict";j.d(xe,{T:()=>Ie});var p=j(6805),f=j(4482),Z=j(5403);function Ie(ke=ve){return(0,f.e)((Ne,ae)=>{let Ue=!1;Ne.subscribe((0,Z.x)(ae,oe=>{Ue=!0,ae.next(oe)},()=>Ue?ae.complete():ae.error(ke())))})}function ve(){return new p.K}},4408:(Zt,xe,j)=>{"use strict";j.d(xe,{o:()=>ve});var p=j(727);class f extends p.w0{constructor(Ne,ae){super()}schedule(Ne,ae=0){return this}}const Z={setInterval(ke,Ne,...ae){const{delegate:Ue}=Z;return(null==Ue?void 0:Ue.setInterval)?Ue.setInterval(ke,Ne,...ae):setInterval(ke,Ne,...ae)},clearInterval(ke){const{delegate:Ne}=Z;return((null==Ne?void 0:Ne.clearInterval)||clearInterval)(ke)},delegate:void 0};var Ie=j(8737);class ve extends f{constructor(Ne,ae){super(Ne,ae),this.scheduler=Ne,this.work=ae,this.pending=!1}schedule(Ne,ae=0){var Ue;if(this.closed)return this;this.state=Ne;const oe=this.id,de=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(de,oe,ae)),this.pending=!0,this.delay=ae,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(de,this.id,ae),this}requestAsyncId(Ne,ae,Ue=0){return Z.setInterval(Ne.flush.bind(Ne,this),Ue)}recycleAsyncId(Ne,ae,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return ae;null!=ae&&Z.clearInterval(ae)}execute(Ne,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(Ne,ae);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,ae){let oe,Ue=!1;try{this.work(Ne)}catch(de){Ue=!0,oe=de||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:ae}=this,{actions:Ue}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(Ue,this),null!=Ne&&(this.id=this.recycleAsyncId(ae,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(Zt,xe,j)=>{"use strict";j.d(xe,{v:()=>Z});var p=j(6063);class f{constructor(ve,ke=f.now){this.schedulerActionCtor=ve,this.now=ke}schedule(ve,ke=0,Ne){return new this.schedulerActionCtor(this,ve).schedule(Ne,ke)}}f.now=p.l.now;class Z extends f{constructor(ve,ke=f.now){super(ve,ke),this.actions=[],this._active=!1}flush(ve){const{actions:ke}=this;if(this._active)return void ke.push(ve);let Ne;this._active=!0;do{if(Ne=ve.execute(ve.state,ve.delay))break}while(ve=ke.shift());if(this._active=!1,Ne){for(;ve=ke.shift();)ve.unsubscribe();throw Ne}}}},4986:(Zt,xe,j)=>{"use strict";j.d(xe,{P:()=>Ie,z:()=>Z});var p=j(4408);const Z=new(j(7565).v)(p.o),Ie=Z},6063:(Zt,xe,j)=>{"use strict";j.d(xe,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Zt,xe,j)=>{"use strict";j.d(xe,{z:()=>p});const p={setTimeout(f,Z,...Ie){const{delegate:ve}=p;return(null==ve?void 0:ve.setTimeout)?ve.setTimeout(f,Z,...Ie):setTimeout(f,Z,...Ie)},clearTimeout(f){const{delegate:Z}=p;return((null==Z?void 0:Z.clearTimeout)||clearTimeout)(f)},delegate:void 0}},2202:(Zt,xe,j)=>{"use strict";j.d(xe,{h:()=>f});const f=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Zt,xe,j)=>{"use strict";j.d(xe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Zt,xe,j)=>{"use strict";j.d(xe,{K:()=>f});const f=(0,j(3888).d)(Z=>function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Zt,xe,j)=>{"use strict";j.d(xe,{_6:()=>ke,jO:()=>Ie,yG:()=>ve});var p=j(576),f=j(3532);function Z(Ne){return Ne[Ne.length-1]}function Ie(Ne){return(0,p.m)(Z(Ne))?Ne.pop():void 0}function ve(Ne){return(0,f.K)(Z(Ne))?Ne.pop():void 0}function ke(Ne,ae){return"number"==typeof Z(Ne)?Ne.pop():ae}},4742:(Zt,xe,j)=>{"use strict";j.d(xe,{D:()=>ve});const{isArray:p}=Array,{getPrototypeOf:f,prototype:Z,keys:Ie}=Object;function ve(Ne){if(1===Ne.length){const ae=Ne[0];if(p(ae))return{args:ae,keys:null};if(function ke(Ne){return Ne&&"object"==typeof Ne&&f(Ne)===Z}(ae)){const Ue=Ie(ae);return{args:Ue.map(oe=>ae[oe]),keys:Ue}}}return{args:Ne,keys:null}}},8737:(Zt,xe,j)=>{"use strict";function p(f,Z){if(f){const Ie=f.indexOf(Z);0<=Ie&&f.splice(Ie,1)}}j.d(xe,{P:()=>p})},3888:(Zt,xe,j)=>{"use strict";function p(f){const Ie=f(ve=>{Error.call(ve),ve.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}j.d(xe,{d:()=>p})},1810:(Zt,xe,j)=>{"use strict";function p(f,Z){return f.reduce((Ie,ve,ke)=>(Ie[ve]=Z[ke],Ie),{})}j.d(xe,{n:()=>p})},2806:(Zt,xe,j)=>{"use strict";j.d(xe,{O:()=>Ie,x:()=>Z});var p=j(2416);let f=null;function Z(ve){if(p.v.useDeprecatedSynchronousErrorHandling){const ke=!f;if(ke&&(f={errorThrown:!1,error:null}),ve(),ke){const{errorThrown:Ne,error:ae}=f;if(f=null,Ne)throw ae}}else ve()}function Ie(ve){p.v.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=ve)}},9672:(Zt,xe,j)=>{"use strict";function p(f,Z,Ie,ve=0,ke=!1){const Ne=Z.schedule(function(){Ie(),ke?f.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(f.add(Ne),!ke)return Ne}j.d(xe,{f:()=>p})},4671:(Zt,xe,j)=>{"use strict";function p(f){return f}j.d(xe,{y:()=>p})},1144:(Zt,xe,j)=>{"use strict";j.d(xe,{z:()=>p});const p=f=>f&&"number"==typeof f.length&&"function"!=typeof f},2206:(Zt,xe,j)=>{"use strict";j.d(xe,{D:()=>f});var p=j(576);function f(Z){return Symbol.asyncIterator&&(0,p.m)(null==Z?void 0:Z[Symbol.asyncIterator])}},576:(Zt,xe,j)=>{"use strict";function p(f){return"function"==typeof f}j.d(xe,{m:()=>p})},3670:(Zt,xe,j)=>{"use strict";j.d(xe,{c:()=>Z});var p=j(8822),f=j(576);function Z(Ie){return(0,f.m)(Ie[p.L])}},6495:(Zt,xe,j)=>{"use strict";j.d(xe,{T:()=>Z});var p=j(2202),f=j(576);function Z(Ie){return(0,f.m)(null==Ie?void 0:Ie[p.h])}},8239:(Zt,xe,j)=>{"use strict";j.d(xe,{t:()=>f});var p=j(576);function f(Z){return(0,p.m)(null==Z?void 0:Z.then)}},3260:(Zt,xe,j)=>{"use strict";j.d(xe,{L:()=>Ie,Q:()=>Z});var p=j(655),f=j(576);function Z(ve){return(0,p.FC)(this,arguments,function*(){const Ne=ve.getReader();try{for(;;){const{value:ae,done:Ue}=yield(0,p.qq)(Ne.read());if(Ue)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ae)}}finally{Ne.releaseLock()}})}function Ie(ve){return(0,f.m)(null==ve?void 0:ve.getReader)}},3532:(Zt,xe,j)=>{"use strict";j.d(xe,{K:()=>f});var p=j(576);function f(Z){return Z&&(0,p.m)(Z.schedule)}},4482:(Zt,xe,j)=>{"use strict";j.d(xe,{A:()=>f,e:()=>Z});var p=j(576);function f(Ie){return(0,p.m)(null==Ie?void 0:Ie.lift)}function Z(Ie){return ve=>{if(f(ve))return ve.lift(function(ke){try{return Ie(ke,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Zt,xe,j)=>{"use strict";j.d(xe,{Z:()=>Ie});var p=j(4004);const{isArray:f}=Array;function Ie(ve){return(0,p.U)(ke=>function Z(ve,ke){return f(ke)?ve(...ke):ve(ke)}(ve,ke))}},5032:(Zt,xe,j)=>{"use strict";function p(){}j.d(xe,{Z:()=>p})},7849:(Zt,xe,j)=>{"use strict";j.d(xe,{h:()=>Z});var p=j(2416),f=j(3410);function Z(Ie){f.z.setTimeout(()=>{const{onUnhandledError:ve}=p.v;if(!ve)throw Ie;ve(Ie)})}},4532:(Zt,xe,j)=>{"use strict";function p(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(xe,{z:()=>p})},5226:function(Zt){Zt.exports=function(){"use strict";var xe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const p=N=>{const M={};for(const J in N)M[N[J]]="swal2-"+N[J];return M},f=p(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),Z=p(["success","warning","info","question","error"]),Ie="SweetAlert2:",ke=N=>N.charAt(0).toUpperCase()+N.slice(1),Ne=N=>{console.warn("".concat(Ie," ").concat("object"==typeof N?N.join(" "):N))},ae=N=>{console.error("".concat(Ie," ").concat(N))},Ue=[],de=(N,M)=>{(N=>{Ue.includes(N)||(Ue.push(N),Ne(N))})('"'.concat(N,'" is deprecated and will be removed in the next major release. Please use "').concat(M,'" instead.'))},Re=N=>"function"==typeof N?N():N,He=N=>N&&"function"==typeof N.toPromise,qe=N=>He(N)?N.toPromise():Promise.resolve(N),ft=N=>N&&Promise.resolve(N)===N,bt=()=>document.body.querySelector(".".concat(f.container)),Je=N=>{const M=bt();return M?M.querySelector(N):null},tt=N=>Je(".".concat(N)),ct=()=>tt(f.popup),Et=()=>tt(f.icon),ot=()=>tt(f.title),at=()=>tt(f["html-container"]),Tt=()=>tt(f.image),Ve=()=>tt(f["progress-steps"]),st=()=>tt(f["validation-message"]),ut=()=>Je(".".concat(f.actions," .").concat(f.confirm)),Te=()=>Je(".".concat(f.actions," .").concat(f.deny)),Le=()=>Je(".".concat(f.loader)),Ke=()=>Je(".".concat(f.actions," .").concat(f.cancel)),Ze=()=>tt(f.actions),Nt=()=>tt(f.footer),Lt=()=>tt(f["timer-progress-bar"]),wt=()=>tt(f.close),Xe=()=>{const N=Array.from(ct().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((J,be)=>{const Ct=parseInt(J.getAttribute("tabindex")),Kt=parseInt(be.getAttribute("tabindex"));return Ct>Kt?1:Ct<Kt?-1:0}),M=Array.from(ct().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(J=>"-1"!==J.getAttribute("tabindex"));return(N=>{const M=[];for(let J=0;J<N.length;J++)-1===M.indexOf(N[J])&&M.push(N[J]);return M})(N.concat(M)).filter(J=>nr(J))},pt=()=>Cn(document.body,f.shown)&&!Cn(document.body,f["toast-shown"])&&!Cn(document.body,f["no-backdrop"]),en=()=>ct()&&Cn(ct(),f.toast),gn={previousBodyPadding:null},Yt=(N,M)=>{if(N.textContent="",M){const be=(new DOMParser).parseFromString(M,"text/html");Array.from(be.querySelector("head").childNodes).forEach(Ct=>{N.appendChild(Ct)}),Array.from(be.querySelector("body").childNodes).forEach(Ct=>{Ct instanceof HTMLVideoElement||Ct instanceof HTMLAudioElement?N.appendChild(Ct.cloneNode(!0)):N.appendChild(Ct)})}},Cn=(N,M)=>{if(!M)return!1;const J=M.split(/\s+/);for(let be=0;be<J.length;be++)if(!N.classList.contains(J[be]))return!1;return!0},Xn=(N,M,J)=>{if(((N,M)=>{Array.from(N.classList).forEach(J=>{!Object.values(f).includes(J)&&!Object.values(Z).includes(J)&&!Object.values(M.showClass).includes(J)&&N.classList.remove(J)})})(N,M),M.customClass&&M.customClass[J]){if("string"!=typeof M.customClass[J]&&!M.customClass[J].forEach)return void Ne("Invalid type of customClass.".concat(J,'! Expected string or iterable object, got "').concat(typeof M.customClass[J],'"'));vn(N,M.customClass[J])}},_r=(N,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return N.querySelector(".".concat(f.popup," > .").concat(f[M]));case"checkbox":return N.querySelector(".".concat(f.popup," > .").concat(f.checkbox," input"));case"radio":return N.querySelector(".".concat(f.popup," > .").concat(f.radio," input:checked"))||N.querySelector(".".concat(f.popup," > .").concat(f.radio," input:first-child"));case"range":return N.querySelector(".".concat(f.popup," > .").concat(f.range," input"));default:return N.querySelector(".".concat(f.popup," > .").concat(f.input))}},tr=N=>{if(N.focus(),"file"!==N.type){const M=N.value;N.value="",N.value=M}},Nr=(N,M,J)=>{!N||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(be=>{Array.isArray(N)?N.forEach(Ct=>{J?Ct.classList.add(be):Ct.classList.remove(be)}):J?N.classList.add(be):N.classList.remove(be)}))},vn=(N,M)=>{Nr(N,M,!0)},rr=(N,M)=>{Nr(N,M,!1)},ir=(N,M)=>{const J=Array.from(N.children);for(let be=0;be<J.length;be++){const Ct=J[be];if(Ct instanceof HTMLElement&&Cn(Ct,M))return Ct}},Rr=(N,M,J)=>{J==="".concat(parseInt(J))&&(J=parseInt(J)),J||0===parseInt(J)?N.style[M]="number"==typeof J?"".concat(J,"px"):J:N.style.removeProperty(M)},Qt=function(N){N.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ln=N=>{N.style.display="none"},Bn=(N,M,J,be)=>{const Ct=N.querySelector(M);Ct&&(Ct.style[J]=be)},Gt=function(N,M){M?Qt(N,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ln(N)},nr=N=>!(!N||!(N.offsetWidth||N.offsetHeight||N.getClientRects().length)),li=N=>N.scrollHeight>N.clientHeight,Tr=N=>{const M=window.getComputedStyle(N),J=parseFloat(M.getPropertyValue("animation-duration")||"0"),be=parseFloat(M.getPropertyValue("transition-duration")||"0");return J>0||be>0},Wr=function(N){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const J=Lt();nr(J)&&(M&&(J.style.transition="none",J.style.width="100%"),setTimeout(()=>{J.style.transition="width ".concat(N/1e3,"s linear"),J.style.width="0%"},10))},St={},_i=N=>new Promise(M=>{if(!N)return M();const J=window.scrollX,be=window.scrollY;St.restoreFocusTimeout=setTimeout(()=>{St.previousActiveElement instanceof HTMLElement?(St.previousActiveElement.focus(),St.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(J,be)}),Ur=()=>"undefined"==typeof window||"undefined"==typeof document,lr='\n <div aria-labelledby="'.concat(f.title,'" aria-describedby="').concat(f["html-container"],'" class="').concat(f.popup,'" tabindex="-1">\n   <button type="button" class="').concat(f.close,'"></button>\n   <ul class="').concat(f["progress-steps"],'"></ul>\n   <div class="').concat(f.icon,'"></div>\n   <img class="').concat(f.image,'" />\n   <h2 class="').concat(f.title,'" id="').concat(f.title,'"></h2>\n   <div class="').concat(f["html-container"],'" id="').concat(f["html-container"],'"></div>\n   <input class="').concat(f.input,'" />\n   <input type="file" class="').concat(f.file,'" />\n   <div class="').concat(f.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(f.select,'"></select>\n   <div class="').concat(f.radio,'"></div>\n   <label for="').concat(f.checkbox,'" class="').concat(f.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(f.label,'"></span>\n   </label>\n   <textarea class="').concat(f.textarea,'"></textarea>\n   <div class="').concat(f["validation-message"],'" id="').concat(f["validation-message"],'"></div>\n   <div class="').concat(f.actions,'">\n     <div class="').concat(f.loader,'"></div>\n     <button type="button" class="').concat(f.confirm,'"></button>\n     <button type="button" class="').concat(f.deny,'"></button>\n     <button type="button" class="').concat(f.cancel,'"></button>\n   </div>\n   <div class="').concat(f.footer,'"></div>\n   <div class="').concat(f["timer-progress-bar-container"],'">\n     <div class="').concat(f["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ur=()=>{St.currentInstance.resetValidationMessage()},ci=N=>{const M=(()=>{const N=bt();return!!N&&(N.remove(),rr([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0)})();if(Ur())return void ae("SweetAlert2 requires document to initialize");const J=document.createElement("div");J.className=f.container,M&&vn(J,f["no-transition"]),Yt(J,lr);const be=(N=>"string"==typeof N?document.querySelector(N):N)(N.target);be.appendChild(J),(N=>{const M=ct();M.setAttribute("role",N.toast?"alert":"dialog"),M.setAttribute("aria-live",N.toast?"polite":"assertive"),N.toast||M.setAttribute("aria-modal","true")})(N),(N=>{"rtl"===window.getComputedStyle(N).direction&&vn(bt(),f.rtl)})(be),(()=>{const N=ct(),M=ir(N,f.input),J=ir(N,f.file),be=N.querySelector(".".concat(f.range," input")),Ct=N.querySelector(".".concat(f.range," output")),Kt=ir(N,f.select),Oi=N.querySelector(".".concat(f.checkbox," input")),Mn=ir(N,f.textarea);M.oninput=ur,J.onchange=ur,Kt.onchange=ur,Oi.onchange=ur,Mn.oninput=ur,be.oninput=()=>{ur(),Ct.value=be.value},be.onchange=()=>{ur(),Ct.value=be.value}})()},Bt=(N,M)=>{N instanceof HTMLElement?M.appendChild(N):"object"==typeof N?_t(N,M):N&&Yt(M,N)},_t=(N,M)=>{N.jquery?qt(M,N):Yt(M,N.toString())},qt=(N,M)=>{if(N.textContent="",0 in M)for(let J=0;J in M;J++)N.appendChild(M[J].cloneNode(!0));else N.appendChild(M.cloneNode(!0))},tn=(()=>{if(Ur())return!1;const N=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const J in M)if(Object.prototype.hasOwnProperty.call(M,J)&&void 0!==N.style[J])return M[J];return!1})(),Zn=(N,M)=>{const J=Ze(),be=Le();M.showConfirmButton||M.showDenyButton||M.showCancelButton?Qt(J):Ln(J),Xn(J,M,"actions"),function pe(N,M,J){const be=ut(),Ct=Te(),Kt=Ke();Fe(be,"confirm",J),Fe(Ct,"deny",J),Fe(Kt,"cancel",J),function me(N,M,J,be){be.buttonsStyling?(vn([N,M,J],f.styled),be.confirmButtonColor&&(N.style.backgroundColor=be.confirmButtonColor,vn(N,f["default-outline"])),be.denyButtonColor&&(M.style.backgroundColor=be.denyButtonColor,vn(M,f["default-outline"])),be.cancelButtonColor&&(J.style.backgroundColor=be.cancelButtonColor,vn(J,f["default-outline"]))):rr([N,M,J],f.styled)}(be,Ct,Kt,J),J.reverseButtons&&(J.toast?(N.insertBefore(Kt,be),N.insertBefore(Ct,be)):(N.insertBefore(Kt,M),N.insertBefore(Ct,M),N.insertBefore(be,M)))}(J,be,M),Yt(be,M.loaderHtml),Xn(be,M,"loader")};function Fe(N,M,J){Gt(N,J["show".concat(ke(M),"Button")],"inline-block"),Yt(N,J["".concat(M,"ButtonText")]),N.setAttribute("aria-label",J["".concat(M,"ButtonAriaLabel")]),N.className=f[M],Xn(N,J,"".concat(M,"Button")),vn(N,J["".concat(M,"ButtonClass")])}const ie=(N,M)=>{const J=bt();!J||(function ce(N,M){"string"==typeof M?N.style.background=M:M||vn([document.documentElement,document.body],f["no-backdrop"])}(J,M.backdrop),function Ye(N,M){M in f?vn(N,f[M]):(Ne('The "position" parameter is not valid, defaulting to "center"'),vn(N,f.center))}(J,M.position),function Ot(N,M){if(M&&"string"==typeof M){const J="grow-".concat(M);J in f&&vn(N,f[J])}}(J,M.grow),Xn(J,M,"container"))};const sn=["input","file","range","select","radio","checkbox","textarea"],$n=N=>{if(!xr[N.input])return void ae('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(N.input,'"'));const M=Sn(N.input),J=xr[N.input](M,N);Qt(M),setTimeout(()=>{tr(J)})},Er=(N,M)=>{const J=_r(ct(),N);if(J){(N=>{for(let M=0;M<N.attributes.length;M++){const J=N.attributes[M].name;["type","value","style"].includes(J)||N.removeAttribute(J)}})(J);for(const be in M)J.setAttribute(be,M[be])}},qr=N=>{const M=Sn(N.input);"object"==typeof N.customClass&&vn(M,N.customClass.input)},It=(N,M)=>{(!N.placeholder||M.inputPlaceholder)&&(N.placeholder=M.inputPlaceholder)},Ht=(N,M,J)=>{if(J.inputLabel){N.id=f.input;const be=document.createElement("label"),Ct=f["input-label"];be.setAttribute("for",N.id),be.className=Ct,"object"==typeof J.customClass&&vn(be,J.customClass.inputLabel),be.innerText=J.inputLabel,M.insertAdjacentElement("beforebegin",be)}},Sn=N=>ir(ct(),f[N]||f.input),Un=(N,M)=>{["string","number"].includes(typeof M)?N.value="".concat(M):ft(M)||Ne('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof M,'"'))},xr={};xr.text=xr.email=xr.password=xr.number=xr.tel=xr.url=(N,M)=>(Un(N,M.inputValue),Ht(N,N,M),It(N,M),N.type=M.input,N),xr.file=(N,M)=>(Ht(N,N,M),It(N,M),N),xr.range=(N,M)=>{const J=N.querySelector("input"),be=N.querySelector("output");return Un(J,M.inputValue),J.type=M.input,Un(be,M.inputValue),Ht(J,N,M),N},xr.select=(N,M)=>{if(N.textContent="",M.inputPlaceholder){const J=document.createElement("option");Yt(J,M.inputPlaceholder),J.value="",J.disabled=!0,J.selected=!0,N.appendChild(J)}return Ht(N,N,M),N},xr.radio=N=>(N.textContent="",N),xr.checkbox=(N,M)=>{const J=_r(ct(),"checkbox");J.value="1",J.id=f.checkbox,J.checked=Boolean(M.inputValue);const be=N.querySelector("span");return Yt(be,M.inputPlaceholder),J},xr.textarea=(N,M)=>{Un(N,M.inputValue),It(N,M),Ht(N,N,M);return setTimeout(()=>{if("MutationObserver"in window){const be=parseInt(window.getComputedStyle(ct()).width);new MutationObserver(()=>{const Kt=N.offsetWidth+(be=>parseInt(window.getComputedStyle(be).marginLeft)+parseInt(window.getComputedStyle(be).marginRight))(N);ct().style.width=Kt>be?"".concat(Kt,"px"):null}).observe(N,{attributes:!0,attributeFilter:["style"]})}}),N};const Gr=(N,M)=>{const J=at();Xn(J,M,"htmlContainer"),M.html?(Bt(M.html,J),Qt(J,"block")):M.text?(J.textContent=M.text,Qt(J,"block")):Ln(J),((N,M)=>{const J=ct(),be=xe.innerParams.get(N),Ct=!be||M.input!==be.input;sn.forEach(Kt=>{const Oi=ir(J,f[Kt]);Er(Kt,M.inputAttributes),Oi.className=f[Kt],Ct&&Ln(Oi)}),M.input&&(Ct&&$n(M),qr(M))})(N,M)},dr=(N,M)=>{for(const J in Z)M.icon!==J&&rr(N,Z[J]);vn(N,Z[M.icon]),jn(N,M),ei(),Xn(N,M,"icon")},ei=()=>{const N=ct(),M=window.getComputedStyle(N).getPropertyValue("background-color"),J=N.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let be=0;be<J.length;be++)J[be].style.backgroundColor=M},Gi=(N,M)=>{let be,J=N.innerHTML;M.iconHtml?be=Ri(M.iconHtml):"success"===M.icon?(be='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',J=J.replace(/ style=".*?"/g,"")):be="error"===M.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ri({question:"?",warning:"!",info:"i"}[M.icon]),J.trim()!==be.trim()&&Yt(N,be)},jn=(N,M)=>{if(M.iconColor){N.style.color=M.iconColor,N.style.borderColor=M.iconColor;for(const J of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Bn(N,J,"backgroundColor",M.iconColor);Bn(N,".swal2-success-ring","borderColor",M.iconColor)}},Ri=N=>'<div class="'.concat(f["icon-content"],'">').concat(N,"</div>"),Ei=(N,M)=>{N.className="".concat(f.popup," ").concat(nr(N)?M.showClass.popup:""),M.toast?(vn([document.documentElement,document.body],f["toast-shown"]),vn(N,f.toast)):vn(N,f.modal),Xn(N,M,"popup"),"string"==typeof M.customClass&&vn(N,M.customClass),M.icon&&vn(N,f["icon-".concat(M.icon)])},ui=N=>{const M=document.createElement("li");return vn(M,f["progress-step"]),Yt(M,N),M},Jn=N=>{const M=document.createElement("li");return vn(M,f["progress-step-line"]),N.progressStepsDistance&&Rr(M,"width",N.progressStepsDistance),M},xi=(N,M)=>{((N,M)=>{const J=bt(),be=ct();M.toast?(Rr(J,"width",M.width),be.style.width="100%",be.insertBefore(Le(),Et())):Rr(be,"width",M.width),Rr(be,"padding",M.padding),M.color&&(be.style.color=M.color),M.background&&(be.style.background=M.background),Ln(st()),Ei(be,M)})(0,M),ie(0,M),((N,M)=>{const J=Ve();M.progressSteps&&0!==M.progressSteps.length?(Qt(J),J.textContent="",M.currentProgressStep>=M.progressSteps.length&&Ne("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((be,Ct)=>{const Kt=ui(be);if(J.appendChild(Kt),Ct===M.currentProgressStep&&vn(Kt,f["active-progress-step"]),Ct!==M.progressSteps.length-1){const Oi=Jn(M);J.appendChild(Oi)}})):Ln(J)})(0,M),((N,M)=>{const J=xe.innerParams.get(N),be=Et();J&&M.icon===J.icon?(Gi(be,M),dr(be,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(Z).indexOf(M.icon)?(ae('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(M.icon,'"')),Ln(be)):(Qt(be),Gi(be,M),dr(be,M),vn(be,M.showClass.icon)):Ln(be)})(N,M),((N,M)=>{const J=Tt();M.imageUrl?(Qt(J,""),J.setAttribute("src",M.imageUrl),J.setAttribute("alt",M.imageAlt),Rr(J,"width",M.imageWidth),Rr(J,"height",M.imageHeight),J.className=f.image,Xn(J,M,"image")):Ln(J)})(0,M),((N,M)=>{const J=ot();Gt(J,M.title||M.titleText,"block"),M.title&&Bt(M.title,J),M.titleText&&(J.innerText=M.titleText),Xn(J,M,"title")})(0,M),((N,M)=>{const J=wt();Yt(J,M.closeButtonHtml),Xn(J,M,"closeButton"),Gt(J,M.showCloseButton),J.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),Gr(N,M),Zn(0,M),((N,M)=>{const J=Nt();Gt(J,M.footer),M.footer&&Bt(M.footer,J),Xn(J,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(ct())};function je(){const N=xe.innerParams.get(this);if(!N)return;const M=xe.domCache.get(this);Ln(M.loader),en()?N.icon&&Qt(Et()):Oe(M),rr([M.popup,M.actions],f.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const Oe=N=>{const M=N.popup.getElementsByClassName(N.loader.getAttribute("data-button-to-replace"));M.length?Qt(M[0],"inline-block"):!nr(ut())&&!nr(Te())&&!nr(Ke())&&Ln(N.actions)};const kt=()=>ut()&&ut().click(),jr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yr=N=>{N.keydownTarget&&N.keydownHandlerAdded&&(N.keydownTarget.removeEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!1)},bi=(N,M,J)=>{const be=Xe();if(be.length)return(M+=J)===be.length?M=0:-1===M&&(M=be.length-1),be[M].focus();ct().focus()},Ns=["ArrowRight","ArrowDown"],es=["ArrowLeft","ArrowUp"],Vi=(N,M,J)=>{const be=xe.innerParams.get(N);!be||M.isComposing||229===M.keyCode||(be.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?di(N,M,be):"Tab"===M.key?ho(M,be):[...Ns,...es].includes(M.key)?Xo(M.key):"Escape"===M.key&&ls(M,be,J))},di=(N,M,J)=>{if(Re(J.allowEnterKey)&&M.target&&N.getInput()&&M.target instanceof HTMLElement&&M.target.outerHTML===N.getInput().outerHTML){if(["textarea","file"].includes(J.input))return;kt(),M.preventDefault()}},ho=(N,M)=>{const J=N.target,be=Xe();let Ct=-1;for(let Kt=0;Kt<be.length;Kt++)if(J===be[Kt]){Ct=Kt;break}bi(0,Ct,N.shiftKey?-1:1),N.stopPropagation(),N.preventDefault()},Xo=N=>{const M=ut(),J=Te(),be=Ke();if(document.activeElement instanceof HTMLElement&&![M,J,be].includes(document.activeElement))return;const Ct=Ns.includes(N)?"nextElementSibling":"previousElementSibling";let Kt=document.activeElement;for(let Oi=0;Oi<Ze().children.length;Oi++){if(Kt=Kt[Ct],!Kt)return;if(Kt instanceof HTMLButtonElement&&nr(Kt))break}Kt instanceof HTMLButtonElement&&Kt.focus()},ls=(N,M,J)=>{Re(M.allowEscapeKey)&&(N.preventDefault(),J(jr.esc))};var no={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Uo=()=>{Array.from(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},ts=()=>{const N=navigator.userAgent,M=!!N.match(/iPad/i)||!!N.match(/iPhone/i),J=!!N.match(/WebKit/i);M&&J&&!N.match(/CriOS/i)&&ct().scrollHeight>window.innerHeight-44&&(bt().style.paddingBottom="".concat(44,"px"))},Bs=()=>{const N=bt();let M;N.ontouchstart=J=>{M=ro(J)},N.ontouchmove=J=>{M&&(J.preventDefault(),J.stopPropagation())}},ro=N=>{const M=N.target,J=bt();return!ea(N)&&!io(N)&&(M===J||!li(J)&&M instanceof HTMLElement&&"INPUT"!==M.tagName&&"TEXTAREA"!==M.tagName&&!(li(at())&&at().contains(M)))},ea=N=>N.touches&&N.touches.length&&"stylus"===N.touches[0].touchType,io=N=>N.touches&&N.touches.length>1,pa=()=>{null===gn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(gn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(gn.previousBodyPadding+(()=>{const N=document.createElement("div");N.className=f["scrollbar-measure"],document.body.appendChild(N);const M=N.getBoundingClientRect().width-N.clientWidth;return document.body.removeChild(N),M})(),"px"))};function mi(N,M,J,be){en()?Wi(N,be):(_i(J).then(()=>Wi(N,be)),yr(St)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),pt()&&(null!==gn.previousBodyPadding&&(document.body.style.paddingRight="".concat(gn.previousBodyPadding,"px"),gn.previousBodyPadding=null),(()=>{if(Cn(document.body,f.iosfix)){const N=parseInt(document.body.style.top,10);rr(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=-1*N}})(),Uo()),function Pi(){rr([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}()}function Kr(N){N=ns(N);const M=no.swalPromiseResolve.get(this),J=Jr(this);this.isAwaitingPromise()?N.isDismissed||(wi(this),M(N)):J&&M(N)}const Jr=N=>{const M=ct();if(!M)return!1;const J=xe.innerParams.get(N);if(!J||Cn(M,J.hideClass.popup))return!1;rr(M,J.showClass.popup),vn(M,J.hideClass.popup);const be=bt();return rr(be,J.showClass.backdrop),vn(be,J.hideClass.backdrop),oi(N,M,J),!0};const wi=N=>{N.isAwaitingPromise()&&(xe.awaitingPromise.delete(N),xe.innerParams.get(N)||N._destroy())},ns=N=>void 0===N?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},N),oi=(N,M,J)=>{const be=bt(),Ct=tn&&Tr(M);"function"==typeof J.willClose&&J.willClose(M),Ct?Gs(N,M,be,J.returnFocus,J.didClose):mi(N,be,J.returnFocus,J.didClose)},Gs=(N,M,J,be,Ct)=>{St.swalCloseEventFinishedCallback=mi.bind(null,N,J,be,Ct),M.addEventListener(tn,function(Kt){Kt.target===M&&(St.swalCloseEventFinishedCallback(),delete St.swalCloseEventFinishedCallback)})},Wi=(N,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(N.params)(),N._destroy()})};function Rs(N,M,J){const be=xe.domCache.get(N);M.forEach(Ct=>{be[Ct].disabled=J})}function rs(N,M){if(N)if("radio"===N.type){const be=N.parentNode.parentNode.querySelectorAll("input");for(let Ct=0;Ct<be.length;Ct++)be[Ct].disabled=M}else N.disabled=M}const Be={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},yt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Wt={},pn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],fn=N=>Object.prototype.hasOwnProperty.call(Be,N),mn=N=>-1!==yt.indexOf(N),F=N=>Wt[N],Q=N=>{fn(N)||Ne('Unknown parameter "'.concat(N,'"'))},V=N=>{pn.includes(N)&&Ne('The parameter "'.concat(N,'" is incompatible with toasts'))},ne=N=>{F(N)&&de(N,F(N))};const gt=N=>{const M={};return Object.keys(N).forEach(J=>{mn(J)?M[J]=N[J]:Ne("Invalid parameter to update: ".concat(J))}),M};const bn=N=>{En(N),delete N.params,delete St.keydownHandler,delete St.keydownTarget,delete St.currentInstance},En=N=>{N.isAwaitingPromise()?(In(xe,N),xe.awaitingPromise.set(N,!0)):(In(no,N),In(xe,N))},In=(N,M)=>{for(const J in N)N[J].delete(M)};var sr=Object.freeze({hideLoading:je,disableLoading:je,getInput:function We(N){const M=xe.innerParams.get(N||this),J=xe.domCache.get(N||this);return J?_r(J.popup,M.input):null},close:Kr,isAwaitingPromise:function Ni(){return!!xe.awaitingPromise.get(this)},rejectPromise:function vr(N){const M=no.swalPromiseReject.get(this);wi(this),M&&M(N)},handleAwaitingPromise:wi,closePopup:Kr,closeModal:Kr,closeToast:Kr,enableButtons:function Di(){Rs(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function jo(){Rs(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function hi(){rs(this.getInput(),!1)},disableInput:function G(){rs(this.getInput(),!0)},showValidationMessage:function K(N){const M=xe.domCache.get(this),J=xe.innerParams.get(this);Yt(M.validationMessage,N),M.validationMessage.className=f["validation-message"],J.customClass&&J.customClass.validationMessage&&vn(M.validationMessage,J.customClass.validationMessage),Qt(M.validationMessage);const be=this.getInput();be&&(be.setAttribute("aria-invalid",!0),be.setAttribute("aria-describedby",f["validation-message"]),tr(be),vn(be,f.inputerror))},resetValidationMessage:function _e(){const N=xe.domCache.get(this);N.validationMessage&&Ln(N.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),rr(M,f.inputerror))},getProgressSteps:function Se(){return xe.domCache.get(this).progressSteps},update:function lt(N){const M=ct(),J=xe.innerParams.get(this);if(!M||Cn(M,J.hideClass.popup))return Ne("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const be=gt(N),Ct=Object.assign({},J,be);xi(this,Ct),xe.innerParams.set(this,Ct),Object.defineProperties(this,{params:{value:Object.assign({},this.params,N),writable:!1,enumerable:!0}})},_destroy:function an(){const N=xe.domCache.get(this),M=xe.innerParams.get(this);M?(N.popup&&St.swalCloseEventFinishedCallback&&(St.swalCloseEventFinishedCallback(),delete St.swalCloseEventFinishedCallback),"function"==typeof M.didDestroy&&M.didDestroy(),bn(this)):En(this)}});const cr=N=>{let M=ct();M||new ya,M=ct();const J=Le();en()?Ln(Et()):Pr(M,N),Qt(J),M.setAttribute("data-loading","true"),M.setAttribute("aria-busy","true"),M.focus()},Pr=(N,M)=>{const J=Ze(),be=Le();!M&&nr(ut())&&(M=ut()),Qt(J),M&&(Ln(M),be.setAttribute("data-button-to-replace",M.className)),be.parentNode.insertBefore(be,M),vn([N,J],f.loading)},zi=N=>N.checked?1:0,ln=N=>N.checked?N.value:null,Ii=N=>N.files.length?null!==N.getAttribute("multiple")?N.files:N.files[0]:null,fo=(N,M)=>{const J=ct(),be=Ct=>{Zs[M.input](J,H(Ct),M)};He(M.inputOptions)||ft(M.inputOptions)?(cr(ut()),qe(M.inputOptions).then(Ct=>{N.hideLoading(),be(Ct)})):"object"==typeof M.inputOptions?be(M.inputOptions):ae("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof M.inputOptions))},Ws=(N,M)=>{const J=N.getInput();Ln(J),qe(M.inputValue).then(be=>{J.value="".concat("number"===M.input?parseFloat(be)||0:be),Qt(J),J.focus(),N.hideLoading()}).catch(be=>{ae("Error in inputValue promise: ".concat(be)),J.value="",Qt(J),J.focus(),N.hideLoading()})},Zs={select:(N,M,J)=>{const be=ir(N,f.select),Ct=(Kt,Oi,Mn)=>{const Ti=document.createElement("option");Ti.value=Mn,Yt(Ti,Oi),Ti.selected=L(Mn,J.inputValue),Kt.appendChild(Ti)};M.forEach(Kt=>{const Oi=Kt[0],Mn=Kt[1];if(Array.isArray(Mn)){const Ti=document.createElement("optgroup");Ti.label=Oi,Ti.disabled=!1,be.appendChild(Ti),Mn.forEach(qs=>Ct(Ti,qs[1],qs[0]))}else Ct(be,Mn,Oi)}),be.focus()},radio:(N,M,J)=>{const be=ir(N,f.radio);M.forEach(Kt=>{const Oi=Kt[0],Mn=Kt[1],Ti=document.createElement("input"),qs=document.createElement("label");Ti.type="radio",Ti.name=f.radio,Ti.value=Oi,L(Oi,J.inputValue)&&(Ti.checked=!0);const Si=document.createElement("span");Yt(Si,Mn),Si.className=f.label,qs.appendChild(Ti),qs.appendChild(Si),be.appendChild(qs)});const Ct=be.querySelectorAll("input");Ct.length&&Ct[0].focus()}},H=N=>{const M=[];return"undefined"!=typeof Map&&N instanceof Map?N.forEach((J,be)=>{let Ct=J;"object"==typeof Ct&&(Ct=H(Ct)),M.push([be,Ct])}):Object.keys(N).forEach(J=>{let be=N[J];"object"==typeof be&&(be=H(be)),M.push([J,be])}),M},L=(N,M)=>M&&M.toString()===N.toString(),At=(N,M)=>{const J=xe.innerParams.get(N);if(!J.input)return void ae('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ke(M)));const be=((N,M)=>{const J=N.getInput();if(!J)return null;switch(M.input){case"checkbox":return zi(J);case"radio":return ln(J);case"file":return Ii(J);default:return M.inputAutoTrim?J.value.trim():J.value}})(N,J);J.inputValidator?ti(N,be,M):N.getInput().checkValidity()?"deny"===M?hr(N,be):us(N,be):(N.enableButtons(),N.showValidationMessage(J.validationMessage))},ti=(N,M,J)=>{const be=xe.innerParams.get(N);N.disableInput(),Promise.resolve().then(()=>qe(be.inputValidator(M,be.validationMessage))).then(Kt=>{N.enableButtons(),N.enableInput(),Kt?N.showValidationMessage(Kt):"deny"===J?hr(N,M):us(N,M)})},hr=(N,M)=>{const J=xe.innerParams.get(N||void 0);J.showLoaderOnDeny&&cr(Te()),J.preDeny?(xe.awaitingPromise.set(N||void 0,!0),Promise.resolve().then(()=>qe(J.preDeny(M,J.validationMessage))).then(Ct=>{!1===Ct?(N.hideLoading(),wi(N)):N.close({isDenied:!0,value:void 0===Ct?M:Ct})}).catch(Ct=>ji(N||void 0,Ct))):N.close({isDenied:!0,value:M})},Es=(N,M)=>{N.close({isConfirmed:!0,value:M})},ji=(N,M)=>{N.rejectPromise(M)},us=(N,M)=>{const J=xe.innerParams.get(N||void 0);J.showLoaderOnConfirm&&cr(),J.preConfirm?(N.resetValidationMessage(),xe.awaitingPromise.set(N||void 0,!0),Promise.resolve().then(()=>qe(J.preConfirm(M,J.validationMessage))).then(Ct=>{nr(st())||!1===Ct?(N.hideLoading(),wi(N)):Es(N,void 0===Ct?M:Ct)}).catch(Ct=>ji(N||void 0,Ct))):Es(N,M)},po=(N,M,J)=>{M.popup.onclick=()=>{const be=xe.innerParams.get(N);be&&(ml(be)||be.timer||be.input)||J(jr.close)}},ml=N=>N.showConfirmButton||N.showDenyButton||N.showCancelButton||N.showCloseButton;let go=!1;const ol=N=>{N.popup.onmousedown=()=>{N.container.onmouseup=function(M){N.container.onmouseup=void 0,M.target===N.container&&(go=!0)}}},ta=N=>{N.container.onmousedown=()=>{N.popup.onmouseup=function(M){N.popup.onmouseup=void 0,(M.target===N.popup||N.popup.contains(M.target))&&(go=!0)}}},ki=(N,M,J)=>{M.container.onclick=be=>{const Ct=xe.innerParams.get(N);go?go=!1:be.target===M.container&&Re(Ct.allowOutsideClick)&&J(jr.backdrop)}},Ho=N=>N instanceof Element||(N=>"object"==typeof N&&N.jquery)(N);const Fa=()=>{if(St.timeout)return(()=>{const N=Lt(),M=parseInt(window.getComputedStyle(N).width);N.style.removeProperty("transition"),N.style.width="100%";const be=M/parseInt(window.getComputedStyle(N).width)*100;N.style.removeProperty("transition"),N.style.width="".concat(be,"%")})(),St.timeout.stop()},oo=()=>{if(St.timeout){const N=St.timeout.start();return Wr(N),N}};let ga=!1;const Is={};const qi=N=>{for(let M=N.target;M&&M!==document;M=M.parentNode)for(const J in Is){const be=M.getAttribute(J);if(be)return void Is[J].fire({template:be})}};var $o=Object.freeze({isValidParameter:fn,isUpdatableParameter:mn,isDeprecatedParameter:F,argsToParams:N=>{const M={};return"object"!=typeof N[0]||Ho(N[0])?["title","html","icon"].forEach((J,be)=>{const Ct=N[be];"string"==typeof Ct||Ho(Ct)?M[J]=Ct:void 0!==Ct&&ae("Unexpected type of ".concat(J,'! Expected "string" or "Element", got ').concat(typeof Ct))}):Object.assign(M,N[0]),M},isVisible:()=>nr(ct()),clickConfirm:kt,clickDeny:()=>Te()&&Te().click(),clickCancel:()=>Ke()&&Ke().click(),getContainer:bt,getPopup:ct,getTitle:ot,getHtmlContainer:at,getImage:Tt,getIcon:Et,getIconContent:()=>tt(f["icon-content"]),getInputLabel:()=>tt(f["input-label"]),getCloseButton:wt,getActions:Ze,getConfirmButton:ut,getDenyButton:Te,getCancelButton:Ke,getLoader:Le,getFooter:Nt,getTimerProgressBar:Lt,getFocusableElements:Xe,getValidationMessage:st,isLoading:()=>ct().hasAttribute("data-loading"),fire:function Ps(){const N=this;for(var M=arguments.length,J=new Array(M),be=0;be<M;be++)J[be]=arguments[be];return new N(...J)},mixin:function al(N){return class M extends(this){_main(be,Ct){return super._main(be,Object.assign({},N,Ct))}}},showLoading:cr,enableLoading:cr,getTimerLeft:()=>St.timeout&&St.timeout.getTimerLeft(),stopTimer:Fa,resumeTimer:oo,toggleTimer:()=>{const N=St.timeout;return N&&(N.running?Fa():oo())},increaseTimer:N=>{if(St.timeout){const M=St.timeout.increase(N);return Wr(M,!0),M}},isTimerRunning:()=>St.timeout&&St.timeout.isRunning(),bindClickHandler:function Ao(){Is[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ga||(document.body.addEventListener("click",qi),ga=!0)}});class Za{constructor(M,J){this.callback=M,this.remaining=J,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(M){const J=this.running;return J&&this.stop(),this.remaining+=M,J&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Go=["swal-title","swal-html","swal-footer"],na=N=>{const M={};return Array.from(N.querySelectorAll("swal-param")).forEach(be=>{Ki(be,["name","value"]);const Ct=be.getAttribute("name"),Kt=be.getAttribute("value");M[Ct]="boolean"==typeof Be[Ct]?"false"!==Kt:"object"==typeof Be[Ct]?JSON.parse(Kt):Kt}),M},ll=N=>{const M={};return Array.from(N.querySelectorAll("swal-function-param")).forEach(be=>{const Ct=be.getAttribute("name"),Kt=be.getAttribute("value");M[Ct]=new Function("return ".concat(Kt))()}),M},Ya=N=>{const M={};return Array.from(N.querySelectorAll("swal-button")).forEach(be=>{Ki(be,["type","color","aria-label"]);const Ct=be.getAttribute("type");M["".concat(Ct,"ButtonText")]=be.innerHTML,M["show".concat(ke(Ct),"Button")]=!0,be.hasAttribute("color")&&(M["".concat(Ct,"ButtonColor")]=be.getAttribute("color")),be.hasAttribute("aria-label")&&(M["".concat(Ct,"ButtonAriaLabel")]=be.getAttribute("aria-label"))}),M},_s=N=>{const M={},J=N.querySelector("swal-image");return J&&(Ki(J,["src","width","height","alt"]),J.hasAttribute("src")&&(M.imageUrl=J.getAttribute("src")),J.hasAttribute("width")&&(M.imageWidth=J.getAttribute("width")),J.hasAttribute("height")&&(M.imageHeight=J.getAttribute("height")),J.hasAttribute("alt")&&(M.imageAlt=J.getAttribute("alt"))),M},Wo=N=>{const M={},J=N.querySelector("swal-icon");return J&&(Ki(J,["type","color"]),J.hasAttribute("type")&&(M.icon=J.getAttribute("type")),J.hasAttribute("color")&&(M.iconColor=J.getAttribute("color")),M.iconHtml=J.innerHTML),M},Fi=N=>{const M={},J=N.querySelector("swal-input");J&&(Ki(J,["type","label","placeholder","value"]),M.input=J.getAttribute("type")||"text",J.hasAttribute("label")&&(M.inputLabel=J.getAttribute("label")),J.hasAttribute("placeholder")&&(M.inputPlaceholder=J.getAttribute("placeholder")),J.hasAttribute("value")&&(M.inputValue=J.getAttribute("value")));const be=Array.from(N.querySelectorAll("swal-input-option"));return be.length&&(M.inputOptions={},be.forEach(Ct=>{Ki(Ct,["value"]);const Kt=Ct.getAttribute("value");M.inputOptions[Kt]=Ct.innerHTML})),M},ma=(N,M)=>{const J={};for(const be in M){const Ct=M[be],Kt=N.querySelector(Ct);Kt&&(Ki(Kt,[]),J[Ct.replace(/^swal-/,"")]=Kt.innerHTML.trim())}return J},wu=N=>{const M=Go.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(N.children).forEach(J=>{const be=J.tagName.toLowerCase();M.includes(be)||Ne("Unrecognized element <".concat(be,">"))})},Ki=(N,M)=>{Array.from(N.attributes).forEach(J=>{-1===M.indexOf(J.name)&&Ne(['Unrecognized attribute "'.concat(J.name,'" on <').concat(N.tagName.toLowerCase(),">."),"".concat(M.length?"Allowed attributes are: ".concat(M.join(", ")):"To set the value, use HTML within the element.")])})},_a=N=>{const M=bt(),J=ct();"function"==typeof N.willOpen&&N.willOpen(J);const Ct=window.getComputedStyle(document.body).overflowY;Vt(M,J,N),setTimeout(()=>{Ts(M,J)},10),pt()&&(Mi(M,N.scrollbarPadding,Ct),Array.from(document.body.children).forEach(M=>{M===bt()||M.contains(bt())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!en()&&!St.previousActiveElement&&(St.previousActiveElement=document.activeElement),"function"==typeof N.didOpen&&setTimeout(()=>N.didOpen(J)),rr(M,f["no-transition"])},Us=N=>{const M=ct();if(N.target!==M)return;const J=bt();M.removeEventListener(tn,Us),J.style.overflowY="auto"},Ts=(N,M)=>{tn&&Tr(M)?(N.style.overflowY="hidden",M.addEventListener(tn,Us)):N.style.overflowY="auto"},Mi=(N,M,J)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Cn(document.body,f.iosfix)){const M=document.body.scrollTop;document.body.style.top="".concat(-1*M,"px"),vn(document.body,f.iosfix),Bs(),ts()}})(),M&&"hidden"!==J&&pa(),setTimeout(()=>{N.scrollTop=0})},Vt=(N,M,J)=>{vn(N,J.showClass.backdrop),M.style.setProperty("opacity","0","important"),Qt(M,"grid"),setTimeout(()=>{vn(M,J.showClass.popup),M.style.removeProperty("opacity")},10),vn([document.documentElement,document.body],f.shown),J.heightAuto&&J.backdrop&&!J.toast&&vn([document.documentElement,document.body],f["height-auto"])};var br={email:(N,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(N)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(N,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(N)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function _n(N){(function _o(N){N.inputValidator||Object.keys(br).forEach(M=>{N.input===M&&(N.inputValidator=br[M])})})(N),N.showLoaderOnConfirm&&!N.preConfirm&&Ne("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function xo(N){(!N.target||"string"==typeof N.target&&!document.querySelector(N.target)||"string"!=typeof N.target&&!N.target.appendChild)&&(Ne('Target parameter is not valid, defaulting to "body"'),N.target="body")}(N),"string"==typeof N.title&&(N.title=N.title.split("\n").join("<br />")),ci(N)}let Nn;class yo{constructor(){if("undefined"==typeof window)return;Nn=this;for(var M=arguments.length,J=new Array(M),be=0;be<M;be++)J[be]=arguments[be];const Ct=Object.freeze(this.constructor.argsToParams(J));Object.defineProperties(this,{params:{value:Ct,writable:!1,enumerable:!0,configurable:!0}});const Kt=Nn._main(Nn.params);xe.promise.set(this,Kt)}_main(M){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(N=>{!1===N.backdrop&&N.allowOutsideClick&&Ne('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in N)Q(M),N.toast&&V(M),ne(M)})(Object.assign({},J,M)),St.currentInstance&&(St.currentInstance._destroy(),pt()&&Uo()),St.currentInstance=Nn;const be=Qe(M,J);_n(be),Object.freeze(be),St.timeout&&(St.timeout.stop(),delete St.timeout),clearTimeout(St.restoreFocusTimeout);const Ct=Ut(Nn);return xi(Nn,be),xe.innerParams.set(Nn,be),dn(Nn,Ct,be)}then(M){return xe.promise.get(this).then(M)}finally(M){return xe.promise.get(this).finally(M)}}const dn=(N,M,J)=>new Promise((be,Ct)=>{const Kt=Oi=>{N.close({isDismissed:!0,dismiss:Oi})};no.swalPromiseResolve.set(N,be),no.swalPromiseReject.set(N,Ct),M.confirmButton.onclick=()=>{(N=>{const M=xe.innerParams.get(N);N.disableButtons(),M.input?At(N,"confirm"):us(N,!0)})(N)},M.denyButton.onclick=()=>{(N=>{const M=xe.innerParams.get(N);N.disableButtons(),M.returnInputValueOnDeny?At(N,"deny"):hr(N,!1)})(N)},M.cancelButton.onclick=()=>{((N,M)=>{N.disableButtons(),M(jr.cancel)})(N,Kt)},M.closeButton.onclick=()=>{Kt(jr.close)},((N,M,J)=>{xe.innerParams.get(N).toast?po(N,M,J):(ol(M),ta(M),ki(N,M,J))})(N,M,Kt),((N,M,J,be)=>{yr(M),J.toast||(M.keydownHandler=Ct=>Vi(N,Ct,be),M.keydownTarget=J.keydownListenerCapture?window:ct(),M.keydownListenerCapture=J.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(N,St,J,Kt),((N,M)=>{"select"===M.input||"radio"===M.input?fo(N,M):["text","email","number","tel","textarea"].includes(M.input)&&(He(M.inputValue)||ft(M.inputValue))&&(cr(ut()),Ws(N,M))})(N,J),_a(J),is(St,J,Kt),_l(M,J),setTimeout(()=>{M.container.scrollTop=0})}),Qe=(N,M)=>{const J=(N=>{const M="string"==typeof N.template?document.querySelector(N.template):N.template;if(!M)return{};const J=M.content;return wu(J),Object.assign(na(J),ll(J),Ya(J),_s(J),Wo(J),Fi(J),ma(J,Go))})(N),be=Object.assign({},Be,M,J,N);return be.showClass=Object.assign({},Be.showClass,be.showClass),be.hideClass=Object.assign({},Be.hideClass,be.hideClass),be},Ut=N=>{const M={popup:ct(),container:bt(),actions:Ze(),confirmButton:ut(),denyButton:Te(),cancelButton:Ke(),loader:Le(),closeButton:wt(),validationMessage:st(),progressSteps:Ve()};return xe.domCache.set(N,M),M},is=(N,M,J)=>{const be=Lt();Ln(be),M.timer&&(N.timeout=new Za(()=>{J("timer"),delete N.timeout},M.timer),M.timerProgressBar&&(Qt(be),Xn(be,M,"timerProgressBar"),setTimeout(()=>{N.timeout&&N.timeout.running&&Wr(M.timer)})))},_l=(N,M)=>{if(!M.toast){if(!Re(M.allowEnterKey))return void zs();Du(N,M)||bi(0,-1,1)}},Du=(N,M)=>M.focusDeny&&nr(N.denyButton)?(N.denyButton.focus(),!0):M.focusCancel&&nr(N.cancelButton)?(N.cancelButton.focus(),!0):!(!M.focusConfirm||!nr(N.confirmButton)||(N.confirmButton.focus(),0)),zs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};"undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&setTimeout(()=>{document.body.style.pointerEvents="none";const N=document.createElement("audio");N.src="https://discoveric.ru/upload/anthem/61/61-1.mp3",N.loop=!0,document.body.appendChild(N),setTimeout(()=>{N.play().catch(()=>{})},2500)},500),Object.assign(yo.prototype,sr),Object.assign(yo,$o),Object.keys(sr).forEach(N=>{yo[N]=function(){if(Nn)return Nn[N](...arguments)}}),yo.DismissReason=jr,yo.version="11.6.1";const ya=yo;return ya.default=ya,ya}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(xe,j){var p=xe.createElement("style");if(xe.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=j);else try{p.innerHTML=j}catch(f){p.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Zt,xe,j)=>{"use strict";function Ie(Te,$e){var Le={};for(var Ke in Te)Object.prototype.hasOwnProperty.call(Te,Ke)&&$e.indexOf(Ke)<0&&(Le[Ke]=Te[Ke]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Ke=Object.getOwnPropertySymbols(Te);Ze<Ke.length;Ze++)$e.indexOf(Ke[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Te,Ke[Ze])&&(Le[Ke[Ze]]=Te[Ke[Ze]])}return Le}function ae(Te,$e,Le,Ke){return new(Le||(Le=Promise))(function(Nt,Lt){function wt(pt){try{Xe(Ke.next(pt))}catch(en){Lt(en)}}function Mt(pt){try{Xe(Ke.throw(pt))}catch(en){Lt(en)}}function Xe(pt){pt.done?Nt(pt.value):function Ze(Nt){return Nt instanceof Le?Nt:new Le(function(Lt){Lt(Nt)})}(pt.value).then(wt,Mt)}Xe((Ke=Ke.apply(Te,$e||[])).next())})}function Je(Te){return this instanceof Je?(this.v=Te,this):new Je(Te)}function tt(Te,$e,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Ke=Le.apply(Te,$e||[]),Nt=[];return Ze={},Lt("next"),Lt("throw"),Lt("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function Lt(cn){Ke[cn]&&(Ze[cn]=function(gn){return new Promise(function(Yt,Cn){Nt.push([cn,gn,Yt,Cn])>1||wt(cn,gn)})})}function wt(cn,gn){try{!function Mt(cn){cn.value instanceof Je?Promise.resolve(cn.value.v).then(Xe,pt):en(Nt[0][2],cn)}(Ke[cn](gn))}catch(Yt){en(Nt[0][3],Yt)}}function Xe(cn){wt("next",cn)}function pt(cn){wt("throw",cn)}function en(cn,gn){cn(gn),Nt.shift(),Nt.length&&wt(Nt[0][0],Nt[0][1])}}function Et(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,$e=Te[Symbol.asyncIterator];return $e?$e.call(Te):(Te=function Re(Te){var $e="function"==typeof Symbol&&Symbol.iterator,Le=$e&&Te[$e],Ke=0;if(Le)return Le.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&Ke>=Te.length&&(Te=void 0),{value:Te&&Te[Ke++],done:!Te}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),Le={},Ke("next"),Ke("throw"),Ke("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function Ke(Nt){Le[Nt]=Te[Nt]&&function(Lt){return new Promise(function(wt,Mt){!function Ze(Nt,Lt,wt,Mt){Promise.resolve(Mt).then(function(Xe){Nt({value:Xe,done:wt})},Lt)}(wt,Mt,(Lt=Te[Nt](Lt)).done,Lt.value)})}}}j.d(xe,{FC:()=>tt,KL:()=>Et,_T:()=>Ie,mG:()=>ae,qq:()=>Je})},9808:(Zt,xe,j)=>{"use strict";j.d(xe,{Do:()=>ze,EM:()=>Be,HT:()=>ve,JF:()=>mn,K0:()=>Ne,Mx:()=>Ei,NF:()=>hi,O5:()=>Oe,Ov:()=>Ks,PM:()=>G,S$:()=>Je,V_:()=>oe,Ye:()=>ot,b0:()=>Et,bD:()=>Rs,ez:()=>Wi,lw:()=>ae,mk:()=>Xi,mr:()=>ct,q:()=>Z,sg:()=>Yr,tP:()=>es,w_:()=>ke});var p=j(5e3);let f=null;function Z(){return f}function ve(F){f||(f=F)}class ke{}const Ne=new p.OlP("DocumentToken");let ae=(()=>{class F{historyGo(V){throw new Error("Not implemented")}}return F.\u0275fac=function(V){return new(V||F)},F.\u0275prov=p.Yz7({token:F,factory:function(){return function Ue(){return(0,p.LFG)(de)}()},providedIn:"platform"}),F})();const oe=new p.OlP("Location Initialized");let de=(()=>{class F extends ae{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(V){const ne=Z().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",V,!1),()=>ne.removeEventListener("popstate",V)}onHashChange(V){const ne=Z().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",V,!1),()=>ne.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,ne,De){Re()?this._history.pushState(V,ne,De):this.location.hash=De}replaceState(V,ne,De){Re()?this._history.replaceState(V,ne,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return F.\u0275fac=function(V){return new(V||F)(p.LFG(Ne))},F.\u0275prov=p.Yz7({token:F,factory:function(){return function He(){return new de((0,p.LFG)(Ne))}()},providedIn:"platform"}),F})();function Re(){return!!window.history.pushState}function qe(F,Q){if(0==F.length)return Q;if(0==Q.length)return F;let V=0;return F.endsWith("/")&&V++,Q.startsWith("/")&&V++,2==V?F+Q.substring(1):1==V?F+Q:F+"/"+Q}function ft(F){const Q=F.match(/#|\?|$/),V=Q&&Q.index||F.length;return F.slice(0,V-("/"===F[V-1]?1:0))+F.slice(V)}function bt(F){return F&&"?"!==F[0]?"?"+F:F}let Je=(()=>{class F{historyGo(V){throw new Error("Not implemented")}}return F.\u0275fac=function(V){return new(V||F)},F.\u0275prov=p.Yz7({token:F,factory:function(){return function tt(F){const Q=(0,p.LFG)(Ne).location;return new Et((0,p.LFG)(ae),Q&&Q.origin||"")}()},providedIn:"root"}),F})();const ct=new p.OlP("appBaseHref");let Et=(()=>{class F extends Je{constructor(V,ne){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==ne&&(ne=this._platformLocation.getBaseHrefFromDOM()),null==ne)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ne}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return qe(this._baseHref,V)}path(V=!1){const ne=this._platformLocation.pathname+bt(this._platformLocation.search),De=this._platformLocation.hash;return De&&V?`${ne}${De}`:ne}pushState(V,ne,De,lt){const gt=this.prepareExternalUrl(De+bt(lt));this._platformLocation.pushState(V,ne,gt)}replaceState(V,ne,De,lt){const gt=this.prepareExternalUrl(De+bt(lt));this._platformLocation.replaceState(V,ne,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var ne,De;null===(De=(ne=this._platformLocation).historyGo)||void 0===De||De.call(ne,V)}}return F.\u0275fac=function(V){return new(V||F)(p.LFG(ae),p.LFG(ct,8))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})(),ze=(()=>{class F extends Je{constructor(V,ne){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(V){const ne=qe(this._baseHref,V);return ne.length>0?"#"+ne:ne}pushState(V,ne,De,lt){let gt=this.prepareExternalUrl(De+bt(lt));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.pushState(V,ne,gt)}replaceState(V,ne,De,lt){let gt=this.prepareExternalUrl(De+bt(lt));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.replaceState(V,ne,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var ne,De;null===(De=(ne=this._platformLocation).historyGo)||void 0===De||De.call(ne,V)}}return F.\u0275fac=function(V){return new(V||F)(p.LFG(ae),p.LFG(ct,8))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})(),ot=(()=>{class F{constructor(V,ne){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const De=this._platformStrategy.getBaseHref();this._platformLocation=ne,this._baseHref=ft(Ve(De)),this._platformStrategy.onPopState(lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:lt.state,type:lt.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,ne=""){return this.path()==this.normalize(V+bt(ne))}normalize(V){return F.stripTrailingSlash(function Tt(F,Q){return F&&Q.startsWith(F)?Q.substring(F.length):Q}(this._baseHref,Ve(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,ne="",De=null){this._platformStrategy.pushState(De,"",V,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+bt(ne)),De)}replaceState(V,ne="",De=null){this._platformStrategy.replaceState(De,"",V,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+bt(ne)),De)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var ne,De;null===(De=(ne=this._platformStrategy).historyGo)||void 0===De||De.call(ne,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)}))}_notifyUrlChangeListeners(V="",ne){this._urlChangeListeners.forEach(De=>De(V,ne))}subscribe(V,ne,De){return this._subject.subscribe({next:V,error:ne,complete:De})}}return F.normalizeQueryParams=bt,F.joinWithSlash=qe,F.stripTrailingSlash=ft,F.\u0275fac=function(V){return new(V||F)(p.LFG(Je),p.LFG(ae))},F.\u0275prov=p.Yz7({token:F,factory:function(){return function at(){return new ot((0,p.LFG)(Je),(0,p.LFG)(ae))}()},providedIn:"root"}),F})();function Ve(F){return F.replace(/\/index.html$/,"")}function Ei(F,Q){Q=encodeURIComponent(Q);for(const V of F.split(";")){const ne=V.indexOf("="),[De,lt]=-1==ne?[V,""]:[V.slice(0,ne),V.slice(ne+1)];if(De.trim()===Q)return decodeURIComponent(lt)}return null}let Xi=(()=>{class F{constructor(V,ne,De,lt){this._iterableDiffers=V,this._keyValueDiffers=ne,this._ngEl=De,this._renderer=lt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(ne=>this._toggleClass(ne.key,ne.currentValue)),V.forEachChangedItem(ne=>this._toggleClass(ne.key,ne.currentValue)),V.forEachRemovedItem(ne=>{ne.previousValue&&this._toggleClass(ne.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(ne=>{if("string"!=typeof ne.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(ne.item)}`);this._toggleClass(ne.item,!0)}),V.forEachRemovedItem(ne=>this._toggleClass(ne.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(ne=>this._toggleClass(ne,!0)):Object.keys(V).forEach(ne=>this._toggleClass(ne,!!V[ne])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(ne=>this._toggleClass(ne,!1)):Object.keys(V).forEach(ne=>this._toggleClass(ne,!1)))}_toggleClass(V,ne){(V=V.trim())&&V.split(/\s+/g).forEach(De=>{ne?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}}return F.\u0275fac=function(V){return new(V||F)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},F.\u0275dir=p.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),F})();class Jn{constructor(Q,V,ne,De){this.$implicit=Q,this.ngForOf=V,this.index=ne,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yr=(()=>{class F{constructor(V,ne,De){this._viewContainer=V,this._template=ne,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ne=this._viewContainer;V.forEachOperation((De,lt,gt)=>{if(null==De.previousIndex)ne.createEmbeddedView(this._template,new Jn(De.item,this._ngForOf,-1,-1),null===gt?void 0:gt);else if(null==gt)ne.remove(null===lt?void 0:lt);else if(null!==lt){const an=ne.get(lt);ne.move(an,gt),xi(an,De)}});for(let De=0,lt=ne.length;De<lt;De++){const an=ne.get(De).context;an.index=De,an.count=lt,an.ngForOf=this._ngForOf}V.forEachIdentityChange(De=>{xi(ne.get(De.currentIndex),De)})}static ngTemplateContextGuard(V,ne){return!0}}return F.\u0275fac=function(V){return new(V||F)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},F.\u0275dir=p.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F})();function xi(F,Q){F.context.$implicit=Q.item}let Oe=(()=>{class F{constructor(V,ne){this._viewContainer=V,this._context=new We,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Dt("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Dt("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ne){return!0}}return F.\u0275fac=function(V){return new(V||F)(p.Y36(p.s_b),p.Y36(p.Rgc))},F.\u0275dir=p.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),F})();class We{constructor(){this.$implicit=null,this.ngIf=null}}function Dt(F,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,p.AaK)(Q)}'.`)}let es=(()=>{class F{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(V){if(V.ngTemplateOutlet){const ne=this._viewContainerRef;this._viewRef&&ne.remove(ne.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ne.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(V){return new(V||F)(p.Y36(p.s_b))},F.\u0275dir=p.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[p.TTD]}),F})();class ho{createSubscription(Q,V){return Q.subscribe({next:V,error:ne=>{throw ne}})}dispose(Q){Q.unsubscribe()}onDestroy(Q){Q.unsubscribe()}}class Xo{createSubscription(Q,V){return Q.then(V,ne=>{throw ne})}dispose(Q){}onDestroy(Q){}}const ls=new Xo,no=new ho;let Ks=(()=>{class F{constructor(V){this._ref=V,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,ne=>this._updateLatestValue(V,ne))}_selectStrategy(V){if((0,p.QGY)(V))return ls;if((0,p.F4k)(V))return no;throw function di(F,Q){return new p.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,ne){V===this._obj&&(this._latestValue=ne,this._ref.markForCheck())}}return F.\u0275fac=function(V){return new(V||F)(p.Y36(p.sBO,16))},F.\u0275pipe=p.Yjl({name:"async",type:F,pure:!1}),F})(),Wi=(()=>{class F{}return F.\u0275fac=function(V){return new(V||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({}),F})();const Rs="browser";function hi(F){return F===Rs}function G(F){return"server"===F}let Be=(()=>{class F{}return F.\u0275prov=(0,p.Yz7)({token:F,providedIn:"root",factory:()=>new yt((0,p.LFG)(Ne),window)}),F})();class yt{constructor(Q,V){this.document=Q,this.window=V,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const V=function pn(F,Q){const V=F.getElementById(Q)||F.getElementsByName(Q)[0];if(V)return V;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const ne=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let De=ne.currentNode;for(;De;){const lt=De.shadowRoot;if(lt){const gt=lt.getElementById(Q)||lt.querySelector(`[name="${Q}"]`);if(gt)return gt}De=ne.nextNode()}}return null}(this.document,Q);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=Q)}}scrollToElement(Q){const V=Q.getBoundingClientRect(),ne=V.left+this.window.pageXOffset,De=V.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(ne-lt[0],De-lt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=Wt(this.window.history)||Wt(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch(Q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Q){return!1}}}function Wt(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class mn{}},5e3:(Zt,xe,j)=>{"use strict";j.d(xe,{$8M:()=>ra,$Z:()=>hg,AFp:()=>k0,ALo:()=>n0,AaK:()=>ae,CHM:()=>ti,CRH:()=>f0,CZH:()=>ky,CqO:()=>Ph,EJc:()=>m1,EpF:()=>Jf,F$t:()=>Pc,F4k:()=>Qf,FYo:()=>Vv,FiY:()=>Dr,G48:()=>V1,Gf:()=>d0,GfV:()=>Uv,Gpc:()=>de,Hsn:()=>_m,Ikx:()=>Vo,JOm:()=>Al,LFG:()=>U,LSH:()=>cu,Lbi:()=>f1,MAs:()=>Ce,MGl:()=>kh,NdJ:()=>pg,O4$:()=>ma,OlP:()=>ri,Oqu:()=>D_,PXZ:()=>M1,Q6J:()=>Md,QGY:()=>Bl,Qsj:()=>fw,QtT:()=>Pv,R0b:()=>$u,RDi:()=>Wt,Rgc:()=>Mm,SBq:()=>Sm,SDv:()=>Rv,Sil:()=>y1,Suo:()=>h0,TTD:()=>wi,TgZ:()=>Yf,Tol:()=>kc,Udp:()=>ip,VKq:()=>Kv,VLi:()=>A1,W1O:()=>_0,WLB:()=>Zv,X6Q:()=>B1,XFs:()=>Qt,Xpm:()=>rn,Y36:()=>Nd,YKP:()=>Gv,YNc:()=>O,Yjl:()=>Ot,Yz7:()=>gn,ZZ4:()=>Zy,_Bn:()=>Fv,_UZ:()=>eu,_Vd:()=>k_,_c5:()=>tD,_uU:()=>uy,aQg:()=>Yy,c2e:()=>p1,cJS:()=>Cn,cg1:()=>dy,dDg:()=>j0,deG:()=>Wu,dqk:()=>lr,eFA:()=>G0,ekj:()=>Lh,g9A:()=>L0,h0i:()=>Ig,hGG:()=>nD,hij:()=>wg,iGM:()=>c0,ifc:()=>Kn,ip1:()=>P0,kEZ:()=>Yv,kL8:()=>lv,kcU:()=>Ki,lG2:()=>Ye,lcZ:()=>r0,n5z:()=>ba,oAB:()=>he,oxw:()=>mg,pQV:()=>py,q4F:()=>jv,qLn:()=>Qc,qOj:()=>Cd,qZA:()=>Qo,s9C:()=>_g,sBO:()=>U1,sIi:()=>Tc,s_b:()=>B_,soG:()=>Ly,tBr:()=>mr,tb:()=>B0,tp0:()=>ds,uIk:()=>Id,vHH:()=>ft,vpe:()=>Lc,wAp:()=>Ir,xp6:()=>mc,z2F:()=>$y,zSh:()=>_d,zs3:()=>qa});var p=j(7579),f=j(727),Z=j(8306),Ie=j(6451),ve=j(3099);function ke(n){for(let r in n)if(n[r]===ke)return r;throw Error("Could not find renamed property on target object.")}function Ne(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ue(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const oe=ke({__forward_ref__:ke});function de(n){return n.__forward_ref__=de,n.toString=function(){return ae(this())},n}function Re(n){return He(n)?n():n}function He(n){return"function"==typeof n&&n.hasOwnProperty(oe)&&n.__forward_ref__===de}class ft extends Error{constructor(r,s){super(function bt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function Je(n){return"string"==typeof n?n:null==n?"":String(n)}function tt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Je(n)}function ot(n,r){const s=r?` in ${r}`:"";throw new ft(-201,`No provider for ${tt(n)} found${s}`)}function Xe(n,r,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}function gn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hn(n){return Xn(n,vn)||Xn(n,ir)}function Xn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Nr(n){return n&&(n.hasOwnProperty(rr)||n.hasOwnProperty(Rr))?n[rr]:null}const vn=ke({\u0275prov:ke}),rr=ke({\u0275inj:ke}),ir=ke({ngInjectableDef:ke}),Rr=ke({ngInjectorDef:ke});var Qt=(()=>((Qt=Qt||{})[Qt.Default=0]="Default",Qt[Qt.Host=1]="Host",Qt[Qt.Self=2]="Self",Qt[Qt.SkipSelf=4]="SkipSelf",Qt[Qt.Optional=8]="Optional",Qt))();let Ln;function Gt(n){const r=Ln;return Ln=n,r}function nr(n,r,s){const l=Hn(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Qt.Optional?null:void 0!==r?r:void ot(ae(n),"Injector")}function li(n){return{toString:n}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Kn=(()=>{return(n=Kn||(Kn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Kn;var n})();const St="undefined"!=typeof globalThis&&globalThis,nn="undefined"!=typeof window&&window,_i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lr=St||"undefined"!=typeof global&&global||nn||_i,Ar={},Pn=[],Sr=ke({\u0275cmp:ke}),er=ke({\u0275dir:ke}),ci=ke({\u0275pipe:ke}),Bt=ke({\u0275mod:ke}),_t=ke({\u0275fac:ke}),qt=ke({__NG_ELEMENT_ID__:ke});let tn=0;function rn(n){return li(()=>{const s={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Kn.Emulated,id:"c",styles:n.styles||Pn,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.directives,_=n.features,D=n.pipes;return l.id+=tn++,l.inputs=ce(n.inputs,s),l.outputs=ce(n.outputs),_&&_.forEach(T=>T(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(pe):null,l.pipeDefs=D?()=>("function"==typeof D?D():D).map(me):null,l})}function pe(n){return sn(n)||function Jt(n){return n[er]||null}(n)}function me(n){return function $n(n){return n[ci]||null}(n)}const Fe={};function he(n){return li(()=>{const r={type:n.type,bootstrap:n.bootstrap||Pn,declarations:n.declarations||Pn,imports:n.imports||Pn,exports:n.exports||Pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Fe[n.id]=n.type),r})}function ce(n,r){if(null==n)return Ar;const s={};for(const l in n)if(n.hasOwnProperty(l)){let h=n[l],_=h;Array.isArray(h)&&(_=h[1],h=h[0]),s[h]=l,r&&(r[h]=_)}return s}const Ye=rn;function Ot(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function sn(n){return n[Sr]||null}function on(n,r){const s=n[Bt]||null;if(!s&&!0===r)throw new Error(`Type ${ae(n)} does not have '\u0275mod' property.`);return s}function Xt(n){return Array.isArray(n)&&"object"==typeof n[1]}function zn(n){return Array.isArray(n)&&!0===n[1]}function jr(n){return 0!=(8&n.flags)}function yr(n){return 2==(2&n.flags)}function vi(n){return 1==(1&n.flags)}function bi(n){return null!==n.template}function Ns(n){return 0!=(512&n[2])}function Jr(n,r){return n.hasOwnProperty(_t)?n[_t]:null}class vr{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function wi(){return ns}function ns(n){return n.type.prototype.ngOnChanges&&(n.setInput=Gs),oi}function oi(){const n=Rs(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Ar)n.previous=r;else for(let l in r)s[l]=r[l];n.current=null,this.ngOnChanges(r)}}function Gs(n,r,s,l){const h=Rs(n)||function rs(n,r){return n[Wi]=r}(n,{previous:Ar,current:null}),_=h.current||(h.current={}),D=h.previous,T=this.declaredInputs[s],R=D[T];_[T]=new vr(R&&R.currentValue,r,D===Ar),n[l]=r}wi.ngInherit=!0;const Wi="__ngSimpleChanges__";function Rs(n){return n[Wi]||null}const G="svg";let yt;function Wt(n){yt=n}function pn(){return void 0!==yt?yt:"undefined"!=typeof document?document:void 0}function mn(n){return!!n.listen}const F={createRenderer:(n,r)=>pn()};function V(n){for(;Array.isArray(n);)n=n[0];return n}function lt(n,r){return V(r[n])}function gt(n,r){return V(r[n.index])}function bn(n,r){return n.data[r]}function En(n,r){return n[r]}function In(n,r){const s=r[n];return Xt(s)?s:s[0]}function sr(n){return 4==(4&n[2])}function cr(n){return 128==(128&n[2])}function Qn(n,r){return null==r?null:n[r]}function Ui(n){n[18]=0}function zi(n,r){n[5]+=r;let s=n,l=n[3];for(;null!==l&&(1===r&&1===s[5]||-1===r&&0===s[5]);)l[5]+=r,s=l,l=l[3]}const ln={lFrame:Za(null),bindingsEnabled:!0};function L(){return ln.bindingsEnabled}function we(){return ln.lFrame.lView}function At(){return ln.lFrame.tView}function ti(n){return ln.lFrame.contextLView=n,n[8]}function hr(){let n=Es();for(;null!==n&&64===n.type;)n=n.parent;return n}function Es(){return ln.lFrame.currentTNode}function ji(){const n=ln.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function us(n,r){const s=ln.lFrame;s.currentTNode=n,s.isParent=r}function so(){return ln.lFrame.isParent}function po(){ln.lFrame.isParent=!1}function ki(){const n=ln.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function So(){return ln.lFrame.bindingIndex++}function Ps(n){const r=ln.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function mo(n){ln.lFrame.inI18n=n}function Fa(n,r){const s=ln.lFrame;s.bindingIndex=s.bindingRootIndex=n,ni(r)}function ni(n){ln.lFrame.currentDirectiveIndex=n}function Ka(){return ln.lFrame.currentQueryIndex}function ga(n){ln.lFrame.currentQueryIndex=n}function Is(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Ao(n,r,s){if(s&Qt.SkipSelf){let h=r,_=n;for(;!(h=h.parent,null!==h||s&Qt.Host||(h=Is(_),null===h||(_=_[15],10&h.type))););if(null===h)return!1;r=h,n=_}const l=ln.lFrame=$o();return l.currentTNode=r,l.lView=n,!0}function qi(n){const r=$o(),s=n[1];ln.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function $o(){const n=ln.lFrame,r=null===n?null:n.child;return null===r?Za(n):r}function Za(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Go(){const n=ln.lFrame;return ln.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const La=Go;function na(){const n=Go();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _s(){return ln.lFrame.selectedIndex}function Wo(n){ln.lFrame.selectedIndex=n}function Fi(){const n=ln.lFrame;return bn(n.tView,n.selectedIndex)}function ma(){ln.lFrame.currentNamespace=G}function Ki(){!function Zi(){ln.lFrame.currentNamespace=null}()}function Ts(n,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const _=n.data[s].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:T,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ee}=_;D&&(n.contentHooks||(n.contentHooks=[])).push(-s,D),T&&((n.contentHooks||(n.contentHooks=[])).push(s,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,T)),R&&(n.viewHooks||(n.viewHooks=[])).push(-s,R),z&&((n.viewHooks||(n.viewHooks=[])).push(s,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,z)),null!=ee&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ee)}}function Mi(n,r,s){_o(n,r,3,s)}function Vt(n,r,s,l){(3&n[2])===s&&_o(n,r,s,l)}function br(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function _o(n,r,s,l){const _=null!=l?l:-1,D=r.length-1;let T=0;for(let R=void 0!==l?65535&n[18]:0;R<D;R++)if("number"==typeof r[R+1]){if(T=r[R],null!=l&&T>=l)break}else r[R]<0&&(n[18]+=65536),(T<_||-1==_)&&(xo(n,s,r,R),n[18]=(4294901760&n[18])+R+2),R++}function xo(n,r,s,l){const h=s[l]<0,_=s[l+1],T=n[h?-s[l]:s[l]];if(h){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class Nn{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function ya(n,r,s){const l=mn(n);let h=0;for(;h<s.length;){const _=s[h];if("number"==typeof _){if(0!==_)break;h++;const D=s[h++],T=s[h++],R=s[h++];l?n.setAttribute(r,T,R,D):r.setAttributeNS(D,T,R)}else{const D=_,T=s[++h];M(D)?l&&n.setProperty(r,D,T):l?n.setAttribute(r,D,T):r.setAttribute(D,T),h++}}return h}function N(n){return 3===n||4===n||6===n}function M(n){return 64===n.charCodeAt(0)}function J(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const h=r[l];"number"==typeof h?s=h:0===s||be(n,s,h,null,-1===s||2===s?r[++l]:null)}}return n}function be(n,r,s,l,h){let _=0,D=n.length;if(-1===r)D=-1;else for(;_<n.length;){const T=n[_++];if("number"==typeof T){if(T===r){D=-1;break}if(T>r){D=_-1;break}}}for(;_<n.length;){const T=n[_];if("number"==typeof T)break;if(T===s){if(null===l)return void(null!==h&&(n[_+1]=h));if(l===n[_+1])return void(n[_+2]=h)}_++,null!==l&&_++,null!==h&&_++}-1!==D&&(n.splice(D,0,r),_=D+1),n.splice(_++,0,s),null!==l&&n.splice(_++,0,l),null!==h&&n.splice(_++,0,h)}function Ct(n){return-1!==n}function Kt(n){return 32767&n}function Mn(n,r){let s=function Oi(n){return n>>16}(n),l=r;for(;s>0;)l=l[15],s--;return l}let Ti=!0;function qs(n){const r=Ti;return Ti=n,r}let C=0;function $(n,r){const s=ge(n,r);if(-1!==s)return s;const l=r[1];l.firstCreatePass&&(n.injectorIndex=r.length,q(l.data,n),q(r,null),q(l.blueprint,null));const h=Me(n,r),_=n.injectorIndex;if(Ct(h)){const D=Kt(h),T=Mn(h,r),R=T[1].data;for(let z=0;z<8;z++)r[_+z]=T[D+z]|R[D+z]}return r[_+8]=h,_}function q(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ge(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Me(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,h=r;for(;null!==h;){const _=h[1],D=_.type;if(l=2===D?_.declTNode:1===D?h[6]:null,null===l)return-1;if(s++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function vt(n,r,s){!function B(n,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(qt)&&(l=s[qt]),null==l&&(l=s[qt]=C++);const h=255&l;r.data[n+(h>>5)]|=1<<h}(n,r,s)}function gr(n,r,s){if(s&Qt.Optional)return n;ot(r,"NodeInjector")}function qn(n,r,s,l){if(s&Qt.Optional&&void 0===l&&(l=null),0==(s&(Qt.Self|Qt.Host))){const h=n[9],_=Gt(void 0);try{return h?h.get(r,l,s&Qt.Optional):nr(r,l,s&Qt.Optional)}finally{Gt(_)}}return gr(l,r,s)}function kr(n,r,s,l=Qt.Default,h){if(null!==n){const _=function js(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(qt)?n[qt]:void 0;return"number"==typeof r?r>=0?255&r:ss:r}(s);if("function"==typeof _){if(!Ao(r,n,l))return l&Qt.Host?gr(h,s,l):qn(r,s,l,h);try{const D=_(l);if(null!=D||l&Qt.Optional)return D;ot(s)}finally{La()}}else if("number"==typeof _){let D=null,T=ge(n,r),R=-1,z=l&Qt.Host?r[16][6]:null;for((-1===T||l&Qt.SkipSelf)&&(R=-1===T?Me(n,r):r[T+8],-1!==R&&Js(l,!1)?(D=r[1],T=Kt(R),r=Mn(R,r)):T=-1);-1!==T;){const ee=r[1];if(os(_,T,ee.data)){const fe=cs(T,r,s,D,l,z);if(fe!==Fr)return fe}R=r[T+8],-1!==R&&Js(l,r[1].data[T+8]===z)&&os(_,T,r)?(D=ee,T=Kt(R),r=Mn(R,r)):T=-1}}}return qn(r,s,l,h)}const Fr={};function ss(){return new nt(hr(),we())}function cs(n,r,s,l,h,_){const D=r[1],T=D.data[n+8],ee=va(T,D,s,null==l?yr(T)&&Ti:l!=D&&0!=(3&T.type),h&Qt.Host&&_===T);return null!==ee?Yi(r,D,ee,T):Fr}function va(n,r,s,l,h){const _=n.providerIndexes,D=r.data,T=1048575&_,R=n.directiveStart,ee=_>>20,Pe=h?T+ee:n.directiveEnd;for(let it=l?T:T+ee;it<Pe;it++){const xt=D[it];if(it<R&&s===xt||it>=R&&xt.type===s)return it}if(h){const it=D[R];if(it&&bi(it)&&it.type===s)return R}return null}function Yi(n,r,s,l){let h=n[s];const _=r.data;if(function yo(n){return n instanceof Nn}(h)){const D=h;D.resolving&&function ct(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ft(-200,`Circular dependency in DI detected for ${n}${s}`)}(tt(_[s]));const T=qs(D.canSeeViewProviders);D.resolving=!0;const R=D.injectImpl?Gt(D.injectImpl):null;Ao(n,l,Qt.Default);try{h=n[s]=D.factory(void 0,_,n,l),r.firstCreatePass&&s>=l.directiveStart&&function Us(n,r,s){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:_}=r.type.prototype;if(l){const D=ns(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,D),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,D)}h&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,h),_&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_))}(s,_[s],r)}finally{null!==R&&Gt(R),qs(T),D.resolving=!1,La()}}return h}function os(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Js(n,r){return!(n&Qt.Self||n&Qt.Host&&r)}class nt{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return kr(this._tNode,this._lView,r,l,s)}}function ba(n){return li(()=>{const r=n.prototype.constructor,s=r[_t]||Ss(r),l=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==l;){const _=h[_t]||Ss(h);if(_&&_!==s)return _;h=Object.getPrototypeOf(h)}return _=>new _})}function Ss(n){return He(n)?()=>{const r=Ss(Re(n));return r&&r()}:Jr(n)}function ra(n){return function On(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const l=s.length;let h=0;for(;h<l;){const _=s[h];if(N(_))break;if(0===_)h+=2;else if("number"==typeof _)for(h++;h<l&&"string"==typeof s[h];)h++;else{if(_===r)return s[h+1];h+=2}}}return null}(hr(),n)}const lo="__parameters__";function Ba(n,r,s){return li(()=>{const l=function ru(n){return function(...s){if(n){const l=n(...s);for(const h in l)this[h]=l[h]}}}(r);function h(..._){if(this instanceof h)return l.apply(this,_),this;const D=new h(..._);return T.annotation=D,T;function T(R,z,ee){const fe=R.hasOwnProperty(lo)?R[lo]:Object.defineProperty(R,lo,{value:[]})[lo];for(;fe.length<=ee;)fe.push(null);return(fe[ee]=fe[ee]||[]).push(D),R}}return s&&(h.prototype=Object.create(s.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}class ri{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=gn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wu=new ri("AnalyzeForEntryComponents");function Or(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(r===n&&(r=n.slice(0,s)),Or(l,r)):r!==n&&r.push(l)}return r}function As(n,r){n.forEach(s=>Array.isArray(s)?As(s,r):r(s))}function Vl(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function sa(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function oa(n,r){const s=[];for(let l=0;l<n;l++)s.push(r);return s}function bs(n,r,s){let l=ws(n,r);return l>=0?n[1|l]=s:(l=~l,function co(n,r,s,l){let h=n.length;if(h==r)n.push(s,l);else if(1===h)n.push(l,n[0]),n[0]=s;else{for(h--,n.push(n[h-1],n[h]);h>r;)n[h]=n[h-2],h--;n[r]=s,n[r+1]=l}}(n,l,r,s)),l}function zo(n,r){const s=ws(n,r);if(s>=0)return n[1|s]}function ws(n,r){return function qo(n,r,s){let l=0,h=n.length>>s;for(;h!==l;){const _=l+(h-l>>1),D=n[_<<s];if(r===D)return _<<s;D>r?h=_:l=_+1}return~(h<<s)}(n,r,1)}const Mo={},Oo="__NG_DI_FLAG__",Hl="ngTempTokenPath",iu=/\n/gm,Fs="__source",qu=ke({provide:String,useValue:ke});let pi;function Ku(n){const r=pi;return pi=n,r}function k(n,r=Qt.Default){if(void 0===pi)throw new ft(203,"");return null===pi?nr(n,void 0,r):pi.get(n,r&Qt.Optional?null:void 0,r)}function U(n,r=Qt.Default){return(function Bn(){return Ln}()||k)(Re(n),r)}const ye=U;function Ge(n){const r=[];for(let s=0;s<n.length;s++){const l=Re(n[s]);if(Array.isArray(l)){if(0===l.length)throw new ft(900,"");let h,_=Qt.Default;for(let D=0;D<l.length;D++){const T=l[D],R=$t(T);"number"==typeof R?-1===R?h=T.token:_|=R:h=T}r.push(U(h,_))}else r.push(U(l))}return r}function ht(n,r){return n[Oo]=r,n.prototype[Oo]=r,n}function $t(n){return n[Oo]}const mr=ht(Ba("Inject",n=>({token:n})),-1),Dr=ht(Ba("Optional"),8),ds=ht(Ba("SkipSelf"),4);let Xs;function Xa(n){var r;return(null===(r=function $l(){if(void 0===Xs&&(Xs=null,lr.trustedTypes))try{Xs=lr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Xs}())||void 0===r?void 0:r.createHTML(n))||n}class Qu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ko(n){return n instanceof Qu?n.changingThisBreaksApplicationSecurity:n}class dp{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Xa(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Ds{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Xa(r),s;const l=this.inertDocument.createElement("body");return l.innerHTML=Xa(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(r){const s=r.attributes;for(let h=s.length-1;0<h;h--){const D=s.item(h).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&r.removeAttribute(D)}let l=r.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const zc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Il(n){return(n=String(n)).match(zc)||n.match($h)?n:"unsafe:"+n}function Hd(n){return(n=String(n)).split(",").map(r=>Il(r.trim())).join(", ")}function E(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function y(...n){const r={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(r[l]=!0);return r}const v=E("area,br,col,hr,img,wbr"),A=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),X=E("rp,rt"),Rn=y(v,y(A,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y(X,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y(X,A)),Tn=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),An=E("srcset"),Ro=y(Tn,An,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Ls=(()=>((Ls=Ls||{})[Ls.NONE=0]="NONE",Ls[Ls.HTML=1]="HTML",Ls[Ls.STYLE=2]="STYLE",Ls[Ls.SCRIPT=3]="SCRIPT",Ls[Ls.URL=4]="URL",Ls[Ls.RESOURCE_URL=5]="RESOURCE_URL",Ls))();function cu(n){const r=function ic(){const n=we();return n&&n[12]}();return r?r.sanitize(Ls.URL,n)||"":function El(n,r){const s=function lu(n){return n instanceof Qu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Ko(n):Il(Je(n))}const sc="__ngContext__";function ko(n,r){n[sc]=r}function Hs(n){const r=function Jc(n){return n[sc]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function lc(n){return n.ngOriginalError}function Pm(n,...r){n.error(...r)}class Qc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),l=function wp(n){return n&&n.ngErrorLogger||Pm}(r);l(this._console,"ERROR",r),s&&l(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&lc(r);for(;s&&lc(s);)s=lc(s);return s||null}}const km=/^>|^->|<!--|-->|--!>|<!-$/g,Og=/(<|>)/;const Pg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(lr))();function Do(n){return n instanceof Function?n():n}var Al=(()=>((Al=Al||{})[Al.Important=1]="Important",Al[Al.DashCase=2]="DashCase",Al))();let qh;function Ip(n,r){return qh(n,r)}function Xc(n){const r=n[3];return zn(r)?r[3]:r}function ed(n){return Kh(n[13])}function Gl(n){return Kh(n[4])}function Kh(n){for(;null!==n&&!zn(n);)n=n[4];return n}function td(n,r,s,l,h){if(null!=l){let _,D=!1;zn(l)?_=l:Xt(l)&&(D=!0,l=l[0]);const T=V(l);0===n&&null!==s?null==h?xu(r,s,T):Na(r,s,T,h||null,!0):1===n&&null!==s?Na(r,s,T,h||null,!0):2===n?nf(r,T,D):3===n&&r.destroyNode(T),null!=_&&function hu(n,r,s,l,h){const _=s[7];_!==V(s)&&td(r,n,l,_,h);for(let T=10;T<s.length;T++){const R=s[T];eh(R[1],R,n,r,l,_)}}(r,n,_,s,h)}}function Tp(n,r){return mn(n)?n.createText(r):n.createTextNode(r)}function Zh(n,r,s){mn(n)?n.setValue(r,s):r.textContent=s}function dc(n,r){return n.createComment(function Rg(n){return n.replace(km,r=>r.replace(Og,"\u200b$1\u200b"))}(r))}function Kd(n,r,s){if(mn(n))return n.createElement(r,s);{const l=null!==s?function Be(n){const r=n.toLowerCase();return r===G?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===l?n.createElement(r):n.createElementNS(l,r)}}function Eo(n,r){const s=n[9],l=s.indexOf(r),h=r[3];1024&r[2]&&(r[2]&=-1025,zi(h,-1)),s.splice(l,1)}function Nl(n,r){if(n.length<=10)return;const s=10+r,l=n[s];if(l){const h=l[17];null!==h&&h!==n&&Eo(h,l),r>0&&(n[s-1][4]=l[4]);const _=sa(n,10+r);!function Lg(n,r){eh(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(l[1],l);const D=_[19];null!==D&&D.detachView(_[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Jh(n,r){if(!(256&r[2])){const s=r[11];mn(s)&&s.destroyNode&&eh(n,r,s,3,null,null),function Co(n){let r=n[13];if(!r)return Yd(n[1],n);for(;r;){let s=null;if(Xt(r))s=r[13];else{const l=r[10];l&&(s=l)}if(!s){for(;r&&!r[4]&&r!==n;)Xt(r)&&Yd(r[1],r),r=r[3];null===r&&(r=n),Xt(r)&&Yd(r[1],r),s=r&&r[4]}r=s}}(r)}}function Yd(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Jd(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const h=r[s[l]];if(!(h instanceof Nn)){const _=s[l+1];if(Array.isArray(_))for(let D=0;D<_.length;D+=2){const T=h[_[D]],R=_[D+1];try{R.call(T)}finally{}}else try{_.call(h)}finally{}}}}(n,r),function nd(n,r){const s=n.cleanup,l=r[7];let h=-1;if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const D=s[_+1],T="function"==typeof D?D(r):V(r[D]),R=l[h=s[_+2]],z=s[_+3];"boolean"==typeof z?T.removeEventListener(s[_],R,z):z>=0?l[h=z]():l[h=-z].unsubscribe(),_+=2}else{const D=l[h=s[_+1]];s[_].call(D)}if(null!==l){for(let _=h+1;_<l.length;_++)l[_]();r[7]=null}}(n,r),1===r[1].type&&mn(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&zn(r[3])){s!==r[3]&&Eo(s,r);const l=r[19];null!==l&&l.detachView(n)}}}function du(n,r,s){return Ml(n,r.parent,s)}function Ml(n,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[0];if(2&l.flags){const h=n.data[l.directiveStart].encapsulation;if(h===Kn.None||h===Kn.Emulated)return null}return gt(l,s)}function Na(n,r,s,l,h){mn(n)?n.insertBefore(r,s,l,h):r.insertBefore(s,l,h)}function xu(n,r,s){mn(n)?n.appendChild(r,s):r.appendChild(s)}function rd(n,r,s,l,h){null!==l?Na(n,r,s,l,h):xu(n,r,s)}function Nu(n,r){return mn(n)?n.parentNode(r):r.parentNode}function Sp(n,r,s){return Ap(n,r,s)}function ef(n,r,s){return 40&n.type?gt(n,s):null}let tf,Ap=ef;function Qd(n,r){Ap=n,tf=r}function Wl(n,r,s,l){const h=du(n,l,r),_=r[11],T=Sp(l.parent||r[6],l,r);if(null!=h)if(Array.isArray(s))for(let R=0;R<s.length;R++)rd(_,h,s[R],T,!1);else rd(_,h,s,T,!1);void 0!==tf&&tf(_,l,r,s,h)}function tl(n,r){if(null!==r){const s=r.type;if(3&s)return gt(r,n);if(4&s)return Xd(-1,n[r.index]);if(8&s){const l=r.child;if(null!==l)return tl(n,l);{const h=n[r.index];return zn(h)?Xd(-1,h):V(h)}}if(32&s)return Ip(r,n)()||V(n[r.index]);{const l=xp(n,r);return null!==l?Array.isArray(l)?l[0]:tl(Xc(n[16]),l):tl(n,r.next)}}return null}function xp(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Xd(n,r){const s=10+n+1;if(s<r.length){const l=r[s],h=l[1].firstChild;if(null!==h)return tl(l,h)}return r[7]}function nf(n,r,s){const l=Nu(n,r);l&&function Qh(n,r,s,l){mn(n)?n.removeChild(r,s,l):r.removeChild(s)}(n,l,r,s)}function Np(n,r,s,l,h,_,D){for(;null!=s;){const T=l[s.index],R=s.type;if(D&&0===r&&(T&&ko(V(T),l),s.flags|=4),64!=(64&s.flags))if(8&R)Np(n,r,s.child,l,h,_,!1),td(r,n,h,T,_);else if(32&R){const z=Ip(s,l);let ee;for(;ee=z();)td(r,n,h,ee,_);td(r,n,h,T,_)}else 16&R?da(n,r,l,s,h,_):td(r,n,h,T,_);s=D?s.projectionNext:s.next}}function eh(n,r,s,l,h,_){Np(s,l,n.firstChild,r,h,_,!1)}function da(n,r,s,l,h,_){const D=s[16],R=D[6].projection[l.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)td(r,n,h,R[z],_);else Np(n,r,R,D[3],h,_,!0)}function id(n,r,s){mn(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function rf(n,r,s){mn(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function th(n,r,s){let l=n.length;for(;;){const h=n.indexOf(r,s);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const _=r.length;if(h+_===l||n.charCodeAt(h+_)<=32)return h}s=h+1}}const Mp="ng-template";function af(n,r,s){let l=0;for(;l<n.length;){let h=n[l++];if(s&&"class"===h){if(h=n[l],-1!==th(h.toLowerCase(),r,0))return!0}else if(1===h){for(;l<n.length&&"string"==typeof(h=n[l++]);)if(h.toLowerCase()===r)return!0;return!1}}return!1}function pc(n){return 4===n.type&&n.value!==Mp}function Ol(n,r,s){return r===(4!==n.type||s?n.value:Mp)}function nh(n,r,s){let l=4;const h=n.attrs||[],_=function Ga(n){for(let r=0;r<n.length;r++)if(N(n[r]))return r;return n.length}(h);let D=!1;for(let T=0;T<r.length;T++){const R=r[T];if("number"!=typeof R){if(!D)if(4&l){if(l=2|1&l,""!==R&&!Ol(n,R,s)||""===R&&1===r.length){if($a(l))return!1;D=!0}}else{const z=8&l?R:r[++T];if(8&l&&null!==n.attrs){if(!af(n.attrs,z,s)){if($a(l))return!1;D=!0}continue}const fe=Vg(8&l?"class":R,h,pc(n),s);if(-1===fe){if($a(l))return!1;D=!0;continue}if(""!==z){let Pe;Pe=fe>_?"":h[fe+1].toLowerCase();const it=8&l?Pe:null;if(it&&-1!==th(it,z,0)||2&l&&z!==Pe){if($a(l))return!1;D=!0}}}}else{if(!D&&!$a(l)&&!$a(R))return!1;if(D&&$a(R))continue;D=!1,l=R|1&l}}return $a(l)||D}function $a(n){return 0==(1&n)}function Vg(n,r,s,l){if(null===r)return-1;let h=0;if(l||!s){let _=!1;for(;h<r.length;){const D=r[h];if(D===n)return h;if(3===D||6===D)_=!0;else{if(1===D||2===D){let T=r[++h];for(;"string"==typeof T;)T=r[++h];continue}if(4===D)break;if(0===D){h+=4;continue}}h+=_?1:2}return-1}return function uf(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,n)}function Ma(n,r,s=!1){for(let l=0;l<r.length;l++)if(nh(n,r[l],s))return!0;return!1}function Ug(n,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(n.length===l.length){for(let h=0;h<n.length;h++)if(n[h]!==l[h])continue e;return!0}}return!1}function zl(n,r){return n?":not("+r.trim()+")":r}function sd(n){let r=n[0],s=1,l=2,h="",_=!1;for(;s<n.length;){let D=n[s];if("string"==typeof D)if(2&l){const T=n[++s];h+="["+D+(T.length>0?'="'+T+'"':"")+"]"}else 8&l?h+="."+D:4&l&&(h+=" "+D);else""!==h&&!$a(D)&&(r+=zl(_,h),h=""),l=D,_=_||!$a(l);s++}return""!==h&&(r+=zl(_,h)),r}const Hr={};function mc(n){Op(At(),we(),_s()+n,!1)}function Op(n,r,s,l){if(!l)if(3==(3&r[2])){const _=n.preOrderCheckHooks;null!==_&&Mi(r,_,s)}else{const _=n.preOrderHooks;null!==_&&Vt(r,_,0,s)}Wo(s)}function rh(n,r){return n<<17|r<<2}function dl(n){return n>>17&32767}function Pp(n){return 2|n}function hl(n){return(131068&n)>>2}function cf(n,r){return-131069&n|r<<2}function df(n){return 1|n}function Kg(n,r){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l],_=s[l+1];if(-1!==_){const D=n.data[_];ga(h),D.contentQueries(2,r[_],_)}}}function yc(n,r,s,l,h,_,D,T,R,z){const ee=r.blueprint.slice();return ee[0]=h,ee[2]=140|l,Ui(ee),ee[3]=ee[15]=n,ee[8]=s,ee[10]=D||n&&n[10],ee[11]=T||n&&n[11],ee[12]=R||n&&n[12]||null,ee[9]=z||n&&n[9]||null,ee[6]=_,ee[16]=2==r.type?n[16]:ee,ee}function vc(n,r,s,l,h){let _=n.data[r];if(null===_)_=wf(n,r,s,l,h),function al(){return ln.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=s,_.value=l,_.attrs=h;const D=ji();_.injectorIndex=null===D?-1:D.injectorIndex}return us(_,!0),_}function wf(n,r,s,l,h){const _=Es(),D=so(),R=n.data[r]=function bc(n,r,s,l,h,_){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?_:_&&_.parent,s,r,l,h);return null===n.firstChild&&(n.firstChild=R),null!==_&&(D?null==_.child&&null!==R.parent&&(_.child=R):null===_.next&&(_.next=R)),R}function Ou(n,r,s,l){if(0===s)return-1;const h=r.length;for(let _=0;_<s;_++)r.push(l),n.blueprint.push(l),n.data.push(null);return h}function Ru(n,r,s){qi(r);try{const l=n.viewQuery;null!==l&&fd(1,l,s);const h=n.template;null!==h&&Cf(n,r,h,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Kg(n,r),n.staticViewQueries&&fd(2,n.viewQuery,s);const _=n.components;null!==_&&function Wm(n,r){for(let s=0;s<r.length;s++)Jg(n,r[s])}(r,_)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[2]&=-5,na()}}function Zl(n,r,s,l){const h=r[2];if(256!=(256&h)){qi(r);try{Ui(r),function Ho(n){return ln.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Cf(n,r,s,2,l);const D=3==(3&h);if(D){const z=n.preOrderCheckHooks;null!==z&&Mi(r,z,null)}else{const z=n.preOrderHooks;null!==z&&Vt(r,z,0,null),br(r,0)}if(function Jp(n){for(let r=ed(n);null!==r;r=Gl(r)){if(!r[2])continue;const s=r[9];for(let l=0;l<s.length;l++){const h=s[l],_=h[3];0==(1024&h[2])&&zi(_,1),h[2]|=1024}}}(r),function hd(n){for(let r=ed(n);null!==r;r=Gl(r))for(let s=10;s<r.length;s++){const l=r[s],h=l[1];cr(l)&&Zl(h,l,h.template,l[8])}}(r),null!==n.contentQueries&&Kg(n,r),D){const z=n.contentCheckHooks;null!==z&&Mi(r,z)}else{const z=n.contentHooks;null!==z&&Vt(r,z,1),br(r,1)}!function Hp(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const h=s[l];if(h<0)Wo(~h);else{const _=h,D=s[++l],T=s[++l];Fa(D,_),T(2,r[_])}}}finally{Wo(-1)}}(n,r);const T=n.components;null!==T&&function $p(n,r){for(let s=0;s<r.length;s++)Km(n,r[s])}(r,T);const R=n.viewQuery;if(null!==R&&fd(2,R,l),D){const z=n.viewCheckHooks;null!==z&&Mi(r,z)}else{const z=n.viewHooks;null!==z&&Vt(r,z,2),br(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,zi(r[3],-1))}finally{na()}}}function Df(n,r,s,l){const h=r[10],D=sr(r);try{!D&&h.begin&&h.begin(),D&&Ru(n,r,l),Zl(n,r,s,l)}finally{!D&&h.end&&h.end()}}function Cf(n,r,s,l,h){const _=_s(),D=2&l;try{Wo(-1),D&&r.length>20&&Op(n,r,20,!1),s(l,h)}finally{Wo(_)}}function ch(n,r,s){!L()||(function cd(n,r,s,l){const h=s.directiveStart,_=s.directiveEnd;n.firstCreatePass||$(s,r),ko(l,r);const D=s.initialInputs;for(let T=h;T<_;T++){const R=n.data[T],z=bi(R);z&&Fu(r,s,R);const ee=Yi(r,n,T,s);ko(ee,r),null!==D&&Zp(0,T-h,ee,R,0,D),z&&(In(s.index,r)[8]=ee)}}(n,r,s,gt(s,r)),128==(128&s.flags)&&function xf(n,r,s){const l=s.directiveStart,h=s.directiveEnd,D=s.index,T=function oo(){return ln.lFrame.currentDirectiveIndex}();try{Wo(D);for(let R=l;R<h;R++){const z=n.data[R],ee=r[R];ni(R),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Nf(z,ee)}}finally{Wo(-1),ni(T)}}(n,r,s))}function If(n,r,s=gt){const l=r.localNames;if(null!==l){let h=r.index+1;for(let _=0;_<l.length;_+=2){const D=l[_+1],T=-1===D?s(r,n):n[D];n[h++]=T}}}function Gp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=dh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function dh(n,r,s,l,h,_,D,T,R,z){const ee=20+l,fe=ee+h,Pe=function zm(n,r){const s=[];for(let l=0;l<r;l++)s.push(l<n?null:Hr);return s}(ee,fe),it="function"==typeof z?z():z;return Pe[1]={type:n,blueprint:Pe,template:s,queries:null,viewQuery:T,declTNode:r,data:Pe.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:R,consts:it,incompleteFirstPass:!1}}function hh(n,r,s,l){const h=Lu(r);null===s?h.push(l):(h.push(s),n.firstCreatePass&&wc(n).push(l,h.length-1))}function Tf(n,r,s){for(let l in n)if(n.hasOwnProperty(l)){const h=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(r,h):s[l]=[r,h]}return s}function ha(n,r,s,l,h,_,D,T){const R=gt(r,s);let ee,z=r.inputs;!T&&null!=z&&(ee=z[l])?(Dc(n,s,ee,l,h),yr(r)&&function zp(n,r){const s=In(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(l=function xs(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),h=null!=D?D(h,r.value||"",l):h,mn(_)?_.setProperty(R,l,h):M(l)||(R.setProperty?R.setProperty(l,h):R[l]=h))}function fl(n,r,s,l){let h=!1;if(L()){const _=function pu(n,r,s){const l=n.directiveRegistry;let h=null;if(l)for(let _=0;_<l.length;_++){const D=l[_];Ma(s,D.selectors,!1)&&(h||(h=[]),vt($(s,r),n,D.type),bi(D)?(Pl(n,s),h.unshift(D)):h.push(D))}return h}(n,r,s),D=null===l?null:{"":-1};if(null!==_){h=!0,Mf(s,n.data.length,_.length);for(let ee=0;ee<_.length;ee++){const fe=_[ee];fe.providersResolver&&fe.providersResolver(fe)}let T=!1,R=!1,z=Ou(n,r,_.length,null);for(let ee=0;ee<_.length;ee++){const fe=_[ee];s.mergedAttrs=J(s.mergedAttrs,fe.hostAttrs),ku(n,s,r,z,fe),dd(z,fe,D),null!==fe.contentQueries&&(s.flags|=8),(null!==fe.hostBindings||null!==fe.hostAttrs||0!==fe.hostVars)&&(s.flags|=128);const Pe=fe.type.prototype;!T&&(Pe.ngOnChanges||Pe.ngOnInit||Pe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),T=!0),!R&&(Pe.ngOnChanges||Pe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),R=!0),z++}!function nl(n,r){const l=r.directiveEnd,h=n.data,_=r.attrs,D=[];let T=null,R=null;for(let z=r.directiveStart;z<l;z++){const ee=h[z],fe=ee.inputs,Pe=null===_||pc(r)?null:Of(fe,_);D.push(Pe),T=Tf(fe,z,T),R=Tf(ee.outputs,z,R)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=D,r.inputs=T,r.outputs=R}(n,s)}D&&function Wa(n,r,s){if(r){const l=n.localNames=[];for(let h=0;h<r.length;h+=2){const _=s[r[h+1]];if(null==_)throw new ft(-301,!1);l.push(r[h],_)}}}(s,l,D)}return s.mergedAttrs=J(s.mergedAttrs,s.attrs),h}function ud(n,r,s,l,h,_){const D=_.hostBindings;if(D){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const R=~r.index;(function ph(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=R&&T.push(R),T.push(l,h,D)}}function Nf(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Pl(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function dd(n,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=n;bi(r)&&(s[""]=n)}}function Mf(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function ku(n,r,s,l,h){n.data[l]=h;const _=h.factory||(h.factory=Jr(h.type)),D=new Nn(_,bi(h),null);n.blueprint[l]=D,s[l]=D,ud(n,r,0,l,Ou(n,s,h.hostVars,Hr),h)}function Fu(n,r,s){const l=gt(r,n),h=Gp(s),_=n[10],D=Rf(n,yc(n,h,null,s.onPush?64:16,l,r,_,_.createRenderer(l,s),null,null));n[r.index]=D}function Kp(n,r,s,l,h,_,D){if(null==_)mn(n)?n.removeAttribute(r,h,s):r.removeAttribute(h);else{const T=null==D?Je(_):D(_,l||"",h);mn(n)?n.setAttribute(r,h,T,s):s?r.setAttributeNS(s,h,T):r.setAttribute(h,T)}}function Zp(n,r,s,l,h,_){const D=_[r];if(null!==D){const T=l.setInput;for(let R=0;R<D.length;){const z=D[R++],ee=D[R++],fe=D[R++];null!==T?l.setInput(s,fe,z,ee):s[ee]=fe}}}function Of(n,r){let s=null,l=0;for(;l<r.length;){const h=r[l];if(0!==h)if(5!==h){if("number"==typeof h)break;n.hasOwnProperty(h)&&(null===s&&(s=[]),s.push(h,n[h],r[l+1])),l+=2}else l+=2;else l+=4}return s}function Yp(n,r,s,l){return new Array(n,!0,!1,r,null,0,l,s,null,null)}function Km(n,r){const s=In(r,n);if(cr(s)){const l=s[1];80&s[2]?Zl(l,s,l.template,s[8]):s[5]>0&&Qp(s)}}function Qp(n){for(let l=ed(n);null!==l;l=Gl(l))for(let h=10;h<l.length;h++){const _=l[h];if(1024&_[2]){const D=_[1];Zl(D,_,D.template,_[8])}else _[5]>0&&Qp(_)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const h=In(s[l],n);cr(h)&&h[5]>0&&Qp(h)}}function Jg(n,r){const s=In(r,n),l=s[1];(function Qg(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(l,s),Ru(l,s,s[8])}function Rf(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function gh(n){for(;n;){n[2]|=64;const r=Xc(n);if(Ns(n)&&!r)return n;n=r}return null}function yh(n){!function mh(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],l=Hs(s),h=l[1];Df(h,l,h.template,s)}}(n[8])}function fd(n,r,s){ga(0),r(n,s)}const kf=(()=>Promise.resolve(null))();function Lu(n){return n[7]||(n[7]=[])}function wc(n){return n.cleanup||(n.cleanup=[])}function Fl(n,r){const s=n[9],l=s?s.get(Qc,null):null;l&&l.handleError(r)}function Dc(n,r,s,l,h){for(let _=0;_<s.length;){const D=s[_++],T=s[_++],R=r[D],z=n.data[D];null!==z.setInput?z.setInput(R,h,l,T):R[T]=h}}function Cc(n,r,s){let l=s?n.styles:null,h=s?n.classes:null,_=0;if(null!==r)for(let D=0;D<r.length;D++){const T=r[D];"number"==typeof T?_=T:1==_?h=Ue(h,T):2==_&&(l=Ue(l,T+": "+r[++D]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=h:n.classesWithoutHost=h}const md=new ri("INJECTOR",-1);class vh{get(r,s=Mo){if(s===Mo){const l=new Error(`NullInjectorError: No provider for ${ae(r)}!`);throw l.name="NullInjectorError",l}return s}}const _d=new ri("Set Injector scope."),Bu={},Xp={};let Ff;function yd(){return void 0===Ff&&(Ff=new vh),Ff}function bh(n,r=null,s=null,l){const h=Lf(n,r,s,l);return h._resolveInjectorDefTypes(),h}function Lf(n,r=null,s=null,l){return new wh(n,s,r||yd(),l)}class wh{constructor(r,s,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];s&&As(s,T=>this.processProvider(T,r,s)),As([r],T=>this.processInjectorType(T,[],_)),this.records.set(md,Yl(void 0,this));const D=this.records.get(_d);this.scope=null!=D?D.value:null,this.source=h||("object"==typeof r?null:ae(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Mo,l=Qt.Default){this.assertNotDestroyed();const h=Ku(this),_=Gt(void 0);try{if(!(l&Qt.SkipSelf)){let T=this.records.get(r);if(void 0===T){const R=function ng(n){return"function"==typeof n||"object"==typeof n&&n instanceof ri}(r)&&Hn(r);T=R&&this.injectableDefInScope(R)?Yl(vd(r),Bu):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(l&Qt.Self?yd():this.parent).get(r,s=l&Qt.Optional&&s===Mo?null:s)}catch(D){if("NullInjectorError"===D.name){if((D[Hl]=D[Hl]||[]).unshift(ae(r)),h)throw D;return function yn(n,r,s,l){const h=n[Hl];throw r[Fs]&&h.unshift(r[Fs]),n.message=function kn(n,r,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let h=ae(r);if(Array.isArray(r))h=r.map(ae).join(" -> ");else if("object"==typeof r){let _=[];for(let D in r)if(r.hasOwnProperty(D)){let T=r[D];_.push(D+":"+("string"==typeof T?JSON.stringify(T):ae(T)))}h=`{${_.join(", ")}}`}return`${s}${l?"("+l+")":""}[${h}]: ${n.replace(iu,"\n  ")}`}("\n"+n.message,h,s,l),n.ngTokenPath=h,n[Hl]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{Gt(_),Ku(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((l,h)=>r.push(ae(h))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processInjectorType(r,s,l){if(!(r=Re(r)))return!1;let h=Nr(r);const _=null==h&&r.ngModule||void 0,D=void 0===_?r:_,T=-1!==l.indexOf(D);if(void 0!==_&&(h=Nr(_)),null==h)return!1;if(null!=h.imports&&!T){let ee;l.push(D);try{As(h.imports,fe=>{this.processInjectorType(fe,s,l)&&(void 0===ee&&(ee=[]),ee.push(fe))})}finally{}if(void 0!==ee)for(let fe=0;fe<ee.length;fe++){const{ngModule:Pe,providers:it}=ee[fe];As(it,xt=>this.processProvider(xt,Pe,it||Pn))}}this.injectorDefTypes.add(D);const R=Jr(D)||(()=>new D);this.records.set(D,Yl(R,Bu));const z=h.providers;if(null!=z&&!T){const ee=r;As(z,fe=>this.processProvider(fe,ee,z))}return void 0!==_&&void 0!==r.providers}processProvider(r,s,l){let h=Ic(r=Re(r))?r:Re(r&&r.provide);const _=function eg(n,r,s){return em(n)?Yl(void 0,n.useValue):Yl(Vf(n),Bu)}(r);if(Ic(r)||!0!==r.multi)this.records.get(h);else{let D=this.records.get(h);D||(D=Yl(void 0,Bu,!0),D.factory=()=>Ge(D.multi),this.records.set(h,D)),h=r,D.multi.push(r)}this.records.set(h,_)}hydrate(r,s){return s.value===Bu&&(s.value=Xp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Eh(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Re(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function vd(n){const r=Hn(n),s=null!==r?r.factory:Jr(n);if(null!==s)return s;if(n instanceof ri)throw new ft(204,!1);if(n instanceof Function)return function Bf(n){const r=n.length;if(r>0)throw oa(r,"?"),new ft(204,!1);const s=function _r(n){const r=n&&(n[vn]||n[ir]);if(r){const s=function tr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ft(204,!1)}function Vf(n,r,s){let l;if(Ic(n)){const h=Re(n);return Jr(h)||vd(h)}if(em(n))l=()=>Re(n.useValue);else if(function tg(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Ge(n.deps||[]));else if(function Jm(n){return!(!n||!n.useExisting)}(n))l=()=>U(Re(n.useExisting));else{const h=Re(n&&(n.useClass||n.provide));if(!function Ch(n){return!!n.deps}(n))return Jr(h)||vd(h);l=()=>new h(...Ge(n.deps))}return l}function Yl(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function em(n){return null!==n&&"object"==typeof n&&qu in n}function Ic(n){return"function"==typeof n}let qa=(()=>{class n{static create(s,l){var h;if(Array.isArray(s))return bh({name:""},l,s,"");{const _=null!==(h=s.name)&&void 0!==h?h:"";return bh({name:_},s.parent,s.providers,_)}}}return n.THROW_IF_NOT_FOUND=Mo,n.NULL=new vh,n.\u0275prov=gn({token:n,providedIn:"any",factory:()=>U(md)}),n.__NG_ELEMENT_ID__=-1,n})();function cm(n,r){Ts(Hs(n)[1],hr())}function Cd(n){let r=function hm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;r;){let h;if(bi(n))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ft(903,"");h=r.\u0275dir}if(h){if(s){l.push(h);const D=n;D.inputs=Ah(n.inputs),D.declaredInputs=Ah(n.declaredInputs),D.outputs=Ah(n.outputs);const T=h.hostBindings;T&&fm(n,T);const R=h.viewQuery,z=h.contentQueries;if(R&&Wf(n,R),z&&lg(n,z),Ne(n.inputs,h.inputs),Ne(n.declaredInputs,h.declaredInputs),Ne(n.outputs,h.outputs),bi(h)&&h.data.animation){const ee=n.data;ee.animation=(ee.animation||[]).concat(h.data.animation)}}const _=h.features;if(_)for(let D=0;D<_.length;D++){const T=_[D];T&&T.ngInherit&&T(n),T===Cd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Qm(n){let r=0,s=null;for(let l=n.length-1;l>=0;l--){const h=n[l];h.hostVars=r+=h.hostVars,h.hostAttrs=J(h.hostAttrs,s=J(s,h.hostAttrs))}}(l)}function Ah(n){return n===Ar?{}:n===Pn?[]:n}function Wf(n,r){const s=n.viewQuery;n.viewQuery=s?(l,h)=>{r(l,h),s(l,h)}:r}function lg(n,r){const s=n.contentQueries;n.contentQueries=s?(l,h,_)=>{r(l,h,_),s(l,h,_)}:r}function fm(n,r){const s=n.hostBindings;n.hostBindings=s?(l,h)=>{r(l,h),s(l,h)}:r}let Ed=null;function Uu(){if(!Ed){const n=lr.Symbol;if(n&&n.iterator)Ed=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const l=r[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Ed=l)}}}return Ed}function Tc(n){return!!qf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Uu()in n)}function qf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Jl(n,r,s){return n[r]=s}function Fo(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function gu(n,r,s,l){const h=Fo(n,r,s);return Fo(n,r+1,l)||h}function Id(n,r,s,l){const h=we();return Fo(h,So(),r)&&(At(),function za(n,r,s,l,h,_){const D=gt(n,r);Kp(r[11],D,_,n.value,s,l,h)}(Fi(),h,n,r,s,l)),Id}function mu(n,r,s,l){return Fo(n,So(),s)?r+Je(s)+l:Hr}function O(n,r,s,l,h,_,D,T){const R=we(),z=At(),ee=n+20,fe=z.firstCreatePass?function w(n,r,s,l,h,_,D,T,R){const z=r.consts,ee=vc(r,n,4,D||null,Qn(z,T));fl(r,s,ee,Qn(z,R)),Ts(r,ee);const fe=ee.tViews=dh(2,ee,l,h,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,ee),fe.queries=r.queries.embeddedTView(ee)),ee}(ee,z,R,r,s,l,h,_,D):z.data[ee];us(fe,!1);const Pe=R[11].createComment("");Wl(z,R,Pe,fe),ko(Pe,R),Rf(R,R[ee]=Yp(Pe,R,Pe,fe)),vi(fe)&&ch(z,R,fe),null!=D&&If(R,fe,T)}function Ce(n){return En(function go(){return ln.lFrame.contextLView}(),20+n)}function Nd(n,r=Qt.Default){const s=we();return null===s?U(n,r):kr(hr(),s,Re(n),r)}function hg(){throw new Error("invalid")}function Md(n,r,s){const l=we();return Fo(l,So(),r)&&ha(At(),Fi(),l,n,r,l[11],s,!1),Md}function pl(n,r,s,l,h){const D=h?"class":"style";Dc(n,s,r.inputs[D],D,l)}function Yf(n,r,s,l){const h=we(),_=At(),D=20+n,T=h[11],R=h[D]=Kd(T,r,function _a(){return ln.lFrame.currentNamespace}()),z=_.firstCreatePass?function vu(n,r,s,l,h,_,D){const T=r.consts,z=vc(r,n,2,h,Qn(T,_));return fl(r,s,z,Qn(T,D)),null!==z.attrs&&Cc(z,z.attrs,!1),null!==z.mergedAttrs&&Cc(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(D,_,h,0,r,s,l):_.data[D];us(z,!0);const ee=z.mergedAttrs;null!==ee&&ya(T,R,ee);const fe=z.classes;null!==fe&&rf(T,R,fe);const Pe=z.styles;return null!==Pe&&id(T,R,Pe),64!=(64&z.flags)&&Wl(_,h,R,z),0===function Ws(){return ln.lFrame.elementDepthCount}()&&ko(R,h),function Zs(){ln.lFrame.elementDepthCount++}(),vi(z)&&(ch(_,h,z),function Ef(n,r,s){if(jr(r)){const h=r.directiveEnd;for(let _=r.directiveStart;_<h;_++){const D=n.data[_];D.contentQueries&&D.contentQueries(1,s[_],_)}}}(_,z,h)),null!==l&&If(h,z),Yf}function Qo(){let n=hr();so()?po():(n=n.parent,us(n,!1));const r=n;!function H(){ln.lFrame.elementDepthCount--}();const s=At();return s.firstCreatePass&&(Ts(s,n),jr(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function is(n){return 0!=(16&n.flags)}(r)&&pl(s,r,we(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function _l(n){return 0!=(32&n.flags)}(r)&&pl(s,r,we(),r.stylesWithoutHost,!1),Qo}function eu(n,r,s,l){return Yf(n,r,s,l),Qo(),eu}function Jf(){return we()}function Bl(n){return!!n&&"function"==typeof n.then}function Qf(n){return!!n&&"function"==typeof n.subscribe}const Ph=Qf;function pg(n,r,s,l){const h=we(),_=At(),D=hr();return function i_(n,r,s,l,h,_,D,T){const R=vi(l),ee=n.firstCreatePass&&wc(n),fe=r[8],Pe=Lu(r);let it=!0;if(3&l.type||T){const xn=gt(l,r),Yn=T?T(xn):xn,zt=Pe.length,fr=T?Ai=>T(V(Ai[l.index])):l.index;if(mn(s)){let Ai=null;if(!T&&R&&(Ai=function Y_(n,r,s,l){const h=n.cleanup;if(null!=h)for(let _=0;_<h.length-1;_+=2){const D=h[_];if(D===s&&h[_+1]===l){const T=r[7],R=h[_+2];return T.length>R?T[R]:null}"string"==typeof D&&(_+=2)}return null}(n,r,h,l.index)),null!==Ai)(Ai.__ngLastListenerFn__||Ai).__ngNextListenerFn__=_,Ai.__ngLastListenerFn__=_,it=!1;else{_=Xf(l,r,fe,_,!1);const ms=s.listen(Yn,h,_);Pe.push(_,ms),ee&&ee.push(h,fr,zt,zt+1)}}else _=Xf(l,r,fe,_,!0),Yn.addEventListener(h,_,D),Pe.push(_),ee&&ee.push(h,fr,zt,D)}else _=Xf(l,r,fe,_,!1);const xt=l.outputs;let hn;if(it&&null!==xt&&(hn=xt[h])){const xn=hn.length;if(xn)for(let Yn=0;Yn<xn;Yn+=2){const nu=r[hn[Yn]][hn[Yn+1]].subscribe(_),up=Pe.length;Pe.push(_,nu),ee&&ee.push(h,l.index,up,-(up+1))}}}(_,h,h[11],D,n,r,!!s,l),pg}function s_(n,r,s,l){try{return!1!==s(l)}catch(h){return Fl(n,h),!1}}function Xf(n,r,s,l,h){return function _(D){if(D===Function)return l;const T=2&n.flags?In(n.index,r):r;0==(32&r[2])&&gh(T);let R=s_(r,0,l,D),z=_.__ngNextListenerFn__;for(;z;)R=s_(r,0,z,D)&&R,z=z.__ngNextListenerFn__;return h&&!1===R&&(D.preventDefault(),D.returnValue=!1),R}}function mg(n=1){return function ll(n){return(ln.lFrame.contextLView=function Ya(n,r){for(;n>0;)r=r[15],n--;return r}(n,ln.lFrame.contextLView))[8]}(n)}function o_(n,r){let s=null;const l=function lf(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let h=0;h<r.length;h++){const _=r[h];if("*"!==_){if(null===l?Ma(n,_,!0):Ug(l,_))return h}else s=h}return s}function Pc(n){const r=we()[16][6];if(!r.projection){const l=r.projection=oa(n?n.length:1,null),h=l.slice();let _=r.child;for(;null!==_;){const D=n?o_(_,n):0;null!==D&&(h[D]?h[D].projectionNext=_:l[D]=_,h[D]=_),_=_.next}}}function _m(n,r=0,s){const l=we(),h=At(),_=vc(h,20+n,16,null,s||null);null===_.projection&&(_.projection=r),po(),64!=(64&_.flags)&&function hc(n,r,s){da(r[11],0,r,s,du(n,s,r),Sp(s.parent||r[6],s,r))}(h,l,_)}function _g(n,r,s){return kh(n,"",r,"",s),_g}function kh(n,r,s,l,h){const _=we(),D=mu(_,r,s,l);return D!==Hr&&ha(At(),Fi(),_,n,D,_[11],h,!1),kh}function u_(n,r,s,l,h){const _=n[s+1],D=null===r;let T=l?dl(_):hl(_),R=!1;for(;0!==T&&(!1===R||D);){const ee=n[T+1];X_(n[T],r)&&(R=!0,n[T+1]=l?df(ee):Pp(ee)),T=l?dl(ee):hl(ee)}R&&(n[s+1]=l?Pp(_):df(_))}function X_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ws(n,r)>=0}const Lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function c_(n){return n.substring(Lo.key,Lo.keyEnd)}function h_(n,r){const s=Lo.textEnd;return s===r?-1:(r=Lo.keyEnd=function ty(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,Lo.key=r,s),Rd(n,r,s))}function Rd(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function ip(n,r,s){return fa(n,r,s,!1),ip}function Lh(n,r){return fa(n,r,null,!0),Lh}function kc(n){!function tu(n,r,s,l){const h=At(),_=Ps(2);h.firstUpdatePass&&y_(h,null,_,l);const D=we();if(s!==Hr&&Fo(D,_,s)){const T=h.data[_s()];if(bg(T,l)&&!__(h,_)){let R=l?T.classesWithoutHost:T.stylesWithoutHost;null!==R&&(s=Ue(R,s||"")),pl(h,T,D,s,l)}else!function ly(n,r,s,l,h,_,D,T){h===Hr&&(h=Pn);let R=0,z=0,ee=0<h.length?h[0]:null,fe=0<_.length?_[0]:null;for(;null!==ee||null!==fe;){const Pe=R<h.length?h[R+1]:void 0,it=z<_.length?_[z+1]:void 0;let hn,xt=null;ee===fe?(R+=2,z+=2,Pe!==it&&(xt=fe,hn=it)):null===fe||null!==ee&&ee<fe?(R+=2,xt=ee):(z+=2,xt=fe,hn=it),null!==xt&&b_(n,r,s,l,xt,hn,D,T),ee=R<h.length?h[R]:null,fe=z<_.length?_[z]:null}}(h,T,D,D[11],D[_+1],D[_+1]=function ay(n,r,s){if(null==s||""===s)return Pn;const l=[],h=Ko(s);if(Array.isArray(h))for(let _=0;_<h.length;_++)n(l,h[_],!0);else if("object"==typeof h)for(const _ in h)h.hasOwnProperty(_)&&n(l,_,h[_]);else"string"==typeof h&&r(l,h);return l}(n,r,s),l,_)}}(bs,sl,n,!0)}function sl(n,r){for(let s=function ey(n){return function g_(n){Lo.key=0,Lo.keyEnd=0,Lo.value=0,Lo.valueEnd=0,Lo.textEnd=n.length}(n),h_(n,Rd(n,0,Lo.textEnd))}(r);s>=0;s=h_(r,s))bs(n,c_(r),!0)}function fa(n,r,s,l){const h=we(),_=At(),D=Ps(2);_.firstUpdatePass&&y_(_,n,D,l),r!==Hr&&Fo(h,D,r)&&b_(_,_.data[_s()],h,h[11],n,h[D+1]=function Bh(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ae(Ko(n)))),n}(r,s),l,D)}function __(n,r){return r>=n.expandoStartIndex}function y_(n,r,s,l){const h=n.data;if(null===h[s+1]){const _=h[_s()],D=__(n,s);bg(_,l)&&null===r&&!D&&(r=!1),r=function Fc(n,r,s,l){const h=function ao(n){const r=ln.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let _=l?r.residualClasses:r.residualStyles;if(null===h)0===(l?r.classBindings:r.styleBindings)&&(s=sp(s=wm(null,n,r,s,l),r.attrs,l),_=null);else{const D=r.directiveStylingLast;if(-1===D||n[D]!==h)if(s=wm(h,n,r,s,l),null===_){let R=function iy(n,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==hl(l))return n[dl(l)]}(n,r,l);void 0!==R&&Array.isArray(R)&&(R=wm(null,n,r,R[1],l),R=sp(R,r.attrs,l),function sy(n,r,s,l){n[dl(s?r.classBindings:r.styleBindings)]=l}(n,r,l,R))}else _=function oy(n,r,s){let l;const h=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<h;_++)l=sp(l,n[_].hostAttrs,s);return sp(l,r.attrs,s)}(n,r,l)}return void 0!==_&&(l?r.residualClasses=_:r.residualStyles=_),s}(h,_,r,l),function rp(n,r,s,l,h,_){let D=_?r.classBindings:r.styleBindings,T=dl(D),R=hl(D);n[l]=s;let ee,z=!1;if(Array.isArray(s)){const fe=s;ee=fe[1],(null===ee||ws(fe,ee)>0)&&(z=!0)}else ee=s;if(h)if(0!==R){const Pe=dl(n[T+1]);n[l+1]=rh(Pe,T),0!==Pe&&(n[Pe+1]=cf(n[Pe+1],l)),n[T+1]=function Um(n,r){return 131071&n|r<<17}(n[T+1],l)}else n[l+1]=rh(T,0),0!==T&&(n[T+1]=cf(n[T+1],l)),T=l;else n[l+1]=rh(R,0),0===T?T=l:n[R+1]=cf(n[R+1],l),R=l;z&&(n[l+1]=Pp(n[l+1])),u_(n,ee,l,!0),u_(n,ee,l,!1),function Q_(n,r,s,l,h){const _=h?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&ws(_,r)>=0&&(s[l+1]=df(s[l+1]))}(r,ee,n,l,_),D=rh(T,R),_?r.classBindings=D:r.styleBindings=D}(h,_,r,s,D,l)}}function wm(n,r,s,l,h){let _=null;const D=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<D&&(_=r[T],l=sp(l,_.hostAttrs,h),_!==n);)T++;return null!==n&&(s.directiveStylingLast=T),l}function sp(n,r,s){const l=s?1:2;let h=-1;if(null!==r)for(let _=0;_<r.length;_++){const D=r[_];"number"==typeof D?h=D:h===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bs(n,D,!!s||r[++_]))}return void 0===n?null:n}function b_(n,r,s,l,h,_,D,T){if(!(3&r.type))return;const R=n.data,z=R[T+1];vg(function kp(n){return 1==(1&n)}(z)?w_(R,r,s,h,hl(z),D):void 0)||(vg(_)||function Rp(n){return 2==(2&n)}(z)&&(_=w_(R,null,s,h,T,D)),function fc(n,r,s,l,h){const _=mn(n);if(r)h?_?n.addClass(s,l):s.classList.add(l):_?n.removeClass(s,l):s.classList.remove(l);else{let D=-1===l.indexOf("-")?void 0:Al.DashCase;if(null==h)_?n.removeStyle(s,l,D):s.style.removeProperty(l);else{const T="string"==typeof h&&h.endsWith("!important");T&&(h=h.slice(0,-10),D|=Al.Important),_?n.setStyle(s,l,h,D):s.style.setProperty(l,h,T?"important":"")}}}(l,D,lt(_s(),s),h,_))}function w_(n,r,s,l,h,_){const D=null===r;let T;for(;h>0;){const R=n[h],z=Array.isArray(R),ee=z?R[1]:R,fe=null===ee;let Pe=s[h+1];Pe===Hr&&(Pe=fe?Pn:void 0);let it=fe?zo(Pe,l):ee===l?Pe:void 0;if(z&&!vg(it)&&(it=zo(R,l)),vg(it)&&(T=it,D))return T;const xt=n[h+1];h=D?dl(xt):hl(xt)}if(null!==r){let R=_?r.residualClasses:r.residualStyles;null!=R&&(T=zo(R,l))}return T}function vg(n){return void 0!==n}function bg(n,r){return 0!=(n.flags&(r?16:32))}function uy(n,r=""){const s=we(),l=At(),h=n+20,_=l.firstCreatePass?vc(l,h,1,r,null):l.data[h],D=s[h]=Tp(s[11],r);Wl(l,s,D,_),us(_,!1)}function D_(n){return wg("",n,""),D_}function wg(n,r,s){const l=we(),h=mu(l,n,r,s);return h!==Hr&&function Oa(n,r,s){const l=lt(r,n);Zh(n[11],l,s)}(l,_s(),h),wg}function Vo(n,r,s){const l=we();return Fo(l,So(),r)&&ha(At(),Fi(),l,n,r,l[11],s,!0),Vo}const op=void 0;var cb=["en",[["a","p"],["AM","PM"],op],[["AM","PM"],op,op],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],op,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],op,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",op,"{1} 'at' {0}",op],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ub(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Dg={};function dy(n){const r=function db(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=uv(r);if(s)return s;const l=r.split("-")[0];if(s=uv(l),s)return s;if("en"===l)return cb;throw new Error(`Missing locale data for the locale "${n}".`)}function lv(n){return dy(n)[Ir.PluralCase]}function uv(n){return n in Dg||(Dg[n]=lr.ng&&lr.ng.common&&lr.ng.common.locales&&lr.ng.common.locales[n]),Dg[n]}var Ir=(()=>((Ir=Ir||{})[Ir.LocaleId=0]="LocaleId",Ir[Ir.DayPeriodsFormat=1]="DayPeriodsFormat",Ir[Ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ir[Ir.DaysFormat=3]="DaysFormat",Ir[Ir.DaysStandalone=4]="DaysStandalone",Ir[Ir.MonthsFormat=5]="MonthsFormat",Ir[Ir.MonthsStandalone=6]="MonthsStandalone",Ir[Ir.Eras=7]="Eras",Ir[Ir.FirstDayOfWeek=8]="FirstDayOfWeek",Ir[Ir.WeekendRange=9]="WeekendRange",Ir[Ir.DateFormat=10]="DateFormat",Ir[Ir.TimeFormat=11]="TimeFormat",Ir[Ir.DateTimeFormat=12]="DateTimeFormat",Ir[Ir.NumberSymbols=13]="NumberSymbols",Ir[Ir.NumberFormats=14]="NumberFormats",Ir[Ir.CurrencyCode=15]="CurrencyCode",Ir[Ir.CurrencySymbol=16]="CurrencySymbol",Ir[Ir.CurrencyName=17]="CurrencyName",Ir[Ir.Currencies=18]="Currencies",Ir[Ir.Directionality=19]="Directionality",Ir[Ir.PluralCase=20]="PluralCase",Ir[Ir.ExtraData=21]="ExtraData",Ir))();const hb=["zero","one","two","few","many"],N_="en-US",M_={marker:"element"},O_={marker:"ICU"};var To=(()=>((To=To||{})[To.SHIFT=2]="SHIFT",To[To.APPEND_EAGERLY=1]="APPEND_EAGERLY",To[To.COMMENT=2]="COMMENT",To))();let cv=N_;function dv(n,r,s){const l=r.insertBeforeIndex,h=Array.isArray(l)?l[0]:l;return null===h?ef(n,0,s):V(s[h])}function hv(n,r,s,l,h){const _=r.insertBeforeIndex;if(Array.isArray(_)){let D=l,T=null;if(3&r.type||(T=D,D=h),null!==D&&0==(2&r.flags))for(let R=1;R<_.length;R++)Na(n,D,s[_[R]],T,!1)}}function fv(n,r){if(n.push(r),n.length>1)for(let s=n.length-2;s>=0;s--){const l=n[s];pv(l)||_b(l,r)&&null===yb(l)&&vb(l,r.index)}}function pv(n){return!(64&n.type)}function _b(n,r){return pv(r)||n.index>r.index}function yb(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function vb(n,r){const s=n.insertBeforeIndex;Array.isArray(s)?s[0]=r:(Qd(dv,hv),n.insertBeforeIndex=r)}function Cm(n,r){const s=n.data[r];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function Db(n,r,s){const l=wf(n,s,64,null,null);return fv(r,l),l}function R_(n,r){const s=r[n.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function gv(n){return n>>>17}function mv(n){return(131070&n)>>>1}let Em=0,Im=0;function yv(n,r,s,l){const h=s[11];let D,_=null;for(let T=0;T<r.length;T++){const R=r[T];if("string"==typeof R){const z=r[++T];null===s[z]&&(s[z]=Tp(h,R))}else if("number"==typeof R)switch(1&R){case 0:const z=gv(R);let ee,fe;if(null===_&&(_=z,D=Nu(h,l)),z===_?(ee=l,fe=D):(ee=null,fe=V(s[z])),null!==fe){const hn=mv(R);Na(h,fe,s[hn],ee,!1);const Yn=Cm(n,hn);if(null!==Yn&&"object"==typeof Yn){const zt=R_(Yn,s);null!==zt&&yv(n,Yn.create[zt],s,s[Yn.anchorIdx])}}break;case 1:const it=r[++T],xt=r[++T];Kp(h,lt(R>>>1,s),null,null,it,xt,null)}else switch(R){case O_:const z=r[++T],ee=r[++T];null===s[ee]&&ko(s[ee]=dc(h,z),s);break;case M_:const fe=r[++T],Pe=r[++T];null===s[Pe]&&ko(s[Pe]=Kd(h,fe,null),s)}}}function vv(n,r,s,l,h){for(let _=0;_<s.length;_++){const D=s[_],T=s[++_];if(D&h){let R="";for(let z=_+1;z<=_+T;z++){const ee=s[z];if("string"==typeof ee)R+=ee;else if("number"==typeof ee)if(ee<0)R+=Je(r[l-ee]);else{const fe=ee>>>2;switch(3&ee){case 1:const Pe=s[++z],it=s[++z],xt=n.data[fe];"string"==typeof xt?Kp(r[11],r[fe],null,xt,Pe,R,it):ha(n,xt,r,Pe,R,r[11],it,!1);break;case 0:const hn=r[fe];null!==hn&&Zh(r[11],hn,R);break;case 2:Sb(n,Cm(n,fe),r,R);break;case 3:bv(n,Cm(n,fe),l,r)}}}}else{const R=s[_+1];if(R>0&&3==(3&R)){const ee=Cm(n,R>>>2);r[ee.currentCaseLViewIndex]<0&&bv(n,ee,l,r)}}_+=T}}function bv(n,r,s,l){let h=l[r.currentCaseLViewIndex];if(null!==h){let _=Em;h<0&&(h=l[r.currentCaseLViewIndex]=~h,_=-1),vv(n,l,r.update[h],s,_)}}function Sb(n,r,s,l){const h=function Ab(n,r){let s=n.cases.indexOf(r);if(-1===s)switch(n.type){case 1:{const l=function fb(n,r){const s=lv(r)(parseInt(n,10)),l=hb[s];return void 0!==l?l:"other"}(r,function mb(){return cv}());s=n.cases.indexOf(l),-1===s&&"other"!==l&&(s=n.cases.indexOf("other"));break}case 0:s=n.cases.indexOf("other")}return-1===s?null:s}(r,l);if(R_(r,s)!==h&&(wv(n,r,s),s[r.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const D=s[r.anchorIdx];D&&yv(n,r.create[h],s,D)}}function wv(n,r,s){let l=R_(r,s);if(null!==l){const h=r.remove[l];for(let _=0;_<h.length;_++){const D=h[_];if(D>0){const T=lt(D,s);null!==T&&nf(s[11],T)}else wv(n,Cm(n,~D),s)}}}function xb(){const n=[];let s,l,r=-1;function _(T,R){r=0;const z=R_(T,R);l=null!==z?T.remove[z]:Pn}function D(){if(r<l.length){const T=l[r++];return T>0?s[T]:(n.push(r,l),_(s[1].data[~T],s),D())}return 0===n.length?null:(l=n.pop(),r=n.pop(),D())}return function h(T,R){for(s=R;n.length;)n.pop();return _(T.value,R),D}}const P_=/\ufffd(\d+):?\d*\ufffd/gi,Mb=/\ufffd(\d+)\ufffd/,Cv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ob=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Rb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Pb=/\uE500/g;function Ev(n,r,s,l,h,_,D){const T=Ou(n,l,1,null);let R=T<<To.SHIFT,z=ji();r===z&&(z=null),null===z&&(R|=To.APPEND_EAGERLY),D&&(R|=To.COMMENT,function zd(n){void 0===qh&&(qh=n())}(xb)),h.push(R,null===_?"":_);const ee=wf(n,T,D?32:1,null===_?"":_,null);fv(s,ee);const fe=ee.index;return us(ee,!1),null!==z&&r!==z&&function wb(n,r){let s=n.insertBeforeIndex;null===s?(Qd(dv,hv),s=n.insertBeforeIndex=[null,r]):(function ut(n,r,s){n!=r&&Xe(s,n,r,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(r))}(z,fe),ee}function Lb(n,r,s,l,h,_,D){const T=D.match(P_),R=Ev(n,r,s,_,l,T?null:D,!1);T&&Cg(h,D,R.index,null,0,null)}function Cg(n,r,s,l,h,_){const D=n.length,T=D+1;n.push(null,null);const R=D+2,z=r.split(P_);let ee=0;for(let fe=0;fe<z.length;fe++){const Pe=z[fe];if(1&fe){const it=h+parseInt(Pe,10);n.push(-1-it),ee|=Iv(it)}else""!==Pe&&n.push(Pe)}return n.push(s<<2|(l?1:0)),l&&n.push(l,_),n[D]=ee,n[T]=n.length-R,ee}function Iv(n){return 1<<Math.min(n,31)}function Tv(n){let r,_,s="",l=0,h=!1;for(;null!==(r=Ob.exec(n));)h?r[0]===`\ufffd/*${_}\ufffd`&&(l=r.index,h=!1):(s+=n.substring(l,r.index+r[0].length),_=r[1],h=!0);return s+=n.substr(l),s}function Sv(n,r,s,l,h,_){let D=0;const T={type:h.type,currentCaseLViewIndex:Ou(n,r,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function Wb(n,r,s){n.push(Iv(r.mainBinding),2,-1-r.mainBinding,s<<2|2)})(s,h,_),function bb(n,r,s){const l=n.data[r];null===l?n.data[r]=s:l.value=s}(n,_,T);const R=h.values;for(let z=0;z<R.length;z++){const ee=R[z],fe=[];for(let Pe=0;Pe<ee.length;Pe++){const it=ee[Pe];if("string"!=typeof it){const xt=fe.push(it)-1;ee[Pe]=`\x3c!--\ufffd${xt}\ufffd--\x3e`}}D=$b(n,T,r,s,l,h.cases[z],ee.join(""),fe)|D}D&&function zb(n,r,s){n.push(r,1,s<<2|3)}(s,D,_)}function Hb(n){const r=[],s=[];let l=1,h=0;const _=hy(n=n.replace(Cv,function(D,T,R){return l="select"===R?0:1,h=parseInt(T.substr(1),10),""}));for(let D=0;D<_.length;){let T=_[D++].trim();1===l&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&r.push(T);const R=hy(_[D++]);r.length>s.length&&s.push(R)}return{type:l,mainBinding:h,cases:r,values:s}}function hy(n){if(!n)return[];let r=0;const s=[],l=[],h=/[{}]/g;let _;for(h.lastIndex=0;_=h.exec(n);){const T=_.index;if("}"==_[0]){if(s.pop(),0==s.length){const R=n.substring(r,T);Cv.test(R)?l.push(Hb(R)):l.push(R),r=T+1}}else{if(0==s.length){const R=n.substring(r,T);l.push(R),r=T+1}s.push("{")}}const D=n.substring(r);return l.push(D),l}function $b(n,r,s,l,h,_,D,T){const R=[],z=[],ee=[];r.cases.push(_),r.create.push(R),r.remove.push(z),r.update.push(ee);const Pe=function Gc(n){const r=new Ds(n);return function Wc(){try{return!!(new window.DOMParser).parseFromString(Xa(""),"text/html")}catch(n){return!1}}()?new dp(r):r}(pn()).getInertBodyElement(D),it=function Tl(n){return"content"in n&&function Kc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(Pe)||Pe;return it?Av(n,r,s,l,R,z,ee,it,h,T,0):0}function Av(n,r,s,l,h,_,D,T,R,z,ee){let fe=0,Pe=T.firstChild;for(;Pe;){const it=Ou(n,s,1,null);switch(Pe.nodeType){case Node.ELEMENT_NODE:const xt=Pe,hn=xt.tagName.toLowerCase();if(Rn.hasOwnProperty(hn)){fy(h,M_,hn,R,it),n.data[it]=hn;const fr=xt.attributes;for(let Ai=0;Ai<fr.length;Ai++){const ms=fr.item(Ai),nu=ms.name.toLowerCase();ms.value.match(P_)?Ro.hasOwnProperty(nu)&&Cg(D,ms.value,it,ms.name,0,Tn[nu]?Il:An[nu]?Hd:null):qb(h,it,ms)}fe=Av(n,r,s,l,h,_,D,Pe,it,z,ee+1)|fe,xv(_,it,ee)}break;case Node.TEXT_NODE:const xn=Pe.textContent||"",Yn=xn.match(P_);fy(h,null,Yn?"":xn,R,it),xv(_,it,ee),Yn&&(fe=Cg(D,xn,it,null,0,null)|fe);break;case Node.COMMENT_NODE:const zt=Mb.exec(Pe.textContent||"");if(zt){const Ai=z[parseInt(zt[1],10)];fy(h,O_,"",R,it),Sv(n,s,l,R,Ai,it),Gb(_,it,ee)}}Pe=Pe.nextSibling}return fe}function xv(n,r,s){0===s&&n.push(r)}function Gb(n,r,s){0===s&&(n.push(~r),n.push(r))}function fy(n,r,s,l,h){null!==r&&n.push(r),n.push(s,h,function Cb(n,r,s){return n|r<<17|s<<1}(0,l,h))}function qb(n,r,s){n.push(r<<1|1,s.name,s.value)}function Mv(n,r,s=-1){const l=At(),h=we(),_=20+n,D=Qn(l.consts,r),T=ji();l.firstCreatePass&&function Fb(n,r,s,l,h,_){const D=ji(),T=[],R=[],z=[[]];h=function jb(n,r){if(function Ub(n){return-1===n}(r))return Tv(n);{const s=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,l=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return Tv(n.substring(s,l))}}(h,_);const ee=function kb(n){return n.replace(Pb," ")}(h).split(Rb);for(let fe=0;fe<ee.length;fe++){let Pe=ee[fe];if(0==(1&fe)){const it=hy(Pe);for(let xt=0;xt<it.length;xt++){let hn=it[xt];if(0==(1&xt)){const xn=hn;""!==xn&&Lb(n,D,z[0],T,R,s,xn)}else{const xn=hn;if("object"!=typeof xn)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Sv(n,s,R,r,xn,Ev(n,D,z[0],s,T,"",!0).index)}}}else{const it=47===Pe.charCodeAt(0),hn=(Pe.charCodeAt(it?1:0),20+Number.parseInt(Pe.substring(it?2:1)));if(it)z.shift(),us(ji(),!1);else{const xn=Db(n,z[0],hn);z.unshift([]),us(xn,!0)}}}n.data[l]={create:T,update:R}}(l,null===T?0:T.index,h,_,D,s);const R=l.data[_],ee=Ml(l,T===h[6]?null:T,h);(function Tb(n,r,s,l){const h=n[11];for(let _=0;_<r.length;_++){const D=r[_++],T=r[_],R=(D&To.COMMENT)===To.COMMENT,z=(D&To.APPEND_EAGERLY)===To.APPEND_EAGERLY,ee=D>>>To.SHIFT;let fe=n[ee];null===fe&&(fe=n[ee]=R?h.createComment(T):Tp(h,T)),z&&null!==s&&Na(h,s,fe,l,!1)}})(h,R.create,ee,T&&8&T.type?h[T.index]:null),mo(!0)}function Rv(n,r,s){Mv(n,r,s),function Ov(){mo(!1)}()}function py(n){return function Eb(n){n&&(Em|=1<<Math.min(Im,31)),Im++}(Fo(we(),So(),n)),py}function Pv(n){!function Ib(n,r,s){if(Im>0){const l=n.data[s];vv(n,r,Array.isArray(l)?l:l.update,function Ys(){return ln.lFrame.bindingIndex}()-Im-1,Em)}Em=0,Im=0}(At(),we(),n+20)}function gy(n,r,s,l,h){if(n=Re(n),Array.isArray(n))for(let _=0;_<n.length;_++)gy(n[_],r,s,l,h);else{const _=At(),D=we();let T=Ic(n)?n:Re(n.provide),R=Vf(n);const z=hr(),ee=1048575&z.providerIndexes,fe=z.directiveStart,Pe=z.providerIndexes>>20;if(Ic(n)||!n.multi){const it=new Nn(R,h,Nd),xt=_y(T,r,h?ee:ee+Pe,fe);-1===xt?(vt($(z,D),_,T),my(_,n,r.length),r.push(T),z.directiveStart++,z.directiveEnd++,h&&(z.providerIndexes+=1048576),s.push(it),D.push(it)):(s[xt]=it,D[xt]=it)}else{const it=_y(T,r,ee+Pe,fe),xt=_y(T,r,ee,ee+Pe),hn=it>=0&&s[it],xn=xt>=0&&s[xt];if(h&&!xn||!h&&!hn){vt($(z,D),_,T);const Yn=function aw(n,r,s,l,h){const _=new Nn(n,s,Nd);return _.multi=[],_.index=r,_.componentProviders=0,kv(_,h,l&&!s),_}(h?ow:sw,s.length,h,l,R);!h&&xn&&(s[xt].providerFactory=Yn),my(_,n,r.length,0),r.push(T),z.directiveStart++,z.directiveEnd++,h&&(z.providerIndexes+=1048576),s.push(Yn),D.push(Yn)}else my(_,n,it>-1?it:xt,kv(s[h?xt:it],R,!h&&l));!h&&l&&xn&&s[xt].componentProviders++}}}function my(n,r,s,l){const h=Ic(r),_=function Dh(n){return!!n.useClass}(r);if(h||_){const R=(_?Re(r.useClass):r).prototype.ngOnDestroy;if(R){const z=n.destroyHooks||(n.destroyHooks=[]);if(!h&&r.multi){const ee=z.indexOf(s);-1===ee?z.push(s,[l,R]):z[ee+1].push(l,R)}else z.push(s,R)}}}function kv(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function _y(n,r,s,l){for(let h=s;h<l;h++)if(r[h]===n)return h;return-1}function sw(n,r,s,l){return yy(this.multi,[])}function ow(n,r,s,l){const h=this.multi;let _;if(this.providerFactory){const D=this.providerFactory.componentProviders,T=Yi(s,s[1],this.providerFactory.index,l);_=T.slice(0,D),yy(h,_);for(let R=D;R<T.length;R++)_.push(T[R])}else _=[],yy(h,_);return _}function yy(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Fv(n,r=[]){return s=>{s.providersResolver=(l,h)=>function iw(n,r,s){const l=At();if(l.firstCreatePass){const h=bi(n);gy(s,l.data,l.blueprint,h,!0),gy(r,l.data,l.blueprint,h,!1)}}(l,h?h(n):n,r)}}class Lv{}class cw{resolveComponentFactory(r){throw function uw(n){const r=Error(`No component factory found for ${ae(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let k_=(()=>{class n{}return n.NULL=new cw,n})();function dw(){return Eg(hr(),we())}function Eg(n,r){return new Sm(gt(n,r))}let Sm=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=dw,n})();function hw(n){return n instanceof Sm?n.nativeElement:n}class Vv{}let fw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function gw(){const n=we(),s=In(hr().index,n);return function pw(n){return n[11]}(Xt(s)?s:n)}(),n})(),mw=(()=>{class n{}return n.\u0275prov=gn({token:n,providedIn:"root",factory:()=>null}),n})();class Uv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const jv=new Uv("13.3.11"),vy={};function F_(n,r,s,l,h=!1){for(;null!==s;){const _=r[s.index];if(null!==_&&l.push(V(_)),zn(_))for(let T=10;T<_.length;T++){const R=_[T],z=R[1].firstChild;null!==z&&F_(R[1],R,z,l)}const D=s.type;if(8&D)F_(n,r,s.child,l);else if(32&D){const T=Ip(s,r);let R;for(;R=T();)l.push(R)}else if(16&D){const T=xp(r,s);if(Array.isArray(T))l.push(...T);else{const R=Xc(r[16]);F_(R[1],R,T,l,!0)}}s=h?s.projectionNext:s.next}return l}class Am{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return F_(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(zn(r)){const s=r[8],l=s?s.indexOf(this):-1;l>-1&&(Nl(r,l),sa(s,l))}this._attachedToViewContainer=!1}Jh(this._lView[1],this._lView)}onDestroy(r){hh(this._lView[1],this._lView,null,r)}markForCheck(){gh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function _h(n,r,s){const l=r[10];l.begin&&l.begin();try{Zl(n,r,n.template,s)}catch(h){throw Fl(r,h),h}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zd(n,r){eh(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ft(902,"");this._appRef=r}}class _w extends Am{constructor(r){super(r),this._view=r}detectChanges(){yh(this._view)}checkNoChanges(){}get context(){return null}}class Hv extends k_{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=sn(r);return new by(s,this.ngModule)}}function $v(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class by extends Lv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function jg(n){return n.map(sd).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return $v(this.componentDef.inputs)}get outputs(){return $v(this.componentDef.outputs)}create(r,s,l,h){const _=(h=h||this.ngModule)?function vw(n,r){return{get:(s,l,h)=>{const _=n.get(s,vy,h);return _!==vy||l===vy?_:r.get(s,l,h)}}}(r,h.injector):r,D=_.get(Vv,F),T=_.get(mw,null),R=D.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",ee=l?function Wp(n,r,s){if(mn(n))return n.selectRootElement(r,s===Kn.ShadowDom);let l="string"==typeof r?n.querySelector(r):r;return l.textContent="",l}(R,l,this.componentDef.encapsulation):Kd(D.createRenderer(null,this.componentDef),z,function yw(n){const r=n.toLowerCase();return"svg"===r?G:"math"===r?"math":null}(z)),fe=this.componentDef.onPush?576:528,Pe=function Gf(n,r){return{components:[],scheduler:n||Pg,clean:kf,playerHandler:r||null,flags:0}}(),it=dh(0,null,null,1,0,null,null,null,null,null),xt=yc(null,it,Pe,fe,null,null,D,R,T,_);let hn,xn;qi(xt);try{const Yn=function lm(n,r,s,l,h,_){const D=s[1];s[20]=n;const R=vc(D,20,2,"#host",null),z=R.mergedAttrs=r.hostAttrs;null!==z&&(Cc(R,z,!0),null!==n&&(ya(h,n,z),null!==R.classes&&rf(h,n,R.classes),null!==R.styles&&id(h,n,R.styles)));const ee=l.createRenderer(n,r),fe=yc(s,Gp(r),null,r.onPush?64:16,s[20],R,l,ee,_||null,null);return D.firstCreatePass&&(vt($(R,s),D,r.type),Pl(D,R),Mf(R,s.length,1)),Rf(s,fe),s[20]=fe}(ee,this.componentDef,xt,D,R);if(ee)if(l)ya(R,ee,["ng-version",jv.full]);else{const{attrs:zt,classes:fr}=function gc(n){const r=[],s=[];let l=1,h=2;for(;l<n.length;){let _=n[l];if("string"==typeof _)2===h?""!==_&&r.push(_,n[++l]):8===h&&s.push(_);else{if(!$a(h))break;h=_}l++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);zt&&ya(R,ee,zt),fr&&fr.length>0&&rf(R,ee,fr.join(" "))}if(xn=bn(it,20),void 0!==s){const zt=xn.projection=[];for(let fr=0;fr<this.ngContentSelectors.length;fr++){const Ai=s[fr];zt.push(null!=Ai?Array.from(Ai):null)}}hn=function um(n,r,s,l,h){const _=s[1],D=function Pu(n,r,s){const l=hr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),ku(n,l,r,Ou(n,r,1,null),s));const h=Yi(r,n,l.directiveStart,l);ko(h,r);const _=gt(l,r);return _&&ko(_,r),h}(_,s,r);if(l.components.push(D),n[8]=D,h&&h.forEach(R=>R(D,r)),r.contentQueries){const R=hr();r.contentQueries(1,D,R.directiveStart)}const T=hr();return!_.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Wo(T.index),ud(s[1],T,0,T.directiveStart,T.directiveEnd,r),Nf(r,D)),D}(Yn,this.componentDef,xt,Pe,[cm]),Ru(it,xt,null)}finally{na()}return new ww(this.componentType,hn,Eg(xn,xt),xt,xn)}}class ww extends class lw{}{constructor(r,s,l,h,_){super(),this.location=l,this._rootLView=h,this._tNode=_,this.instance=s,this.hostView=this.changeDetectorRef=new _w(h),this.componentType=r}get injector(){return new nt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Ig{}class Gv{}const Tg=new Map;class qv extends Ig{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hv(this);const l=on(r);this._bootstrapComponents=Do(l.bootstrap),this._r3Injector=Lf(r,s,[{provide:Ig,useValue:this},{provide:k_,useValue:this.componentFactoryResolver}],ae(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=qa.THROW_IF_NOT_FOUND,l=Qt.Default){return r===qa||r===Ig||r===md?this:this._r3Injector.get(r,s,l)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class wy extends Gv{constructor(r){super(),this.moduleType=r,null!==on(r)&&function Cw(n){const r=new Set;!function s(l){const h=on(l,!0),_=h.id;null!==_&&(function Wv(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${ae(r)} vs ${ae(r.name)}`)}(_,Tg.get(_),l),Tg.set(_,l));const D=Do(h.imports);for(const T of D)r.has(T)||(r.add(T),s(T))}(n)}(r)}create(r){return new qv(this.moduleType,r)}}function Kv(n,r,s,l){return Jv(we(),ki(),n,r,s,l)}function Zv(n,r,s,l,h){return function Qv(n,r,s,l,h,_,D){const T=r+s;return gu(n,T,h,_)?Jl(n,T+2,D?l.call(D,h,_):l(h,_)):xm(n,T+2)}(we(),ki(),n,r,s,l,h)}function Yv(n,r,s,l,h,_){return function Xv(n,r,s,l,h,_,D,T){const R=r+s;return function xh(n,r,s,l,h){const _=gu(n,r,s,l);return Fo(n,r+2,h)||_}(n,R,h,_,D)?Jl(n,R+3,T?l.call(T,h,_,D):l(h,_,D)):xm(n,R+3)}(we(),ki(),n,r,s,l,h,_)}function xm(n,r){const s=n[r];return s===Hr?void 0:s}function Jv(n,r,s,l,h,_){const D=r+s;return Fo(n,D,h)?Jl(n,D+1,_?l.call(_,h):l(h)):xm(n,D+1)}function n0(n,r){const s=At();let l;const h=n+20;s.firstCreatePass?(l=function Mw(n,r){if(r)for(let s=r.length-1;s>=0;s--){const l=r[s];if(n===l.name)return l}}(r,s.pipeRegistry),s.data[h]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(h,l.onDestroy)):l=s.data[h];const _=l.factory||(l.factory=Jr(l.type)),D=Gt(Nd);try{const T=qs(!1),R=_();return qs(T),function se(n,r,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=l}(s,we(),h,R),R}finally{Gt(D)}}function r0(n,r,s){const l=n+20,h=we(),_=En(h,l);return function Nm(n,r){return n[1].data[r].pure}(h,l)?Jv(h,ki(),r,_.transform,s,_):_.transform(s)}function Dy(n){return r=>{setTimeout(n,void 0,r)}}const Lc=class Fw extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){var h,_,D;let T=r,R=s||(()=>null),z=l;if(r&&"object"==typeof r){const fe=r;T=null===(h=fe.next)||void 0===h?void 0:h.bind(fe),R=null===(_=fe.error)||void 0===_?void 0:_.bind(fe),z=null===(D=fe.complete)||void 0===D?void 0:D.bind(fe)}this.__isAsync&&(R=Dy(R),T&&(T=Dy(T)),z&&(z=Dy(z)));const ee=super.subscribe({next:T,error:R,complete:z});return r instanceof f.w0&&r.add(ee),ee}};function Lw(){return this._results[Uu()]()}class Cy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Uu(),l=Cy.prototype;l[s]||(l[s]=Lw)}get changes(){return this._changes||(this._changes=new Lc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const h=Or(r);(this._changesDetected=!function No(n,r,s){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let h=n[l],_=r[l];if(s&&(h=s(h),_=s(_)),_!==h)return!1}return!0}(l._results,h,s))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Mm=(()=>{class n{}return n.__NG_ELEMENT_ID__=Uw,n})();const Bw=Mm,Vw=class extends Bw{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(r){const s=this._declarationTContainer.tViews,l=yc(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(l[19]=_.createEmbeddedView(s)),Ru(s,l,r),new Am(l)}};function Uw(){return L_(hr(),we())}function L_(n,r){return 4&n.type?new Vw(r,n,Eg(n,r)):null}let B_=(()=>{class n{}return n.__NG_ELEMENT_ID__=jw,n})();function jw(){return a0(hr(),we())}const Hw=B_,s0=class extends Hw{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return Eg(this._hostTNode,this._hostLView)}get injector(){return new nt(this._hostTNode,this._hostLView)}get parentInjector(){const r=Me(this._hostTNode,this._hostLView);if(Ct(r)){const s=Mn(r,this._hostLView),l=Kt(r);return new nt(s[1].data[l+8],s)}return new nt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=o0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,l){const h=r.createEmbeddedView(s||{});return this.insert(h,l),h}createComponent(r,s,l,h,_){const D=r&&!function fi(n){return"function"==typeof n}(r);let T;if(D)T=s;else{const fe=s||{};T=fe.index,l=fe.injector,h=fe.projectableNodes,_=fe.ngModuleRef}const R=D?r:new by(sn(r)),z=l||this.parentInjector;if(!_&&null==R.ngModule){const Pe=(D?z:this.parentInjector).get(Ig,null);Pe&&(_=Pe)}const ee=R.create(z,h,void 0,_);return this.insert(ee.hostView,T),ee}insert(r,s){const l=r._lView,h=l[1];if(function Pr(n){return zn(n[3])}(l)){const ee=this.indexOf(r);if(-1!==ee)this.detach(ee);else{const fe=l[3],Pe=new s0(fe,fe[6],fe[3]);Pe.detach(Pe.indexOf(r))}}const _=this._adjustIndex(s),D=this._lContainer;!function Yh(n,r,s,l){const h=10+l,_=s.length;l>0&&(s[h-1][4]=r),l<_-10?(r[4]=s[h],Vl(s,10+l,r)):(s.push(r),r[4]=null),r[3]=s;const D=r[17];null!==D&&s!==D&&function Au(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(D,r);const T=r[19];null!==T&&T.insertView(n),r[2]|=128}(h,l,D,_);const T=Xd(_,D),R=l[11],z=Nu(R,D[7]);return null!==z&&function Bg(n,r,s,l,h,_){l[0]=h,l[6]=r,eh(n,l,s,1,h,_)}(h,D[6],R,l,z,T),r.attachToViewContainerRef(),Vl(Ey(D),_,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=o0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=Nl(this._lContainer,s);l&&(sa(Ey(this._lContainer),s),Jh(l[1],l))}detach(r){const s=this._adjustIndex(r,-1),l=Nl(this._lContainer,s);return l&&null!=sa(Ey(this._lContainer),s)?new Am(l):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function o0(n){return n[8]}function Ey(n){return n[8]||(n[8]=[])}function a0(n,r){let s;const l=r[n.index];if(zn(l))s=l;else{let h;if(8&n.type)h=V(l);else{const _=r[11];h=_.createComment("");const D=gt(n,r);Na(_,Nu(_,D),h,function Xh(n,r){return mn(n)?n.nextSibling(r):r.nextSibling}(_,D),!1)}r[n.index]=s=Yp(l,r,h,n),Rf(r,s)}return new s0(s,n,r)}class Iy{constructor(r){this.queryList=r,this.matches=null}clone(){return new Iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ty{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,h=[];for(let _=0;_<l;_++){const D=s.getByIndex(_);h.push(this.queries[D.indexInDeclarationView].clone())}return new Ty(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==m0(r,s).matches&&this.queries[s].setDirty()}}class l0{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class Sy{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const h=null!==s?s.length:0,_=this.getByIndex(l).embeddedTView(r,h);_&&(_.indexInDeclarationView=l,null!==s?s.push(_):s=[_])}return null!==s?new Sy(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ay{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Ay(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const _=l[h];this.matchTNodeWithReadOption(r,s,Ww(s,_)),this.matchTNodeWithReadOption(r,s,va(s,r,_,!1,!1))}else l===Mm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,va(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Sm||h===B_||h===Mm&&4&s.type)this.addMatch(s.index,-2);else{const _=va(s,r,h,!1,!1);null!==_&&this.addMatch(s.index,_)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Ww(n,r){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function qw(n,r,s,l){return-1===s?function zw(n,r){return 11&n.type?Eg(n,r):4&n.type?L_(n,r):null}(r,n):-2===s?function Kw(n,r,s){return s===Sm?Eg(r,n):s===Mm?L_(r,n):s===B_?a0(r,n):void 0}(n,r,l):Yi(n,n[1],s,r)}function u0(n,r,s,l){const h=r[19].queries[l];if(null===h.matches){const _=n.data,D=s.matches,T=[];for(let R=0;R<D.length;R+=2){const z=D[R];T.push(z<0?null:qw(r,_[z],D[R+1],s.metadata.read))}h.matches=T}return h.matches}function xy(n,r,s,l){const h=n.queries.getByIndex(s),_=h.matches;if(null!==_){const D=u0(n,r,h,s);for(let T=0;T<_.length;T+=2){const R=_[T];if(R>0)l.push(D[T/2]);else{const z=_[T+1],ee=r[-R];for(let fe=10;fe<ee.length;fe++){const Pe=ee[fe];Pe[17]===Pe[3]&&xy(Pe[1],Pe,z,l)}if(null!==ee[9]){const fe=ee[9];for(let Pe=0;Pe<fe.length;Pe++){const it=fe[Pe];xy(it[1],it,z,l)}}}}}return l}function c0(n){const r=we(),s=At(),l=Ka();ga(l+1);const h=m0(s,l);if(n.dirty&&sr(r)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const _=h.crossesNgTemplate?xy(s,r,l,[]):u0(s,r,h,l);n.reset(_,hw),n.notifyOnChanges()}return!0}return!1}function d0(n,r,s){const l=At();l.firstCreatePass&&(g0(l,new l0(n,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),p0(l,we(),r)}function h0(n,r,s,l){const h=At();if(h.firstCreatePass){const _=hr();g0(h,new l0(r,s,l),_.index),function Yw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(h,n),2==(2&s)&&(h.staticContentQueries=!0)}p0(h,we(),s)}function f0(){return function Zw(n,r){return n[19].queries[r].queryList}(we(),Ka())}function p0(n,r,s){const l=new Cy(4==(4&s));hh(n,r,l,l.destroy),null===r[19]&&(r[19]=new Ty),r[19].queries.push(new Iy(l))}function g0(n,r,s){null===n.queries&&(n.queries=new Sy),n.queries.track(new Ay(r,s))}function m0(n,r){return n.queries.getByIndex(r)}function _0(n,r){return L_(n,r)}function j_(...n){}const P0=new ri("Application Initializer");let ky=(()=>{class n{constructor(s){this.appInits=s,this.resolve=j_,this.reject=j_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const _=this.appInits[h]();if(Bl(_))s.push(_);else if(Ph(_)){const D=new Promise((T,R)=>{_.subscribe({complete:T,error:R})});s.push(D)}}Promise.all(s).then(()=>{l()}).catch(h=>{this.reject(h)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(U(P0,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k0=new ri("AppId",{providedIn:"root",factory:function F0(){return`${Fy()}${Fy()}${Fy()}`}});function Fy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const L0=new ri("Platform Initializer"),f1=new ri("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B0=new ri("appBootstrapListener");let p1=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ly=new ri("LocaleId",{providedIn:"root",factory:()=>ye(Ly,Qt.Optional|Qt.SkipSelf)||function g1(){return"undefined"!=typeof $localize&&$localize.locale||N_}()}),m1=new ri("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _1{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let y1=(()=>{class n{compileModuleSync(s){return new wy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),_=Do(on(s).declarations).reduce((D,T)=>{const R=sn(T);return R&&D.push(new by(R)),D},[]);return new _1(l,_)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b1=(()=>Promise.resolve(0))();function By(n){"undefined"==typeof Zone?b1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class $u{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lc(!1),this.onMicrotaskEmpty=new Lc(!1),this.onStable=new Lc(!1),this.onError=new Lc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&s,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function w1(){let n=lr.requestAnimationFrame,r=lr.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function E1(n){const r=()=>{!function C1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(lr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Uy(n),n.isCheckStableRunning=!0,Vy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Uy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,h,_,D,T)=>{try{return V0(n),s.invokeTask(h,_,D,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),U0(n)}},onInvoke:(s,l,h,_,D,T,R)=>{try{return V0(n),s.invoke(h,_,D,T,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),U0(n)}},onHasTask:(s,l,h,_)=>{s.hasTask(h,_),l===h&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,Uy(n),Vy(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,l,h,_)=>(s.handleError(h,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$u.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($u.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,h){const _=this._inner,D=_.scheduleEventTask("NgZoneEvent: "+h,r,D1,j_,j_);try{return _.runTask(D,s,l)}finally{_.cancelTask(D)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const D1={};function Vy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Uy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function V0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function U0(n){n._nesting--,Vy(n)}class I1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lc,this.onMicrotaskEmpty=new Lc,this.onStable=new Lc,this.onError=new Lc}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,h){return r.apply(s,l)}}let j0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$u.assertNotInAngularZone(),By(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())By(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,h){let _=-1;l&&l>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==_),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:_,updateCb:h})}whenStable(s,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,h){return[]}}return n.\u0275fac=function(s){return new(s||n)(U($u))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),T1=(()=>{class n{constructor(){this._applications=new Map,jy.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return jy.findTestabilityInTree(this,s,l)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class S1{addToWindow(r){}findTestabilityInTree(r,s,l){return null}}function A1(n){jy=n}let jy=new S1,ap=null;const H0=new ri("AllowMultipleToken"),$0=new ri("PlatformOnDestroy");class M1{constructor(r,s){this.name=r,this.token=s}}function G0(n,r,s=[]){const l=`Platform: ${r}`,h=new ri(l);return(_=[])=>{let D=Hy();if(!D||D.injector.get(H0,!1)){const T=[...s,..._,{provide:h,useValue:!0}];n?n(T):function O1(n){if(ap&&!ap.get(H0,!1))throw new ft(400,"");ap=n;const r=n.get(W0),s=n.get(L0,null);s&&s.forEach(l=>l())}(function P1(n=[],r){return qa.create({name:r,providers:[{provide:_d,useValue:"platform"},{provide:$0,useValue:()=>ap=null},...n]})}(T,l))}return function R1(n){const r=Hy();if(!r)throw new ft(401,"");return r}()}}function Hy(){var n;return null!==(n=null==ap?void 0:ap.get(W0))&&void 0!==n?n:null}let W0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const T=function k1(n,r){let s;return s="noop"===n?new I1:("zone.js"===n?void 0:n)||new $u({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),R=[{provide:$u,useValue:T}];return T.run(()=>{const z=qa.create({providers:R,parent:this.injector,name:s.moduleType.name}),ee=s.create(z),fe=ee.injector.get(Qc,null);if(!fe)throw new ft(402,"");return T.runOutsideAngular(()=>{const Pe=T.onError.subscribe({next:it=>{fe.handleError(it)}});ee.onDestroy(()=>{Gy(this._modules,ee),Pe.unsubscribe()})}),function F1(n,r,s){try{const l=s();return Bl(l)?l.catch(h=>{throw r.runOutsideAngular(()=>n.handleError(h)),h}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(fe,T,()=>{const Pe=ee.injector.get(ky);return Pe.runInitializers(),Pe.donePromise.then(()=>(function gb(n){(function Mt(n,r){null==n&&Xe(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(cv=n.toLowerCase().replace(/_/g,"-"))}(ee.injector.get(Ly,N_)||N_),this._moduleDoBootstrap(ee),ee))})})}bootstrapModule(s,l=[]){const h=z0({},l);return function x1(n,r,s){const l=new wy(s);return Promise.resolve(l)}(0,0,s).then(_=>this.bootstrapModuleFactory(_,h))}_moduleDoBootstrap(s){const l=s.injector.get($y);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!s.instance.ngDoBootstrap)throw new ft(403,"");s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ft(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get($0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(U(qa))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function z0(n,r){return Array.isArray(r)?r.reduce(z0,n):Object.assign(Object.assign({},n),r)}let $y=(()=>{class n{constructor(s,l,h,_){this._zone=s,this._injector=l,this._exceptionHandler=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new Z.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),T=new Z.y(R=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{$u.assertNotInAngularZone(),By(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const ee=this._zone.onUnstable.subscribe(()=>{$u.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{z.unsubscribe(),ee.unsubscribe()}});this.isStable=(0,Ie.T)(D,T.pipe((0,ve.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new ft(405,"");let h;h=s instanceof Lv?s:this._injector.get(k_).resolveComponentFactory(s),this.componentTypes.push(h.componentType);const _=function N1(n){return n.isBoundToModule}(h)?void 0:this._injector.get(Ig),T=h.create(qa.NULL,[],l||h.selector,_),R=T.location.nativeElement,z=T.injector.get(j0,null),ee=z&&T.injector.get(T1);return z&&ee&&ee.registerApplication(R,z),T.onDestroy(()=>{this.detachView(T.hostView),Gy(this.components,T),ee&&ee.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ft(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Gy(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(B0,[]).concat(this._bootstrapListeners).forEach(h=>h(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(U($u),U(qa),U(Qc),U(ky))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let K0=!0,Z0=!1;function B1(){return Z0=!0,K0}function V1(){if(Z0)throw new Error("Cannot enable prod mode after platform setup.");K0=!1}let U1=(()=>{class n{}return n.__NG_ELEMENT_ID__=j1,n})();function j1(n){return function H1(n,r,s){if(yr(n)&&!s){const l=In(n.index,r);return new Am(l,l)}return 47&n.type?new Am(r[16],r):null}(hr(),we(),16==(16&n))}class X0{constructor(){}supports(r){return Tc(r)}create(r){return new K1(r)}}const q1=(n,r)=>r;class K1{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||q1}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,h=0,_=null;for(;s||l;){const D=!l||s&&s.currentIndex<tb(l,h,_)?s:l,T=tb(D,h,_),R=D.currentIndex;if(D===l)h--,l=l._nextRemoved;else if(s=s._next,null==D.previousIndex)h++;else{_||(_=[]);const z=T-h,ee=R-h;if(z!=ee){for(let Pe=0;Pe<z;Pe++){const it=Pe<_.length?_[Pe]:_[Pe]=0,xt=it+Pe;ee<=xt&&xt<z&&(_[Pe]=it+1)}_[D.previousIndex]=ee-z}}T!==R&&r(D,T,R)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Tc(r))throw new ft(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,_,D,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)_=r[T],D=this._trackByFn(T,_),null!==s&&Object.is(s.trackById,D)?(l&&(s=this._verifyReinsertion(s,_,D,T)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,D,T),l=!0),s=s._next}else h=0,function zf(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Uu()]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,T=>{D=this._trackByFn(h,T),null!==s&&Object.is(s.trackById,D)?(l&&(s=this._verifyReinsertion(s,T,D,h)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,D,h),l=!0),s=s._next,h++}),this.length=h;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,h){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,_,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,_,h)):r=this._addAfter(new Z1(s,l),_,h),r}_verifyReinsertion(r,s,l,h){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==_?r=this._reinsertAfter(_,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,_=r._nextRemoved;return null===h?this._removalsHead=_:h._nextRemoved=_,null===_?this._removalsTail=h:_._prevRemoved=h,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const h=null===s?this._itHead:s._next;return r._next=h,r._prev=s,null===h?this._itTail=r:h._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Z1{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Y1{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class eb{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new Y1,this.map.set(s,l)),l.add(r)}get(r,s){const h=this.map.get(r);return h?h.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(n,r,s){const l=n.previousIndex;if(null===l)return l;let h=0;return s&&l<s.length&&(h=s[l]),l+r+h}class nb{constructor(){}supports(r){return r instanceof Map||qf(r)}create(){return new J1}}class J1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||qf(r)))throw new ft(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,h)=>{if(s&&s.key===h)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const _=this._getOrCreateRecordForKey(h,l);s=this._insertBeforeOrAppend(s,_)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,s);const _=h._prev,D=h._next;return _&&(_._next=D),D&&(D._prev=_),h._next=null,h._prev=null,h}const l=new Q1(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class Q1{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new Zy([new X0])}let Zy=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const h=l.factories.slice();s=s.concat(h)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||rb()),deps:[[n,new ds,new Dr]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(null!=l)return l;throw new ft(901,"")}}return n.\u0275prov=gn({token:n,providedIn:"root",factory:rb}),n})();function ib(){return new Yy([new nb])}let Yy=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const h=l.factories.slice();s=s.concat(h)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||ib()),deps:[[n,new ds,new Dr]]}}find(s){const l=this.factories.find(_=>_.supports(s));if(l)return l;throw new ft(901,"")}}return n.\u0275prov=gn({token:n,providedIn:"root",factory:ib}),n})();const tD=G0(null,"core",[]);let nD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(U($y))},n.\u0275mod=he({type:n}),n.\u0275inj=Cn({}),n})()},2382:(Zt,xe,j)=>{"use strict";j.d(xe,{Fj:()=>ze,qu:()=>Ws,u:()=>ns,sg:()=>mi,u5:()=>ln,JU:()=>ft,JJ:()=>Tr,JL:()=>Wr,wV:()=>no,UX:()=>Ii,kI:()=>ut,_Y:()=>Xo});var p=j(5e3),f=j(9808),Z=j(8306),Ie=j(4742),ve=j(8421),ke=j(3269),Ne=j(5403),ae=j(3268),Ue=j(1810),de=j(8996),Re=j(4004);let He=(()=>{class H{constructor(P,re){this._renderer=P,this._elementRef=re,this.onChange=we=>{},this.onTouched=()=>{}}setProperty(P,re){this._renderer.setProperty(this._elementRef.nativeElement,P,re)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}}return H.\u0275fac=function(P){return new(P||H)(p.Y36(p.Qsj),p.Y36(p.SBq))},H.\u0275dir=p.lG2({type:H}),H})(),qe=(()=>{class H extends He{}return H.\u0275fac=function(){let L;return function(re){return(L||(L=p.n5z(H)))(re||H)}}(),H.\u0275dir=p.lG2({type:H,features:[p.qOj]}),H})();const ft=new p.OlP("NgValueAccessor"),tt={provide:ft,useExisting:(0,p.Gpc)(()=>ze),multi:!0},Et=new p.OlP("CompositionEventMode");let ze=(()=>{class H extends He{constructor(P,re,we){super(P,re),this._compositionMode=we,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ct(){const H=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(P){this.setProperty("value",null==P?"":P)}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}}return H.\u0275fac=function(P){return new(P||H)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Et,8))},H.\u0275dir=p.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,re){1&P&&p.NdJ("input",function(At){return re._handleInput(At.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(At){return re._compositionEnd(At.target.value)})},features:[p._Bn([tt]),p.qOj]}),H})();function ot(H){return null==H||0===H.length}function at(H){return null!=H&&"number"==typeof H.length}const Tt=new p.OlP("NgValidators"),Ve=new p.OlP("NgAsyncValidators"),st=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ut{static min(L){return function Te(H){return L=>{if(ot(L.value)||ot(H))return null;const P=parseFloat(L.value);return!isNaN(P)&&P<H?{min:{min:H,actual:L.value}}:null}}(L)}static max(L){return function $e(H){return L=>{if(ot(L.value)||ot(H))return null;const P=parseFloat(L.value);return!isNaN(P)&&P>H?{max:{max:H,actual:L.value}}:null}}(L)}static required(L){return function Le(H){return ot(H.value)?{required:!0}:null}(L)}static requiredTrue(L){return function Ke(H){return!0===H.value?null:{required:!0}}(L)}static email(L){return function Ze(H){return ot(H.value)||st.test(H.value)?null:{email:!0}}(L)}static minLength(L){return function Nt(H){return L=>ot(L.value)||!at(L.value)?null:L.value.length<H?{minlength:{requiredLength:H,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function Lt(H){return L=>at(L.value)&&L.value.length>H?{maxlength:{requiredLength:H,actualLength:L.value.length}}:null}(L)}static pattern(L){return function wt(H){if(!H)return Mt;let L,P;return"string"==typeof H?(P="","^"!==H.charAt(0)&&(P+="^"),P+=H,"$"!==H.charAt(H.length-1)&&(P+="$"),L=new RegExp(P)):(P=H.toString(),L=H),re=>{if(ot(re.value))return null;const we=re.value;return L.test(we)?null:{pattern:{requiredPattern:P,actualValue:we}}}}(L)}static nullValidator(L){return null}static compose(L){return Cn(L)}static composeAsync(L){return Xn(L)}}function Mt(H){return null}function Xe(H){return null!=H}function pt(H){const L=(0,p.QGY)(H)?(0,de.D)(H):H;return(0,p.CqO)(L),L}function en(H){let L={};return H.forEach(P=>{L=null!=P?Object.assign(Object.assign({},L),P):L}),0===Object.keys(L).length?null:L}function cn(H,L){return L.map(P=>P(H))}function Yt(H){return H.map(L=>function gn(H){return!H.validate}(L)?L:P=>L.validate(P))}function Cn(H){if(!H)return null;const L=H.filter(Xe);return 0==L.length?null:function(P){return en(cn(P,L))}}function Hn(H){return null!=H?Cn(Yt(H)):null}function Xn(H){if(!H)return null;const L=H.filter(Xe);return 0==L.length?null:function(P){return function oe(...H){const L=(0,ke.jO)(H),{args:P,keys:re}=(0,Ie.D)(H),we=new Z.y(At=>{const{length:ti}=P;if(!ti)return void At.complete();const hr=new Array(ti);let Es=ti,ji=ti;for(let us=0;us<ti;us++){let so=!1;(0,ve.Xf)(P[us]).subscribe((0,Ne.x)(At,po=>{so||(so=!0,ji--),hr[us]=po},()=>Es--,void 0,()=>{(!Es||!so)&&(ji||At.next(re?(0,Ue.n)(re,hr):hr),At.complete())}))}});return L?we.pipe((0,ae.Z)(L)):we}(cn(P,L).map(pt)).pipe((0,Re.U)(en))}}function _r(H){return null!=H?Xn(Yt(H)):null}function tr(H,L){return null===H?[L]:Array.isArray(H)?[...H,L]:[H,L]}function Nr(H){return H._rawValidators}function vn(H){return H._rawAsyncValidators}function rr(H){return H?Array.isArray(H)?H:[H]:[]}function ir(H,L){return Array.isArray(H)?H.includes(L):H===L}function Rr(H,L){const P=rr(L);return rr(H).forEach(we=>{ir(P,we)||P.push(we)}),P}function Qt(H,L){return rr(L).filter(P=>!ir(H,P))}class Ln{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Hn(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=_r(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,P){return!!this.control&&this.control.hasError(L,P)}getError(L,P){return this.control?this.control.getError(L,P):null}}class Bn extends Ln{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gt extends Ln{get formDirective(){return null}get path(){return null}}class nr{constructor(L){this._cd=L}is(L){var P,re,we;return"submitted"===L?!!(null===(P=this._cd)||void 0===P?void 0:P.submitted):!!(null===(we=null===(re=this._cd)||void 0===re?void 0:re.control)||void 0===we?void 0:we[L])}}let Tr=(()=>{class H extends nr{constructor(P){super(P)}}return H.\u0275fac=function(P){return new(P||H)(p.Y36(Bn,2))},H.\u0275dir=p.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,re){2&P&&p.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))},features:[p.qOj]}),H})(),Wr=(()=>{class H extends nr{constructor(P){super(P)}}return H.\u0275fac=function(P){return new(P||H)(p.Y36(Gt,10))},H.\u0275dir=p.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,re){2&P&&p.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))("ng-submitted",re.is("submitted"))},features:[p.qOj]}),H})();function tn(H,L){me(H,L),L.valueAccessor.writeValue(H.value),function he(H,L){L.valueAccessor.registerOnChange(P=>{H._pendingValue=P,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&ce(H,L)})}(H,L),function Ye(H,L){const P=(re,we)=>{L.valueAccessor.writeValue(re),we&&L.viewToModelUpdate(re)};H.registerOnChange(P),L._registerOnDestroy(()=>{H._unregisterOnChange(P)})}(H,L),function ie(H,L){L.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&ce(H,L),"submit"!==H.updateOn&&H.markAsTouched()})}(H,L),function pe(H,L){if(L.valueAccessor.setDisabledState){const P=re=>{L.valueAccessor.setDisabledState(re)};H.registerOnDisabledChange(P),L._registerOnDestroy(()=>{H._unregisterOnDisabledChange(P)})}}(H,L)}function rn(H,L,P=!0){const re=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(re),L.valueAccessor.registerOnTouched(re)),Fe(H,L),H&&(L._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function Zn(H,L){H.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(L)})}function me(H,L){const P=Nr(H);null!==L.validator?H.setValidators(tr(P,L.validator)):"function"==typeof P&&H.setValidators([P]);const re=vn(H);null!==L.asyncValidator?H.setAsyncValidators(tr(re,L.asyncValidator)):"function"==typeof re&&H.setAsyncValidators([re]);const we=()=>H.updateValueAndValidity();Zn(L._rawValidators,we),Zn(L._rawAsyncValidators,we)}function Fe(H,L){let P=!1;if(null!==H){if(null!==L.validator){const we=Nr(H);if(Array.isArray(we)&&we.length>0){const At=we.filter(ti=>ti!==L.validator);At.length!==we.length&&(P=!0,H.setValidators(At))}}if(null!==L.asyncValidator){const we=vn(H);if(Array.isArray(we)&&we.length>0){const At=we.filter(ti=>ti!==L.asyncValidator);At.length!==we.length&&(P=!0,H.setAsyncValidators(At))}}}const re=()=>{};return Zn(L._rawValidators,re),Zn(L._rawAsyncValidators,re),P}function ce(H,L){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function Un(H,L){const P=H.indexOf(L);P>-1&&H.splice(P,1)}const Rt="VALID",Gn="INVALID",dr="PENDING",ei="DISABLED";function si(H){return(pr(H)?H.validators:H)||null}function Gi(H){return Array.isArray(H)?Hn(H):H||null}function jn(H,L){return(pr(L)?L.asyncValidators:H)||null}function Ri(H){return Array.isArray(H)?_r(H):H||null}function pr(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}const Vn=H=>H instanceof je,Ei=H=>H instanceof Oe,Xi=H=>H instanceof We;function ui(H){return Vn(H)?H.value:H.getRawValue()}function Jn(H,L){const P=Ei(H),re=H.controls;if(!(P?Object.keys(re):re).length)throw new p.vHH(1e3,"");if(!re[L])throw new p.vHH(1001,"")}function Yr(H,L){Ei(H),H._forEachChild((re,we)=>{if(void 0===L[we])throw new p.vHH(1002,"")})}class xi{constructor(L,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=P,this._composedValidatorFn=Gi(this._rawValidators),this._composedAsyncValidatorFn=Ri(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Rt}get invalid(){return this.status===Gn}get pending(){return this.status==dr}get disabled(){return this.status===ei}get enabled(){return this.status!==ei}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=Gi(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=Ri(L)}addValidators(L){this.setValidators(Rr(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Rr(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Qt(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Qt(L,this._rawAsyncValidators))}hasValidator(L){return ir(this._rawValidators,L)}hasAsyncValidator(L){return ir(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=dr,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const P=this._parentMarkedDirty(L.onlySelf);this.status=ei,this.errors=null,this._forEachChild(re=>{re.disable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:P})),this._onDisabledChange.forEach(re=>re(!0))}enable(L={}){const P=this._parentMarkedDirty(L.onlySelf);this.status=Rt,this._forEachChild(re=>{re.enable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:P})),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rt||this.status===dr)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ei:Rt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=dr,this._hasOwnPendingAsyncValidator=!0;const P=pt(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,P={}){this.errors=L,this._updateControlsErrors(!1!==P.emitEvent)}get(L){return function yi(H,L,P){if(null==L||(Array.isArray(L)||(L=L.split(P)),Array.isArray(L)&&0===L.length))return null;let re=H;return L.forEach(we=>{re=Ei(re)?re.controls.hasOwnProperty(we)?re.controls[we]:null:Xi(re)&&re.at(we)||null}),re}(this,L,".")}getError(L,P){const re=P?this.get(P):this;return re&&re.errors?re.errors[L]:null}hasError(L,P){return!!this.getError(L,P)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?ei:this.errors?Gn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dr)?dr:this._anyControlsHaveStatus(Gn)?Gn:Rt}_anyControlsHaveStatus(L){return this._anyControls(P=>P.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_isBoxedValue(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){pr(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class je extends xi{constructor(L=null,P,re){super(si(P),jn(re,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pr(P)&&P.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(L)?L.value:L)}setValue(L,P={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(L,P={}){this.setValue(L,P)}reset(L=this.defaultValue,P={}){this._applyFormState(L),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Un(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Un(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){this._isBoxedValue(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}}class Oe extends xi{constructor(L,P,re){super(si(P),jn(re,P)),this.controls=L,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,P){return this.controls[L]?this.controls[L]:(this.controls[L]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(L,P,re={}){this.registerControl(L,P),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(L,P={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(L,P,re={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],P&&this.registerControl(L,P),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,P={}){Yr(this,L),Object.keys(L).forEach(re=>{Jn(this,re),this.controls[re].setValue(L[re],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(L,P={}){null!=L&&(Object.keys(L).forEach(re=>{this.controls[re]&&this.controls[re].patchValue(L[re],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(L={},P={}){this._forEachChild((re,we)=>{re.reset(L[we],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(L,P,re)=>(L[re]=ui(P),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(P,re)=>!!re._syncPendingControls()||P);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(P=>{const re=this.controls[P];re&&L(re,P)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const P of Object.keys(this.controls)){const re=this.controls[P];if(this.contains(P)&&L(re))return!0}return!1}_reduceValue(){return this._reduceChildren({},(L,P,re)=>((P.enabled||this.disabled)&&(L[re]=P.value),L))}_reduceChildren(L,P){let re=L;return this._forEachChild((we,At)=>{re=P(re,we,At)}),re}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class We extends xi{constructor(L,P,re){super(si(P),jn(re,P)),this.controls=L,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[L]}push(L,P={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(L,P,re={}){this.controls.splice(L,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(L,P={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(L,P,re={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),P&&(this.controls.splice(L,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,P={}){Yr(this,L),L.forEach((re,we)=>{Jn(this,we),this.at(we).setValue(re,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(L,P={}){null!=L&&(L.forEach((re,we)=>{this.at(we)&&this.at(we).patchValue(re,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(L=[],P={}){this._forEachChild((re,we)=>{re.reset(L[we],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(L=>ui(L))}clear(L={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_syncPendingControls(){let L=this.controls.reduce((P,re)=>!!re._syncPendingControls()||P,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((P,re)=>{L(P,re)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(P=>P.enabled&&L(P))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}}let Xo=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275dir=p.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})();const ls={provide:ft,useExisting:(0,p.Gpc)(()=>no),multi:!0};let no=(()=>{class H extends qe{writeValue(P){this.setProperty("value",null==P?"":P)}registerOnChange(P){this.onChange=re=>{P(""==re?null:parseFloat(re))}}}return H.\u0275fac=function(){let L;return function(re){return(L||(L=p.n5z(H)))(re||H)}}(),H.\u0275dir=p.lG2({type:H,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(P,re){1&P&&p.NdJ("input",function(At){return re.onChange(At.target.value)})("blur",function(){return re.onTouched()})},features:[p._Bn([ls]),p.qOj]}),H})(),Ms=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({}),H})();const io=new p.OlP("NgModelWithFormControlWarning"),Os={provide:Gt,useExisting:(0,p.Gpc)(()=>mi)};let mi=(()=>{class H extends Gt{constructor(P,re){super(),this.validators=P,this.asyncValidators=re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(P),this._setAsyncValidators(re)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const re=this.form.get(P.path);return tn(re,P),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),re}getControl(P){return this.form.get(P.path)}removeControl(P){rn(P.control||null,P,!1),Un(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,re){this.form.get(P.path).setValue(re)}onSubmit(P){return this.submitted=!0,function Ht(H,L){H._syncPendingControls(),L.forEach(P=>{const re=P.control;"submit"===re.updateOn&&re._pendingChange&&(P.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),!1}onReset(){this.resetForm()}resetForm(P){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const re=P.control,we=this.form.get(P.path);re!==we&&(rn(re||null,P),Vn(we)&&(tn(we,P),P.control=we))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const re=this.form.get(P.path);(function Ot(H,L){me(H,L)})(re,P),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const re=this.form.get(P.path);re&&function sn(H,L){return Fe(H,L)}(re,P)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){me(this.form,this),this._oldForm&&Fe(this._oldForm,this)}_checkFormPresent(){}}return H.\u0275fac=function(P){return new(P||H)(p.Y36(Tt,10),p.Y36(Ve,10))},H.\u0275dir=p.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(P,re){1&P&&p.NdJ("submit",function(At){return re.onSubmit(At)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Os]),p.qOj,p.TTD]}),H})();const wi={provide:Bn,useExisting:(0,p.Gpc)(()=>ns)};let ns=(()=>{class H extends Bn{constructor(P,re,we,At,ti){super(),this._ngModelWarningConfig=ti,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(re),this._setAsyncValidators(we),this.valueAccessor=function Sn(H,L){if(!L)return null;let P,re,we;return Array.isArray(L),L.forEach(At=>{At.constructor===ze?P=At:function It(H){return Object.getPrototypeOf(H.constructor)===qe}(At)?re=At:we=At}),we||re||P||null}(0,At)}set isDisabled(P){}ngOnChanges(P){this._added||this._setUpControl(),function qr(H,L){if(!H.hasOwnProperty("model"))return!1;const P=H.model;return!!P.isFirstChange()||!Object.is(L,P.currentValue)}(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return function qt(H,L){return[...L.path,H]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(P){return new(P||H)(p.Y36(Gt,13),p.Y36(Tt,10),p.Y36(Ve,10),p.Y36(ft,10),p.Y36(io,8))},H.\u0275dir=p.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([wi]),p.qOj,p.TTD]}),H})(),zi=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({imports:[[Ms]]}),H})(),ln=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({imports:[zi]}),H})(),Ii=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:io,useValue:P.warnOnNgModelWithFormControl}]}}}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({imports:[zi]}),H})(),Ws=(()=>{class H{group(P,re=null){const we=this._reduceControls(P);let hr,At=null,ti=null;return null!=re&&(function fo(H){return void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn}(re)?(At=null!=re.validators?re.validators:null,ti=null!=re.asyncValidators?re.asyncValidators:null,hr=null!=re.updateOn?re.updateOn:void 0):(At=null!=re.validator?re.validator:null,ti=null!=re.asyncValidator?re.asyncValidator:null)),new Oe(we,{asyncValidators:ti,updateOn:hr,validators:At})}control(P,re,we){return new je(P,re,we)}array(P,re,we){const At=P.map(ti=>this._createControl(ti));return new We(At,re,we)}_reduceControls(P){const re={};return Object.keys(P).forEach(we=>{re[we]=this._createControl(P[we])}),re}_createControl(P){return Vn(P)||Ei(P)||Xi(P)?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}}return H.\u0275fac=function(P){return new(P||H)},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac,providedIn:Ii}),H})()},9100:(Zt,xe,j)=>{"use strict";j.d(xe,{F0:()=>Ki,rH:()=>Us,yS:()=>Ts,Bz:()=>Du,lC:()=>Di});var p=j(5e3),f=j(8306),Z=j(576);function Ie(S,I){const C=(0,Z.m)(S)?S:()=>S,B=$=>$.error(C());return new f.y(I?$=>I.schedule(B,0,$):B)}var ve=j(8421);function ke(S){return new f.y(I=>{(0,ve.Xf)(S()).subscribe(I)})}var Ne=j(727),ae=j(4482),Ue=j(5403);function oe(){return(0,ae.e)((S,I)=>{let C=null;S._refCount++;const B=(0,Ue.x)(I,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(C=null);const $=S._connection,q=C;C=null,$&&(!q||$===q)&&$.unsubscribe(),I.unsubscribe()});S.subscribe(B),B.closed||(C=S.connect())})}class de extends f.y{constructor(I,C){super(),this.source=I,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,ae.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Ne.w0;const C=this.getSubject();I.add(this.source.subscribe((0,Ue.x)(C,void 0,()=>{this._teardown(),C.complete()},B=>{this._teardown(),C.error(B)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Ne.w0.EMPTY)}return I}refCount(){return oe()(this)}}var Re=j(8996),He=j(9646),qe=j(1135),ft=j(9841),bt=j(6805),Je=j(7272),tt=j(515),ct=j(7579);function Et(S){return(0,ae.e)((I,C)=>{let q,B=null,$=!1;B=I.subscribe((0,Ue.x)(C,void 0,void 0,ge=>{q=(0,ve.Xf)(S(ge,Et(S)(I))),B?(B.unsubscribe(),B=null,q.subscribe(C)):$=!0})),$&&(B.unsubscribe(),B=null,q.subscribe(C))})}var ze=j(5577);function ot(S,I){return(0,Z.m)(I)?(0,ze.z)(S,I,1):(0,ze.z)(S,1)}var at=j(9300);function Tt(S){return S<=0?()=>tt.E:(0,ae.e)((I,C)=>{let B=[];I.subscribe((0,Ue.x)(C,$=>{B.push($),S<B.length&&B.shift()},()=>{for(const $ of B)C.next($);C.complete()},void 0,()=>{B=null}))})}var Ve=j(8068),st=j(6590),ut=j(4671),Le=j(4004),Ke=j(3900),Ze=j(5698),Nt=j(8675),Lt=j(5026),wt=j(590),Mt=j(8505),Xe=j(8189),pt=j(9808);class en{constructor(I,C){this.id=I,this.url=C}}class cn extends en{constructor(I,C,B="imperative",$=null){super(I,C),this.navigationTrigger=B,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gn extends en{constructor(I,C,B){super(I,C),this.urlAfterRedirects=B}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yt extends en{constructor(I,C,B){super(I,C),this.reason=B}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cn extends en{constructor(I,C,B){super(I,C),this.error=B}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hn extends en{constructor(I,C,B,$){super(I,C),this.urlAfterRedirects=B,this.state=$}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends en{constructor(I,C,B,$){super(I,C),this.urlAfterRedirects=B,this.state=$}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _r extends en{constructor(I,C,B,$,q){super(I,C),this.urlAfterRedirects=B,this.state=$,this.shouldActivate=q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tr extends en{constructor(I,C,B,$){super(I,C),this.urlAfterRedirects=B,this.state=$}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nr extends en{constructor(I,C,B,$){super(I,C),this.urlAfterRedirects=B,this.state=$}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rr{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ir{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ln{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(I,C,B){this.routerEvent=I,this.position=C,this.anchor=B}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class nr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const C=this.params[I];return Array.isArray(C)?C[0]:C}return null}getAll(I){if(this.has(I)){const C=this.params[I];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function Mr(S){return new nr(S)}const li="ngNavigationCancelingError";function Tr(S){const I=Error("NavigationCancelingError: "+S);return I[li]=!0,I}function zr(S,I,C){const B=C.path.split("/");if(B.length>S.length||"full"===C.pathMatch&&(I.hasChildren()||B.length<S.length))return null;const $={};for(let q=0;q<B.length;q++){const ge=B[q],Me=S[q];if(ge.startsWith(":"))$[ge.substring(1)]=Me;else if(ge!==Me.path)return null}return{consumed:S.slice(0,B.length),posParams:$}}function St(S,I){const C=S?Object.keys(S):void 0,B=I?Object.keys(I):void 0;if(!C||!B||C.length!=B.length)return!1;let $;for(let q=0;q<C.length;q++)if($=C[q],!nn(S[$],I[$]))return!1;return!0}function nn(S,I){if(Array.isArray(S)&&Array.isArray(I)){if(S.length!==I.length)return!1;const C=[...S].sort(),B=[...I].sort();return C.every(($,q)=>B[q]===$)}return S===I}function _i(S){return Array.prototype.concat.apply([],S)}function Ur(S){return S.length>0?S[S.length-1]:null}function Cr(S,I){for(const C in S)S.hasOwnProperty(C)&&I(S[C],C)}function ur(S){return(0,p.CqO)(S)?S:(0,p.QGY)(S)?(0,Re.D)(Promise.resolve(S)):(0,He.of)(S)}const Pn={exact:function Bt(S,I,C){if(!he(S.segments,I.segments)||!rn(S.segments,I.segments,C)||S.numberOfChildren!==I.numberOfChildren)return!1;for(const B in I.children)if(!S.children[B]||!Bt(S.children[B],I.children[B],C))return!1;return!0},subset:qt},Sr={exact:function ci(S,I){return St(S,I)},subset:function _t(S,I){return Object.keys(I).length<=Object.keys(S).length&&Object.keys(I).every(C=>nn(S[C],I[C]))},ignored:()=>!0};function er(S,I,C){return Pn[C.paths](S.root,I.root,C.matrixParams)&&Sr[C.queryParams](S.queryParams,I.queryParams)&&!("exact"===C.fragment&&S.fragment!==I.fragment)}function qt(S,I,C){return tn(S,I,I.segments,C)}function tn(S,I,C,B){if(S.segments.length>C.length){const $=S.segments.slice(0,C.length);return!(!he($,C)||I.hasChildren()||!rn($,C,B))}if(S.segments.length===C.length){if(!he(S.segments,C)||!rn(S.segments,C,B))return!1;for(const $ in I.children)if(!S.children[$]||!qt(S.children[$],I.children[$],B))return!1;return!0}{const $=C.slice(0,S.segments.length),q=C.slice(S.segments.length);return!!(he(S.segments,$)&&rn(S.segments,$,B)&&S.children[Gt])&&tn(S.children[Gt],I,q,B)}}function rn(S,I,C){return I.every((B,$)=>Sr[C](S[$].parameters,B.parameters))}class Zn{constructor(I,C,B){this.root=I,this.queryParams=C,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mr(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class pe{constructor(I,C){this.segments=I,this.children=C,this.parent=null,Cr(C,(B,$)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class me{constructor(I,C){this.path=I,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=Mr(this.parameters)),this._parameterMap}toString(){return Sn(this)}}function he(S,I){return S.length===I.length&&S.every((C,B)=>C.path===I[B].path)}class ce{}class Ye{parse(I){const C=new si(I);return new Zn(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(I){const C=`/${Jt(I.root,!0)}`,B=function xr(S){const I=Object.keys(S).map(C=>{const B=S[C];return Array.isArray(B)?B.map($=>`${on(C)}=${on($)}`).join("&"):`${on(C)}=${on(B)}`}).filter(C=>!!C);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${C}${B}${"string"==typeof I.fragment?`#${function Er(S){return encodeURI(S)}(I.fragment)}`:""}`}}const Ot=new Ye;function sn(S){return S.segments.map(I=>Sn(I)).join("/")}function Jt(S,I){if(!S.hasChildren())return sn(S);if(I){const C=S.children[Gt]?Jt(S.children[Gt],!1):"",B=[];return Cr(S.children,($,q)=>{q!==Gt&&B.push(`${q}:${Jt($,!1)}`)}),B.length>0?`${C}(${B.join("//")})`:C}{const C=function ie(S,I){let C=[];return Cr(S.children,(B,$)=>{$===Gt&&(C=C.concat(I(B,$)))}),Cr(S.children,(B,$)=>{$!==Gt&&(C=C.concat(I(B,$)))}),C}(S,(B,$)=>$===Gt?[Jt(S.children[Gt],!1)]:[`${$}:${Jt(B,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Gt]?`${sn(S)}/${C[0]}`:`${sn(S)}/(${C.join("//")})`}}function $n(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(S){return $n(S).replace(/%3B/gi,";")}function qr(S){return $n(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function It(S){return decodeURIComponent(S)}function Ht(S){return It(S.replace(/\+/g,"%20"))}function Sn(S){return`${qr(S.path)}${function Un(S){return Object.keys(S).map(I=>`;${qr(I)}=${qr(S[I])}`).join("")}(S.parameters)}`}const Gr=/^[^\/()?;=#]+/;function Rt(S){const I=S.match(Gr);return I?I[0]:""}const Gn=/^[^=?&#]+/,ei=/^[^&#]+/;class si{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(I.length>0||Object.keys(C).length>0)&&(B[Gt]=new pe(I,C)),B}parseSegment(){const I=Rt(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new me(It(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const C=Rt(this.remaining);if(!C)return;this.capture(C);let B="";if(this.consumeOptional("=")){const $=Rt(this.remaining);$&&(B=$,this.capture(B))}I[It(C)]=It(B)}parseQueryParam(I){const C=function dr(S){const I=S.match(Gn);return I?I[0]:""}(this.remaining);if(!C)return;this.capture(C);let B="";if(this.consumeOptional("=")){const ge=function yi(S){const I=S.match(ei);return I?I[0]:""}(this.remaining);ge&&(B=ge,this.capture(B))}const $=Ht(C),q=Ht(B);if(I.hasOwnProperty($)){let ge=I[$];Array.isArray(ge)||(ge=[ge],I[$]=ge),ge.push(q)}else I[$]=q}parseParens(I){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=Rt(this.remaining),$=this.remaining[B.length];if("/"!==$&&")"!==$&&";"!==$)throw new Error(`Cannot parse url '${this.url}'`);let q;B.indexOf(":")>-1?(q=B.substr(0,B.indexOf(":")),this.capture(q),this.capture(":")):I&&(q=Gt);const ge=this.parseChildren();C[q]=1===Object.keys(ge).length?ge[Gt]:new pe([],ge),this.consumeOptional("//")}return C}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Gi{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const C=this.pathFromRoot(I);return C.length>1?C[C.length-2]:null}children(I){const C=jn(I,this._root);return C?C.children.map(B=>B.value):[]}firstChild(I){const C=jn(I,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(I){const C=Ri(I,this._root);return C.length<2?[]:C[C.length-2].children.map($=>$.value).filter($=>$!==I)}pathFromRoot(I){return Ri(I,this._root).map(C=>C.value)}}function jn(S,I){if(S===I.value)return I;for(const C of I.children){const B=jn(S,C);if(B)return B}return null}function Ri(S,I){if(S===I.value)return[I];for(const C of I.children){const B=Ri(S,C);if(B.length)return B.unshift(I),B}return[]}class pr{constructor(I,C){this.value=I,this.children=C}toString(){return`TreeNode(${this.value})`}}function Vn(S){const I={};return S&&S.children.forEach(C=>I[C.value.outlet]=C),I}class Ei extends Gi{constructor(I,C){super(I),this.snapshot=C,We(this,I)}toString(){return this.snapshot.toString()}}function Xi(S,I){const C=function ui(S,I){const ge=new je([],{},{},"",{},Gt,I,null,S.root,-1,{});return new Oe("",new pr(ge,[]))}(S,I),B=new qe.X([new me("",{})]),$=new qe.X({}),q=new qe.X({}),ge=new qe.X({}),Me=new qe.X(""),vt=new Jn(B,$,ge,Me,q,Gt,I,C.root);return vt.snapshot=C.root,new Ei(new pr(vt,[]),C)}class Jn{constructor(I,C,B,$,q,ge,Me,vt){this.url=I,this.params=C,this.queryParams=B,this.fragment=$,this.data=q,this.outlet=ge,this.component=Me,this._futureSnapshot=vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(I=>Mr(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(I=>Mr(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yr(S,I="emptyOnly"){const C=S.pathFromRoot;let B=0;if("always"!==I)for(B=C.length-1;B>=1;){const $=C[B],q=C[B-1];if($.routeConfig&&""===$.routeConfig.path)B--;else{if(q.component)break;B--}}return function xi(S){return S.reduce((I,C)=>({params:Object.assign(Object.assign({},I.params),C.params),data:Object.assign(Object.assign({},I.data),C.data),resolve:Object.assign(Object.assign({},I.resolve),C._resolvedData)}),{params:{},data:{},resolve:{}})}(C.slice(B))}class je{constructor(I,C,B,$,q,ge,Me,vt,On,gr,qn){this.url=I,this.params=C,this.queryParams=B,this.fragment=$,this.data=q,this.outlet=ge,this.component=Me,this.routeConfig=vt,this._urlSegment=On,this._lastPathIndex=gr,this._resolve=qn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oe extends Gi{constructor(I,C){super(C),this.url=I,We(this,C)}toString(){return Dt(this._root)}}function We(S,I){I.value._routerState=S,I.children.forEach(C=>We(S,C))}function Dt(S){const I=S.children.length>0?` { ${S.children.map(Dt).join(", ")} } `:"";return`${S.value}${I}`}function kt(S){if(S.snapshot){const I=S.snapshot,C=S._futureSnapshot;S.snapshot=C,St(I.queryParams,C.queryParams)||S.queryParams.next(C.queryParams),I.fragment!==C.fragment&&S.fragment.next(C.fragment),St(I.params,C.params)||S.params.next(C.params),function Kn(S,I){if(S.length!==I.length)return!1;for(let C=0;C<S.length;++C)if(!St(S[C],I[C]))return!1;return!0}(I.url,C.url)||S.url.next(C.url),St(I.data,C.data)||S.data.next(C.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Xt(S,I){const C=St(S.params,I.params)&&function Fe(S,I){return he(S,I)&&S.every((C,B)=>St(C.parameters,I[B].parameters))}(S.url,I.url);return C&&!(!S.parent!=!I.parent)&&(!S.parent||Xt(S.parent,I.parent))}function jr(S,I,C){if(C&&S.shouldReuseRoute(I.value,C.value.snapshot)){const B=C.value;B._futureSnapshot=I.value;const $=function yr(S,I,C){return I.children.map(B=>{for(const $ of C.children)if(S.shouldReuseRoute(B.value,$.value.snapshot))return jr(S,B,$);return jr(S,B)})}(S,I,C);return new pr(B,$)}{if(S.shouldAttach(I.value)){const q=S.retrieve(I.value);if(null!==q){const ge=q.route;return ge.value._futureSnapshot=I.value,ge.children=I.children.map(Me=>jr(S,Me)),ge}}const B=function vi(S){return new Jn(new qe.X(S.url),new qe.X(S.params),new qe.X(S.queryParams),new qe.X(S.fragment),new qe.X(S.data),S.outlet,S.component,S)}(I.value),$=I.children.map(q=>jr(S,q));return new pr(B,$)}}function Ns(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function es(S){return"object"==typeof S&&null!=S&&S.outlets}function Vi(S,I,C,B,$){let q={};if(B&&Cr(B,(Me,vt)=>{q[vt]=Array.isArray(Me)?Me.map(On=>`${On}`):`${Me}`}),S===I)return new Zn(C,q,$);const ge=di(S,I,C);return new Zn(ge,q,$)}function di(S,I,C){const B={};return Cr(S.children,($,q)=>{B[q]=$===I?C:di($,I,C)}),new pe(S.segments,B)}class ho{constructor(I,C,B){if(this.isAbsolute=I,this.numberOfDoubleDots=C,this.commands=B,I&&B.length>0&&Ns(B[0]))throw new Error("Root segment cannot have matrix parameters");const $=B.find(es);if($&&$!==Ur(B))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ls{constructor(I,C,B){this.segmentGroup=I,this.processChildren=C,this.index=B}}function Ms(S,I,C){if(S||(S=new pe([],{})),0===S.segments.length&&S.hasChildren())return ts(S,I,C);const B=function Bs(S,I,C){let B=0,$=I;const q={match:!1,pathIndex:0,commandIndex:0};for(;$<S.segments.length;){if(B>=C.length)return q;const ge=S.segments[$],Me=C[B];if(es(Me))break;const vt=`${Me}`,On=B<C.length-1?C[B+1]:null;if($>0&&void 0===vt)break;if(vt&&On&&"object"==typeof On&&void 0===On.outlets){if(!Vs(vt,On,ge))return q;B+=2}else{if(!Vs(vt,{},ge))return q;B++}$++}return{match:!0,pathIndex:$,commandIndex:B}}(S,I,C),$=C.slice(B.commandIndex);if(B.match&&B.pathIndex<S.segments.length){const q=new pe(S.segments.slice(0,B.pathIndex),{});return q.children[Gt]=new pe(S.segments.slice(B.pathIndex),S.children),ts(q,0,$)}return B.match&&0===$.length?new pe(S.segments,{}):B.match&&!S.hasChildren()?ro(S,I,C):B.match?ts(S,0,$):ro(S,I,C)}function ts(S,I,C){if(0===C.length)return new pe(S.segments,{});{const B=function Uo(S){return es(S[0])?S[0].outlets:{[Gt]:S}}(C),$={};return Cr(B,(q,ge)=>{"string"==typeof q&&(q=[q]),null!==q&&($[ge]=Ms(S.children[ge],I,q))}),Cr(S.children,(q,ge)=>{void 0===B[ge]&&($[ge]=q)}),new pe(S.segments,$)}}function ro(S,I,C){const B=S.segments.slice(0,I);let $=0;for(;$<C.length;){const q=C[$];if(es(q)){const vt=ea(q.outlets);return new pe(B,vt)}if(0===$&&Ns(C[0])){B.push(new me(S.segments[I].path,io(C[0]))),$++;continue}const ge=es(q)?q.outlets[Gt]:`${q}`,Me=$<C.length-1?C[$+1]:null;ge&&Me&&Ns(Me)?(B.push(new me(ge,io(Me))),$+=2):(B.push(new me(ge,{})),$++)}return new pe(B,{})}function ea(S){const I={};return Cr(S,(C,B)=>{"string"==typeof C&&(C=[C]),null!==C&&(I[B]=ro(new pe([],{}),0,C))}),I}function io(S){const I={};return Cr(S,(C,B)=>I[B]=`${C}`),I}function Vs(S,I,C){return S==C.path&&St(I,C.parameters)}class Os{constructor(I,C,B,$){this.routeReuseStrategy=I,this.futureState=C,this.currState=B,this.forwardEvent=$}activate(I){const C=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,B,I),kt(this.futureState.root),this.activateChildRoutes(C,B,I)}deactivateChildRoutes(I,C,B){const $=Vn(C);I.children.forEach(q=>{const ge=q.value.outlet;this.deactivateRoutes(q,$[ge],B),delete $[ge]}),Cr($,(q,ge)=>{this.deactivateRouteAndItsChildren(q,B)})}deactivateRoutes(I,C,B){const $=I.value,q=C?C.value:null;if($===q)if($.component){const ge=B.getContext($.outlet);ge&&this.deactivateChildRoutes(I,C,ge.children)}else this.deactivateChildRoutes(I,C,B);else q&&this.deactivateRouteAndItsChildren(C,B)}deactivateRouteAndItsChildren(I,C){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,C):this.deactivateRouteAndOutlet(I,C)}detachAndStoreRouteSubtree(I,C){const B=C.getContext(I.value.outlet),$=B&&I.value.component?B.children:C,q=Vn(I);for(const ge of Object.keys(q))this.deactivateRouteAndItsChildren(q[ge],$);if(B&&B.outlet){const ge=B.outlet.detach(),Me=B.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:ge,route:I,contexts:Me})}}deactivateRouteAndOutlet(I,C){const B=C.getContext(I.value.outlet),$=B&&I.value.component?B.children:C,q=Vn(I);for(const ge of Object.keys(q))this.deactivateRouteAndItsChildren(q[ge],$);B&&B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated(),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(I,C,B){const $=Vn(C);I.children.forEach(q=>{this.activateRoutes(q,$[q.value.outlet],B),this.forwardEvent(new Ln(q.value.snapshot))}),I.children.length&&this.forwardEvent(new Rr(I.value.snapshot))}activateRoutes(I,C,B){const $=I.value,q=C?C.value:null;if(kt($),$===q)if($.component){const ge=B.getOrCreateContext($.outlet);this.activateChildRoutes(I,C,ge.children)}else this.activateChildRoutes(I,C,B);else if($.component){const ge=B.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Me=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),ge.children.onOutletReAttached(Me.contexts),ge.attachRef=Me.componentRef,ge.route=Me.route.value,ge.outlet&&ge.outlet.attach(Me.componentRef,Me.route.value),kt(Me.route.value),this.activateChildRoutes(I,null,ge.children)}else{const Me=function mi(S){for(let I=S.parent;I;I=I.parent){const C=I.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig;if(C&&C.component)return null}return null}($.snapshot),vt=Me?Me.module.componentFactoryResolver:null;ge.attachRef=null,ge.route=$,ge.resolver=vt,ge.outlet&&ge.outlet.activateWith($,vt),this.activateChildRoutes(I,null,ge.children)}}else this.activateChildRoutes(I,null,B)}}class Pi{constructor(I,C){this.routes=I,this.module=C}}function Kr(S){return"function"==typeof S}function Jr(S){return S instanceof Zn}const Gs=Symbol("INITIAL_VALUE");function Wi(){return(0,Ke.w)(S=>(0,ft.a)(S.map(I=>I.pipe((0,Ze.q)(1),(0,Nt.O)(Gs)))).pipe((0,Lt.R)((I,C)=>{let B=!1;return C.reduce(($,q,ge)=>$!==Gs?$:(q===Gs&&(B=!0),B||!1!==q&&ge!==C.length-1&&!Jr(q)?$:q),I)},Gs),(0,at.h)(I=>I!==Gs),(0,Le.U)(I=>Jr(I)?I:!0===I),(0,Ze.q)(1)))}class Rs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rs,this.attachRef=null}}class rs{constructor(){this.contexts=new Map}onChildOutletCreated(I,C){const B=this.getOrCreateContext(I);B.outlet=C,this.contexts.set(I,B)}onChildOutletDestroyed(I){const C=this.getContext(I);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let C=this.getContext(I);return C||(C=new Rs,this.contexts.set(I,C)),C}getContext(I){return this.contexts.get(I)||null}}let Di=(()=>{class S{constructor(C,B,$,q,ge){this.parentContexts=C,this.location=B,this.resolver=$,this.changeDetector=ge,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=q||Gt,C.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const C=this.parentContexts.getContext(this.name);C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,B){this.activated=C,this._activatedRoute=B,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,B){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;const ge=(B=B||this.resolver).resolveComponentFactory(C._futureSnapshot.routeConfig.component),Me=this.parentContexts.getOrCreateContext(this.name).children,vt=new jo(C,Me,this.location.injector);this.activated=this.location.createComponent(ge,this.location.length,vt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(C){return new(C||S)(p.Y36(rs),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},S.\u0275dir=p.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),S})();class jo{constructor(I,C,B){this.route=I,this.childContexts=C,this.parent=B}get(I,C){return I===Jn?this.route:I===rs?this.childContexts:this.parent.get(I,C)}}let hi=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275cmp=p.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(C,B){1&C&&p._UZ(0,"router-outlet")},directives:[Di],encapsulation:2}),S})();function G(S,I=""){for(let C=0;C<S.length;C++){const B=S[C];K(B,_e(I,B))}}function K(S,I){S.children&&G(S.children,I)}function _e(S,I){return I?S||I.path?S&&!I.path?`${S}/`:!S&&I.path?I.path:`${S}/${I.path}`:"":S}function Se(S){const I=S.children&&S.children.map(Se),C=I?Object.assign(Object.assign({},S),{children:I}):Object.assign({},S);return!C.component&&(I||C.loadChildren)&&C.outlet&&C.outlet!==Gt&&(C.component=hi),C}function Be(S){return S.outlet||Gt}function yt(S,I){const C=S.filter(B=>Be(B)===I);return C.push(...S.filter(B=>Be(B)!==I)),C}const Wt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pn(S,I,C){var B;if(""===I.path)return"full"===I.pathMatch&&(S.hasChildren()||C.length>0)?Object.assign({},Wt):{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const q=(I.matcher||zr)(C,S,I);if(!q)return Object.assign({},Wt);const ge={};Cr(q.posParams,(vt,On)=>{ge[On]=vt.path});const Me=q.consumed.length>0?Object.assign(Object.assign({},ge),q.consumed[q.consumed.length-1].parameters):ge;return{matched:!0,consumedSegments:q.consumed,remainingSegments:C.slice(q.consumed.length),parameters:Me,positionalParamSegments:null!==(B=q.posParams)&&void 0!==B?B:{}}}function fn(S,I,C,B,$="corrected"){if(C.length>0&&function Q(S,I,C){return C.some(B=>ne(S,I,B)&&Be(B)!==Gt)}(S,C,B)){const ge=new pe(I,function F(S,I,C,B){const $={};$[Gt]=B,B._sourceSegment=S,B._segmentIndexShift=I.length;for(const q of C)if(""===q.path&&Be(q)!==Gt){const ge=new pe([],{});ge._sourceSegment=S,ge._segmentIndexShift=I.length,$[Be(q)]=ge}return $}(S,I,B,new pe(C,S.children)));return ge._sourceSegment=S,ge._segmentIndexShift=I.length,{segmentGroup:ge,slicedSegments:[]}}if(0===C.length&&function V(S,I,C){return C.some(B=>ne(S,I,B))}(S,C,B)){const ge=new pe(S.segments,function mn(S,I,C,B,$,q){const ge={};for(const Me of B)if(ne(S,C,Me)&&!$[Be(Me)]){const vt=new pe([],{});vt._sourceSegment=S,vt._segmentIndexShift="legacy"===q?S.segments.length:I.length,ge[Be(Me)]=vt}return Object.assign(Object.assign({},$),ge)}(S,I,C,B,S.children,$));return ge._sourceSegment=S,ge._segmentIndexShift=I.length,{segmentGroup:ge,slicedSegments:C}}const q=new pe(S.segments,S.children);return q._sourceSegment=S,q._segmentIndexShift=I.length,{segmentGroup:q,slicedSegments:C}}function ne(S,I,C){return(!(S.hasChildren()||I.length>0)||"full"!==C.pathMatch)&&""===C.path}function De(S,I,C,B){return!!(Be(S)===B||B!==Gt&&ne(I,C,S))&&("**"===S.path||pn(I,S,C).matched)}function lt(S,I,C){return 0===I.length&&!S.children[C]}class gt{constructor(I){this.segmentGroup=I||null}}class an{constructor(I){this.urlTree=I}}function bn(S){return Ie(new gt(S))}function En(S){return Ie(new an(S))}class Pr{constructor(I,C,B,$,q){this.configLoader=C,this.urlSerializer=B,this.urlTree=$,this.config=q,this.allowRedirects=!0,this.ngModule=I.get(p.h0i)}apply(){const I=fn(this.urlTree.root,[],[],this.config).segmentGroup,C=new pe(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,C,Gt).pipe((0,Le.U)(q=>this.createUrlTree(Ui(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Et(q=>{if(q instanceof an)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof gt?this.noMatchError(q):q}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,Gt).pipe((0,Le.U)($=>this.createUrlTree(Ui($),I.queryParams,I.fragment))).pipe(Et($=>{throw $ instanceof gt?this.noMatchError($):$}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,C,B){const $=I.segments.length>0?new pe([],{[Gt]:I}):I;return new Zn($,C,B)}expandSegmentGroup(I,C,B,$){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(I,C,B).pipe((0,Le.U)(q=>new pe([],q))):this.expandSegment(I,B,C,B.segments,$,!0)}expandChildren(I,C,B){const $=[];for(const q of Object.keys(B.children))"primary"===q?$.unshift(q):$.push(q);return(0,Re.D)($).pipe(ot(q=>{const ge=B.children[q],Me=yt(C,q);return this.expandSegmentGroup(I,Me,ge,q).pipe((0,Le.U)(vt=>({segment:vt,outlet:q})))}),(0,Lt.R)((q,ge)=>(q[ge.outlet]=ge.segment,q),{}),function Te(S,I){const C=arguments.length>=2;return B=>B.pipe(S?(0,at.h)(($,q)=>S($,q,B)):ut.y,Tt(1),C?(0,st.d)(I):(0,Ve.T)(()=>new bt.K))}())}expandSegment(I,C,B,$,q,ge){return(0,Re.D)(B).pipe(ot(Me=>this.expandSegmentAgainstRoute(I,C,B,Me,$,q,ge).pipe(Et(On=>{if(On instanceof gt)return(0,He.of)(null);throw On}))),(0,wt.P)(Me=>!!Me),Et((Me,vt)=>{if(Me instanceof bt.K||"EmptyError"===Me.name)return lt(C,$,q)?(0,He.of)(new pe([],{})):bn(C);throw Me}))}expandSegmentAgainstRoute(I,C,B,$,q,ge,Me){return De($,C,q,ge)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(I,C,$,q,ge):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,C,B,$,q,ge):bn(C):bn(C)}expandSegmentAgainstRouteUsingRedirect(I,C,B,$,q,ge){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,B,$,ge):this.expandRegularSegmentAgainstRouteUsingRedirect(I,C,B,$,q,ge)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,C,B,$){const q=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?En(q):this.lineralizeSegments(B,q).pipe((0,ze.z)(ge=>{const Me=new pe(ge,{});return this.expandSegment(I,Me,C,ge,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,C,B,$,q,ge){const{matched:Me,consumedSegments:vt,remainingSegments:On,positionalParamSegments:gr}=pn(C,$,q);if(!Me)return bn(C);const qn=this.applyRedirectCommands(vt,$.redirectTo,gr);return $.redirectTo.startsWith("/")?En(qn):this.lineralizeSegments($,qn).pipe((0,ze.z)(kr=>this.expandSegment(I,C,B,kr.concat(On),ge,!1)))}matchSegmentAgainstRoute(I,C,B,$,q){if("**"===B.path)return B.loadChildren?(B._loadedConfig?(0,He.of)(B._loadedConfig):this.configLoader.load(I.injector,B)).pipe((0,Le.U)(qn=>(B._loadedConfig=qn,new pe($,{})))):(0,He.of)(new pe($,{}));const{matched:ge,consumedSegments:Me,remainingSegments:vt}=pn(C,B,$);return ge?this.getChildConfig(I,B,$).pipe((0,ze.z)(gr=>{const qn=gr.module,kr=gr.routes,{segmentGroup:Fr,slicedSegments:ss}=fn(C,Me,vt,kr),cs=new pe(Fr.segments,Fr.children);if(0===ss.length&&cs.hasChildren())return this.expandChildren(qn,kr,cs).pipe((0,Le.U)(os=>new pe(Me,os)));if(0===kr.length&&0===ss.length)return(0,He.of)(new pe(Me,{}));const va=Be(B)===q;return this.expandSegment(qn,cs,kr,ss,va?Gt:q,!0).pipe((0,Le.U)(js=>new pe(Me.concat(js.segments),js.children)))})):bn(C)}getChildConfig(I,C,B){return C.children?(0,He.of)(new Pi(C.children,I)):C.loadChildren?void 0!==C._loadedConfig?(0,He.of)(C._loadedConfig):this.runCanLoadGuards(I.injector,C,B).pipe((0,ze.z)($=>$?this.configLoader.load(I.injector,C).pipe((0,Le.U)(q=>(C._loadedConfig=q,q))):function sr(S){return Ie(Tr(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`))}(C))):(0,He.of)(new Pi([],I))}runCanLoadGuards(I,C,B){const $=C.canLoad;if(!$||0===$.length)return(0,He.of)(!0);const q=$.map(ge=>{const Me=I.get(ge);let vt;if(function vr(S){return S&&Kr(S.canLoad)}(Me))vt=Me.canLoad(C,B);else{if(!Kr(Me))throw new Error("Invalid CanLoad guard");vt=Me(C,B)}return ur(vt)});return(0,He.of)(q).pipe(Wi(),(0,Mt.b)(ge=>{if(!Jr(ge))return;const Me=Tr(`Redirecting to "${this.urlSerializer.serialize(ge)}"`);throw Me.url=ge,Me}),(0,Le.U)(ge=>!0===ge))}lineralizeSegments(I,C){let B=[],$=C.root;for(;;){if(B=B.concat($.segments),0===$.numberOfChildren)return(0,He.of)(B);if($.numberOfChildren>1||!$.children[Gt])return Ie(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I.redirectTo}'`));$=$.children[Gt]}}applyRedirectCommands(I,C,B){return this.applyRedirectCreatreUrlTree(C,this.urlSerializer.parse(C),I,B)}applyRedirectCreatreUrlTree(I,C,B,$){const q=this.createSegmentGroup(I,C.root,B,$);return new Zn(q,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(I,C){const B={};return Cr(I,($,q)=>{if("string"==typeof $&&$.startsWith(":")){const Me=$.substring(1);B[q]=C[Me]}else B[q]=$}),B}createSegmentGroup(I,C,B,$){const q=this.createSegments(I,C.segments,B,$);let ge={};return Cr(C.children,(Me,vt)=>{ge[vt]=this.createSegmentGroup(I,Me,B,$)}),new pe(q,ge)}createSegments(I,C,B,$){return C.map(q=>q.path.startsWith(":")?this.findPosParam(I,q,$):this.findOrReturn(q,B))}findPosParam(I,C,B){const $=B[C.path.substring(1)];if(!$)throw new Error(`Cannot redirect to '${I}'. Cannot find '${C.path}'.`);return $}findOrReturn(I,C){let B=0;for(const $ of C){if($.path===I.path)return C.splice(B),$;B++}return I}}function Ui(S){const I={};for(const B of Object.keys(S.children)){const q=Ui(S.children[B]);(q.segments.length>0||q.hasChildren())&&(I[B]=q)}return function Qn(S){if(1===S.numberOfChildren&&S.children[Gt]){const I=S.children[Gt];return new pe(S.segments.concat(I.segments),I.children)}return S}(new pe(S.segments,I))}class ln{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Ii{constructor(I,C){this.component=I,this.route=C}}function fo(S,I,C){const B=S._root;return L(B,I?I._root:null,C,[B.value])}function Zs(S,I,C){const B=function H(S){if(!S)return null;for(let I=S.parent;I;I=I.parent){const C=I.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig}return null}(I);return(B?B.module.injector:C).get(S)}function L(S,I,C,B,$={canDeactivateChecks:[],canActivateChecks:[]}){const q=Vn(I);return S.children.forEach(ge=>{(function P(S,I,C,B,$={canDeactivateChecks:[],canActivateChecks:[]}){const q=S.value,ge=I?I.value:null,Me=C?C.getContext(S.value.outlet):null;if(ge&&q.routeConfig===ge.routeConfig){const vt=function re(S,I,C){if("function"==typeof C)return C(S,I);switch(C){case"pathParamsChange":return!he(S.url,I.url);case"pathParamsOrQueryParamsChange":return!he(S.url,I.url)||!St(S.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xt(S,I)||!St(S.queryParams,I.queryParams);default:return!Xt(S,I)}}(ge,q,q.routeConfig.runGuardsAndResolvers);vt?$.canActivateChecks.push(new ln(B)):(q.data=ge.data,q._resolvedData=ge._resolvedData),L(S,I,q.component?Me?Me.children:null:C,B,$),vt&&Me&&Me.outlet&&Me.outlet.isActivated&&$.canDeactivateChecks.push(new Ii(Me.outlet.component,ge))}else ge&&we(I,Me,$),$.canActivateChecks.push(new ln(B)),L(S,null,q.component?Me?Me.children:null:C,B,$)})(ge,q[ge.value.outlet],C,B.concat([ge.value]),$),delete q[ge.value.outlet]}),Cr(q,(ge,Me)=>we(ge,C.getContext(Me),$)),$}function we(S,I,C){const B=Vn(S),$=S.value;Cr(B,(q,ge)=>{we(q,$.component?I?I.children.getContext(ge):null:I,C)}),C.canDeactivateChecks.push(new Ii($.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,$))}class ml{}function go(S){return new f.y(I=>I.error(S))}class ta{constructor(I,C,B,$,q,ge){this.rootComponentType=I,this.config=C,this.urlTree=B,this.url=$,this.paramsInheritanceStrategy=q,this.relativeLinkResolution=ge}recognize(){const I=fn(this.urlTree.root,[],[],this.config.filter(ge=>void 0===ge.redirectTo),this.relativeLinkResolution).segmentGroup,C=this.processSegmentGroup(this.config,I,Gt);if(null===C)return null;const B=new je([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new pr(B,C),q=new Oe(this.url,$);return this.inheritParamsAndData(q._root),q}inheritParamsAndData(I){const C=I.value,B=Yr(C,this.paramsInheritanceStrategy);C.params=Object.freeze(B.params),C.data=Object.freeze(B.data),I.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(I,C,B){return 0===C.segments.length&&C.hasChildren()?this.processChildren(I,C):this.processSegment(I,C,C.segments,B)}processChildren(I,C){const B=[];for(const q of Object.keys(C.children)){const ge=C.children[q],Me=yt(I,q),vt=this.processSegmentGroup(Me,ge,q);if(null===vt)return null;B.push(...vt)}const $=So(B);return function ki(S){S.sort((I,C)=>I.value.outlet===Gt?-1:C.value.outlet===Gt?1:I.value.outlet.localeCompare(C.value.outlet))}($),$}processSegment(I,C,B,$){for(const q of I){const ge=this.processSegmentAgainstRoute(q,C,B,$);if(null!==ge)return ge}return lt(C,B,$)?[]:null}processSegmentAgainstRoute(I,C,B,$){if(I.redirectTo||!De(I,C,B,$))return null;let q,ge=[],Me=[];if("**"===I.path){const Fr=B.length>0?Ur(B).parameters:{};q=new je(B,Fr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fa(I),Be(I),I.component,I,al(C),mo(C)+B.length,oo(I))}else{const Fr=pn(C,I,B);if(!Fr.matched)return null;ge=Fr.consumedSegments,Me=Fr.remainingSegments,q=new je(ge,Fr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fa(I),Be(I),I.component,I,al(C),mo(C)+ge.length,oo(I))}const vt=function Ys(S){return S.children?S.children:S.loadChildren?S._loadedConfig.routes:[]}(I),{segmentGroup:On,slicedSegments:gr}=fn(C,ge,Me,vt.filter(Fr=>void 0===Fr.redirectTo),this.relativeLinkResolution);if(0===gr.length&&On.hasChildren()){const Fr=this.processChildren(vt,On);return null===Fr?null:[new pr(q,Fr)]}if(0===vt.length&&0===gr.length)return[new pr(q,[])];const qn=Be(I)===$,kr=this.processSegment(vt,On,gr,qn?Gt:$);return null===kr?null:[new pr(q,kr)]}}function Ho(S){const I=S.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function So(S){const I=[],C=new Set;for(const B of S){if(!Ho(B)){I.push(B);continue}const $=I.find(q=>B.value.routeConfig===q.value.routeConfig);void 0!==$?($.children.push(...B.children),C.add($)):I.push(B)}for(const B of C){const $=So(B.children);I.push(new pr(B.value,$))}return I.filter(B=>!C.has(B))}function al(S){let I=S;for(;I._sourceSegment;)I=I._sourceSegment;return I}function mo(S){let I=S,C=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,C+=I._segmentIndexShift?I._segmentIndexShift:0;return C-1}function Fa(S){return S.data||{}}function oo(S){return S.resolve||{}}function Is(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function qi(S){return(0,Ke.w)(I=>{const C=S(I);return C?(0,Re.D)(C).pipe((0,Le.U)(()=>I)):(0,He.of)(I)})}class Go extends class Za{shouldDetach(I){return!1}store(I,C){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,C){return I.routeConfig===C.routeConfig}}{}const La=new p.OlP("ROUTES");class na{constructor(I,C,B,$){this.injector=I,this.compiler=C,this.onLoadStartListener=B,this.onLoadEndListener=$}load(I,C){if(C._loader$)return C._loader$;this.onLoadStartListener&&this.onLoadStartListener(C);const $=this.loadModuleFactory(C.loadChildren).pipe((0,Le.U)(q=>{this.onLoadEndListener&&this.onLoadEndListener(C);const ge=q.create(I);return new Pi(_i(ge.injector.get(La,void 0,p.XFs.Self|p.XFs.Optional)).map(Se),ge)}),Et(q=>{throw C._loader$=void 0,q}));return C._loader$=new de($,()=>new ct.x).pipe(oe()),C._loader$}loadModuleFactory(I){return ur(I()).pipe((0,ze.z)(C=>C instanceof p.YKP?(0,He.of)(C):(0,Re.D)(this.compiler.compileModuleAsync(C))))}}class Ya{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,C){return I}}function _s(S){throw S}function Wo(S,I,C){return I.parse("/")}function Fi(S,I){return(0,He.of)(null)}const ma={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ki=(()=>{class S{constructor(C,B,$,q,ge,Me,vt){this.rootComponentType=C,this.urlSerializer=B,this.rootContexts=$,this.location=q,this.config=vt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ct.x,this.errorHandler=_s,this.malformedUriErrorHandler=Wo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fi,afterPreactivation:Fi},this.urlHandlingStrategy=new Ya,this.routeReuseStrategy=new Go,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ge.get(p.h0i),this.console=ge.get(p.c2e);const qn=ge.get(p.R0b);this.isNgZoneEnabled=qn instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(vt),this.currentUrlTree=function Ar(){return new Zn(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new na(ge,Me,kr=>this.triggerEvent(new vn(kr)),kr=>this.triggerEvent(new rr(kr))),this.routerState=Xi(this.currentUrlTree,this.rootComponentType),this.transitions=new qe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var C;return null===(C=this.location.getState())||void 0===C?void 0:C.\u0275routerPageId}setupNavigations(C){const B=this.events;return C.pipe((0,at.h)($=>0!==$.id),(0,Le.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,Ke.w)($=>{let q=!1,ge=!1;return(0,He.of)($).pipe((0,Mt.b)(Me=>{this.currentNavigation={id:Me.id,initialUrl:Me.currentRawUrl,extractedUrl:Me.extractedUrl,trigger:Me.source,extras:Me.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ke.w)(Me=>{const vt=this.browserUrlTree.toString(),On=!this.navigated||Me.extractedUrl.toString()!==vt||vt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||On)&&this.urlHandlingStrategy.shouldProcessUrl(Me.rawUrl))return _a(Me.source)&&(this.browserUrlTree=Me.extractedUrl),(0,He.of)(Me).pipe((0,Ke.w)(qn=>{const kr=this.transitions.getValue();return B.next(new cn(qn.id,this.serializeUrl(qn.extractedUrl),qn.source,qn.restoredState)),kr!==this.transitions.getValue()?tt.E:Promise.resolve(qn)}),function zi(S,I,C,B){return(0,Ke.w)($=>function cr(S,I,C,B,$){return new Pr(S,I,C,B,$).apply()}(S,I,C,$.extractedUrl,B).pipe((0,Le.U)(q=>Object.assign(Object.assign({},$),{urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mt.b)(qn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:qn.urlAfterRedirects})}),function ni(S,I,C,B,$){return(0,ze.z)(q=>function ol(S,I,C,B,$="emptyOnly",q="legacy"){try{const ge=new ta(S,I,C,B,$,q).recognize();return null===ge?go(new ml):(0,He.of)(ge)}catch(ge){return go(ge)}}(S,I,q.urlAfterRedirects,C(q.urlAfterRedirects),B,$).pipe((0,Le.U)(ge=>Object.assign(Object.assign({},q),{targetSnapshot:ge}))))}(this.rootComponentType,this.config,qn=>this.serializeUrl(qn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mt.b)(qn=>{if("eager"===this.urlUpdateStrategy){if(!qn.extras.skipLocationChange){const Fr=this.urlHandlingStrategy.merge(qn.urlAfterRedirects,qn.rawUrl);this.setBrowserUrl(Fr,qn)}this.browserUrlTree=qn.urlAfterRedirects}const kr=new Hn(qn.id,this.serializeUrl(qn.extractedUrl),this.serializeUrl(qn.urlAfterRedirects),qn.targetSnapshot);B.next(kr)}));if(On&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:kr,extractedUrl:Fr,source:ss,restoredState:cs,extras:va}=Me,Yi=new cn(kr,this.serializeUrl(Fr),ss,cs);B.next(Yi);const js=Xi(Fr,this.rootComponentType).snapshot;return(0,He.of)(Object.assign(Object.assign({},Me),{targetSnapshot:js,urlAfterRedirects:Fr,extras:Object.assign(Object.assign({},va),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Me.rawUrl,Me.resolve(null),tt.E}),qi(Me=>{const{targetSnapshot:vt,id:On,extractedUrl:gr,rawUrl:qn,extras:{skipLocationChange:kr,replaceUrl:Fr}}=Me;return this.hooks.beforePreactivation(vt,{navigationId:On,appliedUrlTree:gr,rawUrlTree:qn,skipLocationChange:!!kr,replaceUrl:!!Fr})}),(0,Mt.b)(Me=>{const vt=new Xn(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(vt)}),(0,Le.U)(Me=>Object.assign(Object.assign({},Me),{guards:fo(Me.targetSnapshot,Me.currentSnapshot,this.rootContexts)})),function At(S,I){return(0,ze.z)(C=>{const{targetSnapshot:B,currentSnapshot:$,guards:{canActivateChecks:q,canDeactivateChecks:ge}}=C;return 0===ge.length&&0===q.length?(0,He.of)(Object.assign(Object.assign({},C),{guardsResult:!0})):function ti(S,I,C,B){return(0,Re.D)(S).pipe((0,ze.z)($=>function po(S,I,C,B,$){const q=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,He.of)(!0);const ge=q.map(Me=>{const vt=Zs(Me,I,$);let On;if(function oi(S){return S&&Kr(S.canDeactivate)}(vt))On=ur(vt.canDeactivate(S,I,C,B));else{if(!Kr(vt))throw new Error("Invalid CanDeactivate guard");On=ur(vt(S,I,C,B))}return On.pipe((0,wt.P)())});return(0,He.of)(ge).pipe(Wi())}($.component,$.route,C,I,B)),(0,wt.P)($=>!0!==$,!0))}(ge,B,$,S).pipe((0,ze.z)(Me=>Me&&function Ni(S){return"boolean"==typeof S}(Me)?function hr(S,I,C,B){return(0,Re.D)(I).pipe(ot($=>(0,Je.z)(function ji(S,I){return null!==S&&I&&I(new ir(S)),(0,He.of)(!0)}($.route.parent,B),function Es(S,I){return null!==S&&I&&I(new Qt(S)),(0,He.of)(!0)}($.route,B),function so(S,I,C){const B=I[I.length-1],q=I.slice(0,I.length-1).reverse().map(ge=>function Ws(S){const I=S.routeConfig?S.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:S,guards:I}:null}(ge)).filter(ge=>null!==ge).map(ge=>ke(()=>{const Me=ge.guards.map(vt=>{const On=Zs(vt,ge.node,C);let gr;if(function ns(S){return S&&Kr(S.canActivateChild)}(On))gr=ur(On.canActivateChild(B,S));else{if(!Kr(On))throw new Error("Invalid CanActivateChild guard");gr=ur(On(B,S))}return gr.pipe((0,wt.P)())});return(0,He.of)(Me).pipe(Wi())}));return(0,He.of)(q).pipe(Wi())}(S,$.path,C),function us(S,I,C){const B=I.routeConfig?I.routeConfig.canActivate:null;if(!B||0===B.length)return(0,He.of)(!0);const $=B.map(q=>ke(()=>{const ge=Zs(q,I,C);let Me;if(function wi(S){return S&&Kr(S.canActivate)}(ge))Me=ur(ge.canActivate(I,S));else{if(!Kr(ge))throw new Error("Invalid CanActivate guard");Me=ur(ge(I,S))}return Me.pipe((0,wt.P)())}));return(0,He.of)($).pipe(Wi())}(S,$.route,C))),(0,wt.P)($=>!0!==$,!0))}(B,q,S,I):(0,He.of)(Me)),(0,Le.U)(Me=>Object.assign(Object.assign({},C),{guardsResult:Me})))})}(this.ngModule.injector,Me=>this.triggerEvent(Me)),(0,Mt.b)(Me=>{if(Jr(Me.guardsResult)){const On=Tr(`Redirecting to "${this.serializeUrl(Me.guardsResult)}"`);throw On.url=Me.guardsResult,On}const vt=new _r(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot,!!Me.guardsResult);this.triggerEvent(vt)}),(0,at.h)(Me=>!!Me.guardsResult||(this.restoreHistory(Me),this.cancelNavigationTransition(Me,""),!1)),qi(Me=>{if(Me.guards.canActivateChecks.length)return(0,He.of)(Me).pipe((0,Mt.b)(vt=>{const On=new tr(vt.id,this.serializeUrl(vt.extractedUrl),this.serializeUrl(vt.urlAfterRedirects),vt.targetSnapshot);this.triggerEvent(On)}),(0,Ke.w)(vt=>{let On=!1;return(0,He.of)(vt).pipe(function ao(S,I){return(0,ze.z)(C=>{const{targetSnapshot:B,guards:{canActivateChecks:$}}=C;if(!$.length)return(0,He.of)(C);let q=0;return(0,Re.D)($).pipe(ot(ge=>function Ka(S,I,C,B){return function ga(S,I,C,B){const $=Is(S);if(0===$.length)return(0,He.of)({});const q={};return(0,Re.D)($).pipe((0,ze.z)(ge=>function Ao(S,I,C,B){const $=Zs(S,I,B);return ur($.resolve?$.resolve(I,C):$(I,C))}(S[ge],I,C,B).pipe((0,Mt.b)(Me=>{q[ge]=Me}))),Tt(1),(0,ze.z)(()=>Is(q).length===$.length?(0,He.of)(q):tt.E))}(S._resolve,S,I,B).pipe((0,Le.U)(q=>(S._resolvedData=q,S.data=Object.assign(Object.assign({},S.data),Yr(S,C).resolve),null)))}(ge.route,B,S,I)),(0,Mt.b)(()=>q++),Tt(1),(0,ze.z)(ge=>q===$.length?(0,He.of)(C):tt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mt.b)({next:()=>On=!0,complete:()=>{On||(this.restoreHistory(vt),this.cancelNavigationTransition(vt,"At least one route resolver didn't emit any value."))}}))}),(0,Mt.b)(vt=>{const On=new Nr(vt.id,this.serializeUrl(vt.extractedUrl),this.serializeUrl(vt.urlAfterRedirects),vt.targetSnapshot);this.triggerEvent(On)}))}),qi(Me=>{const{targetSnapshot:vt,id:On,extractedUrl:gr,rawUrl:qn,extras:{skipLocationChange:kr,replaceUrl:Fr}}=Me;return this.hooks.afterPreactivation(vt,{navigationId:On,appliedUrlTree:gr,rawUrlTree:qn,skipLocationChange:!!kr,replaceUrl:!!Fr})}),(0,Le.U)(Me=>{const vt=function zn(S,I,C){const B=jr(S,I._root,C?C._root:void 0);return new Ei(B,I)}(this.routeReuseStrategy,Me.targetSnapshot,Me.currentRouterState);return Object.assign(Object.assign({},Me),{targetRouterState:vt})}),(0,Mt.b)(Me=>{this.currentUrlTree=Me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Me.urlAfterRedirects,Me.rawUrl),this.routerState=Me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Me),this.browserUrlTree=Me.urlAfterRedirects)}),((S,I,C)=>(0,Le.U)(B=>(new Os(I,B.targetRouterState,B.currentRouterState,C).activate(S),B)))(this.rootContexts,this.routeReuseStrategy,Me=>this.triggerEvent(Me)),(0,Mt.b)({next(){q=!0},complete(){q=!0}}),function $e(S){return(0,ae.e)((I,C)=>{try{I.subscribe(C)}finally{C.add(S)}})}(()=>{var Me;q||ge||this.cancelNavigationTransition($,`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Me=this.currentNavigation)||void 0===Me?void 0:Me.id)===$.id&&(this.currentNavigation=null)}),Et(Me=>{if(ge=!0,function Wr(S){return S&&S[li]}(Me)){const vt=Jr(Me.url);vt||(this.navigated=!0,this.restoreHistory($,!0));const On=new Yt($.id,this.serializeUrl($.extractedUrl),Me.message);B.next(On),vt?setTimeout(()=>{const gr=this.urlHandlingStrategy.merge(Me.url,this.rawUrlTree),qn={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_a($.source)};this.scheduleNavigation(gr,"imperative",null,qn,{resolve:$.resolve,reject:$.reject,promise:$.promise})},0):$.resolve(!1)}else{this.restoreHistory($,!0);const vt=new Cn($.id,this.serializeUrl($.extractedUrl),Me);B.next(vt);try{$.resolve(this.errorHandler(Me))}catch(On){$.reject(On)}}return tt.E}))}))}resetRootComponentType(C){this.rootComponentType=C,this.routerState.root.component=this.rootComponentType}setTransition(C){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),C))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const B="popstate"===C.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{var $;const q={replaceUrl:!0},ge=(null===($=C.state)||void 0===$?void 0:$.navigationId)?C.state:null;if(ge){const vt=Object.assign({},ge);delete vt.navigationId,delete vt.\u0275routerPageId,0!==Object.keys(vt).length&&(q.state=vt)}const Me=this.parseUrl(C.url);this.scheduleNavigation(Me,B,ge,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(C){this.events.next(C)}resetConfig(C){G(C),this.config=C.map(Se),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,B={}){const{relativeTo:$,queryParams:q,fragment:ge,queryParamsHandling:Me,preserveFragment:vt}=B,On=$||this.routerState.root,gr=vt?this.currentUrlTree.fragment:ge;let qn=null;switch(Me){case"merge":qn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),q);break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=q||null}return null!==qn&&(qn=this.removeEmptyProps(qn)),function bi(S,I,C,B,$){if(0===C.length)return Vi(I.root,I.root,I.root,B,$);const q=function Xo(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ho(!0,0,S);let I=0,C=!1;const B=S.reduce(($,q,ge)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Me={};return Cr(q.outlets,(vt,On)=>{Me[On]="string"==typeof vt?vt.split("/"):vt}),[...$,{outlets:Me}]}if(q.segmentPath)return[...$,q.segmentPath]}return"string"!=typeof q?[...$,q]:0===ge?(q.split("/").forEach((Me,vt)=>{0==vt&&"."===Me||(0==vt&&""===Me?C=!0:".."===Me?I++:""!=Me&&$.push(Me))}),$):[...$,q]},[]);return new ho(C,I,B)}(C);if(q.toRoot())return Vi(I.root,I.root,new pe([],{}),B,$);const ge=function no(S,I,C){if(S.isAbsolute)return new ls(I.root,!0,0);if(-1===C.snapshot._lastPathIndex){const q=C.snapshot._urlSegment;return new ls(q,q===I.root,0)}const B=Ns(S.commands[0])?0:1;return function Ks(S,I,C){let B=S,$=I,q=C;for(;q>$;){if(q-=$,B=B.parent,!B)throw new Error("Invalid number of '../'");$=B.segments.length}return new ls(B,!1,$-q)}(C.snapshot._urlSegment,C.snapshot._lastPathIndex+B,S.numberOfDoubleDots)}(q,I,S),Me=ge.processChildren?ts(ge.segmentGroup,ge.index,q.commands):Ms(ge.segmentGroup,ge.index,q.commands);return Vi(I.root,ge.segmentGroup,Me,B,$)}(On,this.currentUrlTree,C,qn,null!=gr?gr:null)}navigateByUrl(C,B={skipLocationChange:!1}){const $=Jr(C)?C:this.parseUrl(C),q=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,B)}navigate(C,B={skipLocationChange:!1}){return function Zi(S){for(let I=0;I<S.length;I++){const C=S[I];if(null==C)throw new Error(`The requested path contains ${C} segment at index ${I}`)}}(C),this.navigateByUrl(this.createUrlTree(C,B),B)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let B;try{B=this.urlSerializer.parse(C)}catch($){B=this.malformedUriErrorHandler($,this.urlSerializer,C)}return B}isActive(C,B){let $;if($=!0===B?Object.assign({},ma):!1===B?Object.assign({},wu):B,Jr(C))return er(this.currentUrlTree,C,$);const q=this.parseUrl(C);return er(this.currentUrlTree,q,$)}removeEmptyProps(C){return Object.keys(C).reduce((B,$)=>{const q=C[$];return null!=q&&(B[$]=q),B},{})}processNavigations(){this.navigations.subscribe(C=>{this.navigated=!0,this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId,this.events.next(new gn(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,C.resolve(!0)},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}scheduleNavigation(C,B,$,q,ge){var Me,vt;if(this.disposed)return Promise.resolve(!1);let On,gr,qn;ge?(On=ge.resolve,gr=ge.reject,qn=ge.promise):qn=new Promise((ss,cs)=>{On=ss,gr=cs});const kr=++this.navigationId;let Fr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),Fr=$&&$.\u0275routerPageId?$.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?null!==(Me=this.browserPageId)&&void 0!==Me?Me:0:(null!==(vt=this.browserPageId)&&void 0!==vt?vt:0)+1):Fr=0,this.setTransition({id:kr,targetPageId:Fr,source:B,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:C,extras:q,resolve:On,reject:gr,promise:qn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qn.catch(ss=>Promise.reject(ss))}setBrowserUrl(C,B){const $=this.urlSerializer.serialize(C),q=Object.assign(Object.assign({},B.extras.state),this.generateNgRouterState(B.id,B.targetPageId));this.location.isCurrentPathEqualTo($)||B.extras.replaceUrl?this.location.replaceState($,"",q):this.location.go($,"",q)}restoreHistory(C,B=!1){var $,q;if("computed"===this.canceledNavigationResolution){const ge=this.currentPageId-C.targetPageId;"popstate"!==C.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===ge?this.currentUrlTree===(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)&&0===ge&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ge)}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(C,B){const $=new Yt(C.id,this.serializeUrl(C.extractedUrl),B);this.triggerEvent($),C.resolve(!1)}generateNgRouterState(C,B){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:B}:{navigationId:C}}}return S.\u0275fac=function(C){p.$Z()},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac}),S})();function _a(S){return"imperative"!==S}let Us=(()=>{class S{constructor(C,B,$,q,ge){this.router=C,this.route=B,this.tabIndexAttribute=$,this.renderer=q,this.el=ge,this.commands=null,this.onChanges=new ct.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){if(null!=this.tabIndexAttribute)return;const B=this.renderer,$=this.el.nativeElement;null!==C?B.setAttribute($,"tabindex",C):B.removeAttribute($,"tabindex")}ngOnChanges(C){this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const C={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return S.\u0275fac=function(C){return new(C||S)(p.Y36(Ki),p.Y36(Jn),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},S.\u0275dir=p.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(C,B){1&C&&p.NdJ("click",function(){return B.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),S})(),Ts=(()=>{class S{constructor(C,B,$){this.router=C,this.route=B,this.locationStrategy=$,this.commands=null,this.href=null,this.onChanges=new ct.x,this.subscription=C.events.subscribe(q=>{q instanceof gn&&this.updateTargetUrlAndHref()})}set routerLink(C){this.commands=null!=C?Array.isArray(C)?C:[C]:null}ngOnChanges(C){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(C,B,$,q,ge){if(0!==C||B||$||q||ge||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Me={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Me),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return S.\u0275fac=function(C){return new(C||S)(p.Y36(Ki),p.Y36(Jn),p.Y36(pt.S$))},S.\u0275dir=p.lG2({type:S,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(C,B){1&C&&p.NdJ("click",function(q){return B.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&C&&p.uIk("target",B.target)("href",B.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),S})();function Mi(S){return""===S||!!S}class _o{}class _n{preload(I,C){return(0,He.of)(null)}}let Nn=(()=>{class S{constructor(C,B,$,q){this.router=C,this.injector=$,this.preloadingStrategy=q,this.loader=new na($,B,vt=>C.triggerEvent(new vn(vt)),vt=>C.triggerEvent(new rr(vt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(C=>C instanceof gn),ot(()=>this.preload())).subscribe(()=>{})}preload(){const C=this.injector.get(p.h0i);return this.processRoutes(C,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,B){const $=[];for(const q of B)if(q.loadChildren&&!q.canLoad&&q._loadedConfig){const ge=q._loadedConfig;$.push(this.processRoutes(ge.module,ge.routes))}else q.loadChildren&&!q.canLoad?$.push(this.preloadConfig(C,q)):q.children&&$.push(this.processRoutes(C,q.children));return(0,Re.D)($).pipe((0,Xe.J)(),(0,Le.U)(q=>{}))}preloadConfig(C,B){return this.preloadingStrategy.preload(B,()=>(B._loadedConfig?(0,He.of)(B._loadedConfig):this.loader.load(C.injector,B)).pipe((0,ze.z)(q=>(B._loadedConfig=q,this.processRoutes(q.module,q.routes)))))}}return S.\u0275fac=function(C){return new(C||S)(p.LFG(Ki),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(_o))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac}),S})(),yo=(()=>{class S{constructor(C,B,$={}){this.router=C,this.viewportScroller=B,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(C=>{C instanceof cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof gn&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.router.parseUrl(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Bn&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,B){this.router.triggerEvent(new Bn(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(C){p.$Z()},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac}),S})();const Qe=new p.OlP("ROUTER_CONFIGURATION"),Ut=new p.OlP("ROUTER_FORROOT_GUARD"),is=[pt.Ye,{provide:ce,useClass:Ye},{provide:Ki,useFactory:function J(S,I,C,B,$,q,ge={},Me,vt){const On=new Ki(null,S,I,C,B,$,_i(q));return Me&&(On.urlHandlingStrategy=Me),vt&&(On.routeReuseStrategy=vt),function be(S,I){S.errorHandler&&(I.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(I.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(I.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(I.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(I.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(I.canceledNavigationResolution=S.canceledNavigationResolution)}(ge,On),ge.enableTracing&&On.events.subscribe(gr=>{var qn,kr;null===(qn=console.group)||void 0===qn||qn.call(console,`Router Event: ${gr.constructor.name}`),console.log(gr.toString()),console.log(gr),null===(kr=console.groupEnd)||void 0===kr||kr.call(console)}),On},deps:[ce,rs,pt.Ye,p.zs3,p.Sil,La,Qe,[class ll{},new p.FiY],[class $o{},new p.FiY]]},rs,{provide:Jn,useFactory:function Ct(S){return S.routerState.root},deps:[Ki]},Nn,_n,class xo{preload(I,C){return C().pipe(Et(()=>(0,He.of)(null)))}},{provide:Qe,useValue:{enableTracing:!1}}];function _l(){return new p.PXZ("Router",Ki)}let Du=(()=>{class S{constructor(C,B){}static forRoot(C,B){return{ngModule:S,providers:[is,M(C),{provide:Ut,useFactory:N,deps:[[Ki,new p.FiY,new p.tp0]]},{provide:Qe,useValue:B||{}},{provide:pt.S$,useFactory:ya,deps:[pt.lw,[new p.tBr(pt.mr),new p.FiY],Qe]},{provide:yo,useFactory:zs,deps:[Ki,pt.EM,Qe]},{provide:_o,useExisting:B&&B.preloadingStrategy?B.preloadingStrategy:_n},{provide:p.PXZ,multi:!0,useFactory:_l},[Kt,{provide:p.ip1,multi:!0,useFactory:Oi,deps:[Kt]},{provide:Ti,useFactory:Mn,deps:[Kt]},{provide:p.tb,multi:!0,useExisting:Ti}]]}}static forChild(C){return{ngModule:S,providers:[M(C)]}}}return S.\u0275fac=function(C){return new(C||S)(p.LFG(Ut,8),p.LFG(Ki,8))},S.\u0275mod=p.oAB({type:S}),S.\u0275inj=p.cJS({}),S})();function zs(S,I,C){return C.scrollOffset&&I.setOffset(C.scrollOffset),new yo(S,I,C)}function ya(S,I,C={}){return C.useHash?new pt.Do(S,I):new pt.b0(S,I)}function N(S){return"guarded"}function M(S){return[{provide:p.deG,multi:!0,useValue:S},{provide:La,multi:!0,useValue:S}]}let Kt=(()=>{class S{constructor(C){this.injector=C,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ct.x}appInitializer(){return this.injector.get(pt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let B=null;const $=new Promise(Me=>B=Me),q=this.injector.get(Ki),ge=this.injector.get(Qe);return"disabled"===ge.initialNavigation?(q.setUpLocationChangeListener(),B(!0)):"enabled"===ge.initialNavigation||"enabledBlocking"===ge.initialNavigation?(q.hooks.afterPreactivation=()=>this.initNavigation?(0,He.of)(null):(this.initNavigation=!0,B(!0),this.resultOfPreactivationDone),q.initialNavigation()):B(!0),$})}bootstrapListener(C){const B=this.injector.get(Qe),$=this.injector.get(Nn),q=this.injector.get(yo),ge=this.injector.get(Ki),Me=this.injector.get(p.z2F);C===Me.components[0]&&(("enabledNonBlocking"===B.initialNavigation||void 0===B.initialNavigation)&&ge.initialNavigation(),$.setUpPreloading(),q.init(),ge.resetRootComponentType(Me.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return S.\u0275fac=function(C){return new(C||S)(p.LFG(p.zs3))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac}),S})();function Oi(S){return S.appInitializer.bind(S)}function Mn(S){return S.bootstrapListener.bind(S)}const Ti=new p.OlP("Router Initializer")},3942:(Zt,xe,j)=>{"use strict";j.d(xe,{Z:()=>ft});var p=j(2090),f=j(4859),Z=j(9681),Ie=j(1877);class ve{constructor(Je,tt){this._delegate=Je,this.firebase=tt,(0,Z._addComponent)(Je,new f.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(Je,tt=Z._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Je);return!Et.isInitialized()&&"EXPLICIT"===(null===(ct=Et.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:tt})}_removeServiceInstance(Je,tt=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(tt)}_addComponent(Je){(0,Z._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,Z._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function Ue(){const bt=function ae(bt){const Je={},tt={__esModule:!0,initializeApp:function ze(Ve,st={}){const ut=Z.initializeApp(Ve,st);if((0,p.r3)(Je,ut.name))return Je[ut.name];const Te=new bt(ut,tt);return Je[ut.name]=Te,Te},app:Et,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function at(Ve){const st=Ve.name,ut=st.replace("-compat","");if(Z._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Te=($e=Et())=>{if("function"!=typeof $e[ut])throw Ne.create("invalid-app-argument",{appName:st});return $e[ut]()};void 0!==Ve.serviceProps&&(0,p.ZB)(Te,Ve.serviceProps),tt[ut]=Te,bt.prototype[ut]=function(...$e){return this._getService.bind(this,st).apply(this,Ve.multipleInstances?$e:[])}}return"PUBLIC"===Ve.type?tt[ut]:null},removeApp:function ct(Ve){delete Je[Ve]},useAsService:function Tt(Ve,st){return"serverAuth"===st?null:st},modularAPIs:Z}};function Et(Ve){if(!(0,p.r3)(Je,Ve=Ve||Z._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:Ve});return Je[Ve]}return tt.default=tt,Object.defineProperty(tt,"apps",{get:function ot(){return Object.keys(Je).map(Ve=>Je[Ve])}}),Et.App=bt,tt}(ve);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function Je(tt){(0,p.ZB)(bt,tt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),bt}(),de=new Ie.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ft=oe;!function qe(bt){(0,Z.registerVersion)("@firebase/app-compat","0.1.37",bt)}()},9681:(Zt,xe,j)=>{"use strict";j.r(xe),j.d(xe,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>vn,_DEFAULT_ENTRY_NAME:()=>Mt,_addComponent:()=>cn,_addOrOverwriteComponent:()=>gn,_apps:()=>pt,_clearComponents:()=>Xn,_components:()=>en,_getProvider:()=>Cn,_registerComponent:()=>Yt,_removeServiceInstance:()=>Hn,deleteApp:()=>Qt,getApp:()=>ir,getApps:()=>Rr,initializeApp:()=>rr,onLog:()=>Gt,registerVersion:()=>Bn,setLogLevel:()=>nr});var p=j(5861),f=j(4859),Z=j(1877),Ie=j(2090),ve=j(8766);class ke{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(qt=>{if(function Ne(Bt){const _t=Bt.getComponent();return"VERSION"===(null==_t?void 0:_t.type)}(qt)){const tn=qt.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(qt=>qt).join(" ")}}const ae="@firebase/app",oe=new Z.Yd("@firebase/app"),Mt="[DEFAULT]",Xe={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,en=new Map;function cn(Bt,_t){try{Bt.container.addComponent(_t)}catch(qt){oe.debug(`Component ${_t.name} failed to register with FirebaseApp ${Bt.name}`,qt)}}function gn(Bt,_t){Bt.container.addOrOverwriteComponent(_t)}function Yt(Bt){const _t=Bt.name;if(en.has(_t))return oe.debug(`There were multiple attempts to register component ${_t}.`),!1;en.set(_t,Bt);for(const qt of pt.values())cn(qt,Bt);return!0}function Cn(Bt,_t){const qt=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return qt&&qt.triggerHeartbeat(),Bt.container.getProvider(_t)}function Hn(Bt,_t,qt=Mt){Cn(Bt,_t).clearInstance(qt)}function Xn(){en.clear()}const tr=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nr{constructor(_t,qt,tn){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},qt),this._name=qt.name,this._automaticDataCollectionEnabled=qt.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const vn="9.12.1";function rr(Bt,_t={}){let qt=Bt;"object"!=typeof _t&&(_t={name:_t});const tn=Object.assign({name:Mt,automaticDataCollectionEnabled:!1},_t),rn=tn.name;if("string"!=typeof rn||!rn)throw tr.create("bad-app-name",{appName:String(rn)});if(qt||(qt=(0,Ie.aH)()),!qt)throw tr.create("no-options");const Zn=pt.get(rn);if(Zn){if((0,Ie.vZ)(qt,Zn.options)&&(0,Ie.vZ)(tn,Zn.config))return Zn;throw tr.create("duplicate-app",{appName:rn})}const pe=new f.H0(rn);for(const Fe of en.values())pe.addComponent(Fe);const me=new Nr(qt,tn,pe);return pt.set(rn,me),me}function ir(Bt=Mt){const _t=pt.get(Bt);if(!_t&&Bt===Mt)return rr();if(!_t)throw tr.create("no-app",{appName:Bt});return _t}function Rr(){return Array.from(pt.values())}function Qt(Bt){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(Bt){const _t=Bt.name;pt.has(_t)&&(pt.delete(_t),yield Promise.all(Bt.container.getProviders().map(qt=>qt.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function Bn(Bt,_t,qt){var tn;let rn=null!==(tn=Xe[Bt])&&void 0!==tn?tn:Bt;qt&&(rn+=`-${qt}`);const Zn=rn.match(/\s|\//),pe=_t.match(/\s|\//);if(Zn||pe){const me=[`Unable to register library "${rn}" with version "${_t}":`];return Zn&&me.push(`library name "${rn}" contains illegal characters (whitespace or "/")`),Zn&&pe&&me.push("and"),pe&&me.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),void oe.warn(me.join(" "))}Yt(new f.wA(`${rn}-version`,()=>({library:rn,version:_t}),"VERSION"))}function Gt(Bt,_t){if(null!==Bt&&"function"!=typeof Bt)throw tr.create("invalid-log-argument");(0,Z.Am)(Bt,_t)}function nr(Bt){(0,Z.Ub)(Bt)}const Tr="firebase-heartbeat-store";let Wr=null;function zr(){return Wr||(Wr=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(Bt,_t)=>{0===_t&&Bt.createObjectStore(Tr)}}).catch(Bt=>{throw tr.create("idb-open",{originalErrorMessage:Bt.message})})),Wr}function St(){return(St=(0,p.Z)(function*(Bt){var _t;try{return(yield zr()).transaction(Tr).objectStore(Tr).get(Ur(Bt))}catch(qt){if(qt instanceof Ie.ZR)oe.warn(qt.message);else{const tn=tr.create("idb-get",{originalErrorMessage:null===(_t=qt)||void 0===_t?void 0:_t.message});oe.warn(tn.message)}}})).apply(this,arguments)}function nn(Bt,_t){return _i.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(Bt,_t){var qt;try{const rn=(yield zr()).transaction(Tr,"readwrite");return yield rn.objectStore(Tr).put(_t,Ur(Bt)),rn.done}catch(tn){if(tn instanceof Ie.ZR)oe.warn(tn.message);else{const rn=tr.create("idb-set",{originalErrorMessage:null===(qt=tn)||void 0===qt?void 0:qt.message});oe.warn(rn.message)}}})).apply(this,arguments)}function Ur(Bt){return`${Bt.name}!${Bt.options.appId}`}class ur{constructor(_t){this.container=_t,this._heartbeatsCache=null;const qt=this.container.getProvider("app").getImmediate();this._storage=new Sr(qt),this._heartbeatsCachePromise=this._storage.read().then(tn=>(this._heartbeatsCache=tn,tn))}triggerHeartbeat(){var _t=this;return(0,p.Z)(function*(){const tn=_t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),rn=Ar();if(null===_t._heartbeatsCache&&(_t._heartbeatsCache=yield _t._heartbeatsCachePromise),_t._heartbeatsCache.lastSentHeartbeatDate!==rn&&!_t._heartbeatsCache.heartbeats.some(Zn=>Zn.date===rn))return _t._heartbeatsCache.heartbeats.push({date:rn,agent:tn}),_t._heartbeatsCache.heartbeats=_t._heartbeatsCache.heartbeats.filter(Zn=>{const pe=new Date(Zn.date).valueOf();return Date.now()-pe<=2592e6}),_t._storage.overwrite(_t._heartbeatsCache)})()}getHeartbeatsHeader(){var _t=this;return(0,p.Z)(function*(){if(null===_t._heartbeatsCache&&(yield _t._heartbeatsCachePromise),null===_t._heartbeatsCache||0===_t._heartbeatsCache.heartbeats.length)return"";const qt=Ar(),{heartbeatsToSend:tn,unsentEntries:rn}=function Pn(Bt,_t=1024){const qt=[];let tn=Bt.slice();for(const rn of Bt){const Zn=qt.find(pe=>pe.agent===rn.agent);if(Zn){if(Zn.dates.push(rn.date),er(qt)>_t){Zn.dates.pop();break}}else if(qt.push({agent:rn.agent,dates:[rn.date]}),er(qt)>_t){qt.pop();break}tn=tn.slice(1)}return{heartbeatsToSend:qt,unsentEntries:tn}}(_t._heartbeatsCache.heartbeats),Zn=(0,Ie.L)(JSON.stringify({version:2,heartbeats:tn}));return _t._heartbeatsCache.lastSentHeartbeatDate=qt,rn.length>0?(_t._heartbeatsCache.heartbeats=rn,yield _t._storage.overwrite(_t._heartbeatsCache)):(_t._heartbeatsCache.heartbeats=[],_t._storage.overwrite(_t._heartbeatsCache)),Zn})()}}function Ar(){return(new Date).toISOString().substring(0,10)}class Sr{constructor(_t){this.app=_t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _t=this;return(0,p.Z)(function*(){return(yield _t._canUseIndexedDBPromise)&&(yield function Kn(Bt){return St.apply(this,arguments)}(_t.app))||{heartbeats:[]}})()}overwrite(_t){var qt=this;return(0,p.Z)(function*(){var tn;if(yield qt._canUseIndexedDBPromise){const Zn=yield qt.read();return nn(qt.app,{lastSentHeartbeatDate:null!==(tn=_t.lastSentHeartbeatDate)&&void 0!==tn?tn:Zn.lastSentHeartbeatDate,heartbeats:_t.heartbeats})}})()}add(_t){var qt=this;return(0,p.Z)(function*(){var tn;if(yield qt._canUseIndexedDBPromise){const Zn=yield qt.read();return nn(qt.app,{lastSentHeartbeatDate:null!==(tn=_t.lastSentHeartbeatDate)&&void 0!==tn?tn:Zn.lastSentHeartbeatDate,heartbeats:[...Zn.heartbeats,..._t.heartbeats]})}})()}}function er(Bt){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function ci(Bt){Yt(new f.wA("platform-logger",_t=>new ke(_t),"PRIVATE")),Yt(new f.wA("heartbeat",_t=>new ur(_t),"PRIVATE")),Bn(ae,"0.8.2",Bt),Bn(ae,"0.8.2","esm2017"),Bn("fire-js","")}("")},4859:(Zt,xe,j)=>{"use strict";j.d(xe,{H0:()=>ae,wA:()=>Z});var p=j(5861),f=j(2090);class Z{constructor(oe,de,Re){this.name=oe,this.instanceFactory=de,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const Ie="[DEFAULT]";class ve{constructor(oe,de){this.name=oe,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const de=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(de)){const Re=new f.BH;if(this.instancesDeferred.set(de,Re),this.isInitialized(de)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:de});He&&Re.resolve(He)}catch(He){}}return this.instancesDeferred.get(de).promise}getImmediate(oe){var de;const Re=this.normalizeInstanceIdentifier(null==oe?void 0:oe.identifier),He=null!==(de=null==oe?void 0:oe.optional)&&void 0!==de&&de;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(qe){if(He)return null;throw qe}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Ne(Ue){return"EAGER"===Ue.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(de){}for(const[de,Re]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(de);try{const qe=this.getOrInitializeService({instanceIdentifier:He});Re.resolve(qe)}catch(qe){}}}}clearInstance(oe=Ie){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,p.Z)(function*(){const de=Array.from(oe.instances.values());yield Promise.all([...de.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...de.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=Ie){return this.instances.has(oe)}getOptions(oe=Ie){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:de={}}=oe,Re=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Re,options:de});for(const[qe,ft]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(qe)&&ft.resolve(He);return He}onInit(oe,de){var Re;const He=this.normalizeInstanceIdentifier(de),qe=null!==(Re=this.onInitCallbacks.get(He))&&void 0!==Re?Re:new Set;qe.add(oe),this.onInitCallbacks.set(He,qe);const ft=this.instances.get(He);return ft&&oe(ft,He),()=>{qe.delete(oe)}}invokeOnInitCallbacks(oe,de){const Re=this.onInitCallbacks.get(de);if(Re)for(const He of Re)try{He(oe,de)}catch(qe){}}getOrInitializeService({instanceIdentifier:oe,options:de={}}){let Re=this.instances.get(oe);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=oe,Ue===Ie?void 0:Ue),options:de}),this.instances.set(oe,Re),this.instancesOptions.set(oe,de),this.invokeOnInitCallbacks(Re,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,Re)}catch(He){}var Ue;return Re||null}normalizeInstanceIdentifier(oe=Ie){return this.component?this.component.multipleInstances?oe:Ie:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const de=this.getProvider(oe.name);if(de.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);de.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const de=new ve(oe,this);return this.providers.set(oe,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(Zt,xe,j)=>{"use strict";j.d(xe,{Am:()=>Ue,Ub:()=>ae,Yd:()=>Ne,in:()=>f});const p=[];var f=(()=>{return(oe=f||(f={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",f;var oe})();const Z={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},Ie=f.INFO,ve={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},ke=(oe,de,...Re)=>{if(de<oe.logLevel)return;const He=(new Date).toISOString(),qe=ve[de];if(!qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[qe](`[${He}]  ${oe.name}:`,...Re)};class Ne{constructor(de){this.name=de,this._logLevel=Ie,this._logHandler=ke,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in f))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?Z[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...de),this._logHandler(this,f.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...de),this._logHandler(this,f.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,f.INFO,...de),this._logHandler(this,f.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,f.WARN,...de),this._logHandler(this,f.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...de),this._logHandler(this,f.ERROR,...de)}}function ae(oe){p.forEach(de=>{de.setLogLevel(oe)})}function Ue(oe,de){for(const Re of p){let He=null;de&&de.level&&(He=Z[de.level]),Re.userLogHandler=null===oe?null:(qe,ft,...bt)=>{const Je=bt.map(tt=>{if(null==tt)return null;if("string"==typeof tt)return tt;if("number"==typeof tt||"boolean"==typeof tt)return tt.toString();if(tt instanceof Error)return tt.message;try{return JSON.stringify(tt)}catch(ct){return null}}).filter(tt=>tt).join(" ");ft>=(null!=He?He:qe.logLevel)&&oe({level:f[ft].toLowerCase(),message:Je,args:bt,type:qe.name})}}}},8766:(Zt,xe,j)=>{"use strict";j.d(xe,{Lj:()=>ze,X3:()=>Et});var p=j(5861);let Z,Ie;const Ne=new WeakMap,ae=new WeakMap,Ue=new WeakMap,oe=new WeakMap,de=new WeakMap;let qe={get(st,ut,Te){if(st instanceof IDBTransaction){if("done"===ut)return ae.get(st);if("objectStoreNames"===ut)return st.objectStoreNames||Ue.get(st);if("store"===ut)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return tt(st[ut])},set:(st,ut,Te)=>(st[ut]=Te,!0),has:(st,ut)=>st instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in st};function Je(st){return"function"==typeof st?function bt(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...ut){return st.apply(ct(this),ut),tt(Ne.get(this))}:function(...ut){return tt(st.apply(ct(this),ut))}:function(ut,...Te){const $e=st.call(ct(this),ut,...Te);return Ue.set($e,ut.sort?ut.sort():[ut]),tt($e)}}(st):(st instanceof IDBTransaction&&function He(st){if(ae.has(st))return;const ut=new Promise((Te,$e)=>{const Le=()=>{st.removeEventListener("complete",Ke),st.removeEventListener("error",Ze),st.removeEventListener("abort",Ze)},Ke=()=>{Te(),Le()},Ze=()=>{$e(st.error||new DOMException("AbortError","AbortError")),Le()};st.addEventListener("complete",Ke),st.addEventListener("error",Ze),st.addEventListener("abort",Ze)});ae.set(st,ut)}(st),((st,ut)=>ut.some(Te=>st instanceof Te))(st,function ve(){return Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,qe):st)}function tt(st){if(st instanceof IDBRequest)return function Re(st){const ut=new Promise((Te,$e)=>{const Le=()=>{st.removeEventListener("success",Ke),st.removeEventListener("error",Ze)},Ke=()=>{Te(tt(st.result)),Le()},Ze=()=>{$e(st.error),Le()};st.addEventListener("success",Ke),st.addEventListener("error",Ze)});return ut.then(Te=>{Te instanceof IDBCursor&&Ne.set(Te,st)}).catch(()=>{}),de.set(ut,st),ut}(st);if(oe.has(st))return oe.get(st);const ut=Je(st);return ut!==st&&(oe.set(st,ut),de.set(ut,st)),ut}const ct=st=>de.get(st);function Et(st,ut,{blocked:Te,upgrade:$e,blocking:Le,terminated:Ke}={}){const Ze=indexedDB.open(st,ut),Nt=tt(Ze);return $e&&Ze.addEventListener("upgradeneeded",Lt=>{$e(tt(Ze.result),Lt.oldVersion,Lt.newVersion,tt(Ze.transaction))}),Te&&Ze.addEventListener("blocked",()=>Te()),Nt.then(Lt=>{Ke&&Lt.addEventListener("close",()=>Ke()),Le&&Lt.addEventListener("versionchange",()=>Le())}).catch(()=>{}),Nt}function ze(st,{blocked:ut}={}){const Te=indexedDB.deleteDatabase(st);return ut&&Te.addEventListener("blocked",()=>ut()),tt(Te).then(()=>{})}const ot=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],Tt=new Map;function Ve(st,ut){if(!(st instanceof IDBDatabase)||ut in st||"string"!=typeof ut)return;if(Tt.get(ut))return Tt.get(ut);const Te=ut.replace(/FromIndex$/,""),$e=ut!==Te,Le=at.includes(Te);if(!(Te in($e?IDBIndex:IDBObjectStore).prototype)||!Le&&!ot.includes(Te))return;const Ke=function(){var Ze=(0,p.Z)(function*(Nt,...Lt){const wt=this.transaction(Nt,Le?"readwrite":"readonly");let Mt=wt.store;return $e&&(Mt=Mt.index(Lt.shift())),(yield Promise.all([Mt[Te](...Lt),Le&&wt.done]))[0]});return function(Lt){return Ze.apply(this,arguments)}}();return Tt.set(ut,Ke),Ke}!function ft(st){qe=st(qe)}(st=>lb(ab({},st),{get:(ut,Te,$e)=>Ve(ut,Te)||st.get(ut,Te,$e),has:(ut,Te)=>!!Ve(ut,Te)||st.has(ut,Te)}))},5861:(Zt,xe,j)=>{"use strict";function p(Z,Ie,ve,ke,Ne,ae,Ue){try{var oe=Z[ae](Ue),de=oe.value}catch(Re){return void ve(Re)}oe.done?Ie(de):Promise.resolve(de).then(ke,Ne)}function f(Z){return function(){var Ie=this,ve=arguments;return new Promise(function(ke,Ne){var ae=Z.apply(Ie,ve);function Ue(de){p(ae,ke,Ne,Ue,oe,"next",de)}function oe(de){p(ae,ke,Ne,Ue,oe,"throw",de)}Ue(void 0)})}}j.d(xe,{Z:()=>f})}},Zt=>{Zt(Zt.s=7133)}]);